{"version":3,"file":"/js/app.js","mappings":"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aACA,OACA,KACA,SACA,SACA,UACA,SACA,OACA,OACA,MACA,WACA,UACA,OACA,WACA,KACA,YACA,MACA,UACA,MACA,SACA,MACA,MACA,KACA,KACA,UACA,KACA,WACA,aACA,SACA,OACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,MACA,QACA,MACA,MACA,QACA,SACA,KACA,OACA,MACA,OACA,UACA,OACA,WACA,QACA,MACA,OACA,KACA,WACA,SACA,SACA,IACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,UACA,SACA,SACA,QACA,SACA,SACA,OACA,SACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,WACA,QACA,KACA,QACA,OACA,KACA,QACA,KACA,IACA,KACA,MACA,QACA,QAEEmlL,GAAQnlL,GAAO,CACjB,MACA,IACA,WACA,cACA,eACA,eACA,gBACA,mBACA,SACA,WACA,OACA,OACA,UACA,SACA,OACA,IACA,QACA,WACA,QACA,QACA,OACA,iBACA,SACA,OACA,WACA,QACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,QACA,SACA,SACA,OACA,WACA,QACA,OACA,QACA,OACA,UAEEolL,GAAaplL,GAAO,CACtB,UACA,gBACA,sBACA,cACA,mBACA,oBACA,oBACA,iBACA,UACA,UACA,UACA,UACA,UACA,iBACA,UACA,UACA,cACA,eACA,WACA,eACA,qBACA,cACA,SACA,iBAEEqlL,GAAgBrlL,GAAO,CACzB,UACA,gBACA,SACA,UACA,eACA,YACA,mBACA,iBACA,gBACA,gBACA,gBACA,QACA,YACA,OACA,eACA,YACA,UACA,gBACA,SACA,MACA,aACA,UACA,QAEEslL,GAAWtlL,GAAO,CACpB,OACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,gBACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,SACA,QACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,eAEEulL,GAAmBvlL,GAAO,CAC5B,UACA,cACA,aACA,WACA,YACA,UACA,UACA,SACA,SACA,QACA,YACA,aACA,iBACA,cACA,SAEErhB,GAAOqhB,GAAO,CAAC,UACf3vC,GAAO2vC,GAAO,CAChB,SACA,SACA,QACA,MACA,iBACA,eACA,uBACA,WACA,aACA,UACA,SACA,UACA,cACA,cACA,UACA,OACA,QACA,QACA,QACA,OACA,UACA,WACA,eACA,SACA,cACA,WACA,WACA,UACA,MACA,WACA,0BACA,wBACA,WACA,YACA,UACA,eACA,OACA,MACA,UACA,SACA,SACA,OACA,OACA,WACA,KACA,YACA,YACA,QACA,OACA,QACA,OACA,OACA,UACA,OACA,MACA,MACA,YACA,QACA,SACA,MACA,YACA,WACA,QACA,OACA,QACA,UACA,aACA,SACA,OACA,UACA,UACA,cACA,cACA,SACA,UACA,UACA,aACA,WACA,MACA,WACA,MACA,WACA,OACA,OACA,UACA,aACA,QACA,WACA,QACA,OACA,QACA,OACA,UACA,QACA,MACA,SACA,OACA,QACA,UACA,WACA,QACA,YACA,OACA,SACA,SACA,QACA,QACA,QACA,SAEEwlL,GAAMxlL,GAAO,CACf,gBACA,aACA,WACA,qBACA,SACA,gBACA,gBACA,UACA,gBACA,iBACA,QACA,OACA,KACA,QACA,OACA,gBACA,YACA,YACA,QACA,sBACA,8BACA,gBACA,kBACA,KACA,KACA,IACA,KACA,KACA,kBACA,YACA,UACA,UACA,MACA,WACA,YACA,MACA,OACA,eACA,YACA,SACA,cACA,cACA,gBACA,cACA,YACA,mBACA,eACA,aACA,eACA,cACA,KACA,KACA,KACA,KACA,aACA,WACA,gBACA,oBACA,SACA,OACA,KACA,kBACA,KACA,MACA,IACA,KACA,KACA,KACA,KACA,UACA,YACA,aACA,WACA,OACA,eACA,iBACA,eACA,mBACA,iBACA,QACA,aACA,aACA,eACA,eACA,cACA,cACA,mBACA,YACA,MACA,OACA,QACA,SACA,OACA,MACA,OACA,aACA,SACA,WACA,UACA,QACA,SACA,cACA,SACA,WACA,cACA,OACA,aACA,sBACA,mBACA,eACA,SACA,gBACA,sBACA,iBACA,IACA,KACA,KACA,SACA,OACA,OACA,cACA,YACA,UACA,SACA,SACA,QACA,OACA,kBACA,mBACA,mBACA,eACA,cACA,eACA,cACA,aACA,eACA,mBACA,oBACA,iBACA,kBACA,oBACA,iBACA,SACA,eACA,QACA,eACA,iBACA,WACA,UACA,UACA,YACA,mBACA,cACA,kBACA,iBACA,aACA,OACA,KACA,KACA,UACA,SACA,UACA,aACA,UACA,aACA,gBACA,gBACA,QACA,eACA,OACA,eACA,mBACA,mBACA,IACA,KACA,KACA,QACA,IACA,KACA,KACA,IACA,eAEEylL,GAASzlL,GAAO,CAClB,SACA,cACA,QACA,WACA,QACA,eACA,cACA,aACA,aACA,QACA,MACA,UACA,eACA,WACA,QACA,QACA,SACA,OACA,KACA,UACA,SACA,gBACA,SACA,SACA,iBACA,YACA,WACA,cACA,UACA,UACA,gBACA,WACA,WACA,OACA,WACA,WACA,aACA,UACA,SACA,SACA,cACA,gBACA,uBACA,YACA,YACA,aACA,WACA,iBACA,iBACA,YACA,UACA,QACA,UAEE0lL,GAAM1lL,GAAO,CACf,aACA,SACA,cACA,YACA,gBAEE2lL,GAAgB10D,GAAK,6BACrB20D,GAAW30D,GAAK,yBAChB40D,GAAY50D,GAAK,8BACjB60D,GAAY70D,GAAK,kBACjB80D,GAAiB90D,GAAK,yFACtB+0D,GAAoB/0D,GAAK,yBACzBg1D,GAAkBh1D,GAAK,+DACvBi1D,GAAej1D,GAAK,WACpBk1D,GAAY,WACd,MAAyB,oBAAXjjO,OAAyB,KAAOA,MAChD,EACIkjO,GAA4B,SAAmCC,EAAcz9N,GAC/E,GAA8B,WAA1B+5N,GAAQ0D,IAAmE,mBAA9BA,EAAaC,aAC5D,OAAO,KAET,IAAIv7E,EAAS,KACTw7E,EAAY,wBACZ39N,EAA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","sources":["webpack:///webpack/runtime/chunk loaded","webpack:///./node_modules/@popperjs/core/lib/enums.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeName.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindow.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/instanceOf.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/applyStyles.js","webpack:///./node_modules/@popperjs/core/lib/utils/getBasePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/math.js","webpack:///./node_modules/@popperjs/core/lib/utils/userAgent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isLayoutViewport.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getBoundingClientRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getLayoutRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/contains.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getComputedStyle.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isTableElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentElement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getParentNode.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getOffsetParent.js","webpack:///./node_modules/@popperjs/core/lib/utils/getMainAxisFromPlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/within.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergePaddingObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/getFreshSideObject.js","webpack:///./node_modules/@popperjs/core/lib/utils/expandToHashMap.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/arrow.js","webpack:///./node_modules/@popperjs/core/lib/utils/getVariation.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/computeStyles.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/eventListeners.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositePlacement.js","webpack:///./node_modules/@popperjs/core/lib/utils/getOppositeVariationPlacement.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getWindowScrollBarX.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/isScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getScrollParent.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/listScrollParents.js","webpack:///./node_modules/@popperjs/core/lib/utils/rectToClientRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getClippingRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getViewportRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getDocumentRect.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeOffsets.js","webpack:///./node_modules/@popperjs/core/lib/utils/detectOverflow.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/flip.js","webpack:///./node_modules/@popperjs/core/lib/utils/computeAutoPlacement.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/hide.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/offset.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/popperOffsets.js","webpack:///./node_modules/@popperjs/core/lib/modifiers/preventOverflow.js","webpack:///./node_modules/@popperjs/core/lib/utils/getAltAxis.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getCompositeRect.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getNodeScroll.js","webpack:///./node_modules/@popperjs/core/lib/dom-utils/getHTMLElementScroll.js","webpack:///./node_modules/@popperjs/core/lib/utils/orderModifiers.js","webpack:///./node_modules/@popperjs/core/lib/createPopper.js","webpack:///./node_modules/@popperjs/core/lib/utils/debounce.js","webpack:///./node_modules/@popperjs/core/lib/utils/mergeByName.js","webpack:///./node_modules/@popperjs/core/lib/popper.js","webpack:///./node_modules/@popperjs/core/lib/popper-lite.js","webpack:///./node_modules/bootstrap/dist/js/bootstrap.esm.js","webpack:///./node_modules/alpinejs/dist/module.esm.js","webpack:///./resources/assets/js/app.js","webpack:///./node_modules/fullcalendar/main.js","webpack:///./node_modules/tinymce/tinymce.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","export var top = 'top';\nexport var bottom = 'bottom';\nexport var right = 'right';\nexport var left = 'left';\nexport var auto = 'auto';\nexport var basePlacements = [top, bottom, right, left];\nexport var start = 'start';\nexport var end = 'end';\nexport var clippingParents = 'clippingParents';\nexport var viewport = 'viewport';\nexport var popper = 'popper';\nexport var reference = 'reference';\nexport var variationPlacements = /*#__PURE__*/basePlacements.reduce(function (acc, placement) {\n  return acc.concat([placement + \"-\" + start, placement + \"-\" + end]);\n}, []);\nexport var placements = /*#__PURE__*/[].concat(basePlacements, [auto]).reduce(function (acc, placement) {\n  return acc.concat([placement, placement + \"-\" + start, placement + \"-\" + end]);\n}, []); // modifiers that need to read the DOM\n\nexport var beforeRead = 'beforeRead';\nexport var read = 'read';\nexport var afterRead = 'afterRead'; // pure-logic modifiers\n\nexport var beforeMain = 'beforeMain';\nexport var main = 'main';\nexport var afterMain = 'afterMain'; // modifier with the purpose to write to the DOM (or write into a framework state)\n\nexport var beforeWrite = 'beforeWrite';\nexport var write = 'write';\nexport var afterWrite = 'afterWrite';\nexport var modifierPhases = [beforeRead, read, afterRead, beforeMain, main, afterMain, beforeWrite, write, afterWrite];","export default function getNodeName(element) {\n  return element ? (element.nodeName || '').toLowerCase() : null;\n}","export default function getWindow(node) {\n  if (node == null) {\n    return window;\n  }\n\n  if (node.toString() !== '[object Window]') {\n    var ownerDocument = node.ownerDocument;\n    return ownerDocument ? ownerDocument.defaultView || window : window;\n  }\n\n  return node;\n}","import getWindow from \"./getWindow.js\";\n\nfunction isElement(node) {\n  var OwnElement = getWindow(node).Element;\n  return node instanceof OwnElement || node instanceof Element;\n}\n\nfunction isHTMLElement(node) {\n  var OwnElement = getWindow(node).HTMLElement;\n  return node instanceof OwnElement || node instanceof HTMLElement;\n}\n\nfunction isShadowRoot(node) {\n  // IE 11 has no ShadowRoot\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  var OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\n\nexport { isElement, isHTMLElement, isShadowRoot };","import getNodeName from \"../dom-utils/getNodeName.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // This modifier takes the styles prepared by the `computeStyles` modifier\n// and applies them to the HTMLElements such as popper and arrow\n\nfunction applyStyles(_ref) {\n  var state = _ref.state;\n  Object.keys(state.elements).forEach(function (name) {\n    var style = state.styles[name] || {};\n    var attributes = state.attributes[name] || {};\n    var element = state.elements[name]; // arrow is optional + virtual elements\n\n    if (!isHTMLElement(element) || !getNodeName(element)) {\n      return;\n    } // Flow doesn't support to extend this property, but it's the most\n    // effective way to apply styles to an HTMLElement\n    // $FlowFixMe[cannot-write]\n\n\n    Object.assign(element.style, style);\n    Object.keys(attributes).forEach(function (name) {\n      var value = attributes[name];\n\n      if (value === false) {\n        element.removeAttribute(name);\n      } else {\n        element.setAttribute(name, value === true ? '' : value);\n      }\n    });\n  });\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state;\n  var initialStyles = {\n    popper: {\n      position: state.options.strategy,\n      left: '0',\n      top: '0',\n      margin: '0'\n    },\n    arrow: {\n      position: 'absolute'\n    },\n    reference: {}\n  };\n  Object.assign(state.elements.popper.style, initialStyles.popper);\n  state.styles = initialStyles;\n\n  if (state.elements.arrow) {\n    Object.assign(state.elements.arrow.style, initialStyles.arrow);\n  }\n\n  return function () {\n    Object.keys(state.elements).forEach(function (name) {\n      var element = state.elements[name];\n      var attributes = state.attributes[name] || {};\n      var styleProperties = Object.keys(state.styles.hasOwnProperty(name) ? state.styles[name] : initialStyles[name]); // Set all values to an empty string to unset them\n\n      var style = styleProperties.reduce(function (style, property) {\n        style[property] = '';\n        return style;\n      }, {}); // arrow is optional + virtual elements\n\n      if (!isHTMLElement(element) || !getNodeName(element)) {\n        return;\n      }\n\n      Object.assign(element.style, style);\n      Object.keys(attributes).forEach(function (attribute) {\n        element.removeAttribute(attribute);\n      });\n    });\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'applyStyles',\n  enabled: true,\n  phase: 'write',\n  fn: applyStyles,\n  effect: effect,\n  requires: ['computeStyles']\n};","import { auto } from \"../enums.js\";\nexport default function getBasePlacement(placement) {\n  return placement.split('-')[0];\n}","export var max = Math.max;\nexport var min = Math.min;\nexport var round = Math.round;","export default function getUAString() {\n  var uaData = navigator.userAgentData;\n\n  if (uaData != null && uaData.brands) {\n    return uaData.brands.map(function (item) {\n      return item.brand + \"/\" + item.version;\n    }).join(' ');\n  }\n\n  return navigator.userAgent;\n}","import getUAString from \"../utils/userAgent.js\";\nexport default function isLayoutViewport() {\n  return !/^((?!chrome|android).)*safari/i.test(getUAString());\n}","import { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport { round } from \"../utils/math.js\";\nimport getWindow from \"./getWindow.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getBoundingClientRect(element, includeScale, isFixedStrategy) {\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  var clientRect = element.getBoundingClientRect();\n  var scaleX = 1;\n  var scaleY = 1;\n\n  if (includeScale && isHTMLElement(element)) {\n    scaleX = element.offsetWidth > 0 ? round(clientRect.width) / element.offsetWidth || 1 : 1;\n    scaleY = element.offsetHeight > 0 ? round(clientRect.height) / element.offsetHeight || 1 : 1;\n  }\n\n  var _ref = isElement(element) ? getWindow(element) : window,\n      visualViewport = _ref.visualViewport;\n\n  var addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  var x = (clientRect.left + (addVisualOffsets && visualViewport ? visualViewport.offsetLeft : 0)) / scaleX;\n  var y = (clientRect.top + (addVisualOffsets && visualViewport ? visualViewport.offsetTop : 0)) / scaleY;\n  var width = clientRect.width / scaleX;\n  var height = clientRect.height / scaleY;\n  return {\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x: x,\n    y: y\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\"; // Returns the layout rect of an element relative to its offsetParent. Layout\n// means it doesn't take into account transforms.\n\nexport default function getLayoutRect(element) {\n  var clientRect = getBoundingClientRect(element); // Use the clientRect sizes if it's not been transformed.\n  // Fixes https://github.com/popperjs/popper-core/issues/1223\n\n  var width = element.offsetWidth;\n  var height = element.offsetHeight;\n\n  if (Math.abs(clientRect.width - width) <= 1) {\n    width = clientRect.width;\n  }\n\n  if (Math.abs(clientRect.height - height) <= 1) {\n    height = clientRect.height;\n  }\n\n  return {\n    x: element.offsetLeft,\n    y: element.offsetTop,\n    width: width,\n    height: height\n  };\n}","import { isShadowRoot } from \"./instanceOf.js\";\nexport default function contains(parent, child) {\n  var rootNode = child.getRootNode && child.getRootNode(); // First, attempt with faster native method\n\n  if (parent.contains(child)) {\n    return true;\n  } // then fallback to custom implementation with Shadow DOM support\n  else if (rootNode && isShadowRoot(rootNode)) {\n      var next = child;\n\n      do {\n        if (next && parent.isSameNode(next)) {\n          return true;\n        } // $FlowFixMe[prop-missing]: need a better way to handle this...\n\n\n        next = next.parentNode || next.host;\n      } while (next);\n    } // Give up, the result is false\n\n\n  return false;\n}","import getWindow from \"./getWindow.js\";\nexport default function getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}","import getNodeName from \"./getNodeName.js\";\nexport default function isTableElement(element) {\n  return ['table', 'td', 'th'].indexOf(getNodeName(element)) >= 0;\n}","import { isElement } from \"./instanceOf.js\";\nexport default function getDocumentElement(element) {\n  // $FlowFixMe[incompatible-return]: assume body is always available\n  return ((isElement(element) ? element.ownerDocument : // $FlowFixMe[prop-missing]\n  element.document) || window.document).documentElement;\n}","import getNodeName from \"./getNodeName.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport { isShadowRoot } from \"./instanceOf.js\";\nexport default function getParentNode(element) {\n  if (getNodeName(element) === 'html') {\n    return element;\n  }\n\n  return (// this is a quicker (but less type safe) way to save quite some bytes from the bundle\n    // $FlowFixMe[incompatible-return]\n    // $FlowFixMe[prop-missing]\n    element.assignedSlot || // step into the shadow DOM of the parent of a slotted node\n    element.parentNode || ( // DOM Element detected\n    isShadowRoot(element) ? element.host : null) || // ShadowRoot detected\n    // $FlowFixMe[incompatible-call]: HTMLElement is a Node\n    getDocumentElement(element) // fallback\n\n  );\n}","import getWindow from \"./getWindow.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isHTMLElement, isShadowRoot } from \"./instanceOf.js\";\nimport isTableElement from \"./isTableElement.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getUAString from \"../utils/userAgent.js\";\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || // https://github.com/popperjs/popper-core/issues/837\n  getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n} // `.offsetParent` reports `null` for fixed elements, while absolute elements\n// return the containing block\n\n\nfunction getContainingBlock(element) {\n  var isFirefox = /firefox/i.test(getUAString());\n  var isIE = /Trident/i.test(getUAString());\n\n  if (isIE && isHTMLElement(element)) {\n    // In IE 9, 10 and 11 fixed elements containing block is always established by the viewport\n    var elementCss = getComputedStyle(element);\n\n    if (elementCss.position === 'fixed') {\n      return null;\n    }\n  }\n\n  var currentNode = getParentNode(element);\n\n  if (isShadowRoot(currentNode)) {\n    currentNode = currentNode.host;\n  }\n\n  while (isHTMLElement(currentNode) && ['html', 'body'].indexOf(getNodeName(currentNode)) < 0) {\n    var css = getComputedStyle(currentNode); // This is non-exhaustive but covers the most common CSS properties that\n    // create a containing block.\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n    if (css.transform !== 'none' || css.perspective !== 'none' || css.contain === 'paint' || ['transform', 'perspective'].indexOf(css.willChange) !== -1 || isFirefox && css.willChange === 'filter' || isFirefox && css.filter && css.filter !== 'none') {\n      return currentNode;\n    } else {\n      currentNode = currentNode.parentNode;\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nexport default function getOffsetParent(element) {\n  var window = getWindow(element);\n  var offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static')) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}","export default function getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].indexOf(placement) >= 0 ? 'x' : 'y';\n}","import { max as mathMax, min as mathMin } from \"./math.js\";\nexport function within(min, value, max) {\n  return mathMax(min, mathMin(value, max));\n}\nexport function withinMaxClamp(min, value, max) {\n  var v = within(min, value, max);\n  return v > max ? max : v;\n}","import getFreshSideObject from \"./getFreshSideObject.js\";\nexport default function mergePaddingObject(paddingObject) {\n  return Object.assign({}, getFreshSideObject(), paddingObject);\n}","export default function getFreshSideObject() {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  };\n}","export default function expandToHashMap(value, keys) {\n  return keys.reduce(function (hashMap, key) {\n    hashMap[key] = value;\n    return hashMap;\n  }, {});\n}","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport contains from \"../dom-utils/contains.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport { within } from \"../utils/within.js\";\nimport mergePaddingObject from \"../utils/mergePaddingObject.js\";\nimport expandToHashMap from \"../utils/expandToHashMap.js\";\nimport { left, right, basePlacements, top, bottom } from \"../enums.js\";\nimport { isHTMLElement } from \"../dom-utils/instanceOf.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar toPaddingObject = function toPaddingObject(padding, state) {\n  padding = typeof padding === 'function' ? padding(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : padding;\n  return mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n};\n\nfunction arrow(_ref) {\n  var _state$modifiersData$;\n\n  var state = _ref.state,\n      name = _ref.name,\n      options = _ref.options;\n  var arrowElement = state.elements.arrow;\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var basePlacement = getBasePlacement(state.placement);\n  var axis = getMainAxisFromPlacement(basePlacement);\n  var isVertical = [left, right].indexOf(basePlacement) >= 0;\n  var len = isVertical ? 'height' : 'width';\n\n  if (!arrowElement || !popperOffsets) {\n    return;\n  }\n\n  var paddingObject = toPaddingObject(options.padding, state);\n  var arrowRect = getLayoutRect(arrowElement);\n  var minProp = axis === 'y' ? top : left;\n  var maxProp = axis === 'y' ? bottom : right;\n  var endDiff = state.rects.reference[len] + state.rects.reference[axis] - popperOffsets[axis] - state.rects.popper[len];\n  var startDiff = popperOffsets[axis] - state.rects.reference[axis];\n  var arrowOffsetParent = getOffsetParent(arrowElement);\n  var clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n  var centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the popper if the center point is\n  // outside of the popper bounds\n\n  var min = paddingObject[minProp];\n  var max = clientSize - arrowRect[len] - paddingObject[maxProp];\n  var center = clientSize / 2 - arrowRect[len] / 2 + centerToReference;\n  var offset = within(min, center, max); // Prevents breaking syntax highlighting...\n\n  var axisProp = axis;\n  state.modifiersData[name] = (_state$modifiersData$ = {}, _state$modifiersData$[axisProp] = offset, _state$modifiersData$.centerOffset = offset - center, _state$modifiersData$);\n}\n\nfunction effect(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options;\n  var _options$element = options.element,\n      arrowElement = _options$element === void 0 ? '[data-popper-arrow]' : _options$element;\n\n  if (arrowElement == null) {\n    return;\n  } // CSS selector\n\n\n  if (typeof arrowElement === 'string') {\n    arrowElement = state.elements.popper.querySelector(arrowElement);\n\n    if (!arrowElement) {\n      return;\n    }\n  }\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (!isHTMLElement(arrowElement)) {\n      console.error(['Popper: \"arrow\" element must be an HTMLElement (not an SVGElement).', 'To use an SVG arrow, wrap it in an HTMLElement that will be used as', 'the arrow.'].join(' '));\n    }\n  }\n\n  if (!contains(state.elements.popper, arrowElement)) {\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: \"arrow\" modifier\\'s `element` must be a child of the popper', 'element.'].join(' '));\n    }\n\n    return;\n  }\n\n  state.elements.arrow = arrowElement;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'arrow',\n  enabled: true,\n  phase: 'main',\n  fn: arrow,\n  effect: effect,\n  requires: ['popperOffsets'],\n  requiresIfExists: ['preventOverflow']\n};","export default function getVariation(placement) {\n  return placement.split('-')[1];\n}","import { top, left, right, bottom, end } from \"../enums.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport getWindow from \"../dom-utils/getWindow.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getComputedStyle from \"../dom-utils/getComputedStyle.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport { round } from \"../utils/math.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar unsetSides = {\n  top: 'auto',\n  right: 'auto',\n  bottom: 'auto',\n  left: 'auto'\n}; // Round the offsets to the nearest suitable subpixel based on the DPR.\n// Zooming can change the DPR, but it seems to report a value that will\n// cleanly divide the values into the appropriate subpixels.\n\nfunction roundOffsetsByDPR(_ref) {\n  var x = _ref.x,\n      y = _ref.y;\n  var win = window;\n  var dpr = win.devicePixelRatio || 1;\n  return {\n    x: round(x * dpr) / dpr || 0,\n    y: round(y * dpr) / dpr || 0\n  };\n}\n\nexport function mapToStyles(_ref2) {\n  var _Object$assign2;\n\n  var popper = _ref2.popper,\n      popperRect = _ref2.popperRect,\n      placement = _ref2.placement,\n      variation = _ref2.variation,\n      offsets = _ref2.offsets,\n      position = _ref2.position,\n      gpuAcceleration = _ref2.gpuAcceleration,\n      adaptive = _ref2.adaptive,\n      roundOffsets = _ref2.roundOffsets,\n      isFixed = _ref2.isFixed;\n  var _offsets$x = offsets.x,\n      x = _offsets$x === void 0 ? 0 : _offsets$x,\n      _offsets$y = offsets.y,\n      y = _offsets$y === void 0 ? 0 : _offsets$y;\n\n  var _ref3 = typeof roundOffsets === 'function' ? roundOffsets({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref3.x;\n  y = _ref3.y;\n  var hasX = offsets.hasOwnProperty('x');\n  var hasY = offsets.hasOwnProperty('y');\n  var sideX = left;\n  var sideY = top;\n  var win = window;\n\n  if (adaptive) {\n    var offsetParent = getOffsetParent(popper);\n    var heightProp = 'clientHeight';\n    var widthProp = 'clientWidth';\n\n    if (offsetParent === getWindow(popper)) {\n      offsetParent = getDocumentElement(popper);\n\n      if (getComputedStyle(offsetParent).position !== 'static' && position === 'absolute') {\n        heightProp = 'scrollHeight';\n        widthProp = 'scrollWidth';\n      }\n    } // $FlowFixMe[incompatible-cast]: force type refinement, we compare offsetParent with window above, but Flow doesn't detect it\n\n\n    offsetParent = offsetParent;\n\n    if (placement === top || (placement === left || placement === right) && variation === end) {\n      sideY = bottom;\n      var offsetY = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.height : // $FlowFixMe[prop-missing]\n      offsetParent[heightProp];\n      y -= offsetY - popperRect.height;\n      y *= gpuAcceleration ? 1 : -1;\n    }\n\n    if (placement === left || (placement === top || placement === bottom) && variation === end) {\n      sideX = right;\n      var offsetX = isFixed && offsetParent === win && win.visualViewport ? win.visualViewport.width : // $FlowFixMe[prop-missing]\n      offsetParent[widthProp];\n      x -= offsetX - popperRect.width;\n      x *= gpuAcceleration ? 1 : -1;\n    }\n  }\n\n  var commonStyles = Object.assign({\n    position: position\n  }, adaptive && unsetSides);\n\n  var _ref4 = roundOffsets === true ? roundOffsetsByDPR({\n    x: x,\n    y: y\n  }) : {\n    x: x,\n    y: y\n  };\n\n  x = _ref4.x;\n  y = _ref4.y;\n\n  if (gpuAcceleration) {\n    var _Object$assign;\n\n    return Object.assign({}, commonStyles, (_Object$assign = {}, _Object$assign[sideY] = hasY ? '0' : '', _Object$assign[sideX] = hasX ? '0' : '', _Object$assign.transform = (win.devicePixelRatio || 1) <= 1 ? \"translate(\" + x + \"px, \" + y + \"px)\" : \"translate3d(\" + x + \"px, \" + y + \"px, 0)\", _Object$assign));\n  }\n\n  return Object.assign({}, commonStyles, (_Object$assign2 = {}, _Object$assign2[sideY] = hasY ? y + \"px\" : '', _Object$assign2[sideX] = hasX ? x + \"px\" : '', _Object$assign2.transform = '', _Object$assign2));\n}\n\nfunction computeStyles(_ref5) {\n  var state = _ref5.state,\n      options = _ref5.options;\n  var _options$gpuAccelerat = options.gpuAcceleration,\n      gpuAcceleration = _options$gpuAccelerat === void 0 ? true : _options$gpuAccelerat,\n      _options$adaptive = options.adaptive,\n      adaptive = _options$adaptive === void 0 ? true : _options$adaptive,\n      _options$roundOffsets = options.roundOffsets,\n      roundOffsets = _options$roundOffsets === void 0 ? true : _options$roundOffsets;\n\n  if (process.env.NODE_ENV !== \"production\") {\n    var transitionProperty = getComputedStyle(state.elements.popper).transitionProperty || '';\n\n    if (adaptive && ['transform', 'top', 'right', 'bottom', 'left'].some(function (property) {\n      return transitionProperty.indexOf(property) >= 0;\n    })) {\n      console.warn(['Popper: Detected CSS transitions on at least one of the following', 'CSS properties: \"transform\", \"top\", \"right\", \"bottom\", \"left\".', '\\n\\n', 'Disable the \"computeStyles\" modifier\\'s `adaptive` option to allow', 'for smooth transitions, or remove these properties from the CSS', 'transition declaration on the popper element if only transitioning', 'opacity or background-color for example.', '\\n\\n', 'We recommend using the popper element as a wrapper around an inner', 'element that can have any CSS property transitioned for animations.'].join(' '));\n    }\n  }\n\n  var commonStyles = {\n    placement: getBasePlacement(state.placement),\n    variation: getVariation(state.placement),\n    popper: state.elements.popper,\n    popperRect: state.rects.popper,\n    gpuAcceleration: gpuAcceleration,\n    isFixed: state.options.strategy === 'fixed'\n  };\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.styles.popper = Object.assign({}, state.styles.popper, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.popperOffsets,\n      position: state.options.strategy,\n      adaptive: adaptive,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  if (state.modifiersData.arrow != null) {\n    state.styles.arrow = Object.assign({}, state.styles.arrow, mapToStyles(Object.assign({}, commonStyles, {\n      offsets: state.modifiersData.arrow,\n      position: 'absolute',\n      adaptive: false,\n      roundOffsets: roundOffsets\n    })));\n  }\n\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-placement': state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'computeStyles',\n  enabled: true,\n  phase: 'beforeWrite',\n  fn: computeStyles,\n  data: {}\n};","import getWindow from \"../dom-utils/getWindow.js\"; // eslint-disable-next-line import/no-unused-modules\n\nvar passive = {\n  passive: true\n};\n\nfunction effect(_ref) {\n  var state = _ref.state,\n      instance = _ref.instance,\n      options = _ref.options;\n  var _options$scroll = options.scroll,\n      scroll = _options$scroll === void 0 ? true : _options$scroll,\n      _options$resize = options.resize,\n      resize = _options$resize === void 0 ? true : _options$resize;\n  var window = getWindow(state.elements.popper);\n  var scrollParents = [].concat(state.scrollParents.reference, state.scrollParents.popper);\n\n  if (scroll) {\n    scrollParents.forEach(function (scrollParent) {\n      scrollParent.addEventListener('scroll', instance.update, passive);\n    });\n  }\n\n  if (resize) {\n    window.addEventListener('resize', instance.update, passive);\n  }\n\n  return function () {\n    if (scroll) {\n      scrollParents.forEach(function (scrollParent) {\n        scrollParent.removeEventListener('scroll', instance.update, passive);\n      });\n    }\n\n    if (resize) {\n      window.removeEventListener('resize', instance.update, passive);\n    }\n  };\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'eventListeners',\n  enabled: true,\n  phase: 'write',\n  fn: function fn() {},\n  effect: effect,\n  data: {}\n};","var hash = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nexport default function getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, function (matched) {\n    return hash[matched];\n  });\n}","var hash = {\n  start: 'end',\n  end: 'start'\n};\nexport default function getOppositeVariationPlacement(placement) {\n  return placement.replace(/start|end/g, function (matched) {\n    return hash[matched];\n  });\n}","import getWindow from \"./getWindow.js\";\nexport default function getWindowScroll(node) {\n  var win = getWindow(node);\n  var scrollLeft = win.pageXOffset;\n  var scrollTop = win.pageYOffset;\n  return {\n    scrollLeft: scrollLeft,\n    scrollTop: scrollTop\n  };\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nexport default function getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  // Popper 1 is broken in this case and never had a bug report so let's assume\n  // it's not an issue. I don't think anyone ever specifies width on <html>\n  // anyway.\n  // Browsers where the left scrollbar doesn't cause an issue report `0` for\n  // this (e.g. Edge 2019, IE11, Safari)\n  return getBoundingClientRect(getDocumentElement(element)).left + getWindowScroll(element).scrollLeft;\n}","import getComputedStyle from \"./getComputedStyle.js\";\nexport default function isScrollParent(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  var _getComputedStyle = getComputedStyle(element),\n      overflow = _getComputedStyle.overflow,\n      overflowX = _getComputedStyle.overflowX,\n      overflowY = _getComputedStyle.overflowY;\n\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX);\n}","import getParentNode from \"./getParentNode.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nexport default function getScrollParent(node) {\n  if (['html', 'body', '#document'].indexOf(getNodeName(node)) >= 0) {\n    // $FlowFixMe[incompatible-return]: assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(node) && isScrollParent(node)) {\n    return node;\n  }\n\n  return getScrollParent(getParentNode(node));\n}","import getScrollParent from \"./getScrollParent.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport getWindow from \"./getWindow.js\";\nimport isScrollParent from \"./isScrollParent.js\";\n/*\ngiven a DOM element, return the list of all scroll parents, up the list of ancesors\nuntil we get to the top window object. This list is what we attach scroll listeners\nto, because if any of these parent elements scroll, we'll need to re-calculate the\nreference element's position.\n*/\n\nexport default function listScrollParents(element, list) {\n  var _element$ownerDocumen;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  var scrollParent = getScrollParent(element);\n  var isBody = scrollParent === ((_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body);\n  var win = getWindow(scrollParent);\n  var target = isBody ? [win].concat(win.visualViewport || [], isScrollParent(scrollParent) ? scrollParent : []) : scrollParent;\n  var updatedList = list.concat(target);\n  return isBody ? updatedList : // $FlowFixMe[incompatible-call]: isBody tells us target will be an HTMLElement here\n  updatedList.concat(listScrollParents(getParentNode(target)));\n}","export default function rectToClientRect(rect) {\n  return Object.assign({}, rect, {\n    left: rect.x,\n    top: rect.y,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  });\n}","import { viewport } from \"../enums.js\";\nimport getViewportRect from \"./getViewportRect.js\";\nimport getDocumentRect from \"./getDocumentRect.js\";\nimport listScrollParents from \"./listScrollParents.js\";\nimport getOffsetParent from \"./getOffsetParent.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport { isElement, isHTMLElement } from \"./instanceOf.js\";\nimport getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getParentNode from \"./getParentNode.js\";\nimport contains from \"./contains.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport rectToClientRect from \"../utils/rectToClientRect.js\";\nimport { max, min } from \"../utils/math.js\";\n\nfunction getInnerBoundingClientRect(element, strategy) {\n  var rect = getBoundingClientRect(element, false, strategy === 'fixed');\n  rect.top = rect.top + element.clientTop;\n  rect.left = rect.left + element.clientLeft;\n  rect.bottom = rect.top + element.clientHeight;\n  rect.right = rect.left + element.clientWidth;\n  rect.width = element.clientWidth;\n  rect.height = element.clientHeight;\n  rect.x = rect.left;\n  rect.y = rect.top;\n  return rect;\n}\n\nfunction getClientRectFromMixedType(element, clippingParent, strategy) {\n  return clippingParent === viewport ? rectToClientRect(getViewportRect(element, strategy)) : isElement(clippingParent) ? getInnerBoundingClientRect(clippingParent, strategy) : rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping parent\" is an overflowable container with the characteristic of\n// clipping (or hiding) overflowing elements with a position different from\n// `initial`\n\n\nfunction getClippingParents(element) {\n  var clippingParents = listScrollParents(getParentNode(element));\n  var canEscapeClipping = ['absolute', 'fixed'].indexOf(getComputedStyle(element).position) >= 0;\n  var clipperElement = canEscapeClipping && isHTMLElement(element) ? getOffsetParent(element) : element;\n\n  if (!isElement(clipperElement)) {\n    return [];\n  } // $FlowFixMe[incompatible-return]: https://github.com/facebook/flow/issues/1414\n\n\n  return clippingParents.filter(function (clippingParent) {\n    return isElement(clippingParent) && contains(clippingParent, clipperElement) && getNodeName(clippingParent) !== 'body';\n  });\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping parents\n\n\nexport default function getClippingRect(element, boundary, rootBoundary, strategy) {\n  var mainClippingParents = boundary === 'clippingParents' ? getClippingParents(element) : [].concat(boundary);\n  var clippingParents = [].concat(mainClippingParents, [rootBoundary]);\n  var firstClippingParent = clippingParents[0];\n  var clippingRect = clippingParents.reduce(function (accRect, clippingParent) {\n    var rect = getClientRectFromMixedType(element, clippingParent, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromMixedType(element, firstClippingParent, strategy));\n  clippingRect.width = clippingRect.right - clippingRect.left;\n  clippingRect.height = clippingRect.bottom - clippingRect.top;\n  clippingRect.x = clippingRect.left;\n  clippingRect.y = clippingRect.top;\n  return clippingRect;\n}","import getWindow from \"./getWindow.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport isLayoutViewport from \"./isLayoutViewport.js\";\nexport default function getViewportRect(element, strategy) {\n  var win = getWindow(element);\n  var html = getDocumentElement(element);\n  var visualViewport = win.visualViewport;\n  var width = html.clientWidth;\n  var height = html.clientHeight;\n  var x = 0;\n  var y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    var layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x + getWindowScrollBarX(element),\n    y: y\n  };\n}","import getDocumentElement from \"./getDocumentElement.js\";\nimport getComputedStyle from \"./getComputedStyle.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getWindowScroll from \"./getWindowScroll.js\";\nimport { max } from \"../utils/math.js\"; // Gets the entire size of the scrollable document area, even extending outside\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nexport default function getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  var html = getDocumentElement(element);\n  var winScroll = getWindowScroll(element);\n  var body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  var width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  var height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  var x = -winScroll.scrollLeft + getWindowScrollBarX(element);\n  var y = -winScroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width: width,\n    height: height,\n    x: x,\n    y: y\n  };\n}","import getBasePlacement from \"./getBasePlacement.js\";\nimport getVariation from \"./getVariation.js\";\nimport getMainAxisFromPlacement from \"./getMainAxisFromPlacement.js\";\nimport { top, right, bottom, left, start, end } from \"../enums.js\";\nexport default function computeOffsets(_ref) {\n  var reference = _ref.reference,\n      element = _ref.element,\n      placement = _ref.placement;\n  var basePlacement = placement ? getBasePlacement(placement) : null;\n  var variation = placement ? getVariation(placement) : null;\n  var commonX = reference.x + reference.width / 2 - element.width / 2;\n  var commonY = reference.y + reference.height / 2 - element.height / 2;\n  var offsets;\n\n  switch (basePlacement) {\n    case top:\n      offsets = {\n        x: commonX,\n        y: reference.y - element.height\n      };\n      break;\n\n    case bottom:\n      offsets = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case right:\n      offsets = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case left:\n      offsets = {\n        x: reference.x - element.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      offsets = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  var mainAxis = basePlacement ? getMainAxisFromPlacement(basePlacement) : null;\n\n  if (mainAxis != null) {\n    var len = mainAxis === 'y' ? 'height' : 'width';\n\n    switch (variation) {\n      case start:\n        offsets[mainAxis] = offsets[mainAxis] - (reference[len] / 2 - element[len] / 2);\n        break;\n\n      case end:\n        offsets[mainAxis] = offsets[mainAxis] + (reference[len] / 2 - element[len] / 2);\n        break;\n\n      default:\n    }\n  }\n\n  return offsets;\n}","import getClippingRect from \"../dom-utils/getClippingRect.js\";\nimport getDocumentElement from \"../dom-utils/getDocumentElement.js\";\nimport getBoundingClientRect from \"../dom-utils/getBoundingClientRect.js\";\nimport computeOffsets from \"./computeOffsets.js\";\nimport rectToClientRect from \"./rectToClientRect.js\";\nimport { clippingParents, reference, popper, bottom, top, right, basePlacements, viewport } from \"../enums.js\";\nimport { isElement } from \"../dom-utils/instanceOf.js\";\nimport mergePaddingObject from \"./mergePaddingObject.js\";\nimport expandToHashMap from \"./expandToHashMap.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport default function detectOverflow(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$placement = _options.placement,\n      placement = _options$placement === void 0 ? state.placement : _options$placement,\n      _options$strategy = _options.strategy,\n      strategy = _options$strategy === void 0 ? state.strategy : _options$strategy,\n      _options$boundary = _options.boundary,\n      boundary = _options$boundary === void 0 ? clippingParents : _options$boundary,\n      _options$rootBoundary = _options.rootBoundary,\n      rootBoundary = _options$rootBoundary === void 0 ? viewport : _options$rootBoundary,\n      _options$elementConte = _options.elementContext,\n      elementContext = _options$elementConte === void 0 ? popper : _options$elementConte,\n      _options$altBoundary = _options.altBoundary,\n      altBoundary = _options$altBoundary === void 0 ? false : _options$altBoundary,\n      _options$padding = _options.padding,\n      padding = _options$padding === void 0 ? 0 : _options$padding;\n  var paddingObject = mergePaddingObject(typeof padding !== 'number' ? padding : expandToHashMap(padding, basePlacements));\n  var altContext = elementContext === popper ? reference : popper;\n  var popperRect = state.rects.popper;\n  var element = state.elements[altBoundary ? altContext : elementContext];\n  var clippingClientRect = getClippingRect(isElement(element) ? element : element.contextElement || getDocumentElement(state.elements.popper), boundary, rootBoundary, strategy);\n  var referenceClientRect = getBoundingClientRect(state.elements.reference);\n  var popperOffsets = computeOffsets({\n    reference: referenceClientRect,\n    element: popperRect,\n    strategy: 'absolute',\n    placement: placement\n  });\n  var popperClientRect = rectToClientRect(Object.assign({}, popperRect, popperOffsets));\n  var elementClientRect = elementContext === popper ? popperClientRect : referenceClientRect; // positive = overflowing the clipping rect\n  // 0 or negative = within the clipping rect\n\n  var overflowOffsets = {\n    top: clippingClientRect.top - elementClientRect.top + paddingObject.top,\n    bottom: elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom,\n    left: clippingClientRect.left - elementClientRect.left + paddingObject.left,\n    right: elementClientRect.right - clippingClientRect.right + paddingObject.right\n  };\n  var offsetData = state.modifiersData.offset; // Offsets can be applied only to the popper element\n\n  if (elementContext === popper && offsetData) {\n    var offset = offsetData[placement];\n    Object.keys(overflowOffsets).forEach(function (key) {\n      var multiply = [right, bottom].indexOf(key) >= 0 ? 1 : -1;\n      var axis = [top, bottom].indexOf(key) >= 0 ? 'y' : 'x';\n      overflowOffsets[key] += offset[axis] * multiply;\n    });\n  }\n\n  return overflowOffsets;\n}","import getOppositePlacement from \"../utils/getOppositePlacement.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getOppositeVariationPlacement from \"../utils/getOppositeVariationPlacement.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport computeAutoPlacement from \"../utils/computeAutoPlacement.js\";\nimport { bottom, top, start, right, left, auto } from \"../enums.js\";\nimport getVariation from \"../utils/getVariation.js\"; // eslint-disable-next-line import/no-unused-modules\n\nfunction getExpandedFallbackPlacements(placement) {\n  if (getBasePlacement(placement) === auto) {\n    return [];\n  }\n\n  var oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeVariationPlacement(placement), oppositePlacement, getOppositeVariationPlacement(oppositePlacement)];\n}\n\nfunction flip(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n\n  if (state.modifiersData[name]._skip) {\n    return;\n  }\n\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? true : _options$altAxis,\n      specifiedFallbackPlacements = options.fallbackPlacements,\n      padding = options.padding,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      _options$flipVariatio = options.flipVariations,\n      flipVariations = _options$flipVariatio === void 0 ? true : _options$flipVariatio,\n      allowedAutoPlacements = options.allowedAutoPlacements;\n  var preferredPlacement = state.options.placement;\n  var basePlacement = getBasePlacement(preferredPlacement);\n  var isBasePlacement = basePlacement === preferredPlacement;\n  var fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipVariations ? [getOppositePlacement(preferredPlacement)] : getExpandedFallbackPlacements(preferredPlacement));\n  var placements = [preferredPlacement].concat(fallbackPlacements).reduce(function (acc, placement) {\n    return acc.concat(getBasePlacement(placement) === auto ? computeAutoPlacement(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding,\n      flipVariations: flipVariations,\n      allowedAutoPlacements: allowedAutoPlacements\n    }) : placement);\n  }, []);\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var checksMap = new Map();\n  var makeFallbackChecks = true;\n  var firstFittingPlacement = placements[0];\n\n  for (var i = 0; i < placements.length; i++) {\n    var placement = placements[i];\n\n    var _basePlacement = getBasePlacement(placement);\n\n    var isStartVariation = getVariation(placement) === start;\n    var isVertical = [top, bottom].indexOf(_basePlacement) >= 0;\n    var len = isVertical ? 'width' : 'height';\n    var overflow = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      altBoundary: altBoundary,\n      padding: padding\n    });\n    var mainVariationSide = isVertical ? isStartVariation ? right : left : isStartVariation ? bottom : top;\n\n    if (referenceRect[len] > popperRect[len]) {\n      mainVariationSide = getOppositePlacement(mainVariationSide);\n    }\n\n    var altVariationSide = getOppositePlacement(mainVariationSide);\n    var checks = [];\n\n    if (checkMainAxis) {\n      checks.push(overflow[_basePlacement] <= 0);\n    }\n\n    if (checkAltAxis) {\n      checks.push(overflow[mainVariationSide] <= 0, overflow[altVariationSide] <= 0);\n    }\n\n    if (checks.every(function (check) {\n      return check;\n    })) {\n      firstFittingPlacement = placement;\n      makeFallbackChecks = false;\n      break;\n    }\n\n    checksMap.set(placement, checks);\n  }\n\n  if (makeFallbackChecks) {\n    // `2` may be desired in some cases  research later\n    var numberOfChecks = flipVariations ? 3 : 1;\n\n    var _loop = function _loop(_i) {\n      var fittingPlacement = placements.find(function (placement) {\n        var checks = checksMap.get(placement);\n\n        if (checks) {\n          return checks.slice(0, _i).every(function (check) {\n            return check;\n          });\n        }\n      });\n\n      if (fittingPlacement) {\n        firstFittingPlacement = fittingPlacement;\n        return \"break\";\n      }\n    };\n\n    for (var _i = numberOfChecks; _i > 0; _i--) {\n      var _ret = _loop(_i);\n\n      if (_ret === \"break\") break;\n    }\n  }\n\n  if (state.placement !== firstFittingPlacement) {\n    state.modifiersData[name]._skip = true;\n    state.placement = firstFittingPlacement;\n    state.reset = true;\n  }\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'flip',\n  enabled: true,\n  phase: 'main',\n  fn: flip,\n  requiresIfExists: ['offset'],\n  data: {\n    _skip: false\n  }\n};","import getVariation from \"./getVariation.js\";\nimport { variationPlacements, basePlacements, placements as allPlacements } from \"../enums.js\";\nimport detectOverflow from \"./detectOverflow.js\";\nimport getBasePlacement from \"./getBasePlacement.js\";\nexport default function computeAutoPlacement(state, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      placement = _options.placement,\n      boundary = _options.boundary,\n      rootBoundary = _options.rootBoundary,\n      padding = _options.padding,\n      flipVariations = _options.flipVariations,\n      _options$allowedAutoP = _options.allowedAutoPlacements,\n      allowedAutoPlacements = _options$allowedAutoP === void 0 ? allPlacements : _options$allowedAutoP;\n  var variation = getVariation(placement);\n  var placements = variation ? flipVariations ? variationPlacements : variationPlacements.filter(function (placement) {\n    return getVariation(placement) === variation;\n  }) : basePlacements;\n  var allowedPlacements = placements.filter(function (placement) {\n    return allowedAutoPlacements.indexOf(placement) >= 0;\n  });\n\n  if (allowedPlacements.length === 0) {\n    allowedPlacements = placements;\n\n    if (process.env.NODE_ENV !== \"production\") {\n      console.error(['Popper: The `allowedAutoPlacements` option did not allow any', 'placements. Ensure the `placement` option matches the variation', 'of the allowed placements.', 'For example, \"auto\" cannot be used to allow \"bottom-start\".', 'Use \"auto-start\" instead.'].join(' '));\n    }\n  } // $FlowFixMe[incompatible-type]: Flow seems to have problems with two array unions...\n\n\n  var overflows = allowedPlacements.reduce(function (acc, placement) {\n    acc[placement] = detectOverflow(state, {\n      placement: placement,\n      boundary: boundary,\n      rootBoundary: rootBoundary,\n      padding: padding\n    })[getBasePlacement(placement)];\n    return acc;\n  }, {});\n  return Object.keys(overflows).sort(function (a, b) {\n    return overflows[a] - overflows[b];\n  });\n}","import { top, bottom, left, right } from \"../enums.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\n\nfunction getSideOffsets(overflow, rect, preventedOffsets) {\n  if (preventedOffsets === void 0) {\n    preventedOffsets = {\n      x: 0,\n      y: 0\n    };\n  }\n\n  return {\n    top: overflow.top - rect.height - preventedOffsets.y,\n    right: overflow.right - rect.width + preventedOffsets.x,\n    bottom: overflow.bottom - rect.height + preventedOffsets.y,\n    left: overflow.left - rect.width - preventedOffsets.x\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return [top, right, bottom, left].some(function (side) {\n    return overflow[side] >= 0;\n  });\n}\n\nfunction hide(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var preventedOffsets = state.modifiersData.preventOverflow;\n  var referenceOverflow = detectOverflow(state, {\n    elementContext: 'reference'\n  });\n  var popperAltOverflow = detectOverflow(state, {\n    altBoundary: true\n  });\n  var referenceClippingOffsets = getSideOffsets(referenceOverflow, referenceRect);\n  var popperEscapeOffsets = getSideOffsets(popperAltOverflow, popperRect, preventedOffsets);\n  var isReferenceHidden = isAnySideFullyClipped(referenceClippingOffsets);\n  var hasPopperEscaped = isAnySideFullyClipped(popperEscapeOffsets);\n  state.modifiersData[name] = {\n    referenceClippingOffsets: referenceClippingOffsets,\n    popperEscapeOffsets: popperEscapeOffsets,\n    isReferenceHidden: isReferenceHidden,\n    hasPopperEscaped: hasPopperEscaped\n  };\n  state.attributes.popper = Object.assign({}, state.attributes.popper, {\n    'data-popper-reference-hidden': isReferenceHidden,\n    'data-popper-escaped': hasPopperEscaped\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'hide',\n  enabled: true,\n  phase: 'main',\n  requiresIfExists: ['preventOverflow'],\n  fn: hide\n};","import getBasePlacement from \"../utils/getBasePlacement.js\";\nimport { top, left, right, placements } from \"../enums.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport function distanceAndSkiddingToXY(placement, rects, offset) {\n  var basePlacement = getBasePlacement(placement);\n  var invertDistance = [left, top].indexOf(basePlacement) >= 0 ? -1 : 1;\n\n  var _ref = typeof offset === 'function' ? offset(Object.assign({}, rects, {\n    placement: placement\n  })) : offset,\n      skidding = _ref[0],\n      distance = _ref[1];\n\n  skidding = skidding || 0;\n  distance = (distance || 0) * invertDistance;\n  return [left, right].indexOf(basePlacement) >= 0 ? {\n    x: distance,\n    y: skidding\n  } : {\n    x: skidding,\n    y: distance\n  };\n}\n\nfunction offset(_ref2) {\n  var state = _ref2.state,\n      options = _ref2.options,\n      name = _ref2.name;\n  var _options$offset = options.offset,\n      offset = _options$offset === void 0 ? [0, 0] : _options$offset;\n  var data = placements.reduce(function (acc, placement) {\n    acc[placement] = distanceAndSkiddingToXY(placement, state.rects, offset);\n    return acc;\n  }, {});\n  var _data$state$placement = data[state.placement],\n      x = _data$state$placement.x,\n      y = _data$state$placement.y;\n\n  if (state.modifiersData.popperOffsets != null) {\n    state.modifiersData.popperOffsets.x += x;\n    state.modifiersData.popperOffsets.y += y;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'offset',\n  enabled: true,\n  phase: 'main',\n  requires: ['popperOffsets'],\n  fn: offset\n};","import computeOffsets from \"../utils/computeOffsets.js\";\n\nfunction popperOffsets(_ref) {\n  var state = _ref.state,\n      name = _ref.name;\n  // Offsets are the actual position the popper needs to have to be\n  // properly positioned near its reference element\n  // This is the most basic placement, and will be adjusted by\n  // the modifiers in the next step\n  state.modifiersData[name] = computeOffsets({\n    reference: state.rects.reference,\n    element: state.rects.popper,\n    strategy: 'absolute',\n    placement: state.placement\n  });\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'popperOffsets',\n  enabled: true,\n  phase: 'read',\n  fn: popperOffsets,\n  data: {}\n};","import { top, left, right, bottom, start } from \"../enums.js\";\nimport getBasePlacement from \"../utils/getBasePlacement.js\";\nimport getMainAxisFromPlacement from \"../utils/getMainAxisFromPlacement.js\";\nimport getAltAxis from \"../utils/getAltAxis.js\";\nimport { within, withinMaxClamp } from \"../utils/within.js\";\nimport getLayoutRect from \"../dom-utils/getLayoutRect.js\";\nimport getOffsetParent from \"../dom-utils/getOffsetParent.js\";\nimport detectOverflow from \"../utils/detectOverflow.js\";\nimport getVariation from \"../utils/getVariation.js\";\nimport getFreshSideObject from \"../utils/getFreshSideObject.js\";\nimport { min as mathMin, max as mathMax } from \"../utils/math.js\";\n\nfunction preventOverflow(_ref) {\n  var state = _ref.state,\n      options = _ref.options,\n      name = _ref.name;\n  var _options$mainAxis = options.mainAxis,\n      checkMainAxis = _options$mainAxis === void 0 ? true : _options$mainAxis,\n      _options$altAxis = options.altAxis,\n      checkAltAxis = _options$altAxis === void 0 ? false : _options$altAxis,\n      boundary = options.boundary,\n      rootBoundary = options.rootBoundary,\n      altBoundary = options.altBoundary,\n      padding = options.padding,\n      _options$tether = options.tether,\n      tether = _options$tether === void 0 ? true : _options$tether,\n      _options$tetherOffset = options.tetherOffset,\n      tetherOffset = _options$tetherOffset === void 0 ? 0 : _options$tetherOffset;\n  var overflow = detectOverflow(state, {\n    boundary: boundary,\n    rootBoundary: rootBoundary,\n    padding: padding,\n    altBoundary: altBoundary\n  });\n  var basePlacement = getBasePlacement(state.placement);\n  var variation = getVariation(state.placement);\n  var isBasePlacement = !variation;\n  var mainAxis = getMainAxisFromPlacement(basePlacement);\n  var altAxis = getAltAxis(mainAxis);\n  var popperOffsets = state.modifiersData.popperOffsets;\n  var referenceRect = state.rects.reference;\n  var popperRect = state.rects.popper;\n  var tetherOffsetValue = typeof tetherOffset === 'function' ? tetherOffset(Object.assign({}, state.rects, {\n    placement: state.placement\n  })) : tetherOffset;\n  var normalizedTetherOffsetValue = typeof tetherOffsetValue === 'number' ? {\n    mainAxis: tetherOffsetValue,\n    altAxis: tetherOffsetValue\n  } : Object.assign({\n    mainAxis: 0,\n    altAxis: 0\n  }, tetherOffsetValue);\n  var offsetModifierState = state.modifiersData.offset ? state.modifiersData.offset[state.placement] : null;\n  var data = {\n    x: 0,\n    y: 0\n  };\n\n  if (!popperOffsets) {\n    return;\n  }\n\n  if (checkMainAxis) {\n    var _offsetModifierState$;\n\n    var mainSide = mainAxis === 'y' ? top : left;\n    var altSide = mainAxis === 'y' ? bottom : right;\n    var len = mainAxis === 'y' ? 'height' : 'width';\n    var offset = popperOffsets[mainAxis];\n    var min = offset + overflow[mainSide];\n    var max = offset - overflow[altSide];\n    var additive = tether ? -popperRect[len] / 2 : 0;\n    var minLen = variation === start ? referenceRect[len] : popperRect[len];\n    var maxLen = variation === start ? -popperRect[len] : -referenceRect[len]; // We need to include the arrow in the calculation so the arrow doesn't go\n    // outside the reference bounds\n\n    var arrowElement = state.elements.arrow;\n    var arrowRect = tether && arrowElement ? getLayoutRect(arrowElement) : {\n      width: 0,\n      height: 0\n    };\n    var arrowPaddingObject = state.modifiersData['arrow#persistent'] ? state.modifiersData['arrow#persistent'].padding : getFreshSideObject();\n    var arrowPaddingMin = arrowPaddingObject[mainSide];\n    var arrowPaddingMax = arrowPaddingObject[altSide]; // If the reference length is smaller than the arrow length, we don't want\n    // to include its full size in the calculation. If the reference is small\n    // and near the edge of a boundary, the popper can overflow even if the\n    // reference is not overflowing as well (e.g. virtual elements with no\n    // width or height)\n\n    var arrowLen = within(0, referenceRect[len], arrowRect[len]);\n    var minOffset = isBasePlacement ? referenceRect[len] / 2 - additive - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis : minLen - arrowLen - arrowPaddingMin - normalizedTetherOffsetValue.mainAxis;\n    var maxOffset = isBasePlacement ? -referenceRect[len] / 2 + additive + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis : maxLen + arrowLen + arrowPaddingMax + normalizedTetherOffsetValue.mainAxis;\n    var arrowOffsetParent = state.elements.arrow && getOffsetParent(state.elements.arrow);\n    var clientOffset = arrowOffsetParent ? mainAxis === 'y' ? arrowOffsetParent.clientTop || 0 : arrowOffsetParent.clientLeft || 0 : 0;\n    var offsetModifierValue = (_offsetModifierState$ = offsetModifierState == null ? void 0 : offsetModifierState[mainAxis]) != null ? _offsetModifierState$ : 0;\n    var tetherMin = offset + minOffset - offsetModifierValue - clientOffset;\n    var tetherMax = offset + maxOffset - offsetModifierValue;\n    var preventedOffset = within(tether ? mathMin(min, tetherMin) : min, offset, tether ? mathMax(max, tetherMax) : max);\n    popperOffsets[mainAxis] = preventedOffset;\n    data[mainAxis] = preventedOffset - offset;\n  }\n\n  if (checkAltAxis) {\n    var _offsetModifierState$2;\n\n    var _mainSide = mainAxis === 'x' ? top : left;\n\n    var _altSide = mainAxis === 'x' ? bottom : right;\n\n    var _offset = popperOffsets[altAxis];\n\n    var _len = altAxis === 'y' ? 'height' : 'width';\n\n    var _min = _offset + overflow[_mainSide];\n\n    var _max = _offset - overflow[_altSide];\n\n    var isOriginSide = [top, left].indexOf(basePlacement) !== -1;\n\n    var _offsetModifierValue = (_offsetModifierState$2 = offsetModifierState == null ? void 0 : offsetModifierState[altAxis]) != null ? _offsetModifierState$2 : 0;\n\n    var _tetherMin = isOriginSide ? _min : _offset - referenceRect[_len] - popperRect[_len] - _offsetModifierValue + normalizedTetherOffsetValue.altAxis;\n\n    var _tetherMax = isOriginSide ? _offset + referenceRect[_len] + popperRect[_len] - _offsetModifierValue - normalizedTetherOffsetValue.altAxis : _max;\n\n    var _preventedOffset = tether && isOriginSide ? withinMaxClamp(_tetherMin, _offset, _tetherMax) : within(tether ? _tetherMin : _min, _offset, tether ? _tetherMax : _max);\n\n    popperOffsets[altAxis] = _preventedOffset;\n    data[altAxis] = _preventedOffset - _offset;\n  }\n\n  state.modifiersData[name] = data;\n} // eslint-disable-next-line import/no-unused-modules\n\n\nexport default {\n  name: 'preventOverflow',\n  enabled: true,\n  phase: 'main',\n  fn: preventOverflow,\n  requiresIfExists: ['offset']\n};","export default function getAltAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}","import getBoundingClientRect from \"./getBoundingClientRect.js\";\nimport getNodeScroll from \"./getNodeScroll.js\";\nimport getNodeName from \"./getNodeName.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getWindowScrollBarX from \"./getWindowScrollBarX.js\";\nimport getDocumentElement from \"./getDocumentElement.js\";\nimport isScrollParent from \"./isScrollParent.js\";\nimport { round } from \"../utils/math.js\";\n\nfunction isElementScaled(element) {\n  var rect = element.getBoundingClientRect();\n  var scaleX = round(rect.width) / element.offsetWidth || 1;\n  var scaleY = round(rect.height) / element.offsetHeight || 1;\n  return scaleX !== 1 || scaleY !== 1;\n} // Returns the composite rect of an element relative to its offsetParent.\n// Composite means it takes into account transforms as well as layout.\n\n\nexport default function getCompositeRect(elementOrVirtualElement, offsetParent, isFixed) {\n  if (isFixed === void 0) {\n    isFixed = false;\n  }\n\n  var isOffsetParentAnElement = isHTMLElement(offsetParent);\n  var offsetParentIsScaled = isHTMLElement(offsetParent) && isElementScaled(offsetParent);\n  var documentElement = getDocumentElement(offsetParent);\n  var rect = getBoundingClientRect(elementOrVirtualElement, offsetParentIsScaled, isFixed);\n  var scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  var offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\n    if (getNodeName(offsetParent) !== 'body' || // https://github.com/popperjs/popper-core/issues/1078\n    isScrollParent(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      offsets = getBoundingClientRect(offsetParent, true);\n      offsets.x += offsetParent.clientLeft;\n      offsets.y += offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}","import getWindowScroll from \"./getWindowScroll.js\";\nimport getWindow from \"./getWindow.js\";\nimport { isHTMLElement } from \"./instanceOf.js\";\nimport getHTMLElementScroll from \"./getHTMLElementScroll.js\";\nexport default function getNodeScroll(node) {\n  if (node === getWindow(node) || !isHTMLElement(node)) {\n    return getWindowScroll(node);\n  } else {\n    return getHTMLElementScroll(node);\n  }\n}","export default function getHTMLElementScroll(element) {\n  return {\n    scrollLeft: element.scrollLeft,\n    scrollTop: element.scrollTop\n  };\n}","import { modifierPhases } from \"../enums.js\"; // source: https://stackoverflow.com/questions/49875255\n\nfunction order(modifiers) {\n  var map = new Map();\n  var visited = new Set();\n  var result = [];\n  modifiers.forEach(function (modifier) {\n    map.set(modifier.name, modifier);\n  }); // On visiting object, check for its dependencies and visit them recursively\n\n  function sort(modifier) {\n    visited.add(modifier.name);\n    var requires = [].concat(modifier.requires || [], modifier.requiresIfExists || []);\n    requires.forEach(function (dep) {\n      if (!visited.has(dep)) {\n        var depModifier = map.get(dep);\n\n        if (depModifier) {\n          sort(depModifier);\n        }\n      }\n    });\n    result.push(modifier);\n  }\n\n  modifiers.forEach(function (modifier) {\n    if (!visited.has(modifier.name)) {\n      // check for visited object\n      sort(modifier);\n    }\n  });\n  return result;\n}\n\nexport default function orderModifiers(modifiers) {\n  // order based on dependencies\n  var orderedModifiers = order(modifiers); // order based on phase\n\n  return modifierPhases.reduce(function (acc, phase) {\n    return acc.concat(orderedModifiers.filter(function (modifier) {\n      return modifier.phase === phase;\n    }));\n  }, []);\n}","import getCompositeRect from \"./dom-utils/getCompositeRect.js\";\nimport getLayoutRect from \"./dom-utils/getLayoutRect.js\";\nimport listScrollParents from \"./dom-utils/listScrollParents.js\";\nimport getOffsetParent from \"./dom-utils/getOffsetParent.js\";\nimport getComputedStyle from \"./dom-utils/getComputedStyle.js\";\nimport orderModifiers from \"./utils/orderModifiers.js\";\nimport debounce from \"./utils/debounce.js\";\nimport validateModifiers from \"./utils/validateModifiers.js\";\nimport uniqueBy from \"./utils/uniqueBy.js\";\nimport getBasePlacement from \"./utils/getBasePlacement.js\";\nimport mergeByName from \"./utils/mergeByName.js\";\nimport detectOverflow from \"./utils/detectOverflow.js\";\nimport { isElement } from \"./dom-utils/instanceOf.js\";\nimport { auto } from \"./enums.js\";\nvar INVALID_ELEMENT_ERROR = 'Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.';\nvar INFINITE_LOOP_ERROR = 'Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.';\nvar DEFAULT_OPTIONS = {\n  placement: 'bottom',\n  modifiers: [],\n  strategy: 'absolute'\n};\n\nfunction areValidElements() {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return !args.some(function (element) {\n    return !(element && typeof element.getBoundingClientRect === 'function');\n  });\n}\n\nexport function popperGenerator(generatorOptions) {\n  if (generatorOptions === void 0) {\n    generatorOptions = {};\n  }\n\n  var _generatorOptions = generatorOptions,\n      _generatorOptions$def = _generatorOptions.defaultModifiers,\n      defaultModifiers = _generatorOptions$def === void 0 ? [] : _generatorOptions$def,\n      _generatorOptions$def2 = _generatorOptions.defaultOptions,\n      defaultOptions = _generatorOptions$def2 === void 0 ? DEFAULT_OPTIONS : _generatorOptions$def2;\n  return function createPopper(reference, popper, options) {\n    if (options === void 0) {\n      options = defaultOptions;\n    }\n\n    var state = {\n      placement: 'bottom',\n      orderedModifiers: [],\n      options: Object.assign({}, DEFAULT_OPTIONS, defaultOptions),\n      modifiersData: {},\n      elements: {\n        reference: reference,\n        popper: popper\n      },\n      attributes: {},\n      styles: {}\n    };\n    var effectCleanupFns = [];\n    var isDestroyed = false;\n    var instance = {\n      state: state,\n      setOptions: function setOptions(setOptionsAction) {\n        var options = typeof setOptionsAction === 'function' ? setOptionsAction(state.options) : setOptionsAction;\n        cleanupModifierEffects();\n        state.options = Object.assign({}, defaultOptions, state.options, options);\n        state.scrollParents = {\n          reference: isElement(reference) ? listScrollParents(reference) : reference.contextElement ? listScrollParents(reference.contextElement) : [],\n          popper: listScrollParents(popper)\n        }; // Orders the modifiers based on their dependencies and `phase`\n        // properties\n\n        var orderedModifiers = orderModifiers(mergeByName([].concat(defaultModifiers, state.options.modifiers))); // Strip out disabled modifiers\n\n        state.orderedModifiers = orderedModifiers.filter(function (m) {\n          return m.enabled;\n        }); // Validate the provided modifiers so that the consumer will get warned\n        // if one of the modifiers is invalid for any reason\n\n        if (process.env.NODE_ENV !== \"production\") {\n          var modifiers = uniqueBy([].concat(orderedModifiers, state.options.modifiers), function (_ref) {\n            var name = _ref.name;\n            return name;\n          });\n          validateModifiers(modifiers);\n\n          if (getBasePlacement(state.options.placement) === auto) {\n            var flipModifier = state.orderedModifiers.find(function (_ref2) {\n              var name = _ref2.name;\n              return name === 'flip';\n            });\n\n            if (!flipModifier) {\n              console.error(['Popper: \"auto\" placements require the \"flip\" modifier be', 'present and enabled to work.'].join(' '));\n            }\n          }\n\n          var _getComputedStyle = getComputedStyle(popper),\n              marginTop = _getComputedStyle.marginTop,\n              marginRight = _getComputedStyle.marginRight,\n              marginBottom = _getComputedStyle.marginBottom,\n              marginLeft = _getComputedStyle.marginLeft; // We no longer take into account `margins` on the popper, and it can\n          // cause bugs with positioning, so we'll warn the consumer\n\n\n          if ([marginTop, marginRight, marginBottom, marginLeft].some(function (margin) {\n            return parseFloat(margin);\n          })) {\n            console.warn(['Popper: CSS \"margin\" styles cannot be used to apply padding', 'between the popper and its reference element or boundary.', 'To replicate margin, use the `offset` modifier, as well as', 'the `padding` option in the `preventOverflow` and `flip`', 'modifiers.'].join(' '));\n          }\n        }\n\n        runModifierEffects();\n        return instance.update();\n      },\n      // Sync update  it will always be executed, even if not necessary. This\n      // is useful for low frequency updates where sync behavior simplifies the\n      // logic.\n      // For high frequency updates (e.g. `resize` and `scroll` events), always\n      // prefer the async Popper#update method\n      forceUpdate: function forceUpdate() {\n        if (isDestroyed) {\n          return;\n        }\n\n        var _state$elements = state.elements,\n            reference = _state$elements.reference,\n            popper = _state$elements.popper; // Don't proceed if `reference` or `popper` are not valid elements\n        // anymore\n\n        if (!areValidElements(reference, popper)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            console.error(INVALID_ELEMENT_ERROR);\n          }\n\n          return;\n        } // Store the reference and popper rects to be read by modifiers\n\n\n        state.rects = {\n          reference: getCompositeRect(reference, getOffsetParent(popper), state.options.strategy === 'fixed'),\n          popper: getLayoutRect(popper)\n        }; // Modifiers have the ability to reset the current update cycle. The\n        // most common use case for this is the `flip` modifier changing the\n        // placement, which then needs to re-run all the modifiers, because the\n        // logic was previously ran for the previous placement and is therefore\n        // stale/incorrect\n\n        state.reset = false;\n        state.placement = state.options.placement; // On each update cycle, the `modifiersData` property for each modifier\n        // is filled with the initial data specified by the modifier. This means\n        // it doesn't persist and is fresh on each update.\n        // To ensure persistent data, use `${name}#persistent`\n\n        state.orderedModifiers.forEach(function (modifier) {\n          return state.modifiersData[modifier.name] = Object.assign({}, modifier.data);\n        });\n        var __debug_loops__ = 0;\n\n        for (var index = 0; index < state.orderedModifiers.length; index++) {\n          if (process.env.NODE_ENV !== \"production\") {\n            __debug_loops__ += 1;\n\n            if (__debug_loops__ > 100) {\n              console.error(INFINITE_LOOP_ERROR);\n              break;\n            }\n          }\n\n          if (state.reset === true) {\n            state.reset = false;\n            index = -1;\n            continue;\n          }\n\n          var _state$orderedModifie = state.orderedModifiers[index],\n              fn = _state$orderedModifie.fn,\n              _state$orderedModifie2 = _state$orderedModifie.options,\n              _options = _state$orderedModifie2 === void 0 ? {} : _state$orderedModifie2,\n              name = _state$orderedModifie.name;\n\n          if (typeof fn === 'function') {\n            state = fn({\n              state: state,\n              options: _options,\n              name: name,\n              instance: instance\n            }) || state;\n          }\n        }\n      },\n      // Async and optimistically optimized update  it will not be executed if\n      // not necessary (debounced to run at most once-per-tick)\n      update: debounce(function () {\n        return new Promise(function (resolve) {\n          instance.forceUpdate();\n          resolve(state);\n        });\n      }),\n      destroy: function destroy() {\n        cleanupModifierEffects();\n        isDestroyed = true;\n      }\n    };\n\n    if (!areValidElements(reference, popper)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.error(INVALID_ELEMENT_ERROR);\n      }\n\n      return instance;\n    }\n\n    instance.setOptions(options).then(function (state) {\n      if (!isDestroyed && options.onFirstUpdate) {\n        options.onFirstUpdate(state);\n      }\n    }); // Modifiers have the ability to execute arbitrary code before the first\n    // update cycle runs. They will be executed in the same order as the update\n    // cycle. This is useful when a modifier adds some persistent data that\n    // other modifiers need to use, but the modifier is run after the dependent\n    // one.\n\n    function runModifierEffects() {\n      state.orderedModifiers.forEach(function (_ref3) {\n        var name = _ref3.name,\n            _ref3$options = _ref3.options,\n            options = _ref3$options === void 0 ? {} : _ref3$options,\n            effect = _ref3.effect;\n\n        if (typeof effect === 'function') {\n          var cleanupFn = effect({\n            state: state,\n            name: name,\n            instance: instance,\n            options: options\n          });\n\n          var noopFn = function noopFn() {};\n\n          effectCleanupFns.push(cleanupFn || noopFn);\n        }\n      });\n    }\n\n    function cleanupModifierEffects() {\n      effectCleanupFns.forEach(function (fn) {\n        return fn();\n      });\n      effectCleanupFns = [];\n    }\n\n    return instance;\n  };\n}\nexport var createPopper = /*#__PURE__*/popperGenerator(); // eslint-disable-next-line import/no-unused-modules\n\nexport { detectOverflow };","export default function debounce(fn) {\n  var pending;\n  return function () {\n    if (!pending) {\n      pending = new Promise(function (resolve) {\n        Promise.resolve().then(function () {\n          pending = undefined;\n          resolve(fn());\n        });\n      });\n    }\n\n    return pending;\n  };\n}","export default function mergeByName(modifiers) {\n  var merged = modifiers.reduce(function (merged, current) {\n    var existing = merged[current.name];\n    merged[current.name] = existing ? Object.assign({}, existing, current, {\n      options: Object.assign({}, existing.options, current.options),\n      data: Object.assign({}, existing.data, current.data)\n    }) : current;\n    return merged;\n  }, {}); // IE11 does not support Object.values\n\n  return Object.keys(merged).map(function (key) {\n    return merged[key];\n  });\n}","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nimport offset from \"./modifiers/offset.js\";\nimport flip from \"./modifiers/flip.js\";\nimport preventOverflow from \"./modifiers/preventOverflow.js\";\nimport arrow from \"./modifiers/arrow.js\";\nimport hide from \"./modifiers/hide.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles, offset, flip, preventOverflow, arrow, hide];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow }; // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper as createPopperLite } from \"./popper-lite.js\"; // eslint-disable-next-line import/no-unused-modules\n\nexport * from \"./modifiers/index.js\";","import { popperGenerator, detectOverflow } from \"./createPopper.js\";\nimport eventListeners from \"./modifiers/eventListeners.js\";\nimport popperOffsets from \"./modifiers/popperOffsets.js\";\nimport computeStyles from \"./modifiers/computeStyles.js\";\nimport applyStyles from \"./modifiers/applyStyles.js\";\nvar defaultModifiers = [eventListeners, popperOffsets, computeStyles, applyStyles];\nvar createPopper = /*#__PURE__*/popperGenerator({\n  defaultModifiers: defaultModifiers\n}); // eslint-disable-next-line import/no-unused-modules\n\nexport { createPopper, popperGenerator, defaultModifiers, detectOverflow };","/*!\n  * Bootstrap v5.2.3 (https://getbootstrap.com/)\n  * Copyright 2011-2022 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)\n  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n  */\nimport * as Popper from '@popperjs/core';\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/index.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\nconst MAX_UID = 1000000;\nconst MILLISECONDS_MULTIPLIER = 1000;\nconst TRANSITION_END = 'transitionend'; // Shout-out Angus Croll (https://goo.gl/pxwQGp)\n\nconst toType = object => {\n  if (object === null || object === undefined) {\n    return `${object}`;\n  }\n\n  return Object.prototype.toString.call(object).match(/\\s([a-z]+)/i)[1].toLowerCase();\n};\n/**\n * Public Util API\n */\n\n\nconst getUID = prefix => {\n  do {\n    prefix += Math.floor(Math.random() * MAX_UID);\n  } while (document.getElementById(prefix));\n\n  return prefix;\n};\n\nconst getSelector = element => {\n  let selector = element.getAttribute('data-bs-target');\n\n  if (!selector || selector === '#') {\n    let hrefAttribute = element.getAttribute('href'); // The only valid content that could double as a selector are IDs or classes,\n    // so everything starting with `#` or `.`. If a \"real\" URL is used as the selector,\n    // `document.querySelector` will rightfully complain it is invalid.\n    // See https://github.com/twbs/bootstrap/issues/32273\n\n    if (!hrefAttribute || !hrefAttribute.includes('#') && !hrefAttribute.startsWith('.')) {\n      return null;\n    } // Just in case some CMS puts out a full URL with the anchor appended\n\n\n    if (hrefAttribute.includes('#') && !hrefAttribute.startsWith('#')) {\n      hrefAttribute = `#${hrefAttribute.split('#')[1]}`;\n    }\n\n    selector = hrefAttribute && hrefAttribute !== '#' ? hrefAttribute.trim() : null;\n  }\n\n  return selector;\n};\n\nconst getSelectorFromElement = element => {\n  const selector = getSelector(element);\n\n  if (selector) {\n    return document.querySelector(selector) ? selector : null;\n  }\n\n  return null;\n};\n\nconst getElementFromSelector = element => {\n  const selector = getSelector(element);\n  return selector ? document.querySelector(selector) : null;\n};\n\nconst getTransitionDurationFromElement = element => {\n  if (!element) {\n    return 0;\n  } // Get transition-duration of the element\n\n\n  let {\n    transitionDuration,\n    transitionDelay\n  } = window.getComputedStyle(element);\n  const floatTransitionDuration = Number.parseFloat(transitionDuration);\n  const floatTransitionDelay = Number.parseFloat(transitionDelay); // Return 0 if element or transition duration is not found\n\n  if (!floatTransitionDuration && !floatTransitionDelay) {\n    return 0;\n  } // If multiple durations are defined, take the first\n\n\n  transitionDuration = transitionDuration.split(',')[0];\n  transitionDelay = transitionDelay.split(',')[0];\n  return (Number.parseFloat(transitionDuration) + Number.parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;\n};\n\nconst triggerTransitionEnd = element => {\n  element.dispatchEvent(new Event(TRANSITION_END));\n};\n\nconst isElement = object => {\n  if (!object || typeof object !== 'object') {\n    return false;\n  }\n\n  if (typeof object.jquery !== 'undefined') {\n    object = object[0];\n  }\n\n  return typeof object.nodeType !== 'undefined';\n};\n\nconst getElement = object => {\n  // it's a jQuery object or a node element\n  if (isElement(object)) {\n    return object.jquery ? object[0] : object;\n  }\n\n  if (typeof object === 'string' && object.length > 0) {\n    return document.querySelector(object);\n  }\n\n  return null;\n};\n\nconst isVisible = element => {\n  if (!isElement(element) || element.getClientRects().length === 0) {\n    return false;\n  }\n\n  const elementIsVisible = getComputedStyle(element).getPropertyValue('visibility') === 'visible'; // Handle `details` element as its content may falsie appear visible when it is closed\n\n  const closedDetails = element.closest('details:not([open])');\n\n  if (!closedDetails) {\n    return elementIsVisible;\n  }\n\n  if (closedDetails !== element) {\n    const summary = element.closest('summary');\n\n    if (summary && summary.parentNode !== closedDetails) {\n      return false;\n    }\n\n    if (summary === null) {\n      return false;\n    }\n  }\n\n  return elementIsVisible;\n};\n\nconst isDisabled = element => {\n  if (!element || element.nodeType !== Node.ELEMENT_NODE) {\n    return true;\n  }\n\n  if (element.classList.contains('disabled')) {\n    return true;\n  }\n\n  if (typeof element.disabled !== 'undefined') {\n    return element.disabled;\n  }\n\n  return element.hasAttribute('disabled') && element.getAttribute('disabled') !== 'false';\n};\n\nconst findShadowRoot = element => {\n  if (!document.documentElement.attachShadow) {\n    return null;\n  } // Can find the shadow root otherwise it'll return the document\n\n\n  if (typeof element.getRootNode === 'function') {\n    const root = element.getRootNode();\n    return root instanceof ShadowRoot ? root : null;\n  }\n\n  if (element instanceof ShadowRoot) {\n    return element;\n  } // when we don't find a shadow root\n\n\n  if (!element.parentNode) {\n    return null;\n  }\n\n  return findShadowRoot(element.parentNode);\n};\n\nconst noop = () => {};\n/**\n * Trick to restart an element's animation\n *\n * @param {HTMLElement} element\n * @return void\n *\n * @see https://www.charistheo.io/blog/2021/02/restart-a-css-animation-with-javascript/#restarting-a-css-animation\n */\n\n\nconst reflow = element => {\n  element.offsetHeight; // eslint-disable-line no-unused-expressions\n};\n\nconst getjQuery = () => {\n  if (window.jQuery && !document.body.hasAttribute('data-bs-no-jquery')) {\n    return window.jQuery;\n  }\n\n  return null;\n};\n\nconst DOMContentLoadedCallbacks = [];\n\nconst onDOMContentLoaded = callback => {\n  if (document.readyState === 'loading') {\n    // add listener on the first call when the document is in loading state\n    if (!DOMContentLoadedCallbacks.length) {\n      document.addEventListener('DOMContentLoaded', () => {\n        for (const callback of DOMContentLoadedCallbacks) {\n          callback();\n        }\n      });\n    }\n\n    DOMContentLoadedCallbacks.push(callback);\n  } else {\n    callback();\n  }\n};\n\nconst isRTL = () => document.documentElement.dir === 'rtl';\n\nconst defineJQueryPlugin = plugin => {\n  onDOMContentLoaded(() => {\n    const $ = getjQuery();\n    /* istanbul ignore if */\n\n    if ($) {\n      const name = plugin.NAME;\n      const JQUERY_NO_CONFLICT = $.fn[name];\n      $.fn[name] = plugin.jQueryInterface;\n      $.fn[name].Constructor = plugin;\n\n      $.fn[name].noConflict = () => {\n        $.fn[name] = JQUERY_NO_CONFLICT;\n        return plugin.jQueryInterface;\n      };\n    }\n  });\n};\n\nconst execute = callback => {\n  if (typeof callback === 'function') {\n    callback();\n  }\n};\n\nconst executeAfterTransition = (callback, transitionElement, waitForTransition = true) => {\n  if (!waitForTransition) {\n    execute(callback);\n    return;\n  }\n\n  const durationPadding = 5;\n  const emulatedDuration = getTransitionDurationFromElement(transitionElement) + durationPadding;\n  let called = false;\n\n  const handler = ({\n    target\n  }) => {\n    if (target !== transitionElement) {\n      return;\n    }\n\n    called = true;\n    transitionElement.removeEventListener(TRANSITION_END, handler);\n    execute(callback);\n  };\n\n  transitionElement.addEventListener(TRANSITION_END, handler);\n  setTimeout(() => {\n    if (!called) {\n      triggerTransitionEnd(transitionElement);\n    }\n  }, emulatedDuration);\n};\n/**\n * Return the previous/next element of a list.\n *\n * @param {array} list    The list of elements\n * @param activeElement   The active element\n * @param shouldGetNext   Choose to get next or previous element\n * @param isCycleAllowed\n * @return {Element|elem} The proper element\n */\n\n\nconst getNextActiveElement = (list, activeElement, shouldGetNext, isCycleAllowed) => {\n  const listLength = list.length;\n  let index = list.indexOf(activeElement); // if the element does not exist in the list return an element\n  // depending on the direction and if cycle is allowed\n\n  if (index === -1) {\n    return !shouldGetNext && isCycleAllowed ? list[listLength - 1] : list[0];\n  }\n\n  index += shouldGetNext ? 1 : -1;\n\n  if (isCycleAllowed) {\n    index = (index + listLength) % listLength;\n  }\n\n  return list[Math.max(0, Math.min(index, listLength - 1))];\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): dom/event-handler.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst namespaceRegex = /[^.]*(?=\\..*)\\.|.*/;\nconst stripNameRegex = /\\..*/;\nconst stripUidRegex = /::\\d+$/;\nconst eventRegistry = {}; // Events storage\n\nlet uidEvent = 1;\nconst customEvents = {\n  mouseenter: 'mouseover',\n  mouseleave: 'mouseout'\n};\nconst nativeEvents = new Set(['click', 'dblclick', 'mouseup', 'mousedown', 'contextmenu', 'mousewheel', 'DOMMouseScroll', 'mouseover', 'mouseout', 'mousemove', 'selectstart', 'selectend', 'keydown', 'keypress', 'keyup', 'orientationchange', 'touchstart', 'touchmove', 'touchend', 'touchcancel', 'pointerdown', 'pointermove', 'pointerup', 'pointerleave', 'pointercancel', 'gesturestart', 'gesturechange', 'gestureend', 'focus', 'blur', 'change', 'reset', 'select', 'submit', 'focusin', 'focusout', 'load', 'unload', 'beforeunload', 'resize', 'move', 'DOMContentLoaded', 'readystatechange', 'error', 'abort', 'scroll']);\n/**\n * Private methods\n */\n\nfunction makeEventUid(element, uid) {\n  return uid && `${uid}::${uidEvent++}` || element.uidEvent || uidEvent++;\n}\n\nfunction getElementEvents(element) {\n  const uid = makeEventUid(element);\n  element.uidEvent = uid;\n  eventRegistry[uid] = eventRegistry[uid] || {};\n  return eventRegistry[uid];\n}\n\nfunction bootstrapHandler(element, fn) {\n  return function handler(event) {\n    hydrateObj(event, {\n      delegateTarget: element\n    });\n\n    if (handler.oneOff) {\n      EventHandler.off(element, event.type, fn);\n    }\n\n    return fn.apply(element, [event]);\n  };\n}\n\nfunction bootstrapDelegationHandler(element, selector, fn) {\n  return function handler(event) {\n    const domElements = element.querySelectorAll(selector);\n\n    for (let {\n      target\n    } = event; target && target !== this; target = target.parentNode) {\n      for (const domElement of domElements) {\n        if (domElement !== target) {\n          continue;\n        }\n\n        hydrateObj(event, {\n          delegateTarget: target\n        });\n\n        if (handler.oneOff) {\n          EventHandler.off(element, event.type, selector, fn);\n        }\n\n        return fn.apply(target, [event]);\n      }\n    }\n  };\n}\n\nfunction findHandler(events, callable, delegationSelector = null) {\n  return Object.values(events).find(event => event.callable === callable && event.delegationSelector === delegationSelector);\n}\n\nfunction normalizeParameters(originalTypeEvent, handler, delegationFunction) {\n  const isDelegated = typeof handler === 'string'; // todo: tooltip passes `false` instead of selector, so we need to check\n\n  const callable = isDelegated ? delegationFunction : handler || delegationFunction;\n  let typeEvent = getTypeEvent(originalTypeEvent);\n\n  if (!nativeEvents.has(typeEvent)) {\n    typeEvent = originalTypeEvent;\n  }\n\n  return [isDelegated, callable, typeEvent];\n}\n\nfunction addHandler(element, originalTypeEvent, handler, delegationFunction, oneOff) {\n  if (typeof originalTypeEvent !== 'string' || !element) {\n    return;\n  }\n\n  let [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction); // in case of mouseenter or mouseleave wrap the handler within a function that checks for its DOM position\n  // this prevents the handler from being dispatched the same way as mouseover or mouseout does\n\n  if (originalTypeEvent in customEvents) {\n    const wrapFunction = fn => {\n      return function (event) {\n        if (!event.relatedTarget || event.relatedTarget !== event.delegateTarget && !event.delegateTarget.contains(event.relatedTarget)) {\n          return fn.call(this, event);\n        }\n      };\n    };\n\n    callable = wrapFunction(callable);\n  }\n\n  const events = getElementEvents(element);\n  const handlers = events[typeEvent] || (events[typeEvent] = {});\n  const previousFunction = findHandler(handlers, callable, isDelegated ? handler : null);\n\n  if (previousFunction) {\n    previousFunction.oneOff = previousFunction.oneOff && oneOff;\n    return;\n  }\n\n  const uid = makeEventUid(callable, originalTypeEvent.replace(namespaceRegex, ''));\n  const fn = isDelegated ? bootstrapDelegationHandler(element, handler, callable) : bootstrapHandler(element, callable);\n  fn.delegationSelector = isDelegated ? handler : null;\n  fn.callable = callable;\n  fn.oneOff = oneOff;\n  fn.uidEvent = uid;\n  handlers[uid] = fn;\n  element.addEventListener(typeEvent, fn, isDelegated);\n}\n\nfunction removeHandler(element, events, typeEvent, handler, delegationSelector) {\n  const fn = findHandler(events[typeEvent], handler, delegationSelector);\n\n  if (!fn) {\n    return;\n  }\n\n  element.removeEventListener(typeEvent, fn, Boolean(delegationSelector));\n  delete events[typeEvent][fn.uidEvent];\n}\n\nfunction removeNamespacedHandlers(element, events, typeEvent, namespace) {\n  const storeElementEvent = events[typeEvent] || {};\n\n  for (const handlerKey of Object.keys(storeElementEvent)) {\n    if (handlerKey.includes(namespace)) {\n      const event = storeElementEvent[handlerKey];\n      removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n    }\n  }\n}\n\nfunction getTypeEvent(event) {\n  // allow to get the native events from namespaced events ('click.bs.button' --> 'click')\n  event = event.replace(stripNameRegex, '');\n  return customEvents[event] || event;\n}\n\nconst EventHandler = {\n  on(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, false);\n  },\n\n  one(element, event, handler, delegationFunction) {\n    addHandler(element, event, handler, delegationFunction, true);\n  },\n\n  off(element, originalTypeEvent, handler, delegationFunction) {\n    if (typeof originalTypeEvent !== 'string' || !element) {\n      return;\n    }\n\n    const [isDelegated, callable, typeEvent] = normalizeParameters(originalTypeEvent, handler, delegationFunction);\n    const inNamespace = typeEvent !== originalTypeEvent;\n    const events = getElementEvents(element);\n    const storeElementEvent = events[typeEvent] || {};\n    const isNamespace = originalTypeEvent.startsWith('.');\n\n    if (typeof callable !== 'undefined') {\n      // Simplest case: handler is passed, remove that listener ONLY.\n      if (!Object.keys(storeElementEvent).length) {\n        return;\n      }\n\n      removeHandler(element, events, typeEvent, callable, isDelegated ? handler : null);\n      return;\n    }\n\n    if (isNamespace) {\n      for (const elementEvent of Object.keys(events)) {\n        removeNamespacedHandlers(element, events, elementEvent, originalTypeEvent.slice(1));\n      }\n    }\n\n    for (const keyHandlers of Object.keys(storeElementEvent)) {\n      const handlerKey = keyHandlers.replace(stripUidRegex, '');\n\n      if (!inNamespace || originalTypeEvent.includes(handlerKey)) {\n        const event = storeElementEvent[keyHandlers];\n        removeHandler(element, events, typeEvent, event.callable, event.delegationSelector);\n      }\n    }\n  },\n\n  trigger(element, event, args) {\n    if (typeof event !== 'string' || !element) {\n      return null;\n    }\n\n    const $ = getjQuery();\n    const typeEvent = getTypeEvent(event);\n    const inNamespace = event !== typeEvent;\n    let jQueryEvent = null;\n    let bubbles = true;\n    let nativeDispatch = true;\n    let defaultPrevented = false;\n\n    if (inNamespace && $) {\n      jQueryEvent = $.Event(event, args);\n      $(element).trigger(jQueryEvent);\n      bubbles = !jQueryEvent.isPropagationStopped();\n      nativeDispatch = !jQueryEvent.isImmediatePropagationStopped();\n      defaultPrevented = jQueryEvent.isDefaultPrevented();\n    }\n\n    let evt = new Event(event, {\n      bubbles,\n      cancelable: true\n    });\n    evt = hydrateObj(evt, args);\n\n    if (defaultPrevented) {\n      evt.preventDefault();\n    }\n\n    if (nativeDispatch) {\n      element.dispatchEvent(evt);\n    }\n\n    if (evt.defaultPrevented && jQueryEvent) {\n      jQueryEvent.preventDefault();\n    }\n\n    return evt;\n  }\n\n};\n\nfunction hydrateObj(obj, meta) {\n  for (const [key, value] of Object.entries(meta || {})) {\n    try {\n      obj[key] = value;\n    } catch (_unused) {\n      Object.defineProperty(obj, key, {\n        configurable: true,\n\n        get() {\n          return value;\n        }\n\n      });\n    }\n  }\n\n  return obj;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): dom/data.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * Constants\n */\nconst elementMap = new Map();\nconst Data = {\n  set(element, key, instance) {\n    if (!elementMap.has(element)) {\n      elementMap.set(element, new Map());\n    }\n\n    const instanceMap = elementMap.get(element); // make it clear we only want one instance per element\n    // can be removed later when multiple key/instances are fine to be used\n\n    if (!instanceMap.has(key) && instanceMap.size !== 0) {\n      // eslint-disable-next-line no-console\n      console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(instanceMap.keys())[0]}.`);\n      return;\n    }\n\n    instanceMap.set(key, instance);\n  },\n\n  get(element, key) {\n    if (elementMap.has(element)) {\n      return elementMap.get(element).get(key) || null;\n    }\n\n    return null;\n  },\n\n  remove(element, key) {\n    if (!elementMap.has(element)) {\n      return;\n    }\n\n    const instanceMap = elementMap.get(element);\n    instanceMap.delete(key); // free up element references if there are no instances left for an element\n\n    if (instanceMap.size === 0) {\n      elementMap.delete(element);\n    }\n  }\n\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): dom/manipulator.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\nfunction normalizeData(value) {\n  if (value === 'true') {\n    return true;\n  }\n\n  if (value === 'false') {\n    return false;\n  }\n\n  if (value === Number(value).toString()) {\n    return Number(value);\n  }\n\n  if (value === '' || value === 'null') {\n    return null;\n  }\n\n  if (typeof value !== 'string') {\n    return value;\n  }\n\n  try {\n    return JSON.parse(decodeURIComponent(value));\n  } catch (_unused) {\n    return value;\n  }\n}\n\nfunction normalizeDataKey(key) {\n  return key.replace(/[A-Z]/g, chr => `-${chr.toLowerCase()}`);\n}\n\nconst Manipulator = {\n  setDataAttribute(element, key, value) {\n    element.setAttribute(`data-bs-${normalizeDataKey(key)}`, value);\n  },\n\n  removeDataAttribute(element, key) {\n    element.removeAttribute(`data-bs-${normalizeDataKey(key)}`);\n  },\n\n  getDataAttributes(element) {\n    if (!element) {\n      return {};\n    }\n\n    const attributes = {};\n    const bsKeys = Object.keys(element.dataset).filter(key => key.startsWith('bs') && !key.startsWith('bsConfig'));\n\n    for (const key of bsKeys) {\n      let pureKey = key.replace(/^bs/, '');\n      pureKey = pureKey.charAt(0).toLowerCase() + pureKey.slice(1, pureKey.length);\n      attributes[pureKey] = normalizeData(element.dataset[key]);\n    }\n\n    return attributes;\n  },\n\n  getDataAttribute(element, key) {\n    return normalizeData(element.getAttribute(`data-bs-${normalizeDataKey(key)}`));\n  }\n\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/config.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Class definition\n */\n\nclass Config {\n  // Getters\n  static get Default() {\n    return {};\n  }\n\n  static get DefaultType() {\n    return {};\n  }\n\n  static get NAME() {\n    throw new Error('You have to implement the static method \"NAME\", for each component!');\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n\n    this._typeCheckConfig(config);\n\n    return config;\n  }\n\n  _configAfterMerge(config) {\n    return config;\n  }\n\n  _mergeConfigObj(config, element) {\n    const jsonConfig = isElement(element) ? Manipulator.getDataAttribute(element, 'config') : {}; // try to parse\n\n    return { ...this.constructor.Default,\n      ...(typeof jsonConfig === 'object' ? jsonConfig : {}),\n      ...(isElement(element) ? Manipulator.getDataAttributes(element) : {}),\n      ...(typeof config === 'object' ? config : {})\n    };\n  }\n\n  _typeCheckConfig(config, configTypes = this.constructor.DefaultType) {\n    for (const property of Object.keys(configTypes)) {\n      const expectedTypes = configTypes[property];\n      const value = config[property];\n      const valueType = isElement(value) ? 'element' : toType(value);\n\n      if (!new RegExp(expectedTypes).test(valueType)) {\n        throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option \"${property}\" provided type \"${valueType}\" but expected type \"${expectedTypes}\".`);\n      }\n    }\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): base-component.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst VERSION = '5.2.3';\n/**\n * Class definition\n */\n\nclass BaseComponent extends Config {\n  constructor(element, config) {\n    super();\n    element = getElement(element);\n\n    if (!element) {\n      return;\n    }\n\n    this._element = element;\n    this._config = this._getConfig(config);\n    Data.set(this._element, this.constructor.DATA_KEY, this);\n  } // Public\n\n\n  dispose() {\n    Data.remove(this._element, this.constructor.DATA_KEY);\n    EventHandler.off(this._element, this.constructor.EVENT_KEY);\n\n    for (const propertyName of Object.getOwnPropertyNames(this)) {\n      this[propertyName] = null;\n    }\n  }\n\n  _queueCallback(callback, element, isAnimated = true) {\n    executeAfterTransition(callback, element, isAnimated);\n  }\n\n  _getConfig(config) {\n    config = this._mergeConfigObj(config, this._element);\n    config = this._configAfterMerge(config);\n\n    this._typeCheckConfig(config);\n\n    return config;\n  } // Static\n\n\n  static getInstance(element) {\n    return Data.get(getElement(element), this.DATA_KEY);\n  }\n\n  static getOrCreateInstance(element, config = {}) {\n    return this.getInstance(element) || new this(element, typeof config === 'object' ? config : null);\n  }\n\n  static get VERSION() {\n    return VERSION;\n  }\n\n  static get DATA_KEY() {\n    return `bs.${this.NAME}`;\n  }\n\n  static get EVENT_KEY() {\n    return `.${this.DATA_KEY}`;\n  }\n\n  static eventName(name) {\n    return `${name}${this.EVENT_KEY}`;\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/component-functions.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nconst enableDismissTrigger = (component, method = 'hide') => {\n  const clickEvent = `click.dismiss${component.EVENT_KEY}`;\n  const name = component.NAME;\n  EventHandler.on(document, clickEvent, `[data-bs-dismiss=\"${name}\"]`, function (event) {\n    if (['A', 'AREA'].includes(this.tagName)) {\n      event.preventDefault();\n    }\n\n    if (isDisabled(this)) {\n      return;\n    }\n\n    const target = getElementFromSelector(this) || this.closest(`.${name}`);\n    const instance = component.getOrCreateInstance(target); // Method argument is left, for Alert and only, as it doesn't implement the 'hide' method\n\n    instance[method]();\n  });\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): alert.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$f = 'alert';\nconst DATA_KEY$a = 'bs.alert';\nconst EVENT_KEY$b = `.${DATA_KEY$a}`;\nconst EVENT_CLOSE = `close${EVENT_KEY$b}`;\nconst EVENT_CLOSED = `closed${EVENT_KEY$b}`;\nconst CLASS_NAME_FADE$5 = 'fade';\nconst CLASS_NAME_SHOW$8 = 'show';\n/**\n * Class definition\n */\n\nclass Alert extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$f;\n  } // Public\n\n\n  close() {\n    const closeEvent = EventHandler.trigger(this._element, EVENT_CLOSE);\n\n    if (closeEvent.defaultPrevented) {\n      return;\n    }\n\n    this._element.classList.remove(CLASS_NAME_SHOW$8);\n\n    const isAnimated = this._element.classList.contains(CLASS_NAME_FADE$5);\n\n    this._queueCallback(() => this._destroyElement(), this._element, isAnimated);\n  } // Private\n\n\n  _destroyElement() {\n    this._element.remove();\n\n    EventHandler.trigger(this._element, EVENT_CLOSED);\n    this.dispose();\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Alert.getOrCreateInstance(this);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config](this);\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nenableDismissTrigger(Alert, 'close');\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Alert);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): button.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$e = 'button';\nconst DATA_KEY$9 = 'bs.button';\nconst EVENT_KEY$a = `.${DATA_KEY$9}`;\nconst DATA_API_KEY$6 = '.data-api';\nconst CLASS_NAME_ACTIVE$3 = 'active';\nconst SELECTOR_DATA_TOGGLE$5 = '[data-bs-toggle=\"button\"]';\nconst EVENT_CLICK_DATA_API$6 = `click${EVENT_KEY$a}${DATA_API_KEY$6}`;\n/**\n * Class definition\n */\n\nclass Button extends BaseComponent {\n  // Getters\n  static get NAME() {\n    return NAME$e;\n  } // Public\n\n\n  toggle() {\n    // Toggle class and sync the `aria-pressed` attribute with the return value of the `.toggle()` method\n    this._element.setAttribute('aria-pressed', this._element.classList.toggle(CLASS_NAME_ACTIVE$3));\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Button.getOrCreateInstance(this);\n\n      if (config === 'toggle') {\n        data[config]();\n      }\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$5, event => {\n  event.preventDefault();\n  const button = event.target.closest(SELECTOR_DATA_TOGGLE$5);\n  const data = Button.getOrCreateInstance(button);\n  data.toggle();\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Button);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst SelectorEngine = {\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n  },\n\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector);\n  },\n\n  children(element, selector) {\n    return [].concat(...element.children).filter(child => child.matches(selector));\n  },\n\n  parents(element, selector) {\n    const parents = [];\n    let ancestor = element.parentNode.closest(selector);\n\n    while (ancestor) {\n      parents.push(ancestor);\n      ancestor = ancestor.parentNode.closest(selector);\n    }\n\n    return parents;\n  },\n\n  prev(element, selector) {\n    let previous = element.previousElementSibling;\n\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous];\n      }\n\n      previous = previous.previousElementSibling;\n    }\n\n    return [];\n  },\n\n  // TODO: this is now unused; remove later along with prev()\n  next(element, selector) {\n    let next = element.nextElementSibling;\n\n    while (next) {\n      if (next.matches(selector)) {\n        return [next];\n      }\n\n      next = next.nextElementSibling;\n    }\n\n    return [];\n  },\n\n  focusableChildren(element) {\n    const focusables = ['a', 'button', 'input', 'textarea', 'select', 'details', '[tabindex]', '[contenteditable=\"true\"]'].map(selector => `${selector}:not([tabindex^=\"-\"])`).join(',');\n    return this.find(focusables, element).filter(el => !isDisabled(el) && isVisible(el));\n  }\n\n};\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/swipe.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$d = 'swipe';\nconst EVENT_KEY$9 = '.bs.swipe';\nconst EVENT_TOUCHSTART = `touchstart${EVENT_KEY$9}`;\nconst EVENT_TOUCHMOVE = `touchmove${EVENT_KEY$9}`;\nconst EVENT_TOUCHEND = `touchend${EVENT_KEY$9}`;\nconst EVENT_POINTERDOWN = `pointerdown${EVENT_KEY$9}`;\nconst EVENT_POINTERUP = `pointerup${EVENT_KEY$9}`;\nconst POINTER_TYPE_TOUCH = 'touch';\nconst POINTER_TYPE_PEN = 'pen';\nconst CLASS_NAME_POINTER_EVENT = 'pointer-event';\nconst SWIPE_THRESHOLD = 40;\nconst Default$c = {\n  endCallback: null,\n  leftCallback: null,\n  rightCallback: null\n};\nconst DefaultType$c = {\n  endCallback: '(function|null)',\n  leftCallback: '(function|null)',\n  rightCallback: '(function|null)'\n};\n/**\n * Class definition\n */\n\nclass Swipe extends Config {\n  constructor(element, config) {\n    super();\n    this._element = element;\n\n    if (!element || !Swipe.isSupported()) {\n      return;\n    }\n\n    this._config = this._getConfig(config);\n    this._deltaX = 0;\n    this._supportPointerEvents = Boolean(window.PointerEvent);\n\n    this._initEvents();\n  } // Getters\n\n\n  static get Default() {\n    return Default$c;\n  }\n\n  static get DefaultType() {\n    return DefaultType$c;\n  }\n\n  static get NAME() {\n    return NAME$d;\n  } // Public\n\n\n  dispose() {\n    EventHandler.off(this._element, EVENT_KEY$9);\n  } // Private\n\n\n  _start(event) {\n    if (!this._supportPointerEvents) {\n      this._deltaX = event.touches[0].clientX;\n      return;\n    }\n\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX;\n    }\n  }\n\n  _end(event) {\n    if (this._eventIsPointerPenTouch(event)) {\n      this._deltaX = event.clientX - this._deltaX;\n    }\n\n    this._handleSwipe();\n\n    execute(this._config.endCallback);\n  }\n\n  _move(event) {\n    this._deltaX = event.touches && event.touches.length > 1 ? 0 : event.touches[0].clientX - this._deltaX;\n  }\n\n  _handleSwipe() {\n    const absDeltaX = Math.abs(this._deltaX);\n\n    if (absDeltaX <= SWIPE_THRESHOLD) {\n      return;\n    }\n\n    const direction = absDeltaX / this._deltaX;\n    this._deltaX = 0;\n\n    if (!direction) {\n      return;\n    }\n\n    execute(direction > 0 ? this._config.rightCallback : this._config.leftCallback);\n  }\n\n  _initEvents() {\n    if (this._supportPointerEvents) {\n      EventHandler.on(this._element, EVENT_POINTERDOWN, event => this._start(event));\n      EventHandler.on(this._element, EVENT_POINTERUP, event => this._end(event));\n\n      this._element.classList.add(CLASS_NAME_POINTER_EVENT);\n    } else {\n      EventHandler.on(this._element, EVENT_TOUCHSTART, event => this._start(event));\n      EventHandler.on(this._element, EVENT_TOUCHMOVE, event => this._move(event));\n      EventHandler.on(this._element, EVENT_TOUCHEND, event => this._end(event));\n    }\n  }\n\n  _eventIsPointerPenTouch(event) {\n    return this._supportPointerEvents && (event.pointerType === POINTER_TYPE_PEN || event.pointerType === POINTER_TYPE_TOUCH);\n  } // Static\n\n\n  static isSupported() {\n    return 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): carousel.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$c = 'carousel';\nconst DATA_KEY$8 = 'bs.carousel';\nconst EVENT_KEY$8 = `.${DATA_KEY$8}`;\nconst DATA_API_KEY$5 = '.data-api';\nconst ARROW_LEFT_KEY$1 = 'ArrowLeft';\nconst ARROW_RIGHT_KEY$1 = 'ArrowRight';\nconst TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch\n\nconst ORDER_NEXT = 'next';\nconst ORDER_PREV = 'prev';\nconst DIRECTION_LEFT = 'left';\nconst DIRECTION_RIGHT = 'right';\nconst EVENT_SLIDE = `slide${EVENT_KEY$8}`;\nconst EVENT_SLID = `slid${EVENT_KEY$8}`;\nconst EVENT_KEYDOWN$1 = `keydown${EVENT_KEY$8}`;\nconst EVENT_MOUSEENTER$1 = `mouseenter${EVENT_KEY$8}`;\nconst EVENT_MOUSELEAVE$1 = `mouseleave${EVENT_KEY$8}`;\nconst EVENT_DRAG_START = `dragstart${EVENT_KEY$8}`;\nconst EVENT_LOAD_DATA_API$3 = `load${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst EVENT_CLICK_DATA_API$5 = `click${EVENT_KEY$8}${DATA_API_KEY$5}`;\nconst CLASS_NAME_CAROUSEL = 'carousel';\nconst CLASS_NAME_ACTIVE$2 = 'active';\nconst CLASS_NAME_SLIDE = 'slide';\nconst CLASS_NAME_END = 'carousel-item-end';\nconst CLASS_NAME_START = 'carousel-item-start';\nconst CLASS_NAME_NEXT = 'carousel-item-next';\nconst CLASS_NAME_PREV = 'carousel-item-prev';\nconst SELECTOR_ACTIVE = '.active';\nconst SELECTOR_ITEM = '.carousel-item';\nconst SELECTOR_ACTIVE_ITEM = SELECTOR_ACTIVE + SELECTOR_ITEM;\nconst SELECTOR_ITEM_IMG = '.carousel-item img';\nconst SELECTOR_INDICATORS = '.carousel-indicators';\nconst SELECTOR_DATA_SLIDE = '[data-bs-slide], [data-bs-slide-to]';\nconst SELECTOR_DATA_RIDE = '[data-bs-ride=\"carousel\"]';\nconst KEY_TO_DIRECTION = {\n  [ARROW_LEFT_KEY$1]: DIRECTION_RIGHT,\n  [ARROW_RIGHT_KEY$1]: DIRECTION_LEFT\n};\nconst Default$b = {\n  interval: 5000,\n  keyboard: true,\n  pause: 'hover',\n  ride: false,\n  touch: true,\n  wrap: true\n};\nconst DefaultType$b = {\n  interval: '(number|boolean)',\n  // TODO:v6 remove boolean support\n  keyboard: 'boolean',\n  pause: '(string|boolean)',\n  ride: '(boolean|string)',\n  touch: 'boolean',\n  wrap: 'boolean'\n};\n/**\n * Class definition\n */\n\nclass Carousel extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._interval = null;\n    this._activeElement = null;\n    this._isSliding = false;\n    this.touchTimeout = null;\n    this._swipeHelper = null;\n    this._indicatorsElement = SelectorEngine.findOne(SELECTOR_INDICATORS, this._element);\n\n    this._addEventListeners();\n\n    if (this._config.ride === CLASS_NAME_CAROUSEL) {\n      this.cycle();\n    }\n  } // Getters\n\n\n  static get Default() {\n    return Default$b;\n  }\n\n  static get DefaultType() {\n    return DefaultType$b;\n  }\n\n  static get NAME() {\n    return NAME$c;\n  } // Public\n\n\n  next() {\n    this._slide(ORDER_NEXT);\n  }\n\n  nextWhenVisible() {\n    // FIXME TODO use `document.visibilityState`\n    // Don't call next when the page isn't visible\n    // or the carousel or its parent isn't visible\n    if (!document.hidden && isVisible(this._element)) {\n      this.next();\n    }\n  }\n\n  prev() {\n    this._slide(ORDER_PREV);\n  }\n\n  pause() {\n    if (this._isSliding) {\n      triggerTransitionEnd(this._element);\n    }\n\n    this._clearInterval();\n  }\n\n  cycle() {\n    this._clearInterval();\n\n    this._updateInterval();\n\n    this._interval = setInterval(() => this.nextWhenVisible(), this._config.interval);\n  }\n\n  _maybeEnableCycle() {\n    if (!this._config.ride) {\n      return;\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.cycle());\n      return;\n    }\n\n    this.cycle();\n  }\n\n  to(index) {\n    const items = this._getItems();\n\n    if (index > items.length - 1 || index < 0) {\n      return;\n    }\n\n    if (this._isSliding) {\n      EventHandler.one(this._element, EVENT_SLID, () => this.to(index));\n      return;\n    }\n\n    const activeIndex = this._getItemIndex(this._getActive());\n\n    if (activeIndex === index) {\n      return;\n    }\n\n    const order = index > activeIndex ? ORDER_NEXT : ORDER_PREV;\n\n    this._slide(order, items[index]);\n  }\n\n  dispose() {\n    if (this._swipeHelper) {\n      this._swipeHelper.dispose();\n    }\n\n    super.dispose();\n  } // Private\n\n\n  _configAfterMerge(config) {\n    config.defaultInterval = config.interval;\n    return config;\n  }\n\n  _addEventListeners() {\n    if (this._config.keyboard) {\n      EventHandler.on(this._element, EVENT_KEYDOWN$1, event => this._keydown(event));\n    }\n\n    if (this._config.pause === 'hover') {\n      EventHandler.on(this._element, EVENT_MOUSEENTER$1, () => this.pause());\n      EventHandler.on(this._element, EVENT_MOUSELEAVE$1, () => this._maybeEnableCycle());\n    }\n\n    if (this._config.touch && Swipe.isSupported()) {\n      this._addTouchEventListeners();\n    }\n  }\n\n  _addTouchEventListeners() {\n    for (const img of SelectorEngine.find(SELECTOR_ITEM_IMG, this._element)) {\n      EventHandler.on(img, EVENT_DRAG_START, event => event.preventDefault());\n    }\n\n    const endCallBack = () => {\n      if (this._config.pause !== 'hover') {\n        return;\n      } // If it's a touch-enabled device, mouseenter/leave are fired as\n      // part of the mouse compatibility events on first tap - the carousel\n      // would stop cycling until user tapped out of it;\n      // here, we listen for touchend, explicitly pause the carousel\n      // (as if it's the second time we tap on it, mouseenter compat event\n      // is NOT fired) and after a timeout (to allow for mouse compatibility\n      // events to fire) we explicitly restart cycling\n\n\n      this.pause();\n\n      if (this.touchTimeout) {\n        clearTimeout(this.touchTimeout);\n      }\n\n      this.touchTimeout = setTimeout(() => this._maybeEnableCycle(), TOUCHEVENT_COMPAT_WAIT + this._config.interval);\n    };\n\n    const swipeConfig = {\n      leftCallback: () => this._slide(this._directionToOrder(DIRECTION_LEFT)),\n      rightCallback: () => this._slide(this._directionToOrder(DIRECTION_RIGHT)),\n      endCallback: endCallBack\n    };\n    this._swipeHelper = new Swipe(this._element, swipeConfig);\n  }\n\n  _keydown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return;\n    }\n\n    const direction = KEY_TO_DIRECTION[event.key];\n\n    if (direction) {\n      event.preventDefault();\n\n      this._slide(this._directionToOrder(direction));\n    }\n  }\n\n  _getItemIndex(element) {\n    return this._getItems().indexOf(element);\n  }\n\n  _setActiveIndicatorElement(index) {\n    if (!this._indicatorsElement) {\n      return;\n    }\n\n    const activeIndicator = SelectorEngine.findOne(SELECTOR_ACTIVE, this._indicatorsElement);\n    activeIndicator.classList.remove(CLASS_NAME_ACTIVE$2);\n    activeIndicator.removeAttribute('aria-current');\n    const newActiveIndicator = SelectorEngine.findOne(`[data-bs-slide-to=\"${index}\"]`, this._indicatorsElement);\n\n    if (newActiveIndicator) {\n      newActiveIndicator.classList.add(CLASS_NAME_ACTIVE$2);\n      newActiveIndicator.setAttribute('aria-current', 'true');\n    }\n  }\n\n  _updateInterval() {\n    const element = this._activeElement || this._getActive();\n\n    if (!element) {\n      return;\n    }\n\n    const elementInterval = Number.parseInt(element.getAttribute('data-bs-interval'), 10);\n    this._config.interval = elementInterval || this._config.defaultInterval;\n  }\n\n  _slide(order, element = null) {\n    if (this._isSliding) {\n      return;\n    }\n\n    const activeElement = this._getActive();\n\n    const isNext = order === ORDER_NEXT;\n    const nextElement = element || getNextActiveElement(this._getItems(), activeElement, isNext, this._config.wrap);\n\n    if (nextElement === activeElement) {\n      return;\n    }\n\n    const nextElementIndex = this._getItemIndex(nextElement);\n\n    const triggerEvent = eventName => {\n      return EventHandler.trigger(this._element, eventName, {\n        relatedTarget: nextElement,\n        direction: this._orderToDirection(order),\n        from: this._getItemIndex(activeElement),\n        to: nextElementIndex\n      });\n    };\n\n    const slideEvent = triggerEvent(EVENT_SLIDE);\n\n    if (slideEvent.defaultPrevented) {\n      return;\n    }\n\n    if (!activeElement || !nextElement) {\n      // Some weirdness is happening, so we bail\n      // todo: change tests that use empty divs to avoid this check\n      return;\n    }\n\n    const isCycling = Boolean(this._interval);\n    this.pause();\n    this._isSliding = true;\n\n    this._setActiveIndicatorElement(nextElementIndex);\n\n    this._activeElement = nextElement;\n    const directionalClassName = isNext ? CLASS_NAME_START : CLASS_NAME_END;\n    const orderClassName = isNext ? CLASS_NAME_NEXT : CLASS_NAME_PREV;\n    nextElement.classList.add(orderClassName);\n    reflow(nextElement);\n    activeElement.classList.add(directionalClassName);\n    nextElement.classList.add(directionalClassName);\n\n    const completeCallBack = () => {\n      nextElement.classList.remove(directionalClassName, orderClassName);\n      nextElement.classList.add(CLASS_NAME_ACTIVE$2);\n      activeElement.classList.remove(CLASS_NAME_ACTIVE$2, orderClassName, directionalClassName);\n      this._isSliding = false;\n      triggerEvent(EVENT_SLID);\n    };\n\n    this._queueCallback(completeCallBack, activeElement, this._isAnimated());\n\n    if (isCycling) {\n      this.cycle();\n    }\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_SLIDE);\n  }\n\n  _getActive() {\n    return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM, this._element);\n  }\n\n  _getItems() {\n    return SelectorEngine.find(SELECTOR_ITEM, this._element);\n  }\n\n  _clearInterval() {\n    if (this._interval) {\n      clearInterval(this._interval);\n      this._interval = null;\n    }\n  }\n\n  _directionToOrder(direction) {\n    if (isRTL()) {\n      return direction === DIRECTION_LEFT ? ORDER_PREV : ORDER_NEXT;\n    }\n\n    return direction === DIRECTION_LEFT ? ORDER_NEXT : ORDER_PREV;\n  }\n\n  _orderToDirection(order) {\n    if (isRTL()) {\n      return order === ORDER_PREV ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n\n    return order === ORDER_PREV ? DIRECTION_RIGHT : DIRECTION_LEFT;\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Carousel.getOrCreateInstance(this, config);\n\n      if (typeof config === 'number') {\n        data.to(config);\n        return;\n      }\n\n      if (typeof config === 'string') {\n        if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n\n        data[config]();\n      }\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$5, SELECTOR_DATA_SLIDE, function (event) {\n  const target = getElementFromSelector(this);\n\n  if (!target || !target.classList.contains(CLASS_NAME_CAROUSEL)) {\n    return;\n  }\n\n  event.preventDefault();\n  const carousel = Carousel.getOrCreateInstance(target);\n  const slideIndex = this.getAttribute('data-bs-slide-to');\n\n  if (slideIndex) {\n    carousel.to(slideIndex);\n\n    carousel._maybeEnableCycle();\n\n    return;\n  }\n\n  if (Manipulator.getDataAttribute(this, 'slide') === 'next') {\n    carousel.next();\n\n    carousel._maybeEnableCycle();\n\n    return;\n  }\n\n  carousel.prev();\n\n  carousel._maybeEnableCycle();\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$3, () => {\n  const carousels = SelectorEngine.find(SELECTOR_DATA_RIDE);\n\n  for (const carousel of carousels) {\n    Carousel.getOrCreateInstance(carousel);\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Carousel);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): collapse.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$b = 'collapse';\nconst DATA_KEY$7 = 'bs.collapse';\nconst EVENT_KEY$7 = `.${DATA_KEY$7}`;\nconst DATA_API_KEY$4 = '.data-api';\nconst EVENT_SHOW$6 = `show${EVENT_KEY$7}`;\nconst EVENT_SHOWN$6 = `shown${EVENT_KEY$7}`;\nconst EVENT_HIDE$6 = `hide${EVENT_KEY$7}`;\nconst EVENT_HIDDEN$6 = `hidden${EVENT_KEY$7}`;\nconst EVENT_CLICK_DATA_API$4 = `click${EVENT_KEY$7}${DATA_API_KEY$4}`;\nconst CLASS_NAME_SHOW$7 = 'show';\nconst CLASS_NAME_COLLAPSE = 'collapse';\nconst CLASS_NAME_COLLAPSING = 'collapsing';\nconst CLASS_NAME_COLLAPSED = 'collapsed';\nconst CLASS_NAME_DEEPER_CHILDREN = `:scope .${CLASS_NAME_COLLAPSE} .${CLASS_NAME_COLLAPSE}`;\nconst CLASS_NAME_HORIZONTAL = 'collapse-horizontal';\nconst WIDTH = 'width';\nconst HEIGHT = 'height';\nconst SELECTOR_ACTIVES = '.collapse.show, .collapse.collapsing';\nconst SELECTOR_DATA_TOGGLE$4 = '[data-bs-toggle=\"collapse\"]';\nconst Default$a = {\n  parent: null,\n  toggle: true\n};\nconst DefaultType$a = {\n  parent: '(null|element)',\n  toggle: 'boolean'\n};\n/**\n * Class definition\n */\n\nclass Collapse extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isTransitioning = false;\n    this._triggerArray = [];\n    const toggleList = SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);\n\n    for (const elem of toggleList) {\n      const selector = getSelectorFromElement(elem);\n      const filterElement = SelectorEngine.find(selector).filter(foundElement => foundElement === this._element);\n\n      if (selector !== null && filterElement.length) {\n        this._triggerArray.push(elem);\n      }\n    }\n\n    this._initializeChildren();\n\n    if (!this._config.parent) {\n      this._addAriaAndCollapsedClass(this._triggerArray, this._isShown());\n    }\n\n    if (this._config.toggle) {\n      this.toggle();\n    }\n  } // Getters\n\n\n  static get Default() {\n    return Default$a;\n  }\n\n  static get DefaultType() {\n    return DefaultType$a;\n  }\n\n  static get NAME() {\n    return NAME$b;\n  } // Public\n\n\n  toggle() {\n    if (this._isShown()) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  show() {\n    if (this._isTransitioning || this._isShown()) {\n      return;\n    }\n\n    let activeChildren = []; // find active children\n\n    if (this._config.parent) {\n      activeChildren = this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(element => element !== this._element).map(element => Collapse.getOrCreateInstance(element, {\n        toggle: false\n      }));\n    }\n\n    if (activeChildren.length && activeChildren[0]._isTransitioning) {\n      return;\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_SHOW$6);\n\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n\n    for (const activeInstance of activeChildren) {\n      activeInstance.hide();\n    }\n\n    const dimension = this._getDimension();\n\n    this._element.classList.remove(CLASS_NAME_COLLAPSE);\n\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n\n    this._element.style[dimension] = 0;\n\n    this._addAriaAndCollapsedClass(this._triggerArray, true);\n\n    this._isTransitioning = true;\n\n    const complete = () => {\n      this._isTransitioning = false;\n\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n\n      this._element.classList.add(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n\n      this._element.style[dimension] = '';\n      EventHandler.trigger(this._element, EVENT_SHOWN$6);\n    };\n\n    const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);\n    const scrollSize = `scroll${capitalizedDimension}`;\n\n    this._queueCallback(complete, this._element, true);\n\n    this._element.style[dimension] = `${this._element[scrollSize]}px`;\n  }\n\n  hide() {\n    if (this._isTransitioning || !this._isShown()) {\n      return;\n    }\n\n    const startEvent = EventHandler.trigger(this._element, EVENT_HIDE$6);\n\n    if (startEvent.defaultPrevented) {\n      return;\n    }\n\n    const dimension = this._getDimension();\n\n    this._element.style[dimension] = `${this._element.getBoundingClientRect()[dimension]}px`;\n    reflow(this._element);\n\n    this._element.classList.add(CLASS_NAME_COLLAPSING);\n\n    this._element.classList.remove(CLASS_NAME_COLLAPSE, CLASS_NAME_SHOW$7);\n\n    for (const trigger of this._triggerArray) {\n      const element = getElementFromSelector(trigger);\n\n      if (element && !this._isShown(element)) {\n        this._addAriaAndCollapsedClass([trigger], false);\n      }\n    }\n\n    this._isTransitioning = true;\n\n    const complete = () => {\n      this._isTransitioning = false;\n\n      this._element.classList.remove(CLASS_NAME_COLLAPSING);\n\n      this._element.classList.add(CLASS_NAME_COLLAPSE);\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN$6);\n    };\n\n    this._element.style[dimension] = '';\n\n    this._queueCallback(complete, this._element, true);\n  }\n\n  _isShown(element = this._element) {\n    return element.classList.contains(CLASS_NAME_SHOW$7);\n  } // Private\n\n\n  _configAfterMerge(config) {\n    config.toggle = Boolean(config.toggle); // Coerce string values\n\n    config.parent = getElement(config.parent);\n    return config;\n  }\n\n  _getDimension() {\n    return this._element.classList.contains(CLASS_NAME_HORIZONTAL) ? WIDTH : HEIGHT;\n  }\n\n  _initializeChildren() {\n    if (!this._config.parent) {\n      return;\n    }\n\n    const children = this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);\n\n    for (const element of children) {\n      const selected = getElementFromSelector(element);\n\n      if (selected) {\n        this._addAriaAndCollapsedClass([element], this._isShown(selected));\n      }\n    }\n  }\n\n  _getFirstLevelChildren(selector) {\n    const children = SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN, this._config.parent); // remove children if greater depth\n\n    return SelectorEngine.find(selector, this._config.parent).filter(element => !children.includes(element));\n  }\n\n  _addAriaAndCollapsedClass(triggerArray, isOpen) {\n    if (!triggerArray.length) {\n      return;\n    }\n\n    for (const element of triggerArray) {\n      element.classList.toggle(CLASS_NAME_COLLAPSED, !isOpen);\n      element.setAttribute('aria-expanded', isOpen);\n    }\n  } // Static\n\n\n  static jQueryInterface(config) {\n    const _config = {};\n\n    if (typeof config === 'string' && /show|hide/.test(config)) {\n      _config.toggle = false;\n    }\n\n    return this.each(function () {\n      const data = Collapse.getOrCreateInstance(this, _config);\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n\n        data[config]();\n      }\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$4, function (event) {\n  // preventDefault only for <a> elements (which change the URL) not inside the collapsible element\n  if (event.target.tagName === 'A' || event.delegateTarget && event.delegateTarget.tagName === 'A') {\n    event.preventDefault();\n  }\n\n  const selector = getSelectorFromElement(this);\n  const selectorElements = SelectorEngine.find(selector);\n\n  for (const element of selectorElements) {\n    Collapse.getOrCreateInstance(element, {\n      toggle: false\n    }).toggle();\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Collapse);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$a = 'dropdown';\nconst DATA_KEY$6 = 'bs.dropdown';\nconst EVENT_KEY$6 = `.${DATA_KEY$6}`;\nconst DATA_API_KEY$3 = '.data-api';\nconst ESCAPE_KEY$2 = 'Escape';\nconst TAB_KEY$1 = 'Tab';\nconst ARROW_UP_KEY$1 = 'ArrowUp';\nconst ARROW_DOWN_KEY$1 = 'ArrowDown';\nconst RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE$5 = `hide${EVENT_KEY$6}`;\nconst EVENT_HIDDEN$5 = `hidden${EVENT_KEY$6}`;\nconst EVENT_SHOW$5 = `show${EVENT_KEY$6}`;\nconst EVENT_SHOWN$5 = `shown${EVENT_KEY$6}`;\nconst EVENT_CLICK_DATA_API$3 = `click${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY$6}${DATA_API_KEY$3}`;\nconst CLASS_NAME_SHOW$6 = 'show';\nconst CLASS_NAME_DROPUP = 'dropup';\nconst CLASS_NAME_DROPEND = 'dropend';\nconst CLASS_NAME_DROPSTART = 'dropstart';\nconst CLASS_NAME_DROPUP_CENTER = 'dropup-center';\nconst CLASS_NAME_DROPDOWN_CENTER = 'dropdown-center';\nconst SELECTOR_DATA_TOGGLE$3 = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE$3}.${CLASS_NAME_SHOW$6}`;\nconst SELECTOR_MENU = '.dropdown-menu';\nconst SELECTOR_NAVBAR = '.navbar';\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav';\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';\nconst PLACEMENT_TOP = isRTL() ? 'top-end' : 'top-start';\nconst PLACEMENT_TOPEND = isRTL() ? 'top-start' : 'top-end';\nconst PLACEMENT_BOTTOM = isRTL() ? 'bottom-end' : 'bottom-start';\nconst PLACEMENT_BOTTOMEND = isRTL() ? 'bottom-start' : 'bottom-end';\nconst PLACEMENT_RIGHT = isRTL() ? 'left-start' : 'right-start';\nconst PLACEMENT_LEFT = isRTL() ? 'right-start' : 'left-start';\nconst PLACEMENT_TOPCENTER = 'top';\nconst PLACEMENT_BOTTOMCENTER = 'bottom';\nconst Default$9 = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  popperConfig: null,\n  reference: 'toggle'\n};\nconst DefaultType$9 = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  popperConfig: '(null|object|function)',\n  reference: '(string|element|object)'\n};\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._popper = null;\n    this._parent = this._element.parentNode; // dropdown wrapper\n    // todo: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.2/forms/input-group/\n\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] || SelectorEngine.prev(this._element, SELECTOR_MENU)[0] || SelectorEngine.findOne(SELECTOR_MENU, this._parent);\n    this._inNavbar = this._detectNavbar();\n  } // Getters\n\n\n  static get Default() {\n    return Default$9;\n  }\n\n  static get DefaultType() {\n    return DefaultType$9;\n  }\n\n  static get NAME() {\n    return NAME$a;\n  } // Public\n\n\n  toggle() {\n    return this._isShown() ? this.hide() : this.show();\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return;\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$5, relatedTarget);\n\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n\n    this._createPopper(); // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n\n    this._element.focus();\n\n    this._element.setAttribute('aria-expanded', true);\n\n    this._menu.classList.add(CLASS_NAME_SHOW$6);\n\n    this._element.classList.add(CLASS_NAME_SHOW$6);\n\n    EventHandler.trigger(this._element, EVENT_SHOWN$5, relatedTarget);\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return;\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    };\n\n    this._completeHide(relatedTarget);\n  }\n\n  dispose() {\n    if (this._popper) {\n      this._popper.destroy();\n    }\n\n    super.dispose();\n  }\n\n  update() {\n    this._inNavbar = this._detectNavbar();\n\n    if (this._popper) {\n      this._popper.update();\n    }\n  } // Private\n\n\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$5, relatedTarget);\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    } // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n\n\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n\n    if (this._popper) {\n      this._popper.destroy();\n    }\n\n    this._menu.classList.remove(CLASS_NAME_SHOW$6);\n\n    this._element.classList.remove(CLASS_NAME_SHOW$6);\n\n    this._element.setAttribute('aria-expanded', 'false');\n\n    Manipulator.removeDataAttribute(this._menu, 'popper');\n    EventHandler.trigger(this._element, EVENT_HIDDEN$5, relatedTarget);\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config);\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) && typeof config.reference.getBoundingClientRect !== 'function') {\n      // Popper virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME$a.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`);\n    }\n\n    return config;\n  }\n\n  _createPopper() {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Popper (https://popper.js.org)');\n    }\n\n    let referenceElement = this._element;\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent;\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference);\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference;\n    }\n\n    const popperConfig = this._getPopperConfig();\n\n    this._popper = Popper.createPopper(referenceElement, this._menu, popperConfig);\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW$6);\n  }\n\n  _getPlacement() {\n    const parentDropdown = this._parent;\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPEND)) {\n      return PLACEMENT_RIGHT;\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPSTART)) {\n      return PLACEMENT_LEFT;\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP_CENTER)) {\n      return PLACEMENT_TOPCENTER;\n    }\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPDOWN_CENTER)) {\n      return PLACEMENT_BOTTOMCENTER;\n    } // We need to trim the value because custom properties can also include spaces\n\n\n    const isEnd = getComputedStyle(this._menu).getPropertyValue('--bs-position').trim() === 'end';\n\n    if (parentDropdown.classList.contains(CLASS_NAME_DROPUP)) {\n      return isEnd ? PLACEMENT_TOPEND : PLACEMENT_TOP;\n    }\n\n    return isEnd ? PLACEMENT_BOTTOMEND : PLACEMENT_BOTTOM;\n  }\n\n  _detectNavbar() {\n    return this._element.closest(SELECTOR_NAVBAR) !== null;\n  }\n\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n\n    return offset;\n  }\n\n  _getPopperConfig() {\n    const defaultBsPopperConfig = {\n      placement: this._getPlacement(),\n      modifiers: [{\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }]\n    }; // Disable Popper if we have a static display or Dropdown is in Navbar\n\n    if (this._inNavbar || this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'popper', 'static'); // todo:v6 remove\n\n      defaultBsPopperConfig.modifiers = [{\n        name: 'applyStyles',\n        enabled: false\n      }];\n    }\n\n    return { ...defaultBsPopperConfig,\n      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)\n    };\n  }\n\n  _selectMenuItem({\n    key,\n    target\n  }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element));\n\n    if (!items.length) {\n      return;\n    } // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n\n\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY$1, !items.includes(target)).focus();\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Dropdown.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config]();\n    });\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || event.type === 'keyup' && event.key !== TAB_KEY$1) {\n      return;\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle);\n\n      if (!context || context._config.autoClose === false) {\n        continue;\n      }\n\n      const composedPath = event.composedPath();\n      const isMenuTarget = composedPath.includes(context._menu);\n\n      if (composedPath.includes(context._element) || context._config.autoClose === 'inside' && !isMenuTarget || context._config.autoClose === 'outside' && isMenuTarget) {\n        continue;\n      } // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n\n\n      if (context._menu.contains(event.target) && (event.type === 'keyup' && event.key === TAB_KEY$1 || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue;\n      }\n\n      const relatedTarget = {\n        relatedTarget: context._element\n      };\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event;\n      }\n\n      context._completeHide(relatedTarget);\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n    const isInput = /input|textarea/i.test(event.target.tagName);\n    const isEscapeEvent = event.key === ESCAPE_KEY$2;\n    const isUpOrDownEvent = [ARROW_UP_KEY$1, ARROW_DOWN_KEY$1].includes(event.key);\n\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return;\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return;\n    }\n\n    event.preventDefault(); // todo: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.2/forms/input-group/\n\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE$3) ? this : SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.next(this, SELECTOR_DATA_TOGGLE$3)[0] || SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3, event.delegateTarget.parentNode);\n    const instance = Dropdown.getOrCreateInstance(getToggleButton);\n\n    if (isUpOrDownEvent) {\n      event.stopPropagation();\n      instance.show();\n\n      instance._selectMenuItem(event);\n\n      return;\n    }\n\n    if (instance._isShown()) {\n      // else is escape and we check if it is shown\n      event.stopPropagation();\n      instance.hide();\n      getToggleButton.focus();\n    }\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$3, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus);\nEventHandler.on(document, EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$3, function (event) {\n  event.preventDefault();\n  Dropdown.getOrCreateInstance(this).toggle();\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Dropdown);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/scrollBar.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';\nconst SELECTOR_STICKY_CONTENT = '.sticky-top';\nconst PROPERTY_PADDING = 'padding-right';\nconst PROPERTY_MARGIN = 'margin-right';\n/**\n * Class definition\n */\n\nclass ScrollBarHelper {\n  constructor() {\n    this._element = document.body;\n  } // Public\n\n\n  getWidth() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth#usage_notes\n    const documentWidth = document.documentElement.clientWidth;\n    return Math.abs(window.innerWidth - documentWidth);\n  }\n\n  hide() {\n    const width = this.getWidth();\n\n    this._disableOverFlow(); // give padding to element to balance the hidden scrollbar width\n\n\n    this._setElementAttributes(this._element, PROPERTY_PADDING, calculatedValue => calculatedValue + width); // trick: We adjust positive paddingRight and negative marginRight to sticky-top elements to keep showing fullwidth\n\n\n    this._setElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING, calculatedValue => calculatedValue + width);\n\n    this._setElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN, calculatedValue => calculatedValue - width);\n  }\n\n  reset() {\n    this._resetElementAttributes(this._element, 'overflow');\n\n    this._resetElementAttributes(this._element, PROPERTY_PADDING);\n\n    this._resetElementAttributes(SELECTOR_FIXED_CONTENT, PROPERTY_PADDING);\n\n    this._resetElementAttributes(SELECTOR_STICKY_CONTENT, PROPERTY_MARGIN);\n  }\n\n  isOverflowing() {\n    return this.getWidth() > 0;\n  } // Private\n\n\n  _disableOverFlow() {\n    this._saveInitialAttribute(this._element, 'overflow');\n\n    this._element.style.overflow = 'hidden';\n  }\n\n  _setElementAttributes(selector, styleProperty, callback) {\n    const scrollbarWidth = this.getWidth();\n\n    const manipulationCallBack = element => {\n      if (element !== this._element && window.innerWidth > element.clientWidth + scrollbarWidth) {\n        return;\n      }\n\n      this._saveInitialAttribute(element, styleProperty);\n\n      const calculatedValue = window.getComputedStyle(element).getPropertyValue(styleProperty);\n      element.style.setProperty(styleProperty, `${callback(Number.parseFloat(calculatedValue))}px`);\n    };\n\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n\n  _saveInitialAttribute(element, styleProperty) {\n    const actualValue = element.style.getPropertyValue(styleProperty);\n\n    if (actualValue) {\n      Manipulator.setDataAttribute(element, styleProperty, actualValue);\n    }\n  }\n\n  _resetElementAttributes(selector, styleProperty) {\n    const manipulationCallBack = element => {\n      const value = Manipulator.getDataAttribute(element, styleProperty); // We only want to remove the property if the value is `null`; the value can also be zero\n\n      if (value === null) {\n        element.style.removeProperty(styleProperty);\n        return;\n      }\n\n      Manipulator.removeDataAttribute(element, styleProperty);\n      element.style.setProperty(styleProperty, value);\n    };\n\n    this._applyManipulationCallback(selector, manipulationCallBack);\n  }\n\n  _applyManipulationCallback(selector, callBack) {\n    if (isElement(selector)) {\n      callBack(selector);\n      return;\n    }\n\n    for (const sel of SelectorEngine.find(selector, this._element)) {\n      callBack(sel);\n    }\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/backdrop.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$9 = 'backdrop';\nconst CLASS_NAME_FADE$4 = 'fade';\nconst CLASS_NAME_SHOW$5 = 'show';\nconst EVENT_MOUSEDOWN = `mousedown.bs.${NAME$9}`;\nconst Default$8 = {\n  className: 'modal-backdrop',\n  clickCallback: null,\n  isAnimated: false,\n  isVisible: true,\n  // if false, we use the backdrop helper without adding any element to the dom\n  rootElement: 'body' // give the choice to place backdrop under different elements\n\n};\nconst DefaultType$8 = {\n  className: 'string',\n  clickCallback: '(function|null)',\n  isAnimated: 'boolean',\n  isVisible: 'boolean',\n  rootElement: '(element|string)'\n};\n/**\n * Class definition\n */\n\nclass Backdrop extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isAppended = false;\n    this._element = null;\n  } // Getters\n\n\n  static get Default() {\n    return Default$8;\n  }\n\n  static get DefaultType() {\n    return DefaultType$8;\n  }\n\n  static get NAME() {\n    return NAME$9;\n  } // Public\n\n\n  show(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n\n    this._append();\n\n    const element = this._getElement();\n\n    if (this._config.isAnimated) {\n      reflow(element);\n    }\n\n    element.classList.add(CLASS_NAME_SHOW$5);\n\n    this._emulateAnimation(() => {\n      execute(callback);\n    });\n  }\n\n  hide(callback) {\n    if (!this._config.isVisible) {\n      execute(callback);\n      return;\n    }\n\n    this._getElement().classList.remove(CLASS_NAME_SHOW$5);\n\n    this._emulateAnimation(() => {\n      this.dispose();\n      execute(callback);\n    });\n  }\n\n  dispose() {\n    if (!this._isAppended) {\n      return;\n    }\n\n    EventHandler.off(this._element, EVENT_MOUSEDOWN);\n\n    this._element.remove();\n\n    this._isAppended = false;\n  } // Private\n\n\n  _getElement() {\n    if (!this._element) {\n      const backdrop = document.createElement('div');\n      backdrop.className = this._config.className;\n\n      if (this._config.isAnimated) {\n        backdrop.classList.add(CLASS_NAME_FADE$4);\n      }\n\n      this._element = backdrop;\n    }\n\n    return this._element;\n  }\n\n  _configAfterMerge(config) {\n    // use getElement() with the default \"body\" to get a fresh Element on each instantiation\n    config.rootElement = getElement(config.rootElement);\n    return config;\n  }\n\n  _append() {\n    if (this._isAppended) {\n      return;\n    }\n\n    const element = this._getElement();\n\n    this._config.rootElement.append(element);\n\n    EventHandler.on(element, EVENT_MOUSEDOWN, () => {\n      execute(this._config.clickCallback);\n    });\n    this._isAppended = true;\n  }\n\n  _emulateAnimation(callback) {\n    executeAfterTransition(callback, this._getElement(), this._config.isAnimated);\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/focustrap.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$8 = 'focustrap';\nconst DATA_KEY$5 = 'bs.focustrap';\nconst EVENT_KEY$5 = `.${DATA_KEY$5}`;\nconst EVENT_FOCUSIN$2 = `focusin${EVENT_KEY$5}`;\nconst EVENT_KEYDOWN_TAB = `keydown.tab${EVENT_KEY$5}`;\nconst TAB_KEY = 'Tab';\nconst TAB_NAV_FORWARD = 'forward';\nconst TAB_NAV_BACKWARD = 'backward';\nconst Default$7 = {\n  autofocus: true,\n  trapElement: null // The element to trap focus inside of\n\n};\nconst DefaultType$7 = {\n  autofocus: 'boolean',\n  trapElement: 'element'\n};\n/**\n * Class definition\n */\n\nclass FocusTrap extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n    this._isActive = false;\n    this._lastTabNavDirection = null;\n  } // Getters\n\n\n  static get Default() {\n    return Default$7;\n  }\n\n  static get DefaultType() {\n    return DefaultType$7;\n  }\n\n  static get NAME() {\n    return NAME$8;\n  } // Public\n\n\n  activate() {\n    if (this._isActive) {\n      return;\n    }\n\n    if (this._config.autofocus) {\n      this._config.trapElement.focus();\n    }\n\n    EventHandler.off(document, EVENT_KEY$5); // guard against infinite focus loop\n\n    EventHandler.on(document, EVENT_FOCUSIN$2, event => this._handleFocusin(event));\n    EventHandler.on(document, EVENT_KEYDOWN_TAB, event => this._handleKeydown(event));\n    this._isActive = true;\n  }\n\n  deactivate() {\n    if (!this._isActive) {\n      return;\n    }\n\n    this._isActive = false;\n    EventHandler.off(document, EVENT_KEY$5);\n  } // Private\n\n\n  _handleFocusin(event) {\n    const {\n      trapElement\n    } = this._config;\n\n    if (event.target === document || event.target === trapElement || trapElement.contains(event.target)) {\n      return;\n    }\n\n    const elements = SelectorEngine.focusableChildren(trapElement);\n\n    if (elements.length === 0) {\n      trapElement.focus();\n    } else if (this._lastTabNavDirection === TAB_NAV_BACKWARD) {\n      elements[elements.length - 1].focus();\n    } else {\n      elements[0].focus();\n    }\n  }\n\n  _handleKeydown(event) {\n    if (event.key !== TAB_KEY) {\n      return;\n    }\n\n    this._lastTabNavDirection = event.shiftKey ? TAB_NAV_BACKWARD : TAB_NAV_FORWARD;\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): modal.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$7 = 'modal';\nconst DATA_KEY$4 = 'bs.modal';\nconst EVENT_KEY$4 = `.${DATA_KEY$4}`;\nconst DATA_API_KEY$2 = '.data-api';\nconst ESCAPE_KEY$1 = 'Escape';\nconst EVENT_HIDE$4 = `hide${EVENT_KEY$4}`;\nconst EVENT_HIDE_PREVENTED$1 = `hidePrevented${EVENT_KEY$4}`;\nconst EVENT_HIDDEN$4 = `hidden${EVENT_KEY$4}`;\nconst EVENT_SHOW$4 = `show${EVENT_KEY$4}`;\nconst EVENT_SHOWN$4 = `shown${EVENT_KEY$4}`;\nconst EVENT_RESIZE$1 = `resize${EVENT_KEY$4}`;\nconst EVENT_CLICK_DISMISS = `click.dismiss${EVENT_KEY$4}`;\nconst EVENT_MOUSEDOWN_DISMISS = `mousedown.dismiss${EVENT_KEY$4}`;\nconst EVENT_KEYDOWN_DISMISS$1 = `keydown.dismiss${EVENT_KEY$4}`;\nconst EVENT_CLICK_DATA_API$2 = `click${EVENT_KEY$4}${DATA_API_KEY$2}`;\nconst CLASS_NAME_OPEN = 'modal-open';\nconst CLASS_NAME_FADE$3 = 'fade';\nconst CLASS_NAME_SHOW$4 = 'show';\nconst CLASS_NAME_STATIC = 'modal-static';\nconst OPEN_SELECTOR$1 = '.modal.show';\nconst SELECTOR_DIALOG = '.modal-dialog';\nconst SELECTOR_MODAL_BODY = '.modal-body';\nconst SELECTOR_DATA_TOGGLE$2 = '[data-bs-toggle=\"modal\"]';\nconst Default$6 = {\n  backdrop: true,\n  focus: true,\n  keyboard: true\n};\nconst DefaultType$6 = {\n  backdrop: '(boolean|string)',\n  focus: 'boolean',\n  keyboard: 'boolean'\n};\n/**\n * Class definition\n */\n\nclass Modal extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._dialog = SelectorEngine.findOne(SELECTOR_DIALOG, this._element);\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n    this._isShown = false;\n    this._isTransitioning = false;\n    this._scrollBar = new ScrollBarHelper();\n\n    this._addEventListeners();\n  } // Getters\n\n\n  static get Default() {\n    return Default$6;\n  }\n\n  static get DefaultType() {\n    return DefaultType$6;\n  }\n\n  static get NAME() {\n    return NAME$7;\n  } // Public\n\n\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n\n  show(relatedTarget) {\n    if (this._isShown || this._isTransitioning) {\n      return;\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$4, {\n      relatedTarget\n    });\n\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n\n    this._isShown = true;\n    this._isTransitioning = true;\n\n    this._scrollBar.hide();\n\n    document.body.classList.add(CLASS_NAME_OPEN);\n\n    this._adjustDialog();\n\n    this._backdrop.show(() => this._showElement(relatedTarget));\n  }\n\n  hide() {\n    if (!this._isShown || this._isTransitioning) {\n      return;\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$4);\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    this._isShown = false;\n    this._isTransitioning = true;\n\n    this._focustrap.deactivate();\n\n    this._element.classList.remove(CLASS_NAME_SHOW$4);\n\n    this._queueCallback(() => this._hideModal(), this._element, this._isAnimated());\n  }\n\n  dispose() {\n    for (const htmlElement of [window, this._dialog]) {\n      EventHandler.off(htmlElement, EVENT_KEY$4);\n    }\n\n    this._backdrop.dispose();\n\n    this._focustrap.deactivate();\n\n    super.dispose();\n  }\n\n  handleUpdate() {\n    this._adjustDialog();\n  } // Private\n\n\n  _initializeBackDrop() {\n    return new Backdrop({\n      isVisible: Boolean(this._config.backdrop),\n      // 'static' option will be translated to true, and booleans will keep their value,\n      isAnimated: this._isAnimated()\n    });\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n\n  _showElement(relatedTarget) {\n    // try to append dynamic modal\n    if (!document.body.contains(this._element)) {\n      document.body.append(this._element);\n    }\n\n    this._element.style.display = 'block';\n\n    this._element.removeAttribute('aria-hidden');\n\n    this._element.setAttribute('aria-modal', true);\n\n    this._element.setAttribute('role', 'dialog');\n\n    this._element.scrollTop = 0;\n    const modalBody = SelectorEngine.findOne(SELECTOR_MODAL_BODY, this._dialog);\n\n    if (modalBody) {\n      modalBody.scrollTop = 0;\n    }\n\n    reflow(this._element);\n\n    this._element.classList.add(CLASS_NAME_SHOW$4);\n\n    const transitionComplete = () => {\n      if (this._config.focus) {\n        this._focustrap.activate();\n      }\n\n      this._isTransitioning = false;\n      EventHandler.trigger(this._element, EVENT_SHOWN$4, {\n        relatedTarget\n      });\n    };\n\n    this._queueCallback(transitionComplete, this._dialog, this._isAnimated());\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS$1, event => {\n      if (event.key !== ESCAPE_KEY$1) {\n        return;\n      }\n\n      if (this._config.keyboard) {\n        event.preventDefault();\n        this.hide();\n        return;\n      }\n\n      this._triggerBackdropTransition();\n    });\n    EventHandler.on(window, EVENT_RESIZE$1, () => {\n      if (this._isShown && !this._isTransitioning) {\n        this._adjustDialog();\n      }\n    });\n    EventHandler.on(this._element, EVENT_MOUSEDOWN_DISMISS, event => {\n      // a bad trick to segregate clicks that may start inside dialog but end outside, and avoid listen to scrollbar clicks\n      EventHandler.one(this._element, EVENT_CLICK_DISMISS, event2 => {\n        if (this._element !== event.target || this._element !== event2.target) {\n          return;\n        }\n\n        if (this._config.backdrop === 'static') {\n          this._triggerBackdropTransition();\n\n          return;\n        }\n\n        if (this._config.backdrop) {\n          this.hide();\n        }\n      });\n    });\n  }\n\n  _hideModal() {\n    this._element.style.display = 'none';\n\n    this._element.setAttribute('aria-hidden', true);\n\n    this._element.removeAttribute('aria-modal');\n\n    this._element.removeAttribute('role');\n\n    this._isTransitioning = false;\n\n    this._backdrop.hide(() => {\n      document.body.classList.remove(CLASS_NAME_OPEN);\n\n      this._resetAdjustments();\n\n      this._scrollBar.reset();\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN$4);\n    });\n  }\n\n  _isAnimated() {\n    return this._element.classList.contains(CLASS_NAME_FADE$3);\n  }\n\n  _triggerBackdropTransition() {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED$1);\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n    const initialOverflowY = this._element.style.overflowY; // return if the following background transition hasn't yet completed\n\n    if (initialOverflowY === 'hidden' || this._element.classList.contains(CLASS_NAME_STATIC)) {\n      return;\n    }\n\n    if (!isModalOverflowing) {\n      this._element.style.overflowY = 'hidden';\n    }\n\n    this._element.classList.add(CLASS_NAME_STATIC);\n\n    this._queueCallback(() => {\n      this._element.classList.remove(CLASS_NAME_STATIC);\n\n      this._queueCallback(() => {\n        this._element.style.overflowY = initialOverflowY;\n      }, this._dialog);\n    }, this._dialog);\n\n    this._element.focus();\n  }\n  /**\n   * The following methods are used to handle overflowing modals\n   */\n\n\n  _adjustDialog() {\n    const isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;\n\n    const scrollbarWidth = this._scrollBar.getWidth();\n\n    const isBodyOverflowing = scrollbarWidth > 0;\n\n    if (isBodyOverflowing && !isModalOverflowing) {\n      const property = isRTL() ? 'paddingLeft' : 'paddingRight';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n\n    if (!isBodyOverflowing && isModalOverflowing) {\n      const property = isRTL() ? 'paddingRight' : 'paddingLeft';\n      this._element.style[property] = `${scrollbarWidth}px`;\n    }\n  }\n\n  _resetAdjustments() {\n    this._element.style.paddingLeft = '';\n    this._element.style.paddingRight = '';\n  } // Static\n\n\n  static jQueryInterface(config, relatedTarget) {\n    return this.each(function () {\n      const data = Modal.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config](relatedTarget);\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$2, SELECTOR_DATA_TOGGLE$2, function (event) {\n  const target = getElementFromSelector(this);\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n\n  EventHandler.one(target, EVENT_SHOW$4, showEvent => {\n    if (showEvent.defaultPrevented) {\n      // only register focus restorer if modal will actually get shown\n      return;\n    }\n\n    EventHandler.one(target, EVENT_HIDDEN$4, () => {\n      if (isVisible(this)) {\n        this.focus();\n      }\n    });\n  }); // avoid conflict when clicking modal toggler while another one is open\n\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR$1);\n\n  if (alreadyOpen) {\n    Modal.getInstance(alreadyOpen).hide();\n  }\n\n  const data = Modal.getOrCreateInstance(target);\n  data.toggle(this);\n});\nenableDismissTrigger(Modal);\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Modal);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): offcanvas.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$6 = 'offcanvas';\nconst DATA_KEY$3 = 'bs.offcanvas';\nconst EVENT_KEY$3 = `.${DATA_KEY$3}`;\nconst DATA_API_KEY$1 = '.data-api';\nconst EVENT_LOAD_DATA_API$2 = `load${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst ESCAPE_KEY = 'Escape';\nconst CLASS_NAME_SHOW$3 = 'show';\nconst CLASS_NAME_SHOWING$1 = 'showing';\nconst CLASS_NAME_HIDING = 'hiding';\nconst CLASS_NAME_BACKDROP = 'offcanvas-backdrop';\nconst OPEN_SELECTOR = '.offcanvas.show';\nconst EVENT_SHOW$3 = `show${EVENT_KEY$3}`;\nconst EVENT_SHOWN$3 = `shown${EVENT_KEY$3}`;\nconst EVENT_HIDE$3 = `hide${EVENT_KEY$3}`;\nconst EVENT_HIDE_PREVENTED = `hidePrevented${EVENT_KEY$3}`;\nconst EVENT_HIDDEN$3 = `hidden${EVENT_KEY$3}`;\nconst EVENT_RESIZE = `resize${EVENT_KEY$3}`;\nconst EVENT_CLICK_DATA_API$1 = `click${EVENT_KEY$3}${DATA_API_KEY$1}`;\nconst EVENT_KEYDOWN_DISMISS = `keydown.dismiss${EVENT_KEY$3}`;\nconst SELECTOR_DATA_TOGGLE$1 = '[data-bs-toggle=\"offcanvas\"]';\nconst Default$5 = {\n  backdrop: true,\n  keyboard: true,\n  scroll: false\n};\nconst DefaultType$5 = {\n  backdrop: '(boolean|string)',\n  keyboard: 'boolean',\n  scroll: 'boolean'\n};\n/**\n * Class definition\n */\n\nclass Offcanvas extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._isShown = false;\n    this._backdrop = this._initializeBackDrop();\n    this._focustrap = this._initializeFocusTrap();\n\n    this._addEventListeners();\n  } // Getters\n\n\n  static get Default() {\n    return Default$5;\n  }\n\n  static get DefaultType() {\n    return DefaultType$5;\n  }\n\n  static get NAME() {\n    return NAME$6;\n  } // Public\n\n\n  toggle(relatedTarget) {\n    return this._isShown ? this.hide() : this.show(relatedTarget);\n  }\n\n  show(relatedTarget) {\n    if (this._isShown) {\n      return;\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW$3, {\n      relatedTarget\n    });\n\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n\n    this._isShown = true;\n\n    this._backdrop.show();\n\n    if (!this._config.scroll) {\n      new ScrollBarHelper().hide();\n    }\n\n    this._element.setAttribute('aria-modal', true);\n\n    this._element.setAttribute('role', 'dialog');\n\n    this._element.classList.add(CLASS_NAME_SHOWING$1);\n\n    const completeCallBack = () => {\n      if (!this._config.scroll || this._config.backdrop) {\n        this._focustrap.activate();\n      }\n\n      this._element.classList.add(CLASS_NAME_SHOW$3);\n\n      this._element.classList.remove(CLASS_NAME_SHOWING$1);\n\n      EventHandler.trigger(this._element, EVENT_SHOWN$3, {\n        relatedTarget\n      });\n    };\n\n    this._queueCallback(completeCallBack, this._element, true);\n  }\n\n  hide() {\n    if (!this._isShown) {\n      return;\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE$3);\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    this._focustrap.deactivate();\n\n    this._element.blur();\n\n    this._isShown = false;\n\n    this._element.classList.add(CLASS_NAME_HIDING);\n\n    this._backdrop.hide();\n\n    const completeCallback = () => {\n      this._element.classList.remove(CLASS_NAME_SHOW$3, CLASS_NAME_HIDING);\n\n      this._element.removeAttribute('aria-modal');\n\n      this._element.removeAttribute('role');\n\n      if (!this._config.scroll) {\n        new ScrollBarHelper().reset();\n      }\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN$3);\n    };\n\n    this._queueCallback(completeCallback, this._element, true);\n  }\n\n  dispose() {\n    this._backdrop.dispose();\n\n    this._focustrap.deactivate();\n\n    super.dispose();\n  } // Private\n\n\n  _initializeBackDrop() {\n    const clickCallback = () => {\n      if (this._config.backdrop === 'static') {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n        return;\n      }\n\n      this.hide();\n    }; // 'static' option will be translated to true, and booleans will keep their value\n\n\n    const isVisible = Boolean(this._config.backdrop);\n    return new Backdrop({\n      className: CLASS_NAME_BACKDROP,\n      isVisible,\n      isAnimated: true,\n      rootElement: this._element.parentNode,\n      clickCallback: isVisible ? clickCallback : null\n    });\n  }\n\n  _initializeFocusTrap() {\n    return new FocusTrap({\n      trapElement: this._element\n    });\n  }\n\n  _addEventListeners() {\n    EventHandler.on(this._element, EVENT_KEYDOWN_DISMISS, event => {\n      if (event.key !== ESCAPE_KEY) {\n        return;\n      }\n\n      if (!this._config.keyboard) {\n        EventHandler.trigger(this._element, EVENT_HIDE_PREVENTED);\n        return;\n      }\n\n      this.hide();\n    });\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Offcanvas.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config](this);\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE$1, function (event) {\n  const target = getElementFromSelector(this);\n\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n\n  if (isDisabled(this)) {\n    return;\n  }\n\n  EventHandler.one(target, EVENT_HIDDEN$3, () => {\n    // focus on trigger when it is closed\n    if (isVisible(this)) {\n      this.focus();\n    }\n  }); // avoid conflict when clicking a toggler of an offcanvas, while another is open\n\n  const alreadyOpen = SelectorEngine.findOne(OPEN_SELECTOR);\n\n  if (alreadyOpen && alreadyOpen !== target) {\n    Offcanvas.getInstance(alreadyOpen).hide();\n  }\n\n  const data = Offcanvas.getOrCreateInstance(target);\n  data.toggle(this);\n});\nEventHandler.on(window, EVENT_LOAD_DATA_API$2, () => {\n  for (const selector of SelectorEngine.find(OPEN_SELECTOR)) {\n    Offcanvas.getOrCreateInstance(selector).show();\n  }\n});\nEventHandler.on(window, EVENT_RESIZE, () => {\n  for (const element of SelectorEngine.find('[aria-modal][class*=show][class*=offcanvas-]')) {\n    if (getComputedStyle(element).position !== 'fixed') {\n      Offcanvas.getOrCreateInstance(element).hide();\n    }\n  }\n});\nenableDismissTrigger(Offcanvas);\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Offcanvas);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/sanitizer.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\nconst uriAttributes = new Set(['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href']);\nconst ARIA_ATTRIBUTE_PATTERN = /^aria-[\\w-]*$/i;\n/**\n * A pattern that recognizes a commonly useful subset of URLs that are safe.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts\n */\n\nconst SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i;\n/**\n * A pattern that matches safe data URLs. Only matches image, video and audio types.\n *\n * Shout-out to Angular https://github.com/angular/angular/blob/12.2.x/packages/core/src/sanitization/url_sanitizer.ts\n */\n\nconst DATA_URL_PATTERN = /^data:(?:image\\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\\/(?:mpeg|mp4|ogg|webm)|audio\\/(?:mp3|oga|ogg|opus));base64,[\\d+/a-z]+=*$/i;\n\nconst allowedAttribute = (attribute, allowedAttributeList) => {\n  const attributeName = attribute.nodeName.toLowerCase();\n\n  if (allowedAttributeList.includes(attributeName)) {\n    if (uriAttributes.has(attributeName)) {\n      return Boolean(SAFE_URL_PATTERN.test(attribute.nodeValue) || DATA_URL_PATTERN.test(attribute.nodeValue));\n    }\n\n    return true;\n  } // Check if a regular expression validates the attribute.\n\n\n  return allowedAttributeList.filter(attributeRegex => attributeRegex instanceof RegExp).some(regex => regex.test(attributeName));\n};\n\nconst DefaultAllowlist = {\n  // Global attributes allowed on any supplied element below.\n  '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],\n  a: ['target', 'href', 'title', 'rel'],\n  area: [],\n  b: [],\n  br: [],\n  col: [],\n  code: [],\n  div: [],\n  em: [],\n  hr: [],\n  h1: [],\n  h2: [],\n  h3: [],\n  h4: [],\n  h5: [],\n  h6: [],\n  i: [],\n  img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],\n  li: [],\n  ol: [],\n  p: [],\n  pre: [],\n  s: [],\n  small: [],\n  span: [],\n  sub: [],\n  sup: [],\n  strong: [],\n  u: [],\n  ul: []\n};\nfunction sanitizeHtml(unsafeHtml, allowList, sanitizeFunction) {\n  if (!unsafeHtml.length) {\n    return unsafeHtml;\n  }\n\n  if (sanitizeFunction && typeof sanitizeFunction === 'function') {\n    return sanitizeFunction(unsafeHtml);\n  }\n\n  const domParser = new window.DOMParser();\n  const createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');\n  const elements = [].concat(...createdDocument.body.querySelectorAll('*'));\n\n  for (const element of elements) {\n    const elementName = element.nodeName.toLowerCase();\n\n    if (!Object.keys(allowList).includes(elementName)) {\n      element.remove();\n      continue;\n    }\n\n    const attributeList = [].concat(...element.attributes);\n    const allowedAttributes = [].concat(allowList['*'] || [], allowList[elementName] || []);\n\n    for (const attribute of attributeList) {\n      if (!allowedAttribute(attribute, allowedAttributes)) {\n        element.removeAttribute(attribute.nodeName);\n      }\n    }\n  }\n\n  return createdDocument.body.innerHTML;\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): util/template-factory.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$5 = 'TemplateFactory';\nconst Default$4 = {\n  allowList: DefaultAllowlist,\n  content: {},\n  // { selector : text ,  selector2 : text2 , }\n  extraClass: '',\n  html: false,\n  sanitize: true,\n  sanitizeFn: null,\n  template: '<div></div>'\n};\nconst DefaultType$4 = {\n  allowList: 'object',\n  content: 'object',\n  extraClass: '(string|function)',\n  html: 'boolean',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  template: 'string'\n};\nconst DefaultContentType = {\n  entry: '(string|element|function|null)',\n  selector: '(string|element)'\n};\n/**\n * Class definition\n */\n\nclass TemplateFactory extends Config {\n  constructor(config) {\n    super();\n    this._config = this._getConfig(config);\n  } // Getters\n\n\n  static get Default() {\n    return Default$4;\n  }\n\n  static get DefaultType() {\n    return DefaultType$4;\n  }\n\n  static get NAME() {\n    return NAME$5;\n  } // Public\n\n\n  getContent() {\n    return Object.values(this._config.content).map(config => this._resolvePossibleFunction(config)).filter(Boolean);\n  }\n\n  hasContent() {\n    return this.getContent().length > 0;\n  }\n\n  changeContent(content) {\n    this._checkContent(content);\n\n    this._config.content = { ...this._config.content,\n      ...content\n    };\n    return this;\n  }\n\n  toHtml() {\n    const templateWrapper = document.createElement('div');\n    templateWrapper.innerHTML = this._maybeSanitize(this._config.template);\n\n    for (const [selector, text] of Object.entries(this._config.content)) {\n      this._setContent(templateWrapper, text, selector);\n    }\n\n    const template = templateWrapper.children[0];\n\n    const extraClass = this._resolvePossibleFunction(this._config.extraClass);\n\n    if (extraClass) {\n      template.classList.add(...extraClass.split(' '));\n    }\n\n    return template;\n  } // Private\n\n\n  _typeCheckConfig(config) {\n    super._typeCheckConfig(config);\n\n    this._checkContent(config.content);\n  }\n\n  _checkContent(arg) {\n    for (const [selector, content] of Object.entries(arg)) {\n      super._typeCheckConfig({\n        selector,\n        entry: content\n      }, DefaultContentType);\n    }\n  }\n\n  _setContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template);\n\n    if (!templateElement) {\n      return;\n    }\n\n    content = this._resolvePossibleFunction(content);\n\n    if (!content) {\n      templateElement.remove();\n      return;\n    }\n\n    if (isElement(content)) {\n      this._putElementInTemplate(getElement(content), templateElement);\n\n      return;\n    }\n\n    if (this._config.html) {\n      templateElement.innerHTML = this._maybeSanitize(content);\n      return;\n    }\n\n    templateElement.textContent = content;\n  }\n\n  _maybeSanitize(arg) {\n    return this._config.sanitize ? sanitizeHtml(arg, this._config.allowList, this._config.sanitizeFn) : arg;\n  }\n\n  _resolvePossibleFunction(arg) {\n    return typeof arg === 'function' ? arg(this) : arg;\n  }\n\n  _putElementInTemplate(element, templateElement) {\n    if (this._config.html) {\n      templateElement.innerHTML = '';\n      templateElement.append(element);\n      return;\n    }\n\n    templateElement.textContent = element.textContent;\n  }\n\n}\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$4 = 'tooltip';\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn']);\nconst CLASS_NAME_FADE$2 = 'fade';\nconst CLASS_NAME_MODAL = 'modal';\nconst CLASS_NAME_SHOW$2 = 'show';\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner';\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`;\nconst EVENT_MODAL_HIDE = 'hide.bs.modal';\nconst TRIGGER_HOVER = 'hover';\nconst TRIGGER_FOCUS = 'focus';\nconst TRIGGER_CLICK = 'click';\nconst TRIGGER_MANUAL = 'manual';\nconst EVENT_HIDE$2 = 'hide';\nconst EVENT_HIDDEN$2 = 'hidden';\nconst EVENT_SHOW$2 = 'show';\nconst EVENT_SHOWN$2 = 'shown';\nconst EVENT_INSERTED = 'inserted';\nconst EVENT_CLICK$1 = 'click';\nconst EVENT_FOCUSIN$1 = 'focusin';\nconst EVENT_FOCUSOUT$1 = 'focusout';\nconst EVENT_MOUSEENTER = 'mouseenter';\nconst EVENT_MOUSELEAVE = 'mouseleave';\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n};\nconst Default$3 = {\n  allowList: DefaultAllowlist,\n  animation: true,\n  boundary: 'clippingParents',\n  container: false,\n  customClass: '',\n  delay: 0,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  html: false,\n  offset: [0, 0],\n  placement: 'top',\n  popperConfig: null,\n  sanitize: true,\n  sanitizeFn: null,\n  selector: false,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' + '<div class=\"tooltip-arrow\"></div>' + '<div class=\"tooltip-inner\"></div>' + '</div>',\n  title: '',\n  trigger: 'hover focus'\n};\nconst DefaultType$3 = {\n  allowList: 'object',\n  animation: 'boolean',\n  boundary: '(string|element)',\n  container: '(string|element|boolean)',\n  customClass: '(string|function)',\n  delay: '(number|object)',\n  fallbackPlacements: 'array',\n  html: 'boolean',\n  offset: '(array|string|function)',\n  placement: '(string|function)',\n  popperConfig: '(null|object|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  selector: '(string|boolean)',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string'\n};\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)');\n    }\n\n    super(element, config); // Private\n\n    this._isEnabled = true;\n    this._timeout = 0;\n    this._isHovered = null;\n    this._activeTrigger = {};\n    this._popper = null;\n    this._templateFactory = null;\n    this._newContent = null; // Protected\n\n    this.tip = null;\n\n    this._setListeners();\n\n    if (!this._config.selector) {\n      this._fixTitle();\n    }\n  } // Getters\n\n\n  static get Default() {\n    return Default$3;\n  }\n\n  static get DefaultType() {\n    return DefaultType$3;\n  }\n\n  static get NAME() {\n    return NAME$4;\n  } // Public\n\n\n  enable() {\n    this._isEnabled = true;\n  }\n\n  disable() {\n    this._isEnabled = false;\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled;\n  }\n\n  toggle() {\n    if (!this._isEnabled) {\n      return;\n    }\n\n    this._activeTrigger.click = !this._activeTrigger.click;\n\n    if (this._isShown()) {\n      this._leave();\n\n      return;\n    }\n\n    this._enter();\n  }\n\n  dispose() {\n    clearTimeout(this._timeout);\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n\n    if (this._element.getAttribute('data-bs-original-title')) {\n      this._element.setAttribute('title', this._element.getAttribute('data-bs-original-title'));\n    }\n\n    this._disposePopper();\n\n    super.dispose();\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements');\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return;\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOW$2));\n    const shadowRoot = findShadowRoot(this._element);\n\n    const isInTheDom = (shadowRoot || this._element.ownerDocument.documentElement).contains(this._element);\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return;\n    } // todo v6 remove this OR make it optional\n\n\n    this._disposePopper();\n\n    const tip = this._getTipElement();\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'));\n\n    const {\n      container\n    } = this._config;\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip);\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_INSERTED));\n    }\n\n    this._popper = this._createPopper(tip);\n    tip.classList.add(CLASS_NAME_SHOW$2); // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop);\n      }\n    }\n\n    const complete = () => {\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_SHOWN$2));\n\n      if (this._isHovered === false) {\n        this._leave();\n      }\n\n      this._isHovered = false;\n    };\n\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n\n  hide() {\n    if (!this._isShown()) {\n      return;\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDE$2));\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    const tip = this._getTipElement();\n\n    tip.classList.remove(CLASS_NAME_SHOW$2); // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop);\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false;\n    this._activeTrigger[TRIGGER_FOCUS] = false;\n    this._activeTrigger[TRIGGER_HOVER] = false;\n    this._isHovered = null; // it is a trick to support manual triggering\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return;\n      }\n\n      if (!this._isHovered) {\n        this._disposePopper();\n      }\n\n      this._element.removeAttribute('aria-describedby');\n\n      EventHandler.trigger(this._element, this.constructor.eventName(EVENT_HIDDEN$2));\n    };\n\n    this._queueCallback(complete, this.tip, this._isAnimated());\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update();\n    }\n  } // Protected\n\n\n  _isWithContent() {\n    return Boolean(this._getTitle());\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._newContent || this._getContentForTemplate());\n    }\n\n    return this.tip;\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml(); // todo: remove this check on v6\n\n\n    if (!tip) {\n      return null;\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE$2, CLASS_NAME_SHOW$2); // todo: on v6 the following can be achieved with CSS only\n\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`);\n    const tipId = getUID(this.constructor.NAME).toString();\n    tip.setAttribute('id', tipId);\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE$2);\n    }\n\n    return tip;\n  }\n\n  setContent(content) {\n    this._newContent = content;\n\n    if (this._isShown()) {\n      this._disposePopper();\n\n      this.show();\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content);\n    } else {\n      this._templateFactory = new TemplateFactory({ ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      });\n    }\n\n    return this._templateFactory;\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    };\n  }\n\n  _getTitle() {\n    return this._resolvePossibleFunction(this._config.title) || this._element.getAttribute('data-bs-original-title');\n  } // Private\n\n\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig());\n  }\n\n  _isAnimated() {\n    return this._config.animation || this.tip && this.tip.classList.contains(CLASS_NAME_FADE$2);\n  }\n\n  _isShown() {\n    return this.tip && this.tip.classList.contains(CLASS_NAME_SHOW$2);\n  }\n\n  _createPopper(tip) {\n    const placement = typeof this._config.placement === 'function' ? this._config.placement.call(this, tip, this._element) : this._config.placement;\n    const attachment = AttachmentMap[placement.toUpperCase()];\n    return Popper.createPopper(this._element, tip, this._getPopperConfig(attachment));\n  }\n\n  _getOffset() {\n    const {\n      offset\n    } = this._config;\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10));\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element);\n    }\n\n    return offset;\n  }\n\n  _resolvePossibleFunction(arg) {\n    return typeof arg === 'function' ? arg.call(this._element) : arg;\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [{\n        name: 'flip',\n        options: {\n          fallbackPlacements: this._config.fallbackPlacements\n        }\n      }, {\n        name: 'offset',\n        options: {\n          offset: this._getOffset()\n        }\n      }, {\n        name: 'preventOverflow',\n        options: {\n          boundary: this._config.boundary\n        }\n      }, {\n        name: 'arrow',\n        options: {\n          element: `.${this.constructor.NAME}-arrow`\n        }\n      }, {\n        name: 'preSetPlacement',\n        enabled: true,\n        phase: 'beforeMain',\n        fn: data => {\n          // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n          // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n          this._getTipElement().setAttribute('data-popper-placement', data.state.placement);\n        }\n      }]\n    };\n    return { ...defaultBsPopperConfig,\n      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)\n    };\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ');\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.eventName(EVENT_CLICK$1), this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n\n          context.toggle();\n        });\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSEENTER) : this.constructor.eventName(EVENT_FOCUSIN$1);\n        const eventOut = trigger === TRIGGER_HOVER ? this.constructor.eventName(EVENT_MOUSELEAVE) : this.constructor.eventName(EVENT_FOCUSOUT$1);\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;\n\n          context._enter();\n        });\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event);\n\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = context._element.contains(event.relatedTarget);\n\n          context._leave();\n        });\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide();\n      }\n    };\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler);\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title');\n\n    if (!title) {\n      return;\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent.trim()) {\n      this._element.setAttribute('aria-label', title);\n    }\n\n    this._element.setAttribute('data-bs-original-title', title); // DO NOT USE IT. Is only for backwards compatibility\n\n\n    this._element.removeAttribute('title');\n  }\n\n  _enter() {\n    if (this._isShown() || this._isHovered) {\n      this._isHovered = true;\n      return;\n    }\n\n    this._isHovered = true;\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show();\n      }\n    }, this._config.delay.show);\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return;\n    }\n\n    this._isHovered = false;\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide();\n      }\n    }, this._config.delay.hide);\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout);\n    this._timeout = setTimeout(handler, timeout);\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true);\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element);\n\n    for (const dataAttribute of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttribute)) {\n        delete dataAttributes[dataAttribute];\n      }\n    }\n\n    config = { ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    };\n    config = this._mergeConfigObj(config);\n    config = this._configAfterMerge(config);\n\n    this._typeCheckConfig(config);\n\n    return config;\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container);\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      };\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString();\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString();\n    }\n\n    return config;\n  }\n\n  _getDelegateConfig() {\n    const config = {};\n\n    for (const key in this._config) {\n      if (this.constructor.Default[key] !== this._config[key]) {\n        config[key] = this._config[key];\n      }\n    }\n\n    config.selector = false;\n    config.trigger = 'manual'; // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n\n    return config;\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy();\n\n      this._popper = null;\n    }\n\n    if (this.tip) {\n      this.tip.remove();\n      this.tip = null;\n    }\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config]();\n    });\n  }\n\n}\n/**\n * jQuery\n */\n\n\ndefineJQueryPlugin(Tooltip);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$3 = 'popover';\nconst SELECTOR_TITLE = '.popover-header';\nconst SELECTOR_CONTENT = '.popover-body';\nconst Default$2 = { ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' + '<div class=\"popover-arrow\"></div>' + '<h3 class=\"popover-header\"></h3>' + '<div class=\"popover-body\"></div>' + '</div>',\n  trigger: 'click'\n};\nconst DefaultType$2 = { ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n};\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default$2;\n  }\n\n  static get DefaultType() {\n    return DefaultType$2;\n  }\n\n  static get NAME() {\n    return NAME$3;\n  } // Overrides\n\n\n  _isWithContent() {\n    return this._getTitle() || this._getContent();\n  } // Private\n\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    };\n  }\n\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content);\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Popover.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config]();\n    });\n  }\n\n}\n/**\n * jQuery\n */\n\n\ndefineJQueryPlugin(Popover);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): scrollspy.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$2 = 'scrollspy';\nconst DATA_KEY$2 = 'bs.scrollspy';\nconst EVENT_KEY$2 = `.${DATA_KEY$2}`;\nconst DATA_API_KEY = '.data-api';\nconst EVENT_ACTIVATE = `activate${EVENT_KEY$2}`;\nconst EVENT_CLICK = `click${EVENT_KEY$2}`;\nconst EVENT_LOAD_DATA_API$1 = `load${EVENT_KEY$2}${DATA_API_KEY}`;\nconst CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';\nconst CLASS_NAME_ACTIVE$1 = 'active';\nconst SELECTOR_DATA_SPY = '[data-bs-spy=\"scroll\"]';\nconst SELECTOR_TARGET_LINKS = '[href]';\nconst SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';\nconst SELECTOR_NAV_LINKS = '.nav-link';\nconst SELECTOR_NAV_ITEMS = '.nav-item';\nconst SELECTOR_LIST_ITEMS = '.list-group-item';\nconst SELECTOR_LINK_ITEMS = `${SELECTOR_NAV_LINKS}, ${SELECTOR_NAV_ITEMS} > ${SELECTOR_NAV_LINKS}, ${SELECTOR_LIST_ITEMS}`;\nconst SELECTOR_DROPDOWN = '.dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';\nconst Default$1 = {\n  offset: null,\n  // TODO: v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: '0px 0px -25%',\n  smoothScroll: false,\n  target: null,\n  threshold: [0.1, 0.5, 1]\n};\nconst DefaultType$1 = {\n  offset: '(number|null)',\n  // TODO v6 @deprecated, keep it for backwards compatibility reasons\n  rootMargin: 'string',\n  smoothScroll: 'boolean',\n  target: 'element',\n  threshold: 'array'\n};\n/**\n * Class definition\n */\n\nclass ScrollSpy extends BaseComponent {\n  constructor(element, config) {\n    super(element, config); // this._element is the observablesContainer and config.target the menu links wrapper\n\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    this._rootElement = getComputedStyle(this._element).overflowY === 'visible' ? null : this._element;\n    this._activeTarget = null;\n    this._observer = null;\n    this._previousScrollData = {\n      visibleEntryTop: 0,\n      parentScrollTop: 0\n    };\n    this.refresh(); // initialize\n  } // Getters\n\n\n  static get Default() {\n    return Default$1;\n  }\n\n  static get DefaultType() {\n    return DefaultType$1;\n  }\n\n  static get NAME() {\n    return NAME$2;\n  } // Public\n\n\n  refresh() {\n    this._initializeTargetsAndObservables();\n\n    this._maybeEnableSmoothScroll();\n\n    if (this._observer) {\n      this._observer.disconnect();\n    } else {\n      this._observer = this._getNewObserver();\n    }\n\n    for (const section of this._observableSections.values()) {\n      this._observer.observe(section);\n    }\n  }\n\n  dispose() {\n    this._observer.disconnect();\n\n    super.dispose();\n  } // Private\n\n\n  _configAfterMerge(config) {\n    // TODO: on v6 target should be given explicitly & remove the {target: 'ss-target'} case\n    config.target = getElement(config.target) || document.body; // TODO: v6 Only for backwards compatibility reasons. Use rootMargin only\n\n    config.rootMargin = config.offset ? `${config.offset}px 0px -30%` : config.rootMargin;\n\n    if (typeof config.threshold === 'string') {\n      config.threshold = config.threshold.split(',').map(value => Number.parseFloat(value));\n    }\n\n    return config;\n  }\n\n  _maybeEnableSmoothScroll() {\n    if (!this._config.smoothScroll) {\n      return;\n    } // unregister any previous listeners\n\n\n    EventHandler.off(this._config.target, EVENT_CLICK);\n    EventHandler.on(this._config.target, EVENT_CLICK, SELECTOR_TARGET_LINKS, event => {\n      const observableSection = this._observableSections.get(event.target.hash);\n\n      if (observableSection) {\n        event.preventDefault();\n        const root = this._rootElement || window;\n        const height = observableSection.offsetTop - this._element.offsetTop;\n\n        if (root.scrollTo) {\n          root.scrollTo({\n            top: height,\n            behavior: 'smooth'\n          });\n          return;\n        } // Chrome 60 doesn't support `scrollTo`\n\n\n        root.scrollTop = height;\n      }\n    });\n  }\n\n  _getNewObserver() {\n    const options = {\n      root: this._rootElement,\n      threshold: this._config.threshold,\n      rootMargin: this._config.rootMargin\n    };\n    return new IntersectionObserver(entries => this._observerCallback(entries), options);\n  } // The logic of selection\n\n\n  _observerCallback(entries) {\n    const targetElement = entry => this._targetLinks.get(`#${entry.target.id}`);\n\n    const activate = entry => {\n      this._previousScrollData.visibleEntryTop = entry.target.offsetTop;\n\n      this._process(targetElement(entry));\n    };\n\n    const parentScrollTop = (this._rootElement || document.documentElement).scrollTop;\n    const userScrollsDown = parentScrollTop >= this._previousScrollData.parentScrollTop;\n    this._previousScrollData.parentScrollTop = parentScrollTop;\n\n    for (const entry of entries) {\n      if (!entry.isIntersecting) {\n        this._activeTarget = null;\n\n        this._clearActiveClass(targetElement(entry));\n\n        continue;\n      }\n\n      const entryIsLowerThanPrevious = entry.target.offsetTop >= this._previousScrollData.visibleEntryTop; // if we are scrolling down, pick the bigger offsetTop\n\n      if (userScrollsDown && entryIsLowerThanPrevious) {\n        activate(entry); // if parent isn't scrolled, let's keep the first visible item, breaking the iteration\n\n        if (!parentScrollTop) {\n          return;\n        }\n\n        continue;\n      } // if we are scrolling up, pick the smallest offsetTop\n\n\n      if (!userScrollsDown && !entryIsLowerThanPrevious) {\n        activate(entry);\n      }\n    }\n  }\n\n  _initializeTargetsAndObservables() {\n    this._targetLinks = new Map();\n    this._observableSections = new Map();\n    const targetLinks = SelectorEngine.find(SELECTOR_TARGET_LINKS, this._config.target);\n\n    for (const anchor of targetLinks) {\n      // ensure that the anchor has an id and is not disabled\n      if (!anchor.hash || isDisabled(anchor)) {\n        continue;\n      }\n\n      const observableSection = SelectorEngine.findOne(anchor.hash, this._element); // ensure that the observableSection exists & is visible\n\n      if (isVisible(observableSection)) {\n        this._targetLinks.set(anchor.hash, anchor);\n\n        this._observableSections.set(anchor.hash, observableSection);\n      }\n    }\n  }\n\n  _process(target) {\n    if (this._activeTarget === target) {\n      return;\n    }\n\n    this._clearActiveClass(this._config.target);\n\n    this._activeTarget = target;\n    target.classList.add(CLASS_NAME_ACTIVE$1);\n\n    this._activateParents(target);\n\n    EventHandler.trigger(this._element, EVENT_ACTIVATE, {\n      relatedTarget: target\n    });\n  }\n\n  _activateParents(target) {\n    // Activate dropdown parents\n    if (target.classList.contains(CLASS_NAME_DROPDOWN_ITEM)) {\n      SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1, target.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);\n      return;\n    }\n\n    for (const listGroup of SelectorEngine.parents(target, SELECTOR_NAV_LIST_GROUP)) {\n      // Set triggered links parents as active\n      // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor\n      for (const item of SelectorEngine.prev(listGroup, SELECTOR_LINK_ITEMS)) {\n        item.classList.add(CLASS_NAME_ACTIVE$1);\n      }\n    }\n  }\n\n  _clearActiveClass(parent) {\n    parent.classList.remove(CLASS_NAME_ACTIVE$1);\n    const activeNodes = SelectorEngine.find(`${SELECTOR_TARGET_LINKS}.${CLASS_NAME_ACTIVE$1}`, parent);\n\n    for (const node of activeNodes) {\n      node.classList.remove(CLASS_NAME_ACTIVE$1);\n    }\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = ScrollSpy.getOrCreateInstance(this, config);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config]();\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(window, EVENT_LOAD_DATA_API$1, () => {\n  for (const spy of SelectorEngine.find(SELECTOR_DATA_SPY)) {\n    ScrollSpy.getOrCreateInstance(spy);\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(ScrollSpy);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): tab.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME$1 = 'tab';\nconst DATA_KEY$1 = 'bs.tab';\nconst EVENT_KEY$1 = `.${DATA_KEY$1}`;\nconst EVENT_HIDE$1 = `hide${EVENT_KEY$1}`;\nconst EVENT_HIDDEN$1 = `hidden${EVENT_KEY$1}`;\nconst EVENT_SHOW$1 = `show${EVENT_KEY$1}`;\nconst EVENT_SHOWN$1 = `shown${EVENT_KEY$1}`;\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY$1}`;\nconst EVENT_KEYDOWN = `keydown${EVENT_KEY$1}`;\nconst EVENT_LOAD_DATA_API = `load${EVENT_KEY$1}`;\nconst ARROW_LEFT_KEY = 'ArrowLeft';\nconst ARROW_RIGHT_KEY = 'ArrowRight';\nconst ARROW_UP_KEY = 'ArrowUp';\nconst ARROW_DOWN_KEY = 'ArrowDown';\nconst CLASS_NAME_ACTIVE = 'active';\nconst CLASS_NAME_FADE$1 = 'fade';\nconst CLASS_NAME_SHOW$1 = 'show';\nconst CLASS_DROPDOWN = 'dropdown';\nconst SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';\nconst SELECTOR_DROPDOWN_MENU = '.dropdown-menu';\nconst NOT_SELECTOR_DROPDOWN_TOGGLE = ':not(.dropdown-toggle)';\nconst SELECTOR_TAB_PANEL = '.list-group, .nav, [role=\"tablist\"]';\nconst SELECTOR_OUTER = '.nav-item, .list-group-item';\nconst SELECTOR_INNER = `.nav-link${NOT_SELECTOR_DROPDOWN_TOGGLE}, .list-group-item${NOT_SELECTOR_DROPDOWN_TOGGLE}, [role=\"tab\"]${NOT_SELECTOR_DROPDOWN_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"tab\"], [data-bs-toggle=\"pill\"], [data-bs-toggle=\"list\"]'; // todo:v6: could be only `tab`\n\nconst SELECTOR_INNER_ELEM = `${SELECTOR_INNER}, ${SELECTOR_DATA_TOGGLE}`;\nconst SELECTOR_DATA_TOGGLE_ACTIVE = `.${CLASS_NAME_ACTIVE}[data-bs-toggle=\"tab\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"pill\"], .${CLASS_NAME_ACTIVE}[data-bs-toggle=\"list\"]`;\n/**\n * Class definition\n */\n\nclass Tab extends BaseComponent {\n  constructor(element) {\n    super(element);\n    this._parent = this._element.closest(SELECTOR_TAB_PANEL);\n\n    if (!this._parent) {\n      return; // todo: should Throw exception on v6\n      // throw new TypeError(`${element.outerHTML} has not a valid parent ${SELECTOR_INNER_ELEM}`)\n    } // Set up initial aria attributes\n\n\n    this._setInitialAttributes(this._parent, this._getChildren());\n\n    EventHandler.on(this._element, EVENT_KEYDOWN, event => this._keydown(event));\n  } // Getters\n\n\n  static get NAME() {\n    return NAME$1;\n  } // Public\n\n\n  show() {\n    // Shows this elem and deactivate the active sibling if exists\n    const innerElem = this._element;\n\n    if (this._elemIsActive(innerElem)) {\n      return;\n    } // Search for active tab on same parent to deactivate it\n\n\n    const active = this._getActiveElem();\n\n    const hideEvent = active ? EventHandler.trigger(active, EVENT_HIDE$1, {\n      relatedTarget: innerElem\n    }) : null;\n    const showEvent = EventHandler.trigger(innerElem, EVENT_SHOW$1, {\n      relatedTarget: active\n    });\n\n    if (showEvent.defaultPrevented || hideEvent && hideEvent.defaultPrevented) {\n      return;\n    }\n\n    this._deactivate(active, innerElem);\n\n    this._activate(innerElem, active);\n  } // Private\n\n\n  _activate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n\n    element.classList.add(CLASS_NAME_ACTIVE);\n\n    this._activate(getElementFromSelector(element)); // Search and activate/show the proper section\n\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.add(CLASS_NAME_SHOW$1);\n        return;\n      }\n\n      element.removeAttribute('tabindex');\n      element.setAttribute('aria-selected', true);\n\n      this._toggleDropDown(element, true);\n\n      EventHandler.trigger(element, EVENT_SHOWN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n\n  _deactivate(element, relatedElem) {\n    if (!element) {\n      return;\n    }\n\n    element.classList.remove(CLASS_NAME_ACTIVE);\n    element.blur();\n\n    this._deactivate(getElementFromSelector(element)); // Search and deactivate the shown section too\n\n\n    const complete = () => {\n      if (element.getAttribute('role') !== 'tab') {\n        element.classList.remove(CLASS_NAME_SHOW$1);\n        return;\n      }\n\n      element.setAttribute('aria-selected', false);\n      element.setAttribute('tabindex', '-1');\n\n      this._toggleDropDown(element, false);\n\n      EventHandler.trigger(element, EVENT_HIDDEN$1, {\n        relatedTarget: relatedElem\n      });\n    };\n\n    this._queueCallback(complete, element, element.classList.contains(CLASS_NAME_FADE$1));\n  }\n\n  _keydown(event) {\n    if (![ARROW_LEFT_KEY, ARROW_RIGHT_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)) {\n      return;\n    }\n\n    event.stopPropagation(); // stopPropagation/preventDefault both added to support up/down keys without scrolling the page\n\n    event.preventDefault();\n    const isNext = [ARROW_RIGHT_KEY, ARROW_DOWN_KEY].includes(event.key);\n    const nextActiveElement = getNextActiveElement(this._getChildren().filter(element => !isDisabled(element)), event.target, isNext, true);\n\n    if (nextActiveElement) {\n      nextActiveElement.focus({\n        preventScroll: true\n      });\n      Tab.getOrCreateInstance(nextActiveElement).show();\n    }\n  }\n\n  _getChildren() {\n    // collection of inner elements\n    return SelectorEngine.find(SELECTOR_INNER_ELEM, this._parent);\n  }\n\n  _getActiveElem() {\n    return this._getChildren().find(child => this._elemIsActive(child)) || null;\n  }\n\n  _setInitialAttributes(parent, children) {\n    this._setAttributeIfNotExists(parent, 'role', 'tablist');\n\n    for (const child of children) {\n      this._setInitialAttributesOnChild(child);\n    }\n  }\n\n  _setInitialAttributesOnChild(child) {\n    child = this._getInnerElement(child);\n\n    const isActive = this._elemIsActive(child);\n\n    const outerElem = this._getOuterElement(child);\n\n    child.setAttribute('aria-selected', isActive);\n\n    if (outerElem !== child) {\n      this._setAttributeIfNotExists(outerElem, 'role', 'presentation');\n    }\n\n    if (!isActive) {\n      child.setAttribute('tabindex', '-1');\n    }\n\n    this._setAttributeIfNotExists(child, 'role', 'tab'); // set attributes to the related panel too\n\n\n    this._setInitialAttributesOnTargetPanel(child);\n  }\n\n  _setInitialAttributesOnTargetPanel(child) {\n    const target = getElementFromSelector(child);\n\n    if (!target) {\n      return;\n    }\n\n    this._setAttributeIfNotExists(target, 'role', 'tabpanel');\n\n    if (child.id) {\n      this._setAttributeIfNotExists(target, 'aria-labelledby', `#${child.id}`);\n    }\n  }\n\n  _toggleDropDown(element, open) {\n    const outerElem = this._getOuterElement(element);\n\n    if (!outerElem.classList.contains(CLASS_DROPDOWN)) {\n      return;\n    }\n\n    const toggle = (selector, className) => {\n      const element = SelectorEngine.findOne(selector, outerElem);\n\n      if (element) {\n        element.classList.toggle(className, open);\n      }\n    };\n\n    toggle(SELECTOR_DROPDOWN_TOGGLE, CLASS_NAME_ACTIVE);\n    toggle(SELECTOR_DROPDOWN_MENU, CLASS_NAME_SHOW$1);\n    outerElem.setAttribute('aria-expanded', open);\n  }\n\n  _setAttributeIfNotExists(element, attribute, value) {\n    if (!element.hasAttribute(attribute)) {\n      element.setAttribute(attribute, value);\n    }\n  }\n\n  _elemIsActive(elem) {\n    return elem.classList.contains(CLASS_NAME_ACTIVE);\n  } // Try to get the inner element (usually the .nav-link)\n\n\n  _getInnerElement(elem) {\n    return elem.matches(SELECTOR_INNER_ELEM) ? elem : SelectorEngine.findOne(SELECTOR_INNER_ELEM, elem);\n  } // Try to get the outer element (usually the .nav-item)\n\n\n  _getOuterElement(elem) {\n    return elem.closest(SELECTOR_OUTER) || elem;\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tab.getOrCreateInstance(this);\n\n      if (typeof config !== 'string') {\n        return;\n      }\n\n      if (data[config] === undefined || config.startsWith('_') || config === 'constructor') {\n        throw new TypeError(`No method named \"${config}\"`);\n      }\n\n      data[config]();\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  if (['A', 'AREA'].includes(this.tagName)) {\n    event.preventDefault();\n  }\n\n  if (isDisabled(this)) {\n    return;\n  }\n\n  Tab.getOrCreateInstance(this).show();\n});\n/**\n * Initialize on focus\n */\n\nEventHandler.on(window, EVENT_LOAD_DATA_API, () => {\n  for (const element of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE)) {\n    Tab.getOrCreateInstance(element);\n  }\n});\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tab);\n\n/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.2.3): toast.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n/**\n * Constants\n */\n\nconst NAME = 'toast';\nconst DATA_KEY = 'bs.toast';\nconst EVENT_KEY = `.${DATA_KEY}`;\nconst EVENT_MOUSEOVER = `mouseover${EVENT_KEY}`;\nconst EVENT_MOUSEOUT = `mouseout${EVENT_KEY}`;\nconst EVENT_FOCUSIN = `focusin${EVENT_KEY}`;\nconst EVENT_FOCUSOUT = `focusout${EVENT_KEY}`;\nconst EVENT_HIDE = `hide${EVENT_KEY}`;\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`;\nconst EVENT_SHOW = `show${EVENT_KEY}`;\nconst EVENT_SHOWN = `shown${EVENT_KEY}`;\nconst CLASS_NAME_FADE = 'fade';\nconst CLASS_NAME_HIDE = 'hide'; // @deprecated - kept here only for backwards compatibility\n\nconst CLASS_NAME_SHOW = 'show';\nconst CLASS_NAME_SHOWING = 'showing';\nconst DefaultType = {\n  animation: 'boolean',\n  autohide: 'boolean',\n  delay: 'number'\n};\nconst Default = {\n  animation: true,\n  autohide: true,\n  delay: 5000\n};\n/**\n * Class definition\n */\n\nclass Toast extends BaseComponent {\n  constructor(element, config) {\n    super(element, config);\n    this._timeout = null;\n    this._hasMouseInteraction = false;\n    this._hasKeyboardInteraction = false;\n\n    this._setListeners();\n  } // Getters\n\n\n  static get Default() {\n    return Default;\n  }\n\n  static get DefaultType() {\n    return DefaultType;\n  }\n\n  static get NAME() {\n    return NAME;\n  } // Public\n\n\n  show() {\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW);\n\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n\n    this._clearTimeout();\n\n    if (this._config.animation) {\n      this._element.classList.add(CLASS_NAME_FADE);\n    }\n\n    const complete = () => {\n      this._element.classList.remove(CLASS_NAME_SHOWING);\n\n      EventHandler.trigger(this._element, EVENT_SHOWN);\n\n      this._maybeScheduleHide();\n    };\n\n    this._element.classList.remove(CLASS_NAME_HIDE); // @deprecated\n\n\n    reflow(this._element);\n\n    this._element.classList.add(CLASS_NAME_SHOW, CLASS_NAME_SHOWING);\n\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n\n  hide() {\n    if (!this.isShown()) {\n      return;\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE);\n\n    if (hideEvent.defaultPrevented) {\n      return;\n    }\n\n    const complete = () => {\n      this._element.classList.add(CLASS_NAME_HIDE); // @deprecated\n\n\n      this._element.classList.remove(CLASS_NAME_SHOWING, CLASS_NAME_SHOW);\n\n      EventHandler.trigger(this._element, EVENT_HIDDEN);\n    };\n\n    this._element.classList.add(CLASS_NAME_SHOWING);\n\n    this._queueCallback(complete, this._element, this._config.animation);\n  }\n\n  dispose() {\n    this._clearTimeout();\n\n    if (this.isShown()) {\n      this._element.classList.remove(CLASS_NAME_SHOW);\n    }\n\n    super.dispose();\n  }\n\n  isShown() {\n    return this._element.classList.contains(CLASS_NAME_SHOW);\n  } // Private\n\n\n  _maybeScheduleHide() {\n    if (!this._config.autohide) {\n      return;\n    }\n\n    if (this._hasMouseInteraction || this._hasKeyboardInteraction) {\n      return;\n    }\n\n    this._timeout = setTimeout(() => {\n      this.hide();\n    }, this._config.delay);\n  }\n\n  _onInteraction(event, isInteracting) {\n    switch (event.type) {\n      case 'mouseover':\n      case 'mouseout':\n        {\n          this._hasMouseInteraction = isInteracting;\n          break;\n        }\n\n      case 'focusin':\n      case 'focusout':\n        {\n          this._hasKeyboardInteraction = isInteracting;\n          break;\n        }\n    }\n\n    if (isInteracting) {\n      this._clearTimeout();\n\n      return;\n    }\n\n    const nextElement = event.relatedTarget;\n\n    if (this._element === nextElement || this._element.contains(nextElement)) {\n      return;\n    }\n\n    this._maybeScheduleHide();\n  }\n\n  _setListeners() {\n    EventHandler.on(this._element, EVENT_MOUSEOVER, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_MOUSEOUT, event => this._onInteraction(event, false));\n    EventHandler.on(this._element, EVENT_FOCUSIN, event => this._onInteraction(event, true));\n    EventHandler.on(this._element, EVENT_FOCUSOUT, event => this._onInteraction(event, false));\n  }\n\n  _clearTimeout() {\n    clearTimeout(this._timeout);\n    this._timeout = null;\n  } // Static\n\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Toast.getOrCreateInstance(this, config);\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`);\n        }\n\n        data[config](this);\n      }\n    });\n  }\n\n}\n/**\n * Data API implementation\n */\n\n\nenableDismissTrigger(Toast);\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Toast);\n\nexport { Alert, Button, Carousel, Collapse, Dropdown, Modal, Offcanvas, Popover, ScrollSpy, Tab, Toast, Tooltip };\n//# sourceMappingURL=bootstrap.esm.js.map\n","// packages/alpinejs/src/scheduler.js\nvar flushPending = false;\nvar flushing = false;\nvar queue = [];\nfunction scheduler(callback) {\n  queueJob(callback);\n}\nfunction queueJob(job) {\n  if (!queue.includes(job))\n    queue.push(job);\n  queueFlush();\n}\nfunction dequeueJob(job) {\n  let index = queue.indexOf(job);\n  if (index !== -1)\n    queue.splice(index, 1);\n}\nfunction queueFlush() {\n  if (!flushing && !flushPending) {\n    flushPending = true;\n    queueMicrotask(flushJobs);\n  }\n}\nfunction flushJobs() {\n  flushPending = false;\n  flushing = true;\n  for (let i = 0; i < queue.length; i++) {\n    queue[i]();\n  }\n  queue.length = 0;\n  flushing = false;\n}\n\n// packages/alpinejs/src/reactivity.js\nvar reactive;\nvar effect;\nvar release;\nvar raw;\nvar shouldSchedule = true;\nfunction disableEffectScheduling(callback) {\n  shouldSchedule = false;\n  callback();\n  shouldSchedule = true;\n}\nfunction setReactivityEngine(engine) {\n  reactive = engine.reactive;\n  release = engine.release;\n  effect = (callback) => engine.effect(callback, {scheduler: (task) => {\n    if (shouldSchedule) {\n      scheduler(task);\n    } else {\n      task();\n    }\n  }});\n  raw = engine.raw;\n}\nfunction overrideEffect(override) {\n  effect = override;\n}\nfunction elementBoundEffect(el) {\n  let cleanup2 = () => {\n  };\n  let wrappedEffect = (callback) => {\n    let effectReference = effect(callback);\n    if (!el._x_effects) {\n      el._x_effects = new Set();\n      el._x_runEffects = () => {\n        el._x_effects.forEach((i) => i());\n      };\n    }\n    el._x_effects.add(effectReference);\n    cleanup2 = () => {\n      if (effectReference === void 0)\n        return;\n      el._x_effects.delete(effectReference);\n      release(effectReference);\n    };\n    return effectReference;\n  };\n  return [wrappedEffect, () => {\n    cleanup2();\n  }];\n}\n\n// packages/alpinejs/src/mutation.js\nvar onAttributeAddeds = [];\nvar onElRemoveds = [];\nvar onElAddeds = [];\nfunction onElAdded(callback) {\n  onElAddeds.push(callback);\n}\nfunction onElRemoved(el, callback) {\n  if (typeof callback === \"function\") {\n    if (!el._x_cleanups)\n      el._x_cleanups = [];\n    el._x_cleanups.push(callback);\n  } else {\n    callback = el;\n    onElRemoveds.push(callback);\n  }\n}\nfunction onAttributesAdded(callback) {\n  onAttributeAddeds.push(callback);\n}\nfunction onAttributeRemoved(el, name, callback) {\n  if (!el._x_attributeCleanups)\n    el._x_attributeCleanups = {};\n  if (!el._x_attributeCleanups[name])\n    el._x_attributeCleanups[name] = [];\n  el._x_attributeCleanups[name].push(callback);\n}\nfunction cleanupAttributes(el, names) {\n  if (!el._x_attributeCleanups)\n    return;\n  Object.entries(el._x_attributeCleanups).forEach(([name, value]) => {\n    if (names === void 0 || names.includes(name)) {\n      value.forEach((i) => i());\n      delete el._x_attributeCleanups[name];\n    }\n  });\n}\nvar observer = new MutationObserver(onMutate);\nvar currentlyObserving = false;\nfunction startObservingMutations() {\n  observer.observe(document, {subtree: true, childList: true, attributes: true, attributeOldValue: true});\n  currentlyObserving = true;\n}\nfunction stopObservingMutations() {\n  flushObserver();\n  observer.disconnect();\n  currentlyObserving = false;\n}\nvar recordQueue = [];\nvar willProcessRecordQueue = false;\nfunction flushObserver() {\n  recordQueue = recordQueue.concat(observer.takeRecords());\n  if (recordQueue.length && !willProcessRecordQueue) {\n    willProcessRecordQueue = true;\n    queueMicrotask(() => {\n      processRecordQueue();\n      willProcessRecordQueue = false;\n    });\n  }\n}\nfunction processRecordQueue() {\n  onMutate(recordQueue);\n  recordQueue.length = 0;\n}\nfunction mutateDom(callback) {\n  if (!currentlyObserving)\n    return callback();\n  stopObservingMutations();\n  let result = callback();\n  startObservingMutations();\n  return result;\n}\nvar isCollecting = false;\nvar deferredMutations = [];\nfunction deferMutations() {\n  isCollecting = true;\n}\nfunction flushAndStopDeferringMutations() {\n  isCollecting = false;\n  onMutate(deferredMutations);\n  deferredMutations = [];\n}\nfunction onMutate(mutations) {\n  if (isCollecting) {\n    deferredMutations = deferredMutations.concat(mutations);\n    return;\n  }\n  let addedNodes = [];\n  let removedNodes = [];\n  let addedAttributes = new Map();\n  let removedAttributes = new Map();\n  for (let i = 0; i < mutations.length; i++) {\n    if (mutations[i].target._x_ignoreMutationObserver)\n      continue;\n    if (mutations[i].type === \"childList\") {\n      mutations[i].addedNodes.forEach((node) => node.nodeType === 1 && addedNodes.push(node));\n      mutations[i].removedNodes.forEach((node) => node.nodeType === 1 && removedNodes.push(node));\n    }\n    if (mutations[i].type === \"attributes\") {\n      let el = mutations[i].target;\n      let name = mutations[i].attributeName;\n      let oldValue = mutations[i].oldValue;\n      let add2 = () => {\n        if (!addedAttributes.has(el))\n          addedAttributes.set(el, []);\n        addedAttributes.get(el).push({name, value: el.getAttribute(name)});\n      };\n      let remove = () => {\n        if (!removedAttributes.has(el))\n          removedAttributes.set(el, []);\n        removedAttributes.get(el).push(name);\n      };\n      if (el.hasAttribute(name) && oldValue === null) {\n        add2();\n      } else if (el.hasAttribute(name)) {\n        remove();\n        add2();\n      } else {\n        remove();\n      }\n    }\n  }\n  removedAttributes.forEach((attrs, el) => {\n    cleanupAttributes(el, attrs);\n  });\n  addedAttributes.forEach((attrs, el) => {\n    onAttributeAddeds.forEach((i) => i(el, attrs));\n  });\n  for (let node of removedNodes) {\n    if (addedNodes.includes(node))\n      continue;\n    onElRemoveds.forEach((i) => i(node));\n    if (node._x_cleanups) {\n      while (node._x_cleanups.length)\n        node._x_cleanups.pop()();\n    }\n  }\n  addedNodes.forEach((node) => {\n    node._x_ignoreSelf = true;\n    node._x_ignore = true;\n  });\n  for (let node of addedNodes) {\n    if (removedNodes.includes(node))\n      continue;\n    if (!node.isConnected)\n      continue;\n    delete node._x_ignoreSelf;\n    delete node._x_ignore;\n    onElAddeds.forEach((i) => i(node));\n    node._x_ignore = true;\n    node._x_ignoreSelf = true;\n  }\n  addedNodes.forEach((node) => {\n    delete node._x_ignoreSelf;\n    delete node._x_ignore;\n  });\n  addedNodes = null;\n  removedNodes = null;\n  addedAttributes = null;\n  removedAttributes = null;\n}\n\n// packages/alpinejs/src/scope.js\nfunction scope(node) {\n  return mergeProxies(closestDataStack(node));\n}\nfunction addScopeToNode(node, data2, referenceNode) {\n  node._x_dataStack = [data2, ...closestDataStack(referenceNode || node)];\n  return () => {\n    node._x_dataStack = node._x_dataStack.filter((i) => i !== data2);\n  };\n}\nfunction refreshScope(element, scope2) {\n  let existingScope = element._x_dataStack[0];\n  Object.entries(scope2).forEach(([key, value]) => {\n    existingScope[key] = value;\n  });\n}\nfunction closestDataStack(node) {\n  if (node._x_dataStack)\n    return node._x_dataStack;\n  if (typeof ShadowRoot === \"function\" && node instanceof ShadowRoot) {\n    return closestDataStack(node.host);\n  }\n  if (!node.parentNode) {\n    return [];\n  }\n  return closestDataStack(node.parentNode);\n}\nfunction mergeProxies(objects) {\n  let thisProxy = new Proxy({}, {\n    ownKeys: () => {\n      return Array.from(new Set(objects.flatMap((i) => Object.keys(i))));\n    },\n    has: (target, name) => {\n      return objects.some((obj) => obj.hasOwnProperty(name));\n    },\n    get: (target, name) => {\n      return (objects.find((obj) => {\n        if (obj.hasOwnProperty(name)) {\n          let descriptor = Object.getOwnPropertyDescriptor(obj, name);\n          if (descriptor.get && descriptor.get._x_alreadyBound || descriptor.set && descriptor.set._x_alreadyBound) {\n            return true;\n          }\n          if ((descriptor.get || descriptor.set) && descriptor.enumerable) {\n            let getter = descriptor.get;\n            let setter = descriptor.set;\n            let property = descriptor;\n            getter = getter && getter.bind(thisProxy);\n            setter = setter && setter.bind(thisProxy);\n            if (getter)\n              getter._x_alreadyBound = true;\n            if (setter)\n              setter._x_alreadyBound = true;\n            Object.defineProperty(obj, name, {\n              ...property,\n              get: getter,\n              set: setter\n            });\n          }\n          return true;\n        }\n        return false;\n      }) || {})[name];\n    },\n    set: (target, name, value) => {\n      let closestObjectWithKey = objects.find((obj) => obj.hasOwnProperty(name));\n      if (closestObjectWithKey) {\n        closestObjectWithKey[name] = value;\n      } else {\n        objects[objects.length - 1][name] = value;\n      }\n      return true;\n    }\n  });\n  return thisProxy;\n}\n\n// packages/alpinejs/src/interceptor.js\nfunction initInterceptors(data2) {\n  let isObject2 = (val) => typeof val === \"object\" && !Array.isArray(val) && val !== null;\n  let recurse = (obj, basePath = \"\") => {\n    Object.entries(Object.getOwnPropertyDescriptors(obj)).forEach(([key, {value, enumerable}]) => {\n      if (enumerable === false || value === void 0)\n        return;\n      let path = basePath === \"\" ? key : `${basePath}.${key}`;\n      if (typeof value === \"object\" && value !== null && value._x_interceptor) {\n        obj[key] = value.initialize(data2, path, key);\n      } else {\n        if (isObject2(value) && value !== obj && !(value instanceof Element)) {\n          recurse(value, path);\n        }\n      }\n    });\n  };\n  return recurse(data2);\n}\nfunction interceptor(callback, mutateObj = () => {\n}) {\n  let obj = {\n    initialValue: void 0,\n    _x_interceptor: true,\n    initialize(data2, path, key) {\n      return callback(this.initialValue, () => get(data2, path), (value) => set(data2, path, value), path, key);\n    }\n  };\n  mutateObj(obj);\n  return (initialValue) => {\n    if (typeof initialValue === \"object\" && initialValue !== null && initialValue._x_interceptor) {\n      let initialize = obj.initialize.bind(obj);\n      obj.initialize = (data2, path, key) => {\n        let innerValue = initialValue.initialize(data2, path, key);\n        obj.initialValue = innerValue;\n        return initialize(data2, path, key);\n      };\n    } else {\n      obj.initialValue = initialValue;\n    }\n    return obj;\n  };\n}\nfunction get(obj, path) {\n  return path.split(\".\").reduce((carry, segment) => carry[segment], obj);\n}\nfunction set(obj, path, value) {\n  if (typeof path === \"string\")\n    path = path.split(\".\");\n  if (path.length === 1)\n    obj[path[0]] = value;\n  else if (path.length === 0)\n    throw error;\n  else {\n    if (obj[path[0]])\n      return set(obj[path[0]], path.slice(1), value);\n    else {\n      obj[path[0]] = {};\n      return set(obj[path[0]], path.slice(1), value);\n    }\n  }\n}\n\n// packages/alpinejs/src/magics.js\nvar magics = {};\nfunction magic(name, callback) {\n  magics[name] = callback;\n}\nfunction injectMagics(obj, el) {\n  Object.entries(magics).forEach(([name, callback]) => {\n    Object.defineProperty(obj, `$${name}`, {\n      get() {\n        let [utilities, cleanup2] = getElementBoundUtilities(el);\n        utilities = {interceptor, ...utilities};\n        onElRemoved(el, cleanup2);\n        return callback(el, utilities);\n      },\n      enumerable: false\n    });\n  });\n  return obj;\n}\n\n// packages/alpinejs/src/utils/error.js\nfunction tryCatch(el, expression, callback, ...args) {\n  try {\n    return callback(...args);\n  } catch (e) {\n    handleError(e, el, expression);\n  }\n}\nfunction handleError(error2, el, expression = void 0) {\n  Object.assign(error2, {el, expression});\n  console.warn(`Alpine Expression Error: ${error2.message}\n\n${expression ? 'Expression: \"' + expression + '\"\\n\\n' : \"\"}`, el);\n  setTimeout(() => {\n    throw error2;\n  }, 0);\n}\n\n// packages/alpinejs/src/evaluator.js\nvar shouldAutoEvaluateFunctions = true;\nfunction dontAutoEvaluateFunctions(callback) {\n  let cache = shouldAutoEvaluateFunctions;\n  shouldAutoEvaluateFunctions = false;\n  callback();\n  shouldAutoEvaluateFunctions = cache;\n}\nfunction evaluate(el, expression, extras = {}) {\n  let result;\n  evaluateLater(el, expression)((value) => result = value, extras);\n  return result;\n}\nfunction evaluateLater(...args) {\n  return theEvaluatorFunction(...args);\n}\nvar theEvaluatorFunction = normalEvaluator;\nfunction setEvaluator(newEvaluator) {\n  theEvaluatorFunction = newEvaluator;\n}\nfunction normalEvaluator(el, expression) {\n  let overriddenMagics = {};\n  injectMagics(overriddenMagics, el);\n  let dataStack = [overriddenMagics, ...closestDataStack(el)];\n  if (typeof expression === \"function\") {\n    return generateEvaluatorFromFunction(dataStack, expression);\n  }\n  let evaluator = generateEvaluatorFromString(dataStack, expression, el);\n  return tryCatch.bind(null, el, expression, evaluator);\n}\nfunction generateEvaluatorFromFunction(dataStack, func) {\n  return (receiver = () => {\n  }, {scope: scope2 = {}, params = []} = {}) => {\n    let result = func.apply(mergeProxies([scope2, ...dataStack]), params);\n    runIfTypeOfFunction(receiver, result);\n  };\n}\nvar evaluatorMemo = {};\nfunction generateFunctionFromString(expression, el) {\n  if (evaluatorMemo[expression]) {\n    return evaluatorMemo[expression];\n  }\n  let AsyncFunction = Object.getPrototypeOf(async function() {\n  }).constructor;\n  let rightSideSafeExpression = /^[\\n\\s]*if.*\\(.*\\)/.test(expression) || /^(let|const)\\s/.test(expression) ? `(() => { ${expression} })()` : expression;\n  const safeAsyncFunction = () => {\n    try {\n      return new AsyncFunction([\"__self\", \"scope\"], `with (scope) { __self.result = ${rightSideSafeExpression} }; __self.finished = true; return __self.result;`);\n    } catch (error2) {\n      handleError(error2, el, expression);\n      return Promise.resolve();\n    }\n  };\n  let func = safeAsyncFunction();\n  evaluatorMemo[expression] = func;\n  return func;\n}\nfunction generateEvaluatorFromString(dataStack, expression, el) {\n  let func = generateFunctionFromString(expression, el);\n  return (receiver = () => {\n  }, {scope: scope2 = {}, params = []} = {}) => {\n    func.result = void 0;\n    func.finished = false;\n    let completeScope = mergeProxies([scope2, ...dataStack]);\n    if (typeof func === \"function\") {\n      let promise = func(func, completeScope).catch((error2) => handleError(error2, el, expression));\n      if (func.finished) {\n        runIfTypeOfFunction(receiver, func.result, completeScope, params, el);\n        func.result = void 0;\n      } else {\n        promise.then((result) => {\n          runIfTypeOfFunction(receiver, result, completeScope, params, el);\n        }).catch((error2) => handleError(error2, el, expression)).finally(() => func.result = void 0);\n      }\n    }\n  };\n}\nfunction runIfTypeOfFunction(receiver, value, scope2, params, el) {\n  if (shouldAutoEvaluateFunctions && typeof value === \"function\") {\n    let result = value.apply(scope2, params);\n    if (result instanceof Promise) {\n      result.then((i) => runIfTypeOfFunction(receiver, i, scope2, params)).catch((error2) => handleError(error2, el, value));\n    } else {\n      receiver(result);\n    }\n  } else {\n    receiver(value);\n  }\n}\n\n// packages/alpinejs/src/directives.js\nvar prefixAsString = \"x-\";\nfunction prefix(subject = \"\") {\n  return prefixAsString + subject;\n}\nfunction setPrefix(newPrefix) {\n  prefixAsString = newPrefix;\n}\nvar directiveHandlers = {};\nfunction directive(name, callback) {\n  directiveHandlers[name] = callback;\n}\nfunction directives(el, attributes, originalAttributeOverride) {\n  attributes = Array.from(attributes);\n  if (el._x_virtualDirectives) {\n    let vAttributes = Object.entries(el._x_virtualDirectives).map(([name, value]) => ({name, value}));\n    let staticAttributes = attributesOnly(vAttributes);\n    vAttributes = vAttributes.map((attribute) => {\n      if (staticAttributes.find((attr) => attr.name === attribute.name)) {\n        return {\n          name: `x-bind:${attribute.name}`,\n          value: `\"${attribute.value}\"`\n        };\n      }\n      return attribute;\n    });\n    attributes = attributes.concat(vAttributes);\n  }\n  let transformedAttributeMap = {};\n  let directives2 = attributes.map(toTransformedAttributes((newName, oldName) => transformedAttributeMap[newName] = oldName)).filter(outNonAlpineAttributes).map(toParsedDirectives(transformedAttributeMap, originalAttributeOverride)).sort(byPriority);\n  return directives2.map((directive2) => {\n    return getDirectiveHandler(el, directive2);\n  });\n}\nfunction attributesOnly(attributes) {\n  return Array.from(attributes).map(toTransformedAttributes()).filter((attr) => !outNonAlpineAttributes(attr));\n}\nvar isDeferringHandlers = false;\nvar directiveHandlerStacks = new Map();\nvar currentHandlerStackKey = Symbol();\nfunction deferHandlingDirectives(callback) {\n  isDeferringHandlers = true;\n  let key = Symbol();\n  currentHandlerStackKey = key;\n  directiveHandlerStacks.set(key, []);\n  let flushHandlers = () => {\n    while (directiveHandlerStacks.get(key).length)\n      directiveHandlerStacks.get(key).shift()();\n    directiveHandlerStacks.delete(key);\n  };\n  let stopDeferring = () => {\n    isDeferringHandlers = false;\n    flushHandlers();\n  };\n  callback(flushHandlers);\n  stopDeferring();\n}\nfunction getElementBoundUtilities(el) {\n  let cleanups = [];\n  let cleanup2 = (callback) => cleanups.push(callback);\n  let [effect3, cleanupEffect] = elementBoundEffect(el);\n  cleanups.push(cleanupEffect);\n  let utilities = {\n    Alpine: alpine_default,\n    effect: effect3,\n    cleanup: cleanup2,\n    evaluateLater: evaluateLater.bind(evaluateLater, el),\n    evaluate: evaluate.bind(evaluate, el)\n  };\n  let doCleanup = () => cleanups.forEach((i) => i());\n  return [utilities, doCleanup];\n}\nfunction getDirectiveHandler(el, directive2) {\n  let noop = () => {\n  };\n  let handler3 = directiveHandlers[directive2.type] || noop;\n  let [utilities, cleanup2] = getElementBoundUtilities(el);\n  onAttributeRemoved(el, directive2.original, cleanup2);\n  let fullHandler = () => {\n    if (el._x_ignore || el._x_ignoreSelf)\n      return;\n    handler3.inline && handler3.inline(el, directive2, utilities);\n    handler3 = handler3.bind(handler3, el, directive2, utilities);\n    isDeferringHandlers ? directiveHandlerStacks.get(currentHandlerStackKey).push(handler3) : handler3();\n  };\n  fullHandler.runCleanups = cleanup2;\n  return fullHandler;\n}\nvar startingWith = (subject, replacement) => ({name, value}) => {\n  if (name.startsWith(subject))\n    name = name.replace(subject, replacement);\n  return {name, value};\n};\nvar into = (i) => i;\nfunction toTransformedAttributes(callback = () => {\n}) {\n  return ({name, value}) => {\n    let {name: newName, value: newValue} = attributeTransformers.reduce((carry, transform) => {\n      return transform(carry);\n    }, {name, value});\n    if (newName !== name)\n      callback(newName, name);\n    return {name: newName, value: newValue};\n  };\n}\nvar attributeTransformers = [];\nfunction mapAttributes(callback) {\n  attributeTransformers.push(callback);\n}\nfunction outNonAlpineAttributes({name}) {\n  return alpineAttributeRegex().test(name);\n}\nvar alpineAttributeRegex = () => new RegExp(`^${prefixAsString}([^:^.]+)\\\\b`);\nfunction toParsedDirectives(transformedAttributeMap, originalAttributeOverride) {\n  return ({name, value}) => {\n    let typeMatch = name.match(alpineAttributeRegex());\n    let valueMatch = name.match(/:([a-zA-Z0-9\\-:]+)/);\n    let modifiers = name.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\n    let original = originalAttributeOverride || transformedAttributeMap[name] || name;\n    return {\n      type: typeMatch ? typeMatch[1] : null,\n      value: valueMatch ? valueMatch[1] : null,\n      modifiers: modifiers.map((i) => i.replace(\".\", \"\")),\n      expression: value,\n      original\n    };\n  };\n}\nvar DEFAULT = \"DEFAULT\";\nvar directiveOrder = [\n  \"ignore\",\n  \"ref\",\n  \"data\",\n  \"id\",\n  \"radio\",\n  \"tabs\",\n  \"switch\",\n  \"disclosure\",\n  \"menu\",\n  \"listbox\",\n  \"list\",\n  \"item\",\n  \"combobox\",\n  \"bind\",\n  \"init\",\n  \"for\",\n  \"mask\",\n  \"model\",\n  \"modelable\",\n  \"transition\",\n  \"show\",\n  \"if\",\n  DEFAULT,\n  \"teleport\"\n];\nfunction byPriority(a, b) {\n  let typeA = directiveOrder.indexOf(a.type) === -1 ? DEFAULT : a.type;\n  let typeB = directiveOrder.indexOf(b.type) === -1 ? DEFAULT : b.type;\n  return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);\n}\n\n// packages/alpinejs/src/utils/dispatch.js\nfunction dispatch(el, name, detail = {}) {\n  el.dispatchEvent(new CustomEvent(name, {\n    detail,\n    bubbles: true,\n    composed: true,\n    cancelable: true\n  }));\n}\n\n// packages/alpinejs/src/nextTick.js\nvar tickStack = [];\nvar isHolding = false;\nfunction nextTick(callback = () => {\n}) {\n  queueMicrotask(() => {\n    isHolding || setTimeout(() => {\n      releaseNextTicks();\n    });\n  });\n  return new Promise((res) => {\n    tickStack.push(() => {\n      callback();\n      res();\n    });\n  });\n}\nfunction releaseNextTicks() {\n  isHolding = false;\n  while (tickStack.length)\n    tickStack.shift()();\n}\nfunction holdNextTicks() {\n  isHolding = true;\n}\n\n// packages/alpinejs/src/utils/walk.js\nfunction walk(el, callback) {\n  if (typeof ShadowRoot === \"function\" && el instanceof ShadowRoot) {\n    Array.from(el.children).forEach((el2) => walk(el2, callback));\n    return;\n  }\n  let skip = false;\n  callback(el, () => skip = true);\n  if (skip)\n    return;\n  let node = el.firstElementChild;\n  while (node) {\n    walk(node, callback, false);\n    node = node.nextElementSibling;\n  }\n}\n\n// packages/alpinejs/src/utils/warn.js\nfunction warn(message, ...args) {\n  console.warn(`Alpine Warning: ${message}`, ...args);\n}\n\n// packages/alpinejs/src/lifecycle.js\nfunction start() {\n  if (!document.body)\n    warn(\"Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?\");\n  dispatch(document, \"alpine:init\");\n  dispatch(document, \"alpine:initializing\");\n  startObservingMutations();\n  onElAdded((el) => initTree(el, walk));\n  onElRemoved((el) => destroyTree(el));\n  onAttributesAdded((el, attrs) => {\n    directives(el, attrs).forEach((handle) => handle());\n  });\n  let outNestedComponents = (el) => !closestRoot(el.parentElement, true);\n  Array.from(document.querySelectorAll(allSelectors())).filter(outNestedComponents).forEach((el) => {\n    initTree(el);\n  });\n  dispatch(document, \"alpine:initialized\");\n}\nvar rootSelectorCallbacks = [];\nvar initSelectorCallbacks = [];\nfunction rootSelectors() {\n  return rootSelectorCallbacks.map((fn) => fn());\n}\nfunction allSelectors() {\n  return rootSelectorCallbacks.concat(initSelectorCallbacks).map((fn) => fn());\n}\nfunction addRootSelector(selectorCallback) {\n  rootSelectorCallbacks.push(selectorCallback);\n}\nfunction addInitSelector(selectorCallback) {\n  initSelectorCallbacks.push(selectorCallback);\n}\nfunction closestRoot(el, includeInitSelectors = false) {\n  return findClosest(el, (element) => {\n    const selectors = includeInitSelectors ? allSelectors() : rootSelectors();\n    if (selectors.some((selector) => element.matches(selector)))\n      return true;\n  });\n}\nfunction findClosest(el, callback) {\n  if (!el)\n    return;\n  if (callback(el))\n    return el;\n  if (el._x_teleportBack)\n    el = el._x_teleportBack;\n  if (!el.parentElement)\n    return;\n  return findClosest(el.parentElement, callback);\n}\nfunction isRoot(el) {\n  return rootSelectors().some((selector) => el.matches(selector));\n}\nfunction initTree(el, walker = walk) {\n  deferHandlingDirectives(() => {\n    walker(el, (el2, skip) => {\n      directives(el2, el2.attributes).forEach((handle) => handle());\n      el2._x_ignore && skip();\n    });\n  });\n}\nfunction destroyTree(root) {\n  walk(root, (el) => cleanupAttributes(el));\n}\n\n// packages/alpinejs/src/utils/classes.js\nfunction setClasses(el, value) {\n  if (Array.isArray(value)) {\n    return setClassesFromString(el, value.join(\" \"));\n  } else if (typeof value === \"object\" && value !== null) {\n    return setClassesFromObject(el, value);\n  } else if (typeof value === \"function\") {\n    return setClasses(el, value());\n  }\n  return setClassesFromString(el, value);\n}\nfunction setClassesFromString(el, classString) {\n  let split = (classString2) => classString2.split(\" \").filter(Boolean);\n  let missingClasses = (classString2) => classString2.split(\" \").filter((i) => !el.classList.contains(i)).filter(Boolean);\n  let addClassesAndReturnUndo = (classes) => {\n    el.classList.add(...classes);\n    return () => {\n      el.classList.remove(...classes);\n    };\n  };\n  classString = classString === true ? classString = \"\" : classString || \"\";\n  return addClassesAndReturnUndo(missingClasses(classString));\n}\nfunction setClassesFromObject(el, classObject) {\n  let split = (classString) => classString.split(\" \").filter(Boolean);\n  let forAdd = Object.entries(classObject).flatMap(([classString, bool]) => bool ? split(classString) : false).filter(Boolean);\n  let forRemove = Object.entries(classObject).flatMap(([classString, bool]) => !bool ? split(classString) : false).filter(Boolean);\n  let added = [];\n  let removed = [];\n  forRemove.forEach((i) => {\n    if (el.classList.contains(i)) {\n      el.classList.remove(i);\n      removed.push(i);\n    }\n  });\n  forAdd.forEach((i) => {\n    if (!el.classList.contains(i)) {\n      el.classList.add(i);\n      added.push(i);\n    }\n  });\n  return () => {\n    removed.forEach((i) => el.classList.add(i));\n    added.forEach((i) => el.classList.remove(i));\n  };\n}\n\n// packages/alpinejs/src/utils/styles.js\nfunction setStyles(el, value) {\n  if (typeof value === \"object\" && value !== null) {\n    return setStylesFromObject(el, value);\n  }\n  return setStylesFromString(el, value);\n}\nfunction setStylesFromObject(el, value) {\n  let previousStyles = {};\n  Object.entries(value).forEach(([key, value2]) => {\n    previousStyles[key] = el.style[key];\n    if (!key.startsWith(\"--\")) {\n      key = kebabCase(key);\n    }\n    el.style.setProperty(key, value2);\n  });\n  setTimeout(() => {\n    if (el.style.length === 0) {\n      el.removeAttribute(\"style\");\n    }\n  });\n  return () => {\n    setStyles(el, previousStyles);\n  };\n}\nfunction setStylesFromString(el, value) {\n  let cache = el.getAttribute(\"style\", value);\n  el.setAttribute(\"style\", value);\n  return () => {\n    el.setAttribute(\"style\", cache || \"\");\n  };\n}\nfunction kebabCase(subject) {\n  return subject.replace(/([a-z])([A-Z])/g, \"$1-$2\").toLowerCase();\n}\n\n// packages/alpinejs/src/utils/once.js\nfunction once(callback, fallback = () => {\n}) {\n  let called = false;\n  return function() {\n    if (!called) {\n      called = true;\n      callback.apply(this, arguments);\n    } else {\n      fallback.apply(this, arguments);\n    }\n  };\n}\n\n// packages/alpinejs/src/directives/x-transition.js\ndirective(\"transition\", (el, {value, modifiers, expression}, {evaluate: evaluate2}) => {\n  if (typeof expression === \"function\")\n    expression = evaluate2(expression);\n  if (!expression) {\n    registerTransitionsFromHelper(el, modifiers, value);\n  } else {\n    registerTransitionsFromClassString(el, expression, value);\n  }\n});\nfunction registerTransitionsFromClassString(el, classString, stage) {\n  registerTransitionObject(el, setClasses, \"\");\n  let directiveStorageMap = {\n    enter: (classes) => {\n      el._x_transition.enter.during = classes;\n    },\n    \"enter-start\": (classes) => {\n      el._x_transition.enter.start = classes;\n    },\n    \"enter-end\": (classes) => {\n      el._x_transition.enter.end = classes;\n    },\n    leave: (classes) => {\n      el._x_transition.leave.during = classes;\n    },\n    \"leave-start\": (classes) => {\n      el._x_transition.leave.start = classes;\n    },\n    \"leave-end\": (classes) => {\n      el._x_transition.leave.end = classes;\n    }\n  };\n  directiveStorageMap[stage](classString);\n}\nfunction registerTransitionsFromHelper(el, modifiers, stage) {\n  registerTransitionObject(el, setStyles);\n  let doesntSpecify = !modifiers.includes(\"in\") && !modifiers.includes(\"out\") && !stage;\n  let transitioningIn = doesntSpecify || modifiers.includes(\"in\") || [\"enter\"].includes(stage);\n  let transitioningOut = doesntSpecify || modifiers.includes(\"out\") || [\"leave\"].includes(stage);\n  if (modifiers.includes(\"in\") && !doesntSpecify) {\n    modifiers = modifiers.filter((i, index) => index < modifiers.indexOf(\"out\"));\n  }\n  if (modifiers.includes(\"out\") && !doesntSpecify) {\n    modifiers = modifiers.filter((i, index) => index > modifiers.indexOf(\"out\"));\n  }\n  let wantsAll = !modifiers.includes(\"opacity\") && !modifiers.includes(\"scale\");\n  let wantsOpacity = wantsAll || modifiers.includes(\"opacity\");\n  let wantsScale = wantsAll || modifiers.includes(\"scale\");\n  let opacityValue = wantsOpacity ? 0 : 1;\n  let scaleValue = wantsScale ? modifierValue(modifiers, \"scale\", 95) / 100 : 1;\n  let delay = modifierValue(modifiers, \"delay\", 0);\n  let origin = modifierValue(modifiers, \"origin\", \"center\");\n  let property = \"opacity, transform\";\n  let durationIn = modifierValue(modifiers, \"duration\", 150) / 1e3;\n  let durationOut = modifierValue(modifiers, \"duration\", 75) / 1e3;\n  let easing = `cubic-bezier(0.4, 0.0, 0.2, 1)`;\n  if (transitioningIn) {\n    el._x_transition.enter.during = {\n      transformOrigin: origin,\n      transitionDelay: delay,\n      transitionProperty: property,\n      transitionDuration: `${durationIn}s`,\n      transitionTimingFunction: easing\n    };\n    el._x_transition.enter.start = {\n      opacity: opacityValue,\n      transform: `scale(${scaleValue})`\n    };\n    el._x_transition.enter.end = {\n      opacity: 1,\n      transform: `scale(1)`\n    };\n  }\n  if (transitioningOut) {\n    el._x_transition.leave.during = {\n      transformOrigin: origin,\n      transitionDelay: delay,\n      transitionProperty: property,\n      transitionDuration: `${durationOut}s`,\n      transitionTimingFunction: easing\n    };\n    el._x_transition.leave.start = {\n      opacity: 1,\n      transform: `scale(1)`\n    };\n    el._x_transition.leave.end = {\n      opacity: opacityValue,\n      transform: `scale(${scaleValue})`\n    };\n  }\n}\nfunction registerTransitionObject(el, setFunction, defaultValue = {}) {\n  if (!el._x_transition)\n    el._x_transition = {\n      enter: {during: defaultValue, start: defaultValue, end: defaultValue},\n      leave: {during: defaultValue, start: defaultValue, end: defaultValue},\n      in(before = () => {\n      }, after = () => {\n      }) {\n        transition(el, setFunction, {\n          during: this.enter.during,\n          start: this.enter.start,\n          end: this.enter.end\n        }, before, after);\n      },\n      out(before = () => {\n      }, after = () => {\n      }) {\n        transition(el, setFunction, {\n          during: this.leave.during,\n          start: this.leave.start,\n          end: this.leave.end\n        }, before, after);\n      }\n    };\n}\nwindow.Element.prototype._x_toggleAndCascadeWithTransitions = function(el, value, show, hide) {\n  const nextTick2 = document.visibilityState === \"visible\" ? requestAnimationFrame : setTimeout;\n  let clickAwayCompatibleShow = () => nextTick2(show);\n  if (value) {\n    if (el._x_transition && (el._x_transition.enter || el._x_transition.leave)) {\n      el._x_transition.enter && (Object.entries(el._x_transition.enter.during).length || Object.entries(el._x_transition.enter.start).length || Object.entries(el._x_transition.enter.end).length) ? el._x_transition.in(show) : clickAwayCompatibleShow();\n    } else {\n      el._x_transition ? el._x_transition.in(show) : clickAwayCompatibleShow();\n    }\n    return;\n  }\n  el._x_hidePromise = el._x_transition ? new Promise((resolve, reject) => {\n    el._x_transition.out(() => {\n    }, () => resolve(hide));\n    el._x_transitioning.beforeCancel(() => reject({isFromCancelledTransition: true}));\n  }) : Promise.resolve(hide);\n  queueMicrotask(() => {\n    let closest = closestHide(el);\n    if (closest) {\n      if (!closest._x_hideChildren)\n        closest._x_hideChildren = [];\n      closest._x_hideChildren.push(el);\n    } else {\n      nextTick2(() => {\n        let hideAfterChildren = (el2) => {\n          let carry = Promise.all([\n            el2._x_hidePromise,\n            ...(el2._x_hideChildren || []).map(hideAfterChildren)\n          ]).then(([i]) => i());\n          delete el2._x_hidePromise;\n          delete el2._x_hideChildren;\n          return carry;\n        };\n        hideAfterChildren(el).catch((e) => {\n          if (!e.isFromCancelledTransition)\n            throw e;\n        });\n      });\n    }\n  });\n};\nfunction closestHide(el) {\n  let parent = el.parentNode;\n  if (!parent)\n    return;\n  return parent._x_hidePromise ? parent : closestHide(parent);\n}\nfunction transition(el, setFunction, {during, start: start2, end} = {}, before = () => {\n}, after = () => {\n}) {\n  if (el._x_transitioning)\n    el._x_transitioning.cancel();\n  if (Object.keys(during).length === 0 && Object.keys(start2).length === 0 && Object.keys(end).length === 0) {\n    before();\n    after();\n    return;\n  }\n  let undoStart, undoDuring, undoEnd;\n  performTransition(el, {\n    start() {\n      undoStart = setFunction(el, start2);\n    },\n    during() {\n      undoDuring = setFunction(el, during);\n    },\n    before,\n    end() {\n      undoStart();\n      undoEnd = setFunction(el, end);\n    },\n    after,\n    cleanup() {\n      undoDuring();\n      undoEnd();\n    }\n  });\n}\nfunction performTransition(el, stages) {\n  let interrupted, reachedBefore, reachedEnd;\n  let finish = once(() => {\n    mutateDom(() => {\n      interrupted = true;\n      if (!reachedBefore)\n        stages.before();\n      if (!reachedEnd) {\n        stages.end();\n        releaseNextTicks();\n      }\n      stages.after();\n      if (el.isConnected)\n        stages.cleanup();\n      delete el._x_transitioning;\n    });\n  });\n  el._x_transitioning = {\n    beforeCancels: [],\n    beforeCancel(callback) {\n      this.beforeCancels.push(callback);\n    },\n    cancel: once(function() {\n      while (this.beforeCancels.length) {\n        this.beforeCancels.shift()();\n      }\n      ;\n      finish();\n    }),\n    finish\n  };\n  mutateDom(() => {\n    stages.start();\n    stages.during();\n  });\n  holdNextTicks();\n  requestAnimationFrame(() => {\n    if (interrupted)\n      return;\n    let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, \"\").replace(\"s\", \"\")) * 1e3;\n    let delay = Number(getComputedStyle(el).transitionDelay.replace(/,.*/, \"\").replace(\"s\", \"\")) * 1e3;\n    if (duration === 0)\n      duration = Number(getComputedStyle(el).animationDuration.replace(\"s\", \"\")) * 1e3;\n    mutateDom(() => {\n      stages.before();\n    });\n    reachedBefore = true;\n    requestAnimationFrame(() => {\n      if (interrupted)\n        return;\n      mutateDom(() => {\n        stages.end();\n      });\n      releaseNextTicks();\n      setTimeout(el._x_transitioning.finish, duration + delay);\n      reachedEnd = true;\n    });\n  });\n}\nfunction modifierValue(modifiers, key, fallback) {\n  if (modifiers.indexOf(key) === -1)\n    return fallback;\n  const rawValue = modifiers[modifiers.indexOf(key) + 1];\n  if (!rawValue)\n    return fallback;\n  if (key === \"scale\") {\n    if (isNaN(rawValue))\n      return fallback;\n  }\n  if (key === \"duration\") {\n    let match = rawValue.match(/([0-9]+)ms/);\n    if (match)\n      return match[1];\n  }\n  if (key === \"origin\") {\n    if ([\"top\", \"right\", \"left\", \"center\", \"bottom\"].includes(modifiers[modifiers.indexOf(key) + 2])) {\n      return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(\" \");\n    }\n  }\n  return rawValue;\n}\n\n// packages/alpinejs/src/clone.js\nvar isCloning = false;\nfunction skipDuringClone(callback, fallback = () => {\n}) {\n  return (...args) => isCloning ? fallback(...args) : callback(...args);\n}\nfunction clone(oldEl, newEl) {\n  if (!newEl._x_dataStack)\n    newEl._x_dataStack = oldEl._x_dataStack;\n  isCloning = true;\n  dontRegisterReactiveSideEffects(() => {\n    cloneTree(newEl);\n  });\n  isCloning = false;\n}\nfunction cloneTree(el) {\n  let hasRunThroughFirstEl = false;\n  let shallowWalker = (el2, callback) => {\n    walk(el2, (el3, skip) => {\n      if (hasRunThroughFirstEl && isRoot(el3))\n        return skip();\n      hasRunThroughFirstEl = true;\n      callback(el3, skip);\n    });\n  };\n  initTree(el, shallowWalker);\n}\nfunction dontRegisterReactiveSideEffects(callback) {\n  let cache = effect;\n  overrideEffect((callback2, el) => {\n    let storedEffect = cache(callback2);\n    release(storedEffect);\n    return () => {\n    };\n  });\n  callback();\n  overrideEffect(cache);\n}\n\n// packages/alpinejs/src/utils/bind.js\nfunction bind(el, name, value, modifiers = []) {\n  if (!el._x_bindings)\n    el._x_bindings = reactive({});\n  el._x_bindings[name] = value;\n  name = modifiers.includes(\"camel\") ? camelCase(name) : name;\n  switch (name) {\n    case \"value\":\n      bindInputValue(el, value);\n      break;\n    case \"style\":\n      bindStyles(el, value);\n      break;\n    case \"class\":\n      bindClasses(el, value);\n      break;\n    default:\n      bindAttribute(el, name, value);\n      break;\n  }\n}\nfunction bindInputValue(el, value) {\n  if (el.type === \"radio\") {\n    if (el.attributes.value === void 0) {\n      el.value = value;\n    }\n    if (window.fromModel) {\n      el.checked = checkedAttrLooseCompare(el.value, value);\n    }\n  } else if (el.type === \"checkbox\") {\n    if (Number.isInteger(value)) {\n      el.value = value;\n    } else if (!Number.isInteger(value) && !Array.isArray(value) && typeof value !== \"boolean\" && ![null, void 0].includes(value)) {\n      el.value = String(value);\n    } else {\n      if (Array.isArray(value)) {\n        el.checked = value.some((val) => checkedAttrLooseCompare(val, el.value));\n      } else {\n        el.checked = !!value;\n      }\n    }\n  } else if (el.tagName === \"SELECT\") {\n    updateSelect(el, value);\n  } else {\n    if (el.value === value)\n      return;\n    el.value = value;\n  }\n}\nfunction bindClasses(el, value) {\n  if (el._x_undoAddedClasses)\n    el._x_undoAddedClasses();\n  el._x_undoAddedClasses = setClasses(el, value);\n}\nfunction bindStyles(el, value) {\n  if (el._x_undoAddedStyles)\n    el._x_undoAddedStyles();\n  el._x_undoAddedStyles = setStyles(el, value);\n}\nfunction bindAttribute(el, name, value) {\n  if ([null, void 0, false].includes(value) && attributeShouldntBePreservedIfFalsy(name)) {\n    el.removeAttribute(name);\n  } else {\n    if (isBooleanAttr(name))\n      value = name;\n    setIfChanged(el, name, value);\n  }\n}\nfunction setIfChanged(el, attrName, value) {\n  if (el.getAttribute(attrName) != value) {\n    el.setAttribute(attrName, value);\n  }\n}\nfunction updateSelect(el, value) {\n  const arrayWrappedValue = [].concat(value).map((value2) => {\n    return value2 + \"\";\n  });\n  Array.from(el.options).forEach((option) => {\n    option.selected = arrayWrappedValue.includes(option.value);\n  });\n}\nfunction camelCase(subject) {\n  return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n}\nfunction checkedAttrLooseCompare(valueA, valueB) {\n  return valueA == valueB;\n}\nfunction isBooleanAttr(attrName) {\n  const booleanAttributes = [\n    \"disabled\",\n    \"checked\",\n    \"required\",\n    \"readonly\",\n    \"hidden\",\n    \"open\",\n    \"selected\",\n    \"autofocus\",\n    \"itemscope\",\n    \"multiple\",\n    \"novalidate\",\n    \"allowfullscreen\",\n    \"allowpaymentrequest\",\n    \"formnovalidate\",\n    \"autoplay\",\n    \"controls\",\n    \"loop\",\n    \"muted\",\n    \"playsinline\",\n    \"default\",\n    \"ismap\",\n    \"reversed\",\n    \"async\",\n    \"defer\",\n    \"nomodule\"\n  ];\n  return booleanAttributes.includes(attrName);\n}\nfunction attributeShouldntBePreservedIfFalsy(name) {\n  return ![\"aria-pressed\", \"aria-checked\", \"aria-expanded\", \"aria-selected\"].includes(name);\n}\nfunction getBinding(el, name, fallback) {\n  if (el._x_bindings && el._x_bindings[name] !== void 0)\n    return el._x_bindings[name];\n  let attr = el.getAttribute(name);\n  if (attr === null)\n    return typeof fallback === \"function\" ? fallback() : fallback;\n  if (attr === \"\")\n    return true;\n  if (isBooleanAttr(name)) {\n    return !![name, \"true\"].includes(attr);\n  }\n  return attr;\n}\n\n// packages/alpinejs/src/utils/debounce.js\nfunction debounce(func, wait) {\n  var timeout;\n  return function() {\n    var context = this, args = arguments;\n    var later = function() {\n      timeout = null;\n      func.apply(context, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// packages/alpinejs/src/utils/throttle.js\nfunction throttle(func, limit) {\n  let inThrottle;\n  return function() {\n    let context = this, args = arguments;\n    if (!inThrottle) {\n      func.apply(context, args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n}\n\n// packages/alpinejs/src/plugin.js\nfunction plugin(callback) {\n  callback(alpine_default);\n}\n\n// packages/alpinejs/src/store.js\nvar stores = {};\nvar isReactive = false;\nfunction store(name, value) {\n  if (!isReactive) {\n    stores = reactive(stores);\n    isReactive = true;\n  }\n  if (value === void 0) {\n    return stores[name];\n  }\n  stores[name] = value;\n  if (typeof value === \"object\" && value !== null && value.hasOwnProperty(\"init\") && typeof value.init === \"function\") {\n    stores[name].init();\n  }\n  initInterceptors(stores[name]);\n}\nfunction getStores() {\n  return stores;\n}\n\n// packages/alpinejs/src/binds.js\nvar binds = {};\nfunction bind2(name, bindings) {\n  let getBindings = typeof bindings !== \"function\" ? () => bindings : bindings;\n  if (name instanceof Element) {\n    applyBindingsObject(name, getBindings());\n  } else {\n    binds[name] = getBindings;\n  }\n}\nfunction injectBindingProviders(obj) {\n  Object.entries(binds).forEach(([name, callback]) => {\n    Object.defineProperty(obj, name, {\n      get() {\n        return (...args) => {\n          return callback(...args);\n        };\n      }\n    });\n  });\n  return obj;\n}\nfunction applyBindingsObject(el, obj, original) {\n  let cleanupRunners = [];\n  while (cleanupRunners.length)\n    cleanupRunners.pop()();\n  let attributes = Object.entries(obj).map(([name, value]) => ({name, value}));\n  let staticAttributes = attributesOnly(attributes);\n  attributes = attributes.map((attribute) => {\n    if (staticAttributes.find((attr) => attr.name === attribute.name)) {\n      return {\n        name: `x-bind:${attribute.name}`,\n        value: `\"${attribute.value}\"`\n      };\n    }\n    return attribute;\n  });\n  directives(el, attributes, original).map((handle) => {\n    cleanupRunners.push(handle.runCleanups);\n    handle();\n  });\n}\n\n// packages/alpinejs/src/datas.js\nvar datas = {};\nfunction data(name, callback) {\n  datas[name] = callback;\n}\nfunction injectDataProviders(obj, context) {\n  Object.entries(datas).forEach(([name, callback]) => {\n    Object.defineProperty(obj, name, {\n      get() {\n        return (...args) => {\n          return callback.bind(context)(...args);\n        };\n      },\n      enumerable: false\n    });\n  });\n  return obj;\n}\n\n// packages/alpinejs/src/alpine.js\nvar Alpine = {\n  get reactive() {\n    return reactive;\n  },\n  get release() {\n    return release;\n  },\n  get effect() {\n    return effect;\n  },\n  get raw() {\n    return raw;\n  },\n  version: \"3.10.5\",\n  flushAndStopDeferringMutations,\n  dontAutoEvaluateFunctions,\n  disableEffectScheduling,\n  setReactivityEngine,\n  closestDataStack,\n  skipDuringClone,\n  addRootSelector,\n  addInitSelector,\n  addScopeToNode,\n  deferMutations,\n  mapAttributes,\n  evaluateLater,\n  setEvaluator,\n  mergeProxies,\n  findClosest,\n  closestRoot,\n  interceptor,\n  transition,\n  setStyles,\n  mutateDom,\n  directive,\n  throttle,\n  debounce,\n  evaluate,\n  initTree,\n  nextTick,\n  prefixed: prefix,\n  prefix: setPrefix,\n  plugin,\n  magic,\n  store,\n  start,\n  clone,\n  bound: getBinding,\n  $data: scope,\n  data,\n  bind: bind2\n};\nvar alpine_default = Alpine;\n\n// node_modules/@vue/shared/dist/shared.esm-bundler.js\nfunction makeMap(str, expectsLowerCase) {\n  const map = Object.create(null);\n  const list = str.split(\",\");\n  for (let i = 0; i < list.length; i++) {\n    map[list[i]] = true;\n  }\n  return expectsLowerCase ? (val) => !!map[val.toLowerCase()] : (val) => !!map[val];\n}\nvar PatchFlagNames = {\n  [1]: `TEXT`,\n  [2]: `CLASS`,\n  [4]: `STYLE`,\n  [8]: `PROPS`,\n  [16]: `FULL_PROPS`,\n  [32]: `HYDRATE_EVENTS`,\n  [64]: `STABLE_FRAGMENT`,\n  [128]: `KEYED_FRAGMENT`,\n  [256]: `UNKEYED_FRAGMENT`,\n  [512]: `NEED_PATCH`,\n  [1024]: `DYNAMIC_SLOTS`,\n  [2048]: `DEV_ROOT_FRAGMENT`,\n  [-1]: `HOISTED`,\n  [-2]: `BAIL`\n};\nvar slotFlagsText = {\n  [1]: \"STABLE\",\n  [2]: \"DYNAMIC\",\n  [3]: \"FORWARDED\"\n};\nvar specialBooleanAttrs = `itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`;\nvar isBooleanAttr2 = /* @__PURE__ */ makeMap(specialBooleanAttrs + `,async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected`);\nvar EMPTY_OBJ = true ? Object.freeze({}) : {};\nvar EMPTY_ARR = true ? Object.freeze([]) : [];\nvar extend = Object.assign;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar hasOwn = (val, key) => hasOwnProperty.call(val, key);\nvar isArray = Array.isArray;\nvar isMap = (val) => toTypeString(val) === \"[object Map]\";\nvar isString = (val) => typeof val === \"string\";\nvar isSymbol = (val) => typeof val === \"symbol\";\nvar isObject = (val) => val !== null && typeof val === \"object\";\nvar objectToString = Object.prototype.toString;\nvar toTypeString = (value) => objectToString.call(value);\nvar toRawType = (value) => {\n  return toTypeString(value).slice(8, -1);\n};\nvar isIntegerKey = (key) => isString(key) && key !== \"NaN\" && key[0] !== \"-\" && \"\" + parseInt(key, 10) === key;\nvar cacheStringFunction = (fn) => {\n  const cache = Object.create(null);\n  return (str) => {\n    const hit = cache[str];\n    return hit || (cache[str] = fn(str));\n  };\n};\nvar camelizeRE = /-(\\w)/g;\nvar camelize = cacheStringFunction((str) => {\n  return str.replace(camelizeRE, (_, c) => c ? c.toUpperCase() : \"\");\n});\nvar hyphenateRE = /\\B([A-Z])/g;\nvar hyphenate = cacheStringFunction((str) => str.replace(hyphenateRE, \"-$1\").toLowerCase());\nvar capitalize = cacheStringFunction((str) => str.charAt(0).toUpperCase() + str.slice(1));\nvar toHandlerKey = cacheStringFunction((str) => str ? `on${capitalize(str)}` : ``);\nvar hasChanged = (value, oldValue) => value !== oldValue && (value === value || oldValue === oldValue);\n\n// node_modules/@vue/reactivity/dist/reactivity.esm-bundler.js\nvar targetMap = new WeakMap();\nvar effectStack = [];\nvar activeEffect;\nvar ITERATE_KEY = Symbol(true ? \"iterate\" : \"\");\nvar MAP_KEY_ITERATE_KEY = Symbol(true ? \"Map key iterate\" : \"\");\nfunction isEffect(fn) {\n  return fn && fn._isEffect === true;\n}\nfunction effect2(fn, options = EMPTY_OBJ) {\n  if (isEffect(fn)) {\n    fn = fn.raw;\n  }\n  const effect3 = createReactiveEffect(fn, options);\n  if (!options.lazy) {\n    effect3();\n  }\n  return effect3;\n}\nfunction stop(effect3) {\n  if (effect3.active) {\n    cleanup(effect3);\n    if (effect3.options.onStop) {\n      effect3.options.onStop();\n    }\n    effect3.active = false;\n  }\n}\nvar uid = 0;\nfunction createReactiveEffect(fn, options) {\n  const effect3 = function reactiveEffect() {\n    if (!effect3.active) {\n      return fn();\n    }\n    if (!effectStack.includes(effect3)) {\n      cleanup(effect3);\n      try {\n        enableTracking();\n        effectStack.push(effect3);\n        activeEffect = effect3;\n        return fn();\n      } finally {\n        effectStack.pop();\n        resetTracking();\n        activeEffect = effectStack[effectStack.length - 1];\n      }\n    }\n  };\n  effect3.id = uid++;\n  effect3.allowRecurse = !!options.allowRecurse;\n  effect3._isEffect = true;\n  effect3.active = true;\n  effect3.raw = fn;\n  effect3.deps = [];\n  effect3.options = options;\n  return effect3;\n}\nfunction cleanup(effect3) {\n  const {deps} = effect3;\n  if (deps.length) {\n    for (let i = 0; i < deps.length; i++) {\n      deps[i].delete(effect3);\n    }\n    deps.length = 0;\n  }\n}\nvar shouldTrack = true;\nvar trackStack = [];\nfunction pauseTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = false;\n}\nfunction enableTracking() {\n  trackStack.push(shouldTrack);\n  shouldTrack = true;\n}\nfunction resetTracking() {\n  const last = trackStack.pop();\n  shouldTrack = last === void 0 ? true : last;\n}\nfunction track(target, type, key) {\n  if (!shouldTrack || activeEffect === void 0) {\n    return;\n  }\n  let depsMap = targetMap.get(target);\n  if (!depsMap) {\n    targetMap.set(target, depsMap = new Map());\n  }\n  let dep = depsMap.get(key);\n  if (!dep) {\n    depsMap.set(key, dep = new Set());\n  }\n  if (!dep.has(activeEffect)) {\n    dep.add(activeEffect);\n    activeEffect.deps.push(dep);\n    if (activeEffect.options.onTrack) {\n      activeEffect.options.onTrack({\n        effect: activeEffect,\n        target,\n        type,\n        key\n      });\n    }\n  }\n}\nfunction trigger(target, type, key, newValue, oldValue, oldTarget) {\n  const depsMap = targetMap.get(target);\n  if (!depsMap) {\n    return;\n  }\n  const effects = new Set();\n  const add2 = (effectsToAdd) => {\n    if (effectsToAdd) {\n      effectsToAdd.forEach((effect3) => {\n        if (effect3 !== activeEffect || effect3.allowRecurse) {\n          effects.add(effect3);\n        }\n      });\n    }\n  };\n  if (type === \"clear\") {\n    depsMap.forEach(add2);\n  } else if (key === \"length\" && isArray(target)) {\n    depsMap.forEach((dep, key2) => {\n      if (key2 === \"length\" || key2 >= newValue) {\n        add2(dep);\n      }\n    });\n  } else {\n    if (key !== void 0) {\n      add2(depsMap.get(key));\n    }\n    switch (type) {\n      case \"add\":\n        if (!isArray(target)) {\n          add2(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            add2(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        } else if (isIntegerKey(key)) {\n          add2(depsMap.get(\"length\"));\n        }\n        break;\n      case \"delete\":\n        if (!isArray(target)) {\n          add2(depsMap.get(ITERATE_KEY));\n          if (isMap(target)) {\n            add2(depsMap.get(MAP_KEY_ITERATE_KEY));\n          }\n        }\n        break;\n      case \"set\":\n        if (isMap(target)) {\n          add2(depsMap.get(ITERATE_KEY));\n        }\n        break;\n    }\n  }\n  const run = (effect3) => {\n    if (effect3.options.onTrigger) {\n      effect3.options.onTrigger({\n        effect: effect3,\n        target,\n        key,\n        type,\n        newValue,\n        oldValue,\n        oldTarget\n      });\n    }\n    if (effect3.options.scheduler) {\n      effect3.options.scheduler(effect3);\n    } else {\n      effect3();\n    }\n  };\n  effects.forEach(run);\n}\nvar isNonTrackableKeys = /* @__PURE__ */ makeMap(`__proto__,__v_isRef,__isVue`);\nvar builtInSymbols = new Set(Object.getOwnPropertyNames(Symbol).map((key) => Symbol[key]).filter(isSymbol));\nvar get2 = /* @__PURE__ */ createGetter();\nvar shallowGet = /* @__PURE__ */ createGetter(false, true);\nvar readonlyGet = /* @__PURE__ */ createGetter(true);\nvar shallowReadonlyGet = /* @__PURE__ */ createGetter(true, true);\nvar arrayInstrumentations = {};\n[\"includes\", \"indexOf\", \"lastIndexOf\"].forEach((key) => {\n  const method = Array.prototype[key];\n  arrayInstrumentations[key] = function(...args) {\n    const arr = toRaw(this);\n    for (let i = 0, l = this.length; i < l; i++) {\n      track(arr, \"get\", i + \"\");\n    }\n    const res = method.apply(arr, args);\n    if (res === -1 || res === false) {\n      return method.apply(arr, args.map(toRaw));\n    } else {\n      return res;\n    }\n  };\n});\n[\"push\", \"pop\", \"shift\", \"unshift\", \"splice\"].forEach((key) => {\n  const method = Array.prototype[key];\n  arrayInstrumentations[key] = function(...args) {\n    pauseTracking();\n    const res = method.apply(this, args);\n    resetTracking();\n    return res;\n  };\n});\nfunction createGetter(isReadonly = false, shallow = false) {\n  return function get3(target, key, receiver) {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\" && receiver === (isReadonly ? shallow ? shallowReadonlyMap : readonlyMap : shallow ? shallowReactiveMap : reactiveMap).get(target)) {\n      return target;\n    }\n    const targetIsArray = isArray(target);\n    if (!isReadonly && targetIsArray && hasOwn(arrayInstrumentations, key)) {\n      return Reflect.get(arrayInstrumentations, key, receiver);\n    }\n    const res = Reflect.get(target, key, receiver);\n    if (isSymbol(key) ? builtInSymbols.has(key) : isNonTrackableKeys(key)) {\n      return res;\n    }\n    if (!isReadonly) {\n      track(target, \"get\", key);\n    }\n    if (shallow) {\n      return res;\n    }\n    if (isRef(res)) {\n      const shouldUnwrap = !targetIsArray || !isIntegerKey(key);\n      return shouldUnwrap ? res.value : res;\n    }\n    if (isObject(res)) {\n      return isReadonly ? readonly(res) : reactive2(res);\n    }\n    return res;\n  };\n}\nvar set2 = /* @__PURE__ */ createSetter();\nvar shallowSet = /* @__PURE__ */ createSetter(true);\nfunction createSetter(shallow = false) {\n  return function set3(target, key, value, receiver) {\n    let oldValue = target[key];\n    if (!shallow) {\n      value = toRaw(value);\n      oldValue = toRaw(oldValue);\n      if (!isArray(target) && isRef(oldValue) && !isRef(value)) {\n        oldValue.value = value;\n        return true;\n      }\n    }\n    const hadKey = isArray(target) && isIntegerKey(key) ? Number(key) < target.length : hasOwn(target, key);\n    const result = Reflect.set(target, key, value, receiver);\n    if (target === toRaw(receiver)) {\n      if (!hadKey) {\n        trigger(target, \"add\", key, value);\n      } else if (hasChanged(value, oldValue)) {\n        trigger(target, \"set\", key, value, oldValue);\n      }\n    }\n    return result;\n  };\n}\nfunction deleteProperty(target, key) {\n  const hadKey = hasOwn(target, key);\n  const oldValue = target[key];\n  const result = Reflect.deleteProperty(target, key);\n  if (result && hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction has(target, key) {\n  const result = Reflect.has(target, key);\n  if (!isSymbol(key) || !builtInSymbols.has(key)) {\n    track(target, \"has\", key);\n  }\n  return result;\n}\nfunction ownKeys(target) {\n  track(target, \"iterate\", isArray(target) ? \"length\" : ITERATE_KEY);\n  return Reflect.ownKeys(target);\n}\nvar mutableHandlers = {\n  get: get2,\n  set: set2,\n  deleteProperty,\n  has,\n  ownKeys\n};\nvar readonlyHandlers = {\n  get: readonlyGet,\n  set(target, key) {\n    if (true) {\n      console.warn(`Set operation on key \"${String(key)}\" failed: target is readonly.`, target);\n    }\n    return true;\n  },\n  deleteProperty(target, key) {\n    if (true) {\n      console.warn(`Delete operation on key \"${String(key)}\" failed: target is readonly.`, target);\n    }\n    return true;\n  }\n};\nvar shallowReactiveHandlers = extend({}, mutableHandlers, {\n  get: shallowGet,\n  set: shallowSet\n});\nvar shallowReadonlyHandlers = extend({}, readonlyHandlers, {\n  get: shallowReadonlyGet\n});\nvar toReactive = (value) => isObject(value) ? reactive2(value) : value;\nvar toReadonly = (value) => isObject(value) ? readonly(value) : value;\nvar toShallow = (value) => value;\nvar getProto = (v) => Reflect.getPrototypeOf(v);\nfunction get$1(target, key, isReadonly = false, isShallow = false) {\n  target = target[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (key !== rawKey) {\n    !isReadonly && track(rawTarget, \"get\", key);\n  }\n  !isReadonly && track(rawTarget, \"get\", rawKey);\n  const {has: has2} = getProto(rawTarget);\n  const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n  if (has2.call(rawTarget, key)) {\n    return wrap(target.get(key));\n  } else if (has2.call(rawTarget, rawKey)) {\n    return wrap(target.get(rawKey));\n  } else if (target !== rawTarget) {\n    target.get(key);\n  }\n}\nfunction has$1(key, isReadonly = false) {\n  const target = this[\"__v_raw\"];\n  const rawTarget = toRaw(target);\n  const rawKey = toRaw(key);\n  if (key !== rawKey) {\n    !isReadonly && track(rawTarget, \"has\", key);\n  }\n  !isReadonly && track(rawTarget, \"has\", rawKey);\n  return key === rawKey ? target.has(key) : target.has(key) || target.has(rawKey);\n}\nfunction size(target, isReadonly = false) {\n  target = target[\"__v_raw\"];\n  !isReadonly && track(toRaw(target), \"iterate\", ITERATE_KEY);\n  return Reflect.get(target, \"size\", target);\n}\nfunction add(value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const proto = getProto(target);\n  const hadKey = proto.has.call(target, value);\n  if (!hadKey) {\n    target.add(value);\n    trigger(target, \"add\", value, value);\n  }\n  return this;\n}\nfunction set$1(key, value) {\n  value = toRaw(value);\n  const target = toRaw(this);\n  const {has: has2, get: get3} = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (true) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get3.call(target, key);\n  target.set(key, value);\n  if (!hadKey) {\n    trigger(target, \"add\", key, value);\n  } else if (hasChanged(value, oldValue)) {\n    trigger(target, \"set\", key, value, oldValue);\n  }\n  return this;\n}\nfunction deleteEntry(key) {\n  const target = toRaw(this);\n  const {has: has2, get: get3} = getProto(target);\n  let hadKey = has2.call(target, key);\n  if (!hadKey) {\n    key = toRaw(key);\n    hadKey = has2.call(target, key);\n  } else if (true) {\n    checkIdentityKeys(target, has2, key);\n  }\n  const oldValue = get3 ? get3.call(target, key) : void 0;\n  const result = target.delete(key);\n  if (hadKey) {\n    trigger(target, \"delete\", key, void 0, oldValue);\n  }\n  return result;\n}\nfunction clear() {\n  const target = toRaw(this);\n  const hadItems = target.size !== 0;\n  const oldTarget = true ? isMap(target) ? new Map(target) : new Set(target) : void 0;\n  const result = target.clear();\n  if (hadItems) {\n    trigger(target, \"clear\", void 0, void 0, oldTarget);\n  }\n  return result;\n}\nfunction createForEach(isReadonly, isShallow) {\n  return function forEach(callback, thisArg) {\n    const observed = this;\n    const target = observed[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", ITERATE_KEY);\n    return target.forEach((value, key) => {\n      return callback.call(thisArg, wrap(value), wrap(key), observed);\n    });\n  };\n}\nfunction createIterableMethod(method, isReadonly, isShallow) {\n  return function(...args) {\n    const target = this[\"__v_raw\"];\n    const rawTarget = toRaw(target);\n    const targetIsMap = isMap(rawTarget);\n    const isPair = method === \"entries\" || method === Symbol.iterator && targetIsMap;\n    const isKeyOnly = method === \"keys\" && targetIsMap;\n    const innerIterator = target[method](...args);\n    const wrap = isShallow ? toShallow : isReadonly ? toReadonly : toReactive;\n    !isReadonly && track(rawTarget, \"iterate\", isKeyOnly ? MAP_KEY_ITERATE_KEY : ITERATE_KEY);\n    return {\n      next() {\n        const {value, done} = innerIterator.next();\n        return done ? {value, done} : {\n          value: isPair ? [wrap(value[0]), wrap(value[1])] : wrap(value),\n          done\n        };\n      },\n      [Symbol.iterator]() {\n        return this;\n      }\n    };\n  };\n}\nfunction createReadonlyMethod(type) {\n  return function(...args) {\n    if (true) {\n      const key = args[0] ? `on key \"${args[0]}\" ` : ``;\n      console.warn(`${capitalize(type)} operation ${key}failed: target is readonly.`, toRaw(this));\n    }\n    return type === \"delete\" ? false : this;\n  };\n}\nvar mutableInstrumentations = {\n  get(key) {\n    return get$1(this, key);\n  },\n  get size() {\n    return size(this);\n  },\n  has: has$1,\n  add,\n  set: set$1,\n  delete: deleteEntry,\n  clear,\n  forEach: createForEach(false, false)\n};\nvar shallowInstrumentations = {\n  get(key) {\n    return get$1(this, key, false, true);\n  },\n  get size() {\n    return size(this);\n  },\n  has: has$1,\n  add,\n  set: set$1,\n  delete: deleteEntry,\n  clear,\n  forEach: createForEach(false, true)\n};\nvar readonlyInstrumentations = {\n  get(key) {\n    return get$1(this, key, true);\n  },\n  get size() {\n    return size(this, true);\n  },\n  has(key) {\n    return has$1.call(this, key, true);\n  },\n  add: createReadonlyMethod(\"add\"),\n  set: createReadonlyMethod(\"set\"),\n  delete: createReadonlyMethod(\"delete\"),\n  clear: createReadonlyMethod(\"clear\"),\n  forEach: createForEach(true, false)\n};\nvar shallowReadonlyInstrumentations = {\n  get(key) {\n    return get$1(this, key, true, true);\n  },\n  get size() {\n    return size(this, true);\n  },\n  has(key) {\n    return has$1.call(this, key, true);\n  },\n  add: createReadonlyMethod(\"add\"),\n  set: createReadonlyMethod(\"set\"),\n  delete: createReadonlyMethod(\"delete\"),\n  clear: createReadonlyMethod(\"clear\"),\n  forEach: createForEach(true, true)\n};\nvar iteratorMethods = [\"keys\", \"values\", \"entries\", Symbol.iterator];\niteratorMethods.forEach((method) => {\n  mutableInstrumentations[method] = createIterableMethod(method, false, false);\n  readonlyInstrumentations[method] = createIterableMethod(method, true, false);\n  shallowInstrumentations[method] = createIterableMethod(method, false, true);\n  shallowReadonlyInstrumentations[method] = createIterableMethod(method, true, true);\n});\nfunction createInstrumentationGetter(isReadonly, shallow) {\n  const instrumentations = shallow ? isReadonly ? shallowReadonlyInstrumentations : shallowInstrumentations : isReadonly ? readonlyInstrumentations : mutableInstrumentations;\n  return (target, key, receiver) => {\n    if (key === \"__v_isReactive\") {\n      return !isReadonly;\n    } else if (key === \"__v_isReadonly\") {\n      return isReadonly;\n    } else if (key === \"__v_raw\") {\n      return target;\n    }\n    return Reflect.get(hasOwn(instrumentations, key) && key in target ? instrumentations : target, key, receiver);\n  };\n}\nvar mutableCollectionHandlers = {\n  get: createInstrumentationGetter(false, false)\n};\nvar shallowCollectionHandlers = {\n  get: createInstrumentationGetter(false, true)\n};\nvar readonlyCollectionHandlers = {\n  get: createInstrumentationGetter(true, false)\n};\nvar shallowReadonlyCollectionHandlers = {\n  get: createInstrumentationGetter(true, true)\n};\nfunction checkIdentityKeys(target, has2, key) {\n  const rawKey = toRaw(key);\n  if (rawKey !== key && has2.call(target, rawKey)) {\n    const type = toRawType(target);\n    console.warn(`Reactive ${type} contains both the raw and reactive versions of the same object${type === `Map` ? ` as keys` : ``}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`);\n  }\n}\nvar reactiveMap = new WeakMap();\nvar shallowReactiveMap = new WeakMap();\nvar readonlyMap = new WeakMap();\nvar shallowReadonlyMap = new WeakMap();\nfunction targetTypeMap(rawType) {\n  switch (rawType) {\n    case \"Object\":\n    case \"Array\":\n      return 1;\n    case \"Map\":\n    case \"Set\":\n    case \"WeakMap\":\n    case \"WeakSet\":\n      return 2;\n    default:\n      return 0;\n  }\n}\nfunction getTargetType(value) {\n  return value[\"__v_skip\"] || !Object.isExtensible(value) ? 0 : targetTypeMap(toRawType(value));\n}\nfunction reactive2(target) {\n  if (target && target[\"__v_isReadonly\"]) {\n    return target;\n  }\n  return createReactiveObject(target, false, mutableHandlers, mutableCollectionHandlers, reactiveMap);\n}\nfunction readonly(target) {\n  return createReactiveObject(target, true, readonlyHandlers, readonlyCollectionHandlers, readonlyMap);\n}\nfunction createReactiveObject(target, isReadonly, baseHandlers, collectionHandlers, proxyMap) {\n  if (!isObject(target)) {\n    if (true) {\n      console.warn(`value cannot be made reactive: ${String(target)}`);\n    }\n    return target;\n  }\n  if (target[\"__v_raw\"] && !(isReadonly && target[\"__v_isReactive\"])) {\n    return target;\n  }\n  const existingProxy = proxyMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n  const targetType = getTargetType(target);\n  if (targetType === 0) {\n    return target;\n  }\n  const proxy = new Proxy(target, targetType === 2 ? collectionHandlers : baseHandlers);\n  proxyMap.set(target, proxy);\n  return proxy;\n}\nfunction toRaw(observed) {\n  return observed && toRaw(observed[\"__v_raw\"]) || observed;\n}\nfunction isRef(r) {\n  return Boolean(r && r.__v_isRef === true);\n}\n\n// packages/alpinejs/src/magics/$nextTick.js\nmagic(\"nextTick\", () => nextTick);\n\n// packages/alpinejs/src/magics/$dispatch.js\nmagic(\"dispatch\", (el) => dispatch.bind(dispatch, el));\n\n// packages/alpinejs/src/magics/$watch.js\nmagic(\"watch\", (el, {evaluateLater: evaluateLater2, effect: effect3}) => (key, callback) => {\n  let evaluate2 = evaluateLater2(key);\n  let firstTime = true;\n  let oldValue;\n  let effectReference = effect3(() => evaluate2((value) => {\n    JSON.stringify(value);\n    if (!firstTime) {\n      queueMicrotask(() => {\n        callback(value, oldValue);\n        oldValue = value;\n      });\n    } else {\n      oldValue = value;\n    }\n    firstTime = false;\n  }));\n  el._x_effects.delete(effectReference);\n});\n\n// packages/alpinejs/src/magics/$store.js\nmagic(\"store\", getStores);\n\n// packages/alpinejs/src/magics/$data.js\nmagic(\"data\", (el) => scope(el));\n\n// packages/alpinejs/src/magics/$root.js\nmagic(\"root\", (el) => closestRoot(el));\n\n// packages/alpinejs/src/magics/$refs.js\nmagic(\"refs\", (el) => {\n  if (el._x_refs_proxy)\n    return el._x_refs_proxy;\n  el._x_refs_proxy = mergeProxies(getArrayOfRefObject(el));\n  return el._x_refs_proxy;\n});\nfunction getArrayOfRefObject(el) {\n  let refObjects = [];\n  let currentEl = el;\n  while (currentEl) {\n    if (currentEl._x_refs)\n      refObjects.push(currentEl._x_refs);\n    currentEl = currentEl.parentNode;\n  }\n  return refObjects;\n}\n\n// packages/alpinejs/src/ids.js\nvar globalIdMemo = {};\nfunction findAndIncrementId(name) {\n  if (!globalIdMemo[name])\n    globalIdMemo[name] = 0;\n  return ++globalIdMemo[name];\n}\nfunction closestIdRoot(el, name) {\n  return findClosest(el, (element) => {\n    if (element._x_ids && element._x_ids[name])\n      return true;\n  });\n}\nfunction setIdRoot(el, name) {\n  if (!el._x_ids)\n    el._x_ids = {};\n  if (!el._x_ids[name])\n    el._x_ids[name] = findAndIncrementId(name);\n}\n\n// packages/alpinejs/src/magics/$id.js\nmagic(\"id\", (el) => (name, key = null) => {\n  let root = closestIdRoot(el, name);\n  let id = root ? root._x_ids[name] : findAndIncrementId(name);\n  return key ? `${name}-${id}-${key}` : `${name}-${id}`;\n});\n\n// packages/alpinejs/src/magics/$el.js\nmagic(\"el\", (el) => el);\n\n// packages/alpinejs/src/magics/index.js\nwarnMissingPluginMagic(\"Focus\", \"focus\", \"focus\");\nwarnMissingPluginMagic(\"Persist\", \"persist\", \"persist\");\nfunction warnMissingPluginMagic(name, magicName, slug) {\n  magic(magicName, (el) => warn(`You can't use [$${directiveName}] without first installing the \"${name}\" plugin here: https://alpinejs.dev/plugins/${slug}`, el));\n}\n\n// packages/alpinejs/src/directives/x-modelable.js\ndirective(\"modelable\", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2}) => {\n  let func = evaluateLater2(expression);\n  let innerGet = () => {\n    let result;\n    func((i) => result = i);\n    return result;\n  };\n  let evaluateInnerSet = evaluateLater2(`${expression} = __placeholder`);\n  let innerSet = (val) => evaluateInnerSet(() => {\n  }, {scope: {__placeholder: val}});\n  let initialValue = innerGet();\n  innerSet(initialValue);\n  queueMicrotask(() => {\n    if (!el._x_model)\n      return;\n    el._x_removeModelListeners[\"default\"]();\n    let outerGet = el._x_model.get;\n    let outerSet = el._x_model.set;\n    effect3(() => innerSet(outerGet()));\n    effect3(() => outerSet(innerGet()));\n  });\n});\n\n// packages/alpinejs/src/directives/x-teleport.js\ndirective(\"teleport\", (el, {expression}, {cleanup: cleanup2}) => {\n  if (el.tagName.toLowerCase() !== \"template\")\n    warn(\"x-teleport can only be used on a <template> tag\", el);\n  let target = document.querySelector(expression);\n  if (!target)\n    warn(`Cannot find x-teleport element for selector: \"${expression}\"`);\n  let clone2 = el.content.cloneNode(true).firstElementChild;\n  el._x_teleport = clone2;\n  clone2._x_teleportBack = el;\n  if (el._x_forwardEvents) {\n    el._x_forwardEvents.forEach((eventName) => {\n      clone2.addEventListener(eventName, (e) => {\n        e.stopPropagation();\n        el.dispatchEvent(new e.constructor(e.type, e));\n      });\n    });\n  }\n  addScopeToNode(clone2, {}, el);\n  mutateDom(() => {\n    target.appendChild(clone2);\n    initTree(clone2);\n    clone2._x_ignore = true;\n  });\n  cleanup2(() => clone2.remove());\n});\n\n// packages/alpinejs/src/directives/x-ignore.js\nvar handler = () => {\n};\nhandler.inline = (el, {modifiers}, {cleanup: cleanup2}) => {\n  modifiers.includes(\"self\") ? el._x_ignoreSelf = true : el._x_ignore = true;\n  cleanup2(() => {\n    modifiers.includes(\"self\") ? delete el._x_ignoreSelf : delete el._x_ignore;\n  });\n};\ndirective(\"ignore\", handler);\n\n// packages/alpinejs/src/directives/x-effect.js\ndirective(\"effect\", (el, {expression}, {effect: effect3}) => effect3(evaluateLater(el, expression)));\n\n// packages/alpinejs/src/utils/on.js\nfunction on(el, event, modifiers, callback) {\n  let listenerTarget = el;\n  let handler3 = (e) => callback(e);\n  let options = {};\n  let wrapHandler = (callback2, wrapper) => (e) => wrapper(callback2, e);\n  if (modifiers.includes(\"dot\"))\n    event = dotSyntax(event);\n  if (modifiers.includes(\"camel\"))\n    event = camelCase2(event);\n  if (modifiers.includes(\"passive\"))\n    options.passive = true;\n  if (modifiers.includes(\"capture\"))\n    options.capture = true;\n  if (modifiers.includes(\"window\"))\n    listenerTarget = window;\n  if (modifiers.includes(\"document\"))\n    listenerTarget = document;\n  if (modifiers.includes(\"prevent\"))\n    handler3 = wrapHandler(handler3, (next, e) => {\n      e.preventDefault();\n      next(e);\n    });\n  if (modifiers.includes(\"stop\"))\n    handler3 = wrapHandler(handler3, (next, e) => {\n      e.stopPropagation();\n      next(e);\n    });\n  if (modifiers.includes(\"self\"))\n    handler3 = wrapHandler(handler3, (next, e) => {\n      e.target === el && next(e);\n    });\n  if (modifiers.includes(\"away\") || modifiers.includes(\"outside\")) {\n    listenerTarget = document;\n    handler3 = wrapHandler(handler3, (next, e) => {\n      if (el.contains(e.target))\n        return;\n      if (e.target.isConnected === false)\n        return;\n      if (el.offsetWidth < 1 && el.offsetHeight < 1)\n        return;\n      if (el._x_isShown === false)\n        return;\n      next(e);\n    });\n  }\n  if (modifiers.includes(\"once\")) {\n    handler3 = wrapHandler(handler3, (next, e) => {\n      next(e);\n      listenerTarget.removeEventListener(event, handler3, options);\n    });\n  }\n  handler3 = wrapHandler(handler3, (next, e) => {\n    if (isKeyEvent(event)) {\n      if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n        return;\n      }\n    }\n    next(e);\n  });\n  if (modifiers.includes(\"debounce\")) {\n    let nextModifier = modifiers[modifiers.indexOf(\"debounce\") + 1] || \"invalid-wait\";\n    let wait = isNumeric(nextModifier.split(\"ms\")[0]) ? Number(nextModifier.split(\"ms\")[0]) : 250;\n    handler3 = debounce(handler3, wait);\n  }\n  if (modifiers.includes(\"throttle\")) {\n    let nextModifier = modifiers[modifiers.indexOf(\"throttle\") + 1] || \"invalid-wait\";\n    let wait = isNumeric(nextModifier.split(\"ms\")[0]) ? Number(nextModifier.split(\"ms\")[0]) : 250;\n    handler3 = throttle(handler3, wait);\n  }\n  listenerTarget.addEventListener(event, handler3, options);\n  return () => {\n    listenerTarget.removeEventListener(event, handler3, options);\n  };\n}\nfunction dotSyntax(subject) {\n  return subject.replace(/-/g, \".\");\n}\nfunction camelCase2(subject) {\n  return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n}\nfunction isNumeric(subject) {\n  return !Array.isArray(subject) && !isNaN(subject);\n}\nfunction kebabCase2(subject) {\n  return subject.replace(/([a-z])([A-Z])/g, \"$1-$2\").replace(/[_\\s]/, \"-\").toLowerCase();\n}\nfunction isKeyEvent(event) {\n  return [\"keydown\", \"keyup\"].includes(event);\n}\nfunction isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n  let keyModifiers = modifiers.filter((i) => {\n    return ![\"window\", \"document\", \"prevent\", \"stop\", \"once\"].includes(i);\n  });\n  if (keyModifiers.includes(\"debounce\")) {\n    let debounceIndex = keyModifiers.indexOf(\"debounce\");\n    keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || \"invalid-wait\").split(\"ms\")[0]) ? 2 : 1);\n  }\n  if (keyModifiers.length === 0)\n    return false;\n  if (keyModifiers.length === 1 && keyToModifiers(e.key).includes(keyModifiers[0]))\n    return false;\n  const systemKeyModifiers = [\"ctrl\", \"shift\", \"alt\", \"meta\", \"cmd\", \"super\"];\n  const selectedSystemKeyModifiers = systemKeyModifiers.filter((modifier) => keyModifiers.includes(modifier));\n  keyModifiers = keyModifiers.filter((i) => !selectedSystemKeyModifiers.includes(i));\n  if (selectedSystemKeyModifiers.length > 0) {\n    const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter((modifier) => {\n      if (modifier === \"cmd\" || modifier === \"super\")\n        modifier = \"meta\";\n      return e[`${modifier}Key`];\n    });\n    if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n      if (keyToModifiers(e.key).includes(keyModifiers[0]))\n        return false;\n    }\n  }\n  return true;\n}\nfunction keyToModifiers(key) {\n  if (!key)\n    return [];\n  key = kebabCase2(key);\n  let modifierToKeyMap = {\n    ctrl: \"control\",\n    slash: \"/\",\n    space: \"-\",\n    spacebar: \"-\",\n    cmd: \"meta\",\n    esc: \"escape\",\n    up: \"arrow-up\",\n    down: \"arrow-down\",\n    left: \"arrow-left\",\n    right: \"arrow-right\",\n    period: \".\",\n    equal: \"=\"\n  };\n  modifierToKeyMap[key] = key;\n  return Object.keys(modifierToKeyMap).map((modifier) => {\n    if (modifierToKeyMap[modifier] === key)\n      return modifier;\n  }).filter((modifier) => modifier);\n}\n\n// packages/alpinejs/src/directives/x-model.js\ndirective(\"model\", (el, {modifiers, expression}, {effect: effect3, cleanup: cleanup2}) => {\n  let evaluate2 = evaluateLater(el, expression);\n  let assignmentExpression = `${expression} = rightSideOfExpression($event, ${expression})`;\n  let evaluateAssignment = evaluateLater(el, assignmentExpression);\n  var event = el.tagName.toLowerCase() === \"select\" || [\"checkbox\", \"radio\"].includes(el.type) || modifiers.includes(\"lazy\") ? \"change\" : \"input\";\n  let assigmentFunction = generateAssignmentFunction(el, modifiers, expression);\n  let removeListener = on(el, event, modifiers, (e) => {\n    evaluateAssignment(() => {\n    }, {scope: {\n      $event: e,\n      rightSideOfExpression: assigmentFunction\n    }});\n  });\n  if (!el._x_removeModelListeners)\n    el._x_removeModelListeners = {};\n  el._x_removeModelListeners[\"default\"] = removeListener;\n  cleanup2(() => el._x_removeModelListeners[\"default\"]());\n  let evaluateSetModel = evaluateLater(el, `${expression} = __placeholder`);\n  el._x_model = {\n    get() {\n      let result;\n      evaluate2((value) => result = value);\n      return result;\n    },\n    set(value) {\n      evaluateSetModel(() => {\n      }, {scope: {__placeholder: value}});\n    }\n  };\n  el._x_forceModelUpdate = () => {\n    evaluate2((value) => {\n      if (value === void 0 && expression.match(/\\./))\n        value = \"\";\n      window.fromModel = true;\n      mutateDom(() => bind(el, \"value\", value));\n      delete window.fromModel;\n    });\n  };\n  effect3(() => {\n    if (modifiers.includes(\"unintrusive\") && document.activeElement.isSameNode(el))\n      return;\n    el._x_forceModelUpdate();\n  });\n});\nfunction generateAssignmentFunction(el, modifiers, expression) {\n  if (el.type === \"radio\") {\n    mutateDom(() => {\n      if (!el.hasAttribute(\"name\"))\n        el.setAttribute(\"name\", expression);\n    });\n  }\n  return (event, currentValue) => {\n    return mutateDom(() => {\n      if (event instanceof CustomEvent && event.detail !== void 0) {\n        return event.detail || event.target.value;\n      } else if (el.type === \"checkbox\") {\n        if (Array.isArray(currentValue)) {\n          let newValue = modifiers.includes(\"number\") ? safeParseNumber(event.target.value) : event.target.value;\n          return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter((el2) => !checkedAttrLooseCompare2(el2, newValue));\n        } else {\n          return event.target.checked;\n        }\n      } else if (el.tagName.toLowerCase() === \"select\" && el.multiple) {\n        return modifiers.includes(\"number\") ? Array.from(event.target.selectedOptions).map((option) => {\n          let rawValue = option.value || option.text;\n          return safeParseNumber(rawValue);\n        }) : Array.from(event.target.selectedOptions).map((option) => {\n          return option.value || option.text;\n        });\n      } else {\n        let rawValue = event.target.value;\n        return modifiers.includes(\"number\") ? safeParseNumber(rawValue) : modifiers.includes(\"trim\") ? rawValue.trim() : rawValue;\n      }\n    });\n  };\n}\nfunction safeParseNumber(rawValue) {\n  let number = rawValue ? parseFloat(rawValue) : null;\n  return isNumeric2(number) ? number : rawValue;\n}\nfunction checkedAttrLooseCompare2(valueA, valueB) {\n  return valueA == valueB;\n}\nfunction isNumeric2(subject) {\n  return !Array.isArray(subject) && !isNaN(subject);\n}\n\n// packages/alpinejs/src/directives/x-cloak.js\ndirective(\"cloak\", (el) => queueMicrotask(() => mutateDom(() => el.removeAttribute(prefix(\"cloak\")))));\n\n// packages/alpinejs/src/directives/x-init.js\naddInitSelector(() => `[${prefix(\"init\")}]`);\ndirective(\"init\", skipDuringClone((el, {expression}, {evaluate: evaluate2}) => {\n  if (typeof expression === \"string\") {\n    return !!expression.trim() && evaluate2(expression, {}, false);\n  }\n  return evaluate2(expression, {}, false);\n}));\n\n// packages/alpinejs/src/directives/x-text.js\ndirective(\"text\", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2}) => {\n  let evaluate2 = evaluateLater2(expression);\n  effect3(() => {\n    evaluate2((value) => {\n      mutateDom(() => {\n        el.textContent = value;\n      });\n    });\n  });\n});\n\n// packages/alpinejs/src/directives/x-html.js\ndirective(\"html\", (el, {expression}, {effect: effect3, evaluateLater: evaluateLater2}) => {\n  let evaluate2 = evaluateLater2(expression);\n  effect3(() => {\n    evaluate2((value) => {\n      mutateDom(() => {\n        el.innerHTML = value;\n        el._x_ignoreSelf = true;\n        initTree(el);\n        delete el._x_ignoreSelf;\n      });\n    });\n  });\n});\n\n// packages/alpinejs/src/directives/x-bind.js\nmapAttributes(startingWith(\":\", into(prefix(\"bind:\"))));\ndirective(\"bind\", (el, {value, modifiers, expression, original}, {effect: effect3}) => {\n  if (!value) {\n    let bindingProviders = {};\n    injectBindingProviders(bindingProviders);\n    let getBindings = evaluateLater(el, expression);\n    getBindings((bindings) => {\n      applyBindingsObject(el, bindings, original);\n    }, {scope: bindingProviders});\n    return;\n  }\n  if (value === \"key\")\n    return storeKeyForXFor(el, expression);\n  let evaluate2 = evaluateLater(el, expression);\n  effect3(() => evaluate2((result) => {\n    if (result === void 0 && typeof expression === \"string\" && expression.match(/\\./)) {\n      result = \"\";\n    }\n    mutateDom(() => bind(el, value, result, modifiers));\n  }));\n});\nfunction storeKeyForXFor(el, expression) {\n  el._x_keyExpression = expression;\n}\n\n// packages/alpinejs/src/directives/x-data.js\naddRootSelector(() => `[${prefix(\"data\")}]`);\ndirective(\"data\", skipDuringClone((el, {expression}, {cleanup: cleanup2}) => {\n  expression = expression === \"\" ? \"{}\" : expression;\n  let magicContext = {};\n  injectMagics(magicContext, el);\n  let dataProviderContext = {};\n  injectDataProviders(dataProviderContext, magicContext);\n  let data2 = evaluate(el, expression, {scope: dataProviderContext});\n  if (data2 === void 0)\n    data2 = {};\n  injectMagics(data2, el);\n  let reactiveData = reactive(data2);\n  initInterceptors(reactiveData);\n  let undo = addScopeToNode(el, reactiveData);\n  reactiveData[\"init\"] && evaluate(el, reactiveData[\"init\"]);\n  cleanup2(() => {\n    reactiveData[\"destroy\"] && evaluate(el, reactiveData[\"destroy\"]);\n    undo();\n  });\n}));\n\n// packages/alpinejs/src/directives/x-show.js\ndirective(\"show\", (el, {modifiers, expression}, {effect: effect3}) => {\n  let evaluate2 = evaluateLater(el, expression);\n  if (!el._x_doHide)\n    el._x_doHide = () => {\n      mutateDom(() => {\n        el.style.setProperty(\"display\", \"none\", modifiers.includes(\"important\") ? \"important\" : void 0);\n      });\n    };\n  if (!el._x_doShow)\n    el._x_doShow = () => {\n      mutateDom(() => {\n        if (el.style.length === 1 && el.style.display === \"none\") {\n          el.removeAttribute(\"style\");\n        } else {\n          el.style.removeProperty(\"display\");\n        }\n      });\n    };\n  let hide = () => {\n    el._x_doHide();\n    el._x_isShown = false;\n  };\n  let show = () => {\n    el._x_doShow();\n    el._x_isShown = true;\n  };\n  let clickAwayCompatibleShow = () => setTimeout(show);\n  let toggle = once((value) => value ? show() : hide(), (value) => {\n    if (typeof el._x_toggleAndCascadeWithTransitions === \"function\") {\n      el._x_toggleAndCascadeWithTransitions(el, value, show, hide);\n    } else {\n      value ? clickAwayCompatibleShow() : hide();\n    }\n  });\n  let oldValue;\n  let firstTime = true;\n  effect3(() => evaluate2((value) => {\n    if (!firstTime && value === oldValue)\n      return;\n    if (modifiers.includes(\"immediate\"))\n      value ? clickAwayCompatibleShow() : hide();\n    toggle(value);\n    oldValue = value;\n    firstTime = false;\n  }));\n});\n\n// packages/alpinejs/src/directives/x-for.js\ndirective(\"for\", (el, {expression}, {effect: effect3, cleanup: cleanup2}) => {\n  let iteratorNames = parseForExpression(expression);\n  let evaluateItems = evaluateLater(el, iteratorNames.items);\n  let evaluateKey = evaluateLater(el, el._x_keyExpression || \"index\");\n  el._x_prevKeys = [];\n  el._x_lookup = {};\n  effect3(() => loop(el, iteratorNames, evaluateItems, evaluateKey));\n  cleanup2(() => {\n    Object.values(el._x_lookup).forEach((el2) => el2.remove());\n    delete el._x_prevKeys;\n    delete el._x_lookup;\n  });\n});\nfunction loop(el, iteratorNames, evaluateItems, evaluateKey) {\n  let isObject2 = (i) => typeof i === \"object\" && !Array.isArray(i);\n  let templateEl = el;\n  evaluateItems((items) => {\n    if (isNumeric3(items) && items >= 0) {\n      items = Array.from(Array(items).keys(), (i) => i + 1);\n    }\n    if (items === void 0)\n      items = [];\n    let lookup = el._x_lookup;\n    let prevKeys = el._x_prevKeys;\n    let scopes = [];\n    let keys = [];\n    if (isObject2(items)) {\n      items = Object.entries(items).map(([key, value]) => {\n        let scope2 = getIterationScopeVariables(iteratorNames, value, key, items);\n        evaluateKey((value2) => keys.push(value2), {scope: {index: key, ...scope2}});\n        scopes.push(scope2);\n      });\n    } else {\n      for (let i = 0; i < items.length; i++) {\n        let scope2 = getIterationScopeVariables(iteratorNames, items[i], i, items);\n        evaluateKey((value) => keys.push(value), {scope: {index: i, ...scope2}});\n        scopes.push(scope2);\n      }\n    }\n    let adds = [];\n    let moves = [];\n    let removes = [];\n    let sames = [];\n    for (let i = 0; i < prevKeys.length; i++) {\n      let key = prevKeys[i];\n      if (keys.indexOf(key) === -1)\n        removes.push(key);\n    }\n    prevKeys = prevKeys.filter((key) => !removes.includes(key));\n    let lastKey = \"template\";\n    for (let i = 0; i < keys.length; i++) {\n      let key = keys[i];\n      let prevIndex = prevKeys.indexOf(key);\n      if (prevIndex === -1) {\n        prevKeys.splice(i, 0, key);\n        adds.push([lastKey, i]);\n      } else if (prevIndex !== i) {\n        let keyInSpot = prevKeys.splice(i, 1)[0];\n        let keyForSpot = prevKeys.splice(prevIndex - 1, 1)[0];\n        prevKeys.splice(i, 0, keyForSpot);\n        prevKeys.splice(prevIndex, 0, keyInSpot);\n        moves.push([keyInSpot, keyForSpot]);\n      } else {\n        sames.push(key);\n      }\n      lastKey = key;\n    }\n    for (let i = 0; i < removes.length; i++) {\n      let key = removes[i];\n      if (!!lookup[key]._x_effects) {\n        lookup[key]._x_effects.forEach(dequeueJob);\n      }\n      lookup[key].remove();\n      lookup[key] = null;\n      delete lookup[key];\n    }\n    for (let i = 0; i < moves.length; i++) {\n      let [keyInSpot, keyForSpot] = moves[i];\n      let elInSpot = lookup[keyInSpot];\n      let elForSpot = lookup[keyForSpot];\n      let marker = document.createElement(\"div\");\n      mutateDom(() => {\n        elForSpot.after(marker);\n        elInSpot.after(elForSpot);\n        elForSpot._x_currentIfEl && elForSpot.after(elForSpot._x_currentIfEl);\n        marker.before(elInSpot);\n        elInSpot._x_currentIfEl && elInSpot.after(elInSpot._x_currentIfEl);\n        marker.remove();\n      });\n      refreshScope(elForSpot, scopes[keys.indexOf(keyForSpot)]);\n    }\n    for (let i = 0; i < adds.length; i++) {\n      let [lastKey2, index] = adds[i];\n      let lastEl = lastKey2 === \"template\" ? templateEl : lookup[lastKey2];\n      if (lastEl._x_currentIfEl)\n        lastEl = lastEl._x_currentIfEl;\n      let scope2 = scopes[index];\n      let key = keys[index];\n      let clone2 = document.importNode(templateEl.content, true).firstElementChild;\n      addScopeToNode(clone2, reactive(scope2), templateEl);\n      mutateDom(() => {\n        lastEl.after(clone2);\n        initTree(clone2);\n      });\n      if (typeof key === \"object\") {\n        warn(\"x-for key cannot be an object, it must be a string or an integer\", templateEl);\n      }\n      lookup[key] = clone2;\n    }\n    for (let i = 0; i < sames.length; i++) {\n      refreshScope(lookup[sames[i]], scopes[keys.indexOf(sames[i])]);\n    }\n    templateEl._x_prevKeys = keys;\n  });\n}\nfunction parseForExpression(expression) {\n  let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\n  let stripParensRE = /^\\s*\\(|\\)\\s*$/g;\n  let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\n  let inMatch = expression.match(forAliasRE);\n  if (!inMatch)\n    return;\n  let res = {};\n  res.items = inMatch[2].trim();\n  let item = inMatch[1].replace(stripParensRE, \"\").trim();\n  let iteratorMatch = item.match(forIteratorRE);\n  if (iteratorMatch) {\n    res.item = item.replace(forIteratorRE, \"\").trim();\n    res.index = iteratorMatch[1].trim();\n    if (iteratorMatch[2]) {\n      res.collection = iteratorMatch[2].trim();\n    }\n  } else {\n    res.item = item;\n  }\n  return res;\n}\nfunction getIterationScopeVariables(iteratorNames, item, index, items) {\n  let scopeVariables = {};\n  if (/^\\[.*\\]$/.test(iteratorNames.item) && Array.isArray(item)) {\n    let names = iteratorNames.item.replace(\"[\", \"\").replace(\"]\", \"\").split(\",\").map((i) => i.trim());\n    names.forEach((name, i) => {\n      scopeVariables[name] = item[i];\n    });\n  } else if (/^\\{.*\\}$/.test(iteratorNames.item) && !Array.isArray(item) && typeof item === \"object\") {\n    let names = iteratorNames.item.replace(\"{\", \"\").replace(\"}\", \"\").split(\",\").map((i) => i.trim());\n    names.forEach((name) => {\n      scopeVariables[name] = item[name];\n    });\n  } else {\n    scopeVariables[iteratorNames.item] = item;\n  }\n  if (iteratorNames.index)\n    scopeVariables[iteratorNames.index] = index;\n  if (iteratorNames.collection)\n    scopeVariables[iteratorNames.collection] = items;\n  return scopeVariables;\n}\nfunction isNumeric3(subject) {\n  return !Array.isArray(subject) && !isNaN(subject);\n}\n\n// packages/alpinejs/src/directives/x-ref.js\nfunction handler2() {\n}\nhandler2.inline = (el, {expression}, {cleanup: cleanup2}) => {\n  let root = closestRoot(el);\n  if (!root._x_refs)\n    root._x_refs = {};\n  root._x_refs[expression] = el;\n  cleanup2(() => delete root._x_refs[expression]);\n};\ndirective(\"ref\", handler2);\n\n// packages/alpinejs/src/directives/x-if.js\ndirective(\"if\", (el, {expression}, {effect: effect3, cleanup: cleanup2}) => {\n  let evaluate2 = evaluateLater(el, expression);\n  let show = () => {\n    if (el._x_currentIfEl)\n      return el._x_currentIfEl;\n    let clone2 = el.content.cloneNode(true).firstElementChild;\n    addScopeToNode(clone2, {}, el);\n    mutateDom(() => {\n      el.after(clone2);\n      initTree(clone2);\n    });\n    el._x_currentIfEl = clone2;\n    el._x_undoIf = () => {\n      walk(clone2, (node) => {\n        if (!!node._x_effects) {\n          node._x_effects.forEach(dequeueJob);\n        }\n      });\n      clone2.remove();\n      delete el._x_currentIfEl;\n    };\n    return clone2;\n  };\n  let hide = () => {\n    if (!el._x_undoIf)\n      return;\n    el._x_undoIf();\n    delete el._x_undoIf;\n  };\n  effect3(() => evaluate2((value) => {\n    value ? show() : hide();\n  }));\n  cleanup2(() => el._x_undoIf && el._x_undoIf());\n});\n\n// packages/alpinejs/src/directives/x-id.js\ndirective(\"id\", (el, {expression}, {evaluate: evaluate2}) => {\n  let names = evaluate2(expression);\n  names.forEach((name) => setIdRoot(el, name));\n});\n\n// packages/alpinejs/src/directives/x-on.js\nmapAttributes(startingWith(\"@\", into(prefix(\"on:\"))));\ndirective(\"on\", skipDuringClone((el, {value, modifiers, expression}, {cleanup: cleanup2}) => {\n  let evaluate2 = expression ? evaluateLater(el, expression) : () => {\n  };\n  if (el.tagName.toLowerCase() === \"template\") {\n    if (!el._x_forwardEvents)\n      el._x_forwardEvents = [];\n    if (!el._x_forwardEvents.includes(value))\n      el._x_forwardEvents.push(value);\n  }\n  let removeListener = on(el, value, modifiers, (e) => {\n    evaluate2(() => {\n    }, {scope: {$event: e}, params: [e]});\n  });\n  cleanup2(() => removeListener());\n}));\n\n// packages/alpinejs/src/directives/index.js\nwarnMissingPluginDirective(\"Collapse\", \"collapse\", \"collapse\");\nwarnMissingPluginDirective(\"Intersect\", \"intersect\", \"intersect\");\nwarnMissingPluginDirective(\"Focus\", \"trap\", \"focus\");\nwarnMissingPluginDirective(\"Mask\", \"mask\", \"mask\");\nfunction warnMissingPluginDirective(name, directiveName2, slug) {\n  directive(directiveName2, (el) => warn(`You can't use [x-${directiveName2}] without first installing the \"${name}\" plugin here: https://alpinejs.dev/plugins/${slug}`, el));\n}\n\n// packages/alpinejs/src/index.js\nalpine_default.setEvaluator(normalEvaluator);\nalpine_default.setReactivityEngine({reactive: reactive2, effect: effect2, release: stop, raw: toRaw});\nvar src_default = alpine_default;\n\n// packages/alpinejs/builds/module.js\nvar module_default = src_default;\nexport {\n  module_default as default\n};\n","import 'bootstrap';\nimport 'fullcalendar/main';\nimport Alpine from 'alpinejs';\nimport tinymce from \"tinymce\";\n\nwindow.Alpine = Alpine;\n\nAlpine.start();\n\n$(\".card\").hover(function() {\n        var vSrc =  $(this).find('iframe').data('video');\n        var video = $(this).find('iframe');\n        video.attr('src',vSrc);\n        setTimeout(function(){ player.unMute(); }, 1000);\n    },\n    function() {\n        $(this).find('iframe').attr('src','');\n    });\n\n$('.view').click(function(){\n    var el = $(this);\n\n    if(el.hasClass('series_lacasa') == true){\n        $('.episodes .episode').each(function(){\n            var toShow = $(this).data('lacasa');\n            $(this).css('background','url('+toShow+') no-repeat center/cover');\n        });\n    } else if (el.hasClass('series_got') == true) {\n        $('.episodes .episode').each(function(){\n            var toShow = $(this).data('got');\n            $(this).css('background','url('+toShow+') no-repeat center/cover');\n        });\n    }  else if (el.hasClass('series_vikings') == true) {\n        $('.episodes .episode').each(function(){\n            var toShow = $(this).data('vikings');\n            $(this).css('background','url('+toShow+') no-repeat center/cover');\n        });\n    }\n\n    $('.fullserie').addClass('active');\n});\n\n$('.fullserie .close').click(function(){\n    $('.fullserie').removeClass('active');\n});\n","/*!\nFullCalendar v5.11.3\nDocs & License: https://fullcalendar.io/\n(c) 2022 Adam Shaw\n*/\nvar FullCalendar = (function (exports) {\n    'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __spreadArray(to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || from);\r\n    }\n\n    var n,u,i$1,t,o,r$1={},f$1=[],e$1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c$1(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n);}function a$1(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v$1(n,f,i,t,null)}function v$1(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return {current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l;}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return \"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b$1.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i$1)(b$1);}function b$1(){for(var n;b$1.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c$1({},t)).__v=t.__v+1,I$1(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T$1(u,t),t.__e!=o&&_(t)));});}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f$1,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v$1(null,k,null,null,k):Array.isArray(k)?v$1(y,{children:k},null,null,null):k.__b>0?v$1(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null;}I$1(n,k,_=_||r$1,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g$1(k,s,n):s=x$1(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_));}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L$1(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h]);}function g$1(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g$1(t,l,u):x$1(u,t,t,n.__k,t.__e,l));return l}function w$1(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w$1(n,l);}):l.push(n)),l}function x$1(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else {for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o;}return void 0!==r?r:t.nextSibling}function A$1(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C$1(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C$1(n,o,l[o],u[o],i);}function P$1(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e$1.test(l)?u:u+\"px\";}function C$1(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else {if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P$1(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P$1(n.style,l,u[l]);}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H$1:$$1,o):n.removeEventListener(l,o?H$1:$$1,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l));}}function $$1(l){this.l[l.type+!1](n.event?n.event(l):l);}function H$1(l){this.l[l.type+!0](n.event?n.event(l):l);}function I$1(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M$1),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c$1({},v.__s)),c$1(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else {if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u);}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k);});}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c$1(c$1({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1;}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j$2(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u);}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i);}}function T$1(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u);});}catch(l){n.__e(l,u.__v);}});}function j$2(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1;}if(null===_)p===d||c&&n.data===d||(n.data=d);else {if(o=o&&f$1.slice.call(n.childNodes),v=(p=u.props||r$1).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"));}if(A$1(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C$1(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C$1(n,\"checked\",k,p.checked,!1));}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u;}catch(l){n.__e(l,i);}}function L$1(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount();}catch(l){n.__e(l,u);}t.base=t.__P=null;}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L$1(t[r],u,i);null!=o&&s(o);}function M$1(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I$1(u,l=(!t&&i||u).__k=a$1(y,null,[l]),o||r$1,r$1,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f$1.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T$1(e,l);}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k);},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n);};}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l;}throw n},__v:0},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c$1({},this.state),\"function\"==typeof n&&(n=n(c$1({},u),this.props)),n&&c$1(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this));},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this));},p.prototype.render=y,u=[],i$1=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b$1.__r=0,o=0;\n\n    var r,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j$1),t.__H.__h=[];}catch(u){t.__H.__h=[],n.__e(u,t.__v);}}),i=[];}n.__b=function(n){c&&c(n);},n.__r=function(n){f&&f(n);var r=(n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j$1),r.__h=[]);},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n);},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u));})(x));},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return !n.__||j$1(n)});}catch(r){u.some(function(n){n.__h&&(n.__h=[]);}),u=[],n.__e(r,t.__v);}}),a&&a(t,u);},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g);}catch(t){n.__e(t,u.__v);}};var b=\"function\"==typeof requestAnimationFrame;function g(n){\"function\"==typeof n.__c&&n.__c();}function j$1(n){n.__c=n.__();}\n\n    function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return !0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return !0;return !1}function E(n){this.props=n;}(E.prototype=new p).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=n.__b;n.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n);};var A=n.__e;n.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e);};var O=n.unmount;function L(){this.__u=0,this.t=null,this.__b=null;}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function F(){this.u=null,this.o=null;}n.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n);},(L.prototype=new p).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l());};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O);}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate();}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i);},L.prototype.componentWillUnmount=function(){this.t=[];},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c();}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P);}this.__b=null;}var u=t.__e&&a$1(y,null,n.fallback);return u&&(u.__h=null),[a$1(y,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2];}};function T(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i;t.componentWillUnmount=function(){N(null,t.l),t.l=null,t.i=null;},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n);},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n);},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n);}}),N(a$1(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount();}function I(n,t){return a$1(j,{__v:n,i:t})}(F.prototype=new p).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u();};e?e(o):o();}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=w$1(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){M(n,e,t);});};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return (\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};p.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(p.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t});}});});var H=n.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}n.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var G={configurable:!0,get:function(){return this.class}},J=n.vnode;n.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o);}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=w$1(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value);})),\"select\"==t&&null!=r.defaultValue&&(r.value=w$1(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value;})),n.props=r;}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n);};var K=n.__r;n.__r=function(n){K&&K(n);};\"object\"==typeof performance&&\"function\"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()};\n\n    var globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\n    if (globalObj.FullCalendarVDom) {\n        console.warn('FullCalendar VDOM already loaded');\n    }\n    else {\n        globalObj.FullCalendarVDom = {\n            Component: p,\n            createElement: a$1,\n            render: N,\n            createRef: h,\n            Fragment: y,\n            createContext: createContext$1,\n            createPortal: I,\n            flushSync: flushSync$1,\n            unmountComponentAtNode: unmountComponentAtNode$1,\n        };\n    }\n    // HACKS...\n    // TODO: lock version\n    // TODO: link gh issues\n    function flushSync$1(runBeforeFlush) {\n        runBeforeFlush();\n        var oldDebounceRendering = n.debounceRendering; // orig\n        var callbackQ = [];\n        function execCallbackSync(callback) {\n            callbackQ.push(callback);\n        }\n        n.debounceRendering = execCallbackSync;\n        N(a$1(FakeComponent, {}), document.createElement('div'));\n        while (callbackQ.length) {\n            callbackQ.shift()();\n        }\n        n.debounceRendering = oldDebounceRendering;\n    }\n    var FakeComponent = /** @class */ (function (_super) {\n        __extends(FakeComponent, _super);\n        function FakeComponent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        FakeComponent.prototype.render = function () { return a$1('div', {}); };\n        FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n        return FakeComponent;\n    }(p));\n    function createContext$1(defaultValue) {\n        var ContextType = q(defaultValue);\n        var origProvider = ContextType.Provider;\n        ContextType.Provider = function () {\n            var _this = this;\n            var isNew = !this.getChildContext;\n            var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            if (isNew) {\n                var subs_1 = [];\n                this.shouldComponentUpdate = function (_props) {\n                    if (_this.props.value !== _props.value) {\n                        subs_1.forEach(function (c) {\n                            c.context = _props.value;\n                            c.forceUpdate();\n                        });\n                    }\n                };\n                this.sub = function (c) {\n                    subs_1.push(c);\n                    var old = c.componentWillUnmount;\n                    c.componentWillUnmount = function () {\n                        subs_1.splice(subs_1.indexOf(c), 1);\n                        old && old.call(c);\n                    };\n                };\n            }\n            return children;\n        };\n        return ContextType;\n    }\n    function unmountComponentAtNode$1(node) {\n        N(null, node);\n    }\n\n    // no public types yet. when there are, export from:\n    // import {} from './api-type-deps'\n    var EventSourceApi = /** @class */ (function () {\n        function EventSourceApi(context, internalEventSource) {\n            this.context = context;\n            this.internalEventSource = internalEventSource;\n        }\n        EventSourceApi.prototype.remove = function () {\n            this.context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n                sourceId: this.internalEventSource.sourceId,\n            });\n        };\n        EventSourceApi.prototype.refetch = function () {\n            this.context.dispatch({\n                type: 'FETCH_EVENT_SOURCES',\n                sourceIds: [this.internalEventSource.sourceId],\n                isRefetch: true,\n            });\n        };\n        Object.defineProperty(EventSourceApi.prototype, \"id\", {\n            get: function () {\n                return this.internalEventSource.publicId;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventSourceApi.prototype, \"url\", {\n            get: function () {\n                return this.internalEventSource.meta.url;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventSourceApi.prototype, \"format\", {\n            get: function () {\n                return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return EventSourceApi;\n    }());\n\n    function removeElement(el) {\n        if (el.parentNode) {\n            el.parentNode.removeChild(el);\n        }\n    }\n    // Querying\n    // ----------------------------------------------------------------------------------------------------------------\n    function elementClosest(el, selector) {\n        if (el.closest) {\n            return el.closest(selector);\n            // really bad fallback for IE\n            // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n        }\n        if (!document.documentElement.contains(el)) {\n            return null;\n        }\n        do {\n            if (elementMatches(el, selector)) {\n                return el;\n            }\n            el = (el.parentElement || el.parentNode);\n        } while (el !== null && el.nodeType === 1);\n        return null;\n    }\n    function elementMatches(el, selector) {\n        var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n        return method.call(el, selector);\n    }\n    // accepts multiple subject els\n    // returns a real array. good for methods like forEach\n    // TODO: accept the document\n    function findElements(container, selector) {\n        var containers = container instanceof HTMLElement ? [container] : container;\n        var allMatches = [];\n        for (var i = 0; i < containers.length; i += 1) {\n            var matches = containers[i].querySelectorAll(selector);\n            for (var j = 0; j < matches.length; j += 1) {\n                allMatches.push(matches[j]);\n            }\n        }\n        return allMatches;\n    }\n    // accepts multiple subject els\n    // only queries direct child elements // TODO: rename to findDirectChildren!\n    function findDirectChildren(parent, selector) {\n        var parents = parent instanceof HTMLElement ? [parent] : parent;\n        var allMatches = [];\n        for (var i = 0; i < parents.length; i += 1) {\n            var childNodes = parents[i].children; // only ever elements\n            for (var j = 0; j < childNodes.length; j += 1) {\n                var childNode = childNodes[j];\n                if (!selector || elementMatches(childNode, selector)) {\n                    allMatches.push(childNode);\n                }\n            }\n        }\n        return allMatches;\n    }\n    // Style\n    // ----------------------------------------------------------------------------------------------------------------\n    var PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\n    function applyStyle(el, props) {\n        for (var propName in props) {\n            applyStyleProp(el, propName, props[propName]);\n        }\n    }\n    function applyStyleProp(el, name, val) {\n        if (val == null) {\n            el.style[name] = '';\n        }\n        else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n            el.style[name] = val + \"px\";\n        }\n        else {\n            el.style[name] = val;\n        }\n    }\n    // Event Handling\n    // ----------------------------------------------------------------------------------------------------------------\n    // if intercepting bubbled events at the document/window/body level,\n    // and want to see originating element (the 'target'), use this util instead\n    // of `ev.target` because it goes within web-component boundaries.\n    function getEventTargetViaRoot(ev) {\n        var _a, _b;\n        return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n    }\n    // Shadow DOM consuderations\n    // ----------------------------------------------------------------------------------------------------------------\n    function getElRoot(el) {\n        return el.getRootNode ? el.getRootNode() : document;\n    }\n    // Unique ID for DOM attribute\n    var guid$1 = 0;\n    function getUniqueDomId() {\n        guid$1 += 1;\n        return 'fc-dom-' + guid$1;\n    }\n\n    // Stops a mouse/touch event from doing it's native browser action\n    function preventDefault(ev) {\n        ev.preventDefault();\n    }\n    // Event Delegation\n    // ----------------------------------------------------------------------------------------------------------------\n    function buildDelegationHandler(selector, handler) {\n        return function (ev) {\n            var matchedChild = elementClosest(ev.target, selector);\n            if (matchedChild) {\n                handler.call(matchedChild, ev, matchedChild);\n            }\n        };\n    }\n    function listenBySelector(container, eventType, selector, handler) {\n        var attachedHandler = buildDelegationHandler(selector, handler);\n        container.addEventListener(eventType, attachedHandler);\n        return function () {\n            container.removeEventListener(eventType, attachedHandler);\n        };\n    }\n    function listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n        var currentMatchedChild;\n        return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n            if (matchedChild !== currentMatchedChild) {\n                currentMatchedChild = matchedChild;\n                onMouseEnter(mouseOverEv, matchedChild);\n                var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                    currentMatchedChild = null;\n                    onMouseLeave(mouseLeaveEv, matchedChild);\n                    matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n                };\n                // listen to the next mouseleave, and then unattach\n                matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n            }\n        });\n    }\n    // Animation\n    // ----------------------------------------------------------------------------------------------------------------\n    var transitionEventNames = [\n        'webkitTransitionEnd',\n        'otransitionend',\n        'oTransitionEnd',\n        'msTransitionEnd',\n        'transitionend',\n    ];\n    // triggered only when the next single subsequent transition finishes\n    function whenTransitionDone(el, callback) {\n        var realCallback = function (ev) {\n            callback(ev);\n            transitionEventNames.forEach(function (eventName) {\n                el.removeEventListener(eventName, realCallback);\n            });\n        };\n        transitionEventNames.forEach(function (eventName) {\n            el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n        });\n    }\n    // ARIA workarounds\n    // ----------------------------------------------------------------------------------------------------------------\n    function createAriaClickAttrs(handler) {\n        return __assign({ onClick: handler }, createAriaKeyboardAttrs(handler));\n    }\n    function createAriaKeyboardAttrs(handler) {\n        return {\n            tabIndex: 0,\n            onKeyDown: function (ev) {\n                if (ev.key === 'Enter' || ev.key === ' ') {\n                    handler(ev);\n                    ev.preventDefault(); // if space, don't scroll down page\n                }\n            },\n        };\n    }\n\n    var guidNumber = 0;\n    function guid() {\n        guidNumber += 1;\n        return String(guidNumber);\n    }\n    /* FullCalendar-specific DOM Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    // Make the mouse cursor express that an event is not allowed in the current area\n    function disableCursor() {\n        document.body.classList.add('fc-not-allowed');\n    }\n    // Returns the mouse cursor to its original look\n    function enableCursor() {\n        document.body.classList.remove('fc-not-allowed');\n    }\n    /* Selection\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function preventSelection(el) {\n        el.classList.add('fc-unselectable');\n        el.addEventListener('selectstart', preventDefault);\n    }\n    function allowSelection(el) {\n        el.classList.remove('fc-unselectable');\n        el.removeEventListener('selectstart', preventDefault);\n    }\n    /* Context Menu\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function preventContextMenu(el) {\n        el.addEventListener('contextmenu', preventDefault);\n    }\n    function allowContextMenu(el) {\n        el.removeEventListener('contextmenu', preventDefault);\n    }\n    function parseFieldSpecs(input) {\n        var specs = [];\n        var tokens = [];\n        var i;\n        var token;\n        if (typeof input === 'string') {\n            tokens = input.split(/\\s*,\\s*/);\n        }\n        else if (typeof input === 'function') {\n            tokens = [input];\n        }\n        else if (Array.isArray(input)) {\n            tokens = input;\n        }\n        for (i = 0; i < tokens.length; i += 1) {\n            token = tokens[i];\n            if (typeof token === 'string') {\n                specs.push(token.charAt(0) === '-' ?\n                    { field: token.substring(1), order: -1 } :\n                    { field: token, order: 1 });\n            }\n            else if (typeof token === 'function') {\n                specs.push({ func: token });\n            }\n        }\n        return specs;\n    }\n    function compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n        var i;\n        var cmp;\n        for (i = 0; i < fieldSpecs.length; i += 1) {\n            cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n            if (cmp) {\n                return cmp;\n            }\n        }\n        return 0;\n    }\n    function compareByFieldSpec(obj0, obj1, fieldSpec) {\n        if (fieldSpec.func) {\n            return fieldSpec.func(obj0, obj1);\n        }\n        return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n            * (fieldSpec.order || 1);\n    }\n    function flexibleCompare(a, b) {\n        if (!a && !b) {\n            return 0;\n        }\n        if (b == null) {\n            return -1;\n        }\n        if (a == null) {\n            return 1;\n        }\n        if (typeof a === 'string' || typeof b === 'string') {\n            return String(a).localeCompare(String(b));\n        }\n        return a - b;\n    }\n    /* String Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function padStart(val, len) {\n        var s = String(val);\n        return '000'.substr(0, len - s.length) + s;\n    }\n    function formatWithOrdinals(formatter, args, fallbackText) {\n        if (typeof formatter === 'function') {\n            return formatter.apply(void 0, args);\n        }\n        if (typeof formatter === 'string') { // non-blank string\n            return args.reduce(function (str, arg, index) { return (str.replace('$' + index, arg || '')); }, formatter);\n        }\n        return fallbackText;\n    }\n    /* Number Utilities\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function compareNumbers(a, b) {\n        return a - b;\n    }\n    function isInt(n) {\n        return n % 1 === 0;\n    }\n    /* FC-specific DOM dimension stuff\n    ----------------------------------------------------------------------------------------------------------------------*/\n    function computeSmallestCellWidth(cellEl) {\n        var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n        var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n        if (!allWidthEl) {\n            throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n        }\n        if (!contentWidthEl) {\n            throw new Error('needs fc-scrollgrid-shrink-cushion className');\n        }\n        return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n            contentWidthEl.getBoundingClientRect().width;\n    }\n\n    var DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n    // Adding\n    function addWeeks(m, n) {\n        var a = dateToUtcArray(m);\n        a[2] += n * 7;\n        return arrayToUtcDate(a);\n    }\n    function addDays(m, n) {\n        var a = dateToUtcArray(m);\n        a[2] += n;\n        return arrayToUtcDate(a);\n    }\n    function addMs(m, n) {\n        var a = dateToUtcArray(m);\n        a[6] += n;\n        return arrayToUtcDate(a);\n    }\n    // Diffing (all return floats)\n    // TODO: why not use ranges?\n    function diffWeeks(m0, m1) {\n        return diffDays(m0, m1) / 7;\n    }\n    function diffDays(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n    }\n    function diffHours(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n    }\n    function diffMinutes(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n    }\n    function diffSeconds(m0, m1) {\n        return (m1.valueOf() - m0.valueOf()) / 1000;\n    }\n    function diffDayAndTime(m0, m1) {\n        var m0day = startOfDay(m0);\n        var m1day = startOfDay(m1);\n        return {\n            years: 0,\n            months: 0,\n            days: Math.round(diffDays(m0day, m1day)),\n            milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n        };\n    }\n    // Diffing Whole Units\n    function diffWholeWeeks(m0, m1) {\n        var d = diffWholeDays(m0, m1);\n        if (d !== null && d % 7 === 0) {\n            return d / 7;\n        }\n        return null;\n    }\n    function diffWholeDays(m0, m1) {\n        if (timeAsMs(m0) === timeAsMs(m1)) {\n            return Math.round(diffDays(m0, m1));\n        }\n        return null;\n    }\n    // Start-Of\n    function startOfDay(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n        ]);\n    }\n    function startOfHour(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n        ]);\n    }\n    function startOfMinute(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n            m.getUTCMinutes(),\n        ]);\n    }\n    function startOfSecond(m) {\n        return arrayToUtcDate([\n            m.getUTCFullYear(),\n            m.getUTCMonth(),\n            m.getUTCDate(),\n            m.getUTCHours(),\n            m.getUTCMinutes(),\n            m.getUTCSeconds(),\n        ]);\n    }\n    // Week Computation\n    function weekOfYear(marker, dow, doy) {\n        var y = marker.getUTCFullYear();\n        var w = weekOfGivenYear(marker, y, dow, doy);\n        if (w < 1) {\n            return weekOfGivenYear(marker, y - 1, dow, doy);\n        }\n        var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n        if (nextW >= 1) {\n            return Math.min(w, nextW);\n        }\n        return w;\n    }\n    function weekOfGivenYear(marker, year, dow, doy) {\n        var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n        var dayStart = startOfDay(marker);\n        var days = Math.round(diffDays(firstWeekStart, dayStart));\n        return Math.floor(days / 7) + 1; // zero-indexed\n    }\n    // start-of-first-week - start-of-year\n    function firstWeekOffset(year, dow, doy) {\n        // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n        var fwd = 7 + dow - doy;\n        // first-week day local weekday -- which local weekday is fwd\n        var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n        return -fwdlw + fwd - 1;\n    }\n    // Array Conversion\n    function dateToLocalArray(date) {\n        return [\n            date.getFullYear(),\n            date.getMonth(),\n            date.getDate(),\n            date.getHours(),\n            date.getMinutes(),\n            date.getSeconds(),\n            date.getMilliseconds(),\n        ];\n    }\n    function arrayToLocalDate(a) {\n        return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n        a[3] || 0, a[4] || 0, a[5] || 0);\n    }\n    function dateToUtcArray(date) {\n        return [\n            date.getUTCFullYear(),\n            date.getUTCMonth(),\n            date.getUTCDate(),\n            date.getUTCHours(),\n            date.getUTCMinutes(),\n            date.getUTCSeconds(),\n            date.getUTCMilliseconds(),\n        ];\n    }\n    function arrayToUtcDate(a) {\n        // according to web standards (and Safari), a month index is required.\n        // massage if only given a year.\n        if (a.length === 1) {\n            a = a.concat([0]);\n        }\n        return new Date(Date.UTC.apply(Date, a));\n    }\n    // Other Utils\n    function isValidDate(m) {\n        return !isNaN(m.valueOf());\n    }\n    function timeAsMs(m) {\n        return m.getUTCHours() * 1000 * 60 * 60 +\n            m.getUTCMinutes() * 1000 * 60 +\n            m.getUTCSeconds() * 1000 +\n            m.getUTCMilliseconds();\n    }\n\n    function createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n        return {\n            instanceId: guid(),\n            defId: defId,\n            range: range,\n            forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n            forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n        };\n    }\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n    // Merges an array of objects into a single object.\n    // The second argument allows for an array of property names who's object values will be merged together.\n    function mergeProps(propObjs, complexPropsMap) {\n        var dest = {};\n        if (complexPropsMap) {\n            for (var name_1 in complexPropsMap) {\n                var complexObjs = [];\n                // collect the trailing object values, stopping when a non-object is discovered\n                for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                    var val = propObjs[i][name_1];\n                    if (typeof val === 'object' && val) { // non-null object\n                        complexObjs.unshift(val);\n                    }\n                    else if (val !== undefined) {\n                        dest[name_1] = val; // if there were no objects, this value will be used\n                        break;\n                    }\n                }\n                // if the trailing values were objects, use the merged value\n                if (complexObjs.length) {\n                    dest[name_1] = mergeProps(complexObjs);\n                }\n            }\n        }\n        // copy values into the destination, going from last to first\n        for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n            var props = propObjs[i];\n            for (var name_2 in props) {\n                if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                    dest[name_2] = props[name_2];\n                }\n            }\n        }\n        return dest;\n    }\n    function filterHash(hash, func) {\n        var filtered = {};\n        for (var key in hash) {\n            if (func(hash[key], key)) {\n                filtered[key] = hash[key];\n            }\n        }\n        return filtered;\n    }\n    function mapHash(hash, func) {\n        var newHash = {};\n        for (var key in hash) {\n            newHash[key] = func(hash[key], key);\n        }\n        return newHash;\n    }\n    function arrayToHash(a) {\n        var hash = {};\n        for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n            var item = a_1[_i];\n            hash[item] = true;\n        }\n        return hash;\n    }\n    function buildHashFromArray(a, func) {\n        var hash = {};\n        for (var i = 0; i < a.length; i += 1) {\n            var tuple = func(a[i], i);\n            hash[tuple[0]] = tuple[1];\n        }\n        return hash;\n    }\n    function hashValuesToArray(obj) {\n        var a = [];\n        for (var key in obj) {\n            a.push(obj[key]);\n        }\n        return a;\n    }\n    function isPropsEqual(obj0, obj1) {\n        if (obj0 === obj1) {\n            return true;\n        }\n        for (var key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if (!(key in obj1)) {\n                    return false;\n                }\n            }\n        }\n        for (var key in obj1) {\n            if (hasOwnProperty.call(obj1, key)) {\n                if (obj0[key] !== obj1[key]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    function getUnequalProps(obj0, obj1) {\n        var keys = [];\n        for (var key in obj0) {\n            if (hasOwnProperty.call(obj0, key)) {\n                if (!(key in obj1)) {\n                    keys.push(key);\n                }\n            }\n        }\n        for (var key in obj1) {\n            if (hasOwnProperty.call(obj1, key)) {\n                if (obj0[key] !== obj1[key]) {\n                    keys.push(key);\n                }\n            }\n        }\n        return keys;\n    }\n    function compareObjs(oldProps, newProps, equalityFuncs) {\n        if (equalityFuncs === void 0) { equalityFuncs = {}; }\n        if (oldProps === newProps) {\n            return true;\n        }\n        for (var key in newProps) {\n            if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n            else {\n                return false;\n            }\n        }\n        // check for props that were omitted in the new\n        for (var key in oldProps) {\n            if (!(key in newProps)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /*\n    assumed \"true\" equality for handler names like \"onReceiveSomething\"\n    */\n    function isObjValsEqual(val0, val1, comparator) {\n        if (val0 === val1 || comparator === true) {\n            return true;\n        }\n        if (comparator) {\n            return comparator(val0, val1);\n        }\n        return false;\n    }\n    function collectFromHash(hash, startIndex, endIndex, step) {\n        if (startIndex === void 0) { startIndex = 0; }\n        if (step === void 0) { step = 1; }\n        var res = [];\n        if (endIndex == null) {\n            endIndex = Object.keys(hash).length;\n        }\n        for (var i = startIndex; i < endIndex; i += step) {\n            var val = hash[i];\n            if (val !== undefined) { // will disregard undefined for sparse arrays\n                res.push(val);\n            }\n        }\n        return res;\n    }\n\n    function parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n        for (var i = 0; i < recurringTypes.length; i += 1) {\n            var parsed = recurringTypes[i].parse(refined, dateEnv);\n            if (parsed) {\n                var allDay = refined.allDay;\n                if (allDay == null) {\n                    allDay = defaultAllDay;\n                    if (allDay == null) {\n                        allDay = parsed.allDayGuess;\n                        if (allDay == null) {\n                            allDay = false;\n                        }\n                    }\n                }\n                return {\n                    allDay: allDay,\n                    duration: parsed.duration,\n                    typeData: parsed.typeData,\n                    typeId: i,\n                };\n            }\n        }\n        return null;\n    }\n    function expandRecurring(eventStore, framingRange, context) {\n        var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n        var defs = eventStore.defs, instances = eventStore.instances;\n        // remove existing recurring instances\n        // TODO: bad. always expand events as a second step\n        instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.recurringDef) {\n                var duration = def.recurringDef.duration;\n                if (!duration) {\n                    duration = def.allDay ?\n                        options.defaultAllDayEventDuration :\n                        options.defaultTimedEventDuration;\n                }\n                var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n                for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                    var start = starts_1[_i];\n                    var instance = createEventInstance(defId, {\n                        start: start,\n                        end: dateEnv.add(start, duration),\n                    });\n                    instances[instance.instanceId] = instance;\n                }\n            }\n        }\n        return { defs: defs, instances: instances };\n    }\n    /*\n    Event MUST have a recurringDef\n    */\n    function expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n        var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n        var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n            start: dateEnv.subtract(framingRange.start, duration),\n            end: framingRange.end,\n        }, dateEnv);\n        // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n        if (eventDef.allDay) {\n            markers = markers.map(startOfDay);\n        }\n        return markers;\n    }\n\n    var INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\n    var PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n    // Parsing and Creation\n    function createDuration(input, unit) {\n        var _a;\n        if (typeof input === 'string') {\n            return parseString(input);\n        }\n        if (typeof input === 'object' && input) { // non-null object\n            return parseObject(input);\n        }\n        if (typeof input === 'number') {\n            return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n        }\n        return null;\n    }\n    function parseString(s) {\n        var m = PARSE_RE.exec(s);\n        if (m) {\n            var sign = m[1] ? -1 : 1;\n            return {\n                years: 0,\n                months: 0,\n                days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n                milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                    (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                    (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                    (m[6] ? parseInt(m[6], 10) : 0) // ms\n                ),\n            };\n        }\n        return null;\n    }\n    function parseObject(obj) {\n        var duration = {\n            years: obj.years || obj.year || 0,\n            months: obj.months || obj.month || 0,\n            days: obj.days || obj.day || 0,\n            milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n                (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n                (obj.seconds || obj.second || 0) * 1000 + // seconds\n                (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n        };\n        var weeks = obj.weeks || obj.week;\n        if (weeks) {\n            duration.days += weeks * 7;\n            duration.specifiedWeeks = true;\n        }\n        return duration;\n    }\n    // Equality\n    function durationsEqual(d0, d1) {\n        return d0.years === d1.years &&\n            d0.months === d1.months &&\n            d0.days === d1.days &&\n            d0.milliseconds === d1.milliseconds;\n    }\n    function asCleanDays(dur) {\n        if (!dur.years && !dur.months && !dur.milliseconds) {\n            return dur.days;\n        }\n        return 0;\n    }\n    // Simple Math\n    function addDurations(d0, d1) {\n        return {\n            years: d0.years + d1.years,\n            months: d0.months + d1.months,\n            days: d0.days + d1.days,\n            milliseconds: d0.milliseconds + d1.milliseconds,\n        };\n    }\n    function subtractDurations(d1, d0) {\n        return {\n            years: d1.years - d0.years,\n            months: d1.months - d0.months,\n            days: d1.days - d0.days,\n            milliseconds: d1.milliseconds - d0.milliseconds,\n        };\n    }\n    function multiplyDuration(d, n) {\n        return {\n            years: d.years * n,\n            months: d.months * n,\n            days: d.days * n,\n            milliseconds: d.milliseconds * n,\n        };\n    }\n    // Conversions\n    // \"Rough\" because they are based on average-case Gregorian months/years\n    function asRoughYears(dur) {\n        return asRoughDays(dur) / 365;\n    }\n    function asRoughMonths(dur) {\n        return asRoughDays(dur) / 30;\n    }\n    function asRoughDays(dur) {\n        return asRoughMs(dur) / 864e5;\n    }\n    function asRoughMinutes(dur) {\n        return asRoughMs(dur) / (1000 * 60);\n    }\n    function asRoughSeconds(dur) {\n        return asRoughMs(dur) / 1000;\n    }\n    function asRoughMs(dur) {\n        return dur.years * (365 * 864e5) +\n            dur.months * (30 * 864e5) +\n            dur.days * 864e5 +\n            dur.milliseconds;\n    }\n    // Advanced Math\n    function wholeDivideDurations(numerator, denominator) {\n        var res = null;\n        for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n            var unit = INTERNAL_UNITS[i];\n            if (denominator[unit]) {\n                var localRes = numerator[unit] / denominator[unit];\n                if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                    return null;\n                }\n                res = localRes;\n            }\n            else if (numerator[unit]) {\n                // needs to divide by something but can't!\n                return null;\n            }\n        }\n        return res;\n    }\n    function greatestDurationDenominator(dur) {\n        var ms = dur.milliseconds;\n        if (ms) {\n            if (ms % 1000 !== 0) {\n                return { unit: 'millisecond', value: ms };\n            }\n            if (ms % (1000 * 60) !== 0) {\n                return { unit: 'second', value: ms / 1000 };\n            }\n            if (ms % (1000 * 60 * 60) !== 0) {\n                return { unit: 'minute', value: ms / (1000 * 60) };\n            }\n            if (ms) {\n                return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n            }\n        }\n        if (dur.days) {\n            if (dur.specifiedWeeks && dur.days % 7 === 0) {\n                return { unit: 'week', value: dur.days / 7 };\n            }\n            return { unit: 'day', value: dur.days };\n        }\n        if (dur.months) {\n            return { unit: 'month', value: dur.months };\n        }\n        if (dur.years) {\n            return { unit: 'year', value: dur.years };\n        }\n        return { unit: 'millisecond', value: 0 };\n    }\n\n    // timeZoneOffset is in minutes\n    function buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n        if (stripZeroTime === void 0) { stripZeroTime = false; }\n        var s = marker.toISOString();\n        s = s.replace('.000', '');\n        if (stripZeroTime) {\n            s = s.replace('T00:00:00Z', '');\n        }\n        if (s.length > 10) { // time part wasn't stripped, can add timezone info\n            if (timeZoneOffset == null) {\n                s = s.replace('Z', '');\n            }\n            else if (timeZoneOffset !== 0) {\n                s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n            }\n            // otherwise, its UTC-0 and we want to keep the Z\n        }\n        return s;\n    }\n    // formats the date, but with no time part\n    // TODO: somehow merge with buildIsoString and stripZeroTime\n    // TODO: rename. omit \"string\"\n    function formatDayString(marker) {\n        return marker.toISOString().replace(/T.*$/, '');\n    }\n    // TODO: use Date::toISOString and use everything after the T?\n    function formatIsoTimeString(marker) {\n        return padStart(marker.getUTCHours(), 2) + ':' +\n            padStart(marker.getUTCMinutes(), 2) + ':' +\n            padStart(marker.getUTCSeconds(), 2);\n    }\n    function formatTimeZoneOffset(minutes, doIso) {\n        if (doIso === void 0) { doIso = false; }\n        var sign = minutes < 0 ? '-' : '+';\n        var abs = Math.abs(minutes);\n        var hours = Math.floor(abs / 60);\n        var mins = Math.round(abs % 60);\n        if (doIso) {\n            return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n        }\n        return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n    }\n\n    // TODO: new util arrayify?\n    function removeExact(array, exactVal) {\n        var removeCnt = 0;\n        var i = 0;\n        while (i < array.length) {\n            if (array[i] === exactVal) {\n                array.splice(i, 1);\n                removeCnt += 1;\n            }\n            else {\n                i += 1;\n            }\n        }\n        return removeCnt;\n    }\n    function isArraysEqual(a0, a1, equalityFunc) {\n        if (a0 === a1) {\n            return true;\n        }\n        var len = a0.length;\n        var i;\n        if (len !== a1.length) { // not array? or not same length?\n            return false;\n        }\n        for (i = 0; i < len; i += 1) {\n            if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    function memoize(workerFunc, resEquality, teardownFunc) {\n        var currentArgs;\n        var currentRes;\n        return function () {\n            var newArgs = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                newArgs[_i] = arguments[_i];\n            }\n            if (!currentArgs) {\n                currentRes = workerFunc.apply(this, newArgs);\n            }\n            else if (!isArraysEqual(currentArgs, newArgs)) {\n                if (teardownFunc) {\n                    teardownFunc(currentRes);\n                }\n                var res = workerFunc.apply(this, newArgs);\n                if (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes = res;\n                }\n            }\n            currentArgs = newArgs;\n            return currentRes;\n        };\n    }\n    function memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n        var _this = this;\n        var currentArg;\n        var currentRes;\n        return function (newArg) {\n            if (!currentArg) {\n                currentRes = workerFunc.call(_this, newArg);\n            }\n            else if (!isPropsEqual(currentArg, newArg)) {\n                if (teardownFunc) {\n                    teardownFunc(currentRes);\n                }\n                var res = workerFunc.call(_this, newArg);\n                if (!resEquality || !resEquality(res, currentRes)) {\n                    currentRes = res;\n                }\n            }\n            currentArg = newArg;\n            return currentRes;\n        };\n    }\n    function memoizeArraylike(// used at all?\n    workerFunc, resEquality, teardownFunc) {\n        var _this = this;\n        var currentArgSets = [];\n        var currentResults = [];\n        return function (newArgSets) {\n            var currentLen = currentArgSets.length;\n            var newLen = newArgSets.length;\n            var i = 0;\n            for (; i < currentLen; i += 1) {\n                if (!newArgSets[i]) { // one of the old sets no longer exists\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n                    }\n                }\n                else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                    if (teardownFunc) {\n                        teardownFunc(currentResults[i]);\n                    }\n                    var res = workerFunc.apply(_this, newArgSets[i]);\n                    if (!resEquality || !resEquality(res, currentResults[i])) {\n                        currentResults[i] = res;\n                    }\n                }\n            }\n            for (; i < newLen; i += 1) {\n                currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n            }\n            currentArgSets = newArgSets;\n            currentResults.splice(newLen); // remove excess\n            return currentResults;\n        };\n    }\n    function memoizeHashlike(workerFunc, resEquality, teardownFunc) {\n        var _this = this;\n        var currentArgHash = {};\n        var currentResHash = {};\n        return function (newArgHash) {\n            var newResHash = {};\n            for (var key in newArgHash) {\n                if (!currentResHash[key]) {\n                    newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n                }\n                else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                    if (teardownFunc) {\n                        teardownFunc(currentResHash[key]);\n                    }\n                    var res = workerFunc.apply(_this, newArgHash[key]);\n                    newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                        ? currentResHash[key]\n                        : res;\n                }\n                else {\n                    newResHash[key] = currentResHash[key];\n                }\n            }\n            currentArgHash = newArgHash;\n            currentResHash = newResHash;\n            return newResHash;\n        };\n    }\n\n    var EXTENDED_SETTINGS_AND_SEVERITIES = {\n        week: 3,\n        separator: 0,\n        omitZeroMinute: 0,\n        meridiem: 0,\n        omitCommas: 0,\n    };\n    var STANDARD_DATE_PROP_SEVERITIES = {\n        timeZoneName: 7,\n        era: 6,\n        year: 5,\n        month: 4,\n        day: 2,\n        weekday: 2,\n        hour: 1,\n        minute: 1,\n        second: 1,\n    };\n    var MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\n    var COMMA_RE = /,/g; // we need re for globalness\n    var MULTI_SPACE_RE = /\\s+/g;\n    var LTR_RE = /\\u200e/g; // control character\n    var UTC_RE = /UTC|GMT/;\n    var NativeFormatter = /** @class */ (function () {\n        function NativeFormatter(formatSettings) {\n            var standardDateProps = {};\n            var extendedSettings = {};\n            var severity = 0;\n            for (var name_1 in formatSettings) {\n                if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                    extendedSettings[name_1] = formatSettings[name_1];\n                    severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n                }\n                else {\n                    standardDateProps[name_1] = formatSettings[name_1];\n                    if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                        severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                    }\n                }\n            }\n            this.standardDateProps = standardDateProps;\n            this.extendedSettings = extendedSettings;\n            this.severity = severity;\n            this.buildFormattingFunc = memoize(buildFormattingFunc);\n        }\n        NativeFormatter.prototype.format = function (date, context) {\n            return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n        };\n        NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n            var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n            var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n            if (!diffSeverity) {\n                return this.format(start, context);\n            }\n            var biggestUnitForPartial = diffSeverity;\n            if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n                (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n                (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n                (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n                biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n            }\n            var full0 = this.format(start, context);\n            var full1 = this.format(end, context);\n            if (full0 === full1) {\n                return full0;\n            }\n            var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n            var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n            var partial0 = partialFormattingFunc(start);\n            var partial1 = partialFormattingFunc(end);\n            var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n            var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n            if (insertion) {\n                return insertion.before + partial0 + separator + partial1 + insertion.after;\n            }\n            return full0 + separator + full1;\n        };\n        NativeFormatter.prototype.getLargestUnit = function () {\n            switch (this.severity) {\n                case 7:\n                case 6:\n                case 5:\n                    return 'year';\n                case 4:\n                    return 'month';\n                case 3:\n                    return 'week';\n                case 2:\n                    return 'day';\n                default:\n                    return 'time'; // really?\n            }\n        };\n        return NativeFormatter;\n    }());\n    function buildFormattingFunc(standardDateProps, extendedSettings, context) {\n        var standardDatePropCnt = Object.keys(standardDateProps).length;\n        if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n            return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n        }\n        if (standardDatePropCnt === 0 && extendedSettings.week) {\n            return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.weekTextLong, context.locale, extendedSettings.week)); };\n        }\n        return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n    }\n    function buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n        standardDateProps = __assign({}, standardDateProps); // copy\n        extendedSettings = __assign({}, extendedSettings); // copy\n        sanitizeSettings(standardDateProps, extendedSettings);\n        standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n        var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n        var zeroFormat; // needed?\n        if (extendedSettings.omitZeroMinute) {\n            var zeroProps = __assign({}, standardDateProps);\n            delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n            zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n        }\n        return function (date) {\n            var marker = date.marker;\n            var format;\n            if (zeroFormat && !marker.getUTCMinutes()) {\n                format = zeroFormat;\n            }\n            else {\n                format = normalFormat;\n            }\n            var s = format.format(marker);\n            return postProcess(s, date, standardDateProps, extendedSettings, context);\n        };\n    }\n    function sanitizeSettings(standardDateProps, extendedSettings) {\n        // deal with a browser inconsistency where formatting the timezone\n        // requires that the hour/minute be present.\n        if (standardDateProps.timeZoneName) {\n            if (!standardDateProps.hour) {\n                standardDateProps.hour = '2-digit';\n            }\n            if (!standardDateProps.minute) {\n                standardDateProps.minute = '2-digit';\n            }\n        }\n        // only support short timezone names\n        if (standardDateProps.timeZoneName === 'long') {\n            standardDateProps.timeZoneName = 'short';\n        }\n        // if requesting to display seconds, MUST display minutes\n        if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n            delete extendedSettings.omitZeroMinute;\n        }\n    }\n    function postProcess(s, date, standardDateProps, extendedSettings, context) {\n        s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n        if (standardDateProps.timeZoneName === 'short') {\n            s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n                'UTC' : // important to normalize for IE, which does \"GMT\"\n                formatTimeZoneOffset(date.timeZoneOffset));\n        }\n        if (extendedSettings.omitCommas) {\n            s = s.replace(COMMA_RE, '').trim();\n        }\n        if (extendedSettings.omitZeroMinute) {\n            s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n        }\n        // ^ do anything that might create adjacent spaces before this point,\n        // because MERIDIEM_RE likes to eat up loading spaces\n        if (extendedSettings.meridiem === false) {\n            s = s.replace(MERIDIEM_RE, '').trim();\n        }\n        else if (extendedSettings.meridiem === 'narrow') { // a/p\n            s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n        }\n        else if (extendedSettings.meridiem === 'short') { // am/pm\n            s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n        }\n        else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n            s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n        }\n        s = s.replace(MULTI_SPACE_RE, ' ');\n        s = s.trim();\n        return s;\n    }\n    function injectTzoStr(s, tzoStr) {\n        var replaced = false;\n        s = s.replace(UTC_RE, function () {\n            replaced = true;\n            return tzoStr;\n        });\n        // IE11 doesn't include UTC/GMT in the original string, so append to end\n        if (!replaced) {\n            s += \" \" + tzoStr;\n        }\n        return s;\n    }\n    function formatWeekNumber(num, weekText, weekTextLong, locale, display) {\n        var parts = [];\n        if (display === 'long') {\n            parts.push(weekTextLong);\n        }\n        else if (display === 'short' || display === 'narrow') {\n            parts.push(weekText);\n        }\n        if (display === 'long' || display === 'short') {\n            parts.push(' ');\n        }\n        parts.push(locale.simpleNumberFormat.format(num));\n        if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n            parts.reverse();\n        }\n        return parts.join('');\n    }\n    // Range Formatting Utils\n    // 0 = exactly the same\n    // 1 = different by time\n    // and bigger\n    function computeMarkerDiffSeverity(d0, d1, ca) {\n        if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n            return 5;\n        }\n        if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n            return 4;\n        }\n        if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n            return 2;\n        }\n        if (timeAsMs(d0) !== timeAsMs(d1)) {\n            return 1;\n        }\n        return 0;\n    }\n    function computePartialFormattingOptions(options, biggestUnit) {\n        var partialOptions = {};\n        for (var name_2 in options) {\n            if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n                STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n                partialOptions[name_2] = options[name_2];\n            }\n        }\n        return partialOptions;\n    }\n    function findCommonInsertion(full0, partial0, full1, partial1) {\n        var i0 = 0;\n        while (i0 < full0.length) {\n            var found0 = full0.indexOf(partial0, i0);\n            if (found0 === -1) {\n                break;\n            }\n            var before0 = full0.substr(0, found0);\n            i0 = found0 + partial0.length;\n            var after0 = full0.substr(i0);\n            var i1 = 0;\n            while (i1 < full1.length) {\n                var found1 = full1.indexOf(partial1, i1);\n                if (found1 === -1) {\n                    break;\n                }\n                var before1 = full1.substr(0, found1);\n                i1 = found1 + partial1.length;\n                var after1 = full1.substr(i1);\n                if (before0 === before1 && after0 === after1) {\n                    return {\n                        before: before0,\n                        after: after0,\n                    };\n                }\n            }\n        }\n        return null;\n    }\n\n    function expandZonedMarker(dateInfo, calendarSystem) {\n        var a = calendarSystem.markerToArray(dateInfo.marker);\n        return {\n            marker: dateInfo.marker,\n            timeZoneOffset: dateInfo.timeZoneOffset,\n            array: a,\n            year: a[0],\n            month: a[1],\n            day: a[2],\n            hour: a[3],\n            minute: a[4],\n            second: a[5],\n            millisecond: a[6],\n        };\n    }\n\n    function createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n        var startInfo = expandZonedMarker(start, context.calendarSystem);\n        var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n        return {\n            date: startInfo,\n            start: startInfo,\n            end: endInfo,\n            timeZone: context.timeZone,\n            localeCodes: context.locale.codes,\n            defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n        };\n    }\n\n    /*\n    TODO: fix the terminology of \"formatter\" vs \"formatting func\"\n    */\n    /*\n    At the time of instantiation, this object does not know which cmd-formatting system it will use.\n    It receives this at the time of formatting, as a setting.\n    */\n    var CmdFormatter = /** @class */ (function () {\n        function CmdFormatter(cmdStr) {\n            this.cmdStr = cmdStr;\n        }\n        CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n            return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n        };\n        CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n            return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n        };\n        return CmdFormatter;\n    }());\n\n    var FuncFormatter = /** @class */ (function () {\n        function FuncFormatter(func) {\n            this.func = func;\n        }\n        FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n            return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n        };\n        FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n            return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n        };\n        return FuncFormatter;\n    }());\n\n    function createFormatter(input) {\n        if (typeof input === 'object' && input) { // non-null object\n            return new NativeFormatter(input);\n        }\n        if (typeof input === 'string') {\n            return new CmdFormatter(input);\n        }\n        if (typeof input === 'function') {\n            return new FuncFormatter(input);\n        }\n        return null;\n    }\n\n    // base options\n    // ------------\n    var BASE_OPTION_REFINERS = {\n        navLinkDayClick: identity,\n        navLinkWeekClick: identity,\n        duration: createDuration,\n        bootstrapFontAwesome: identity,\n        buttonIcons: identity,\n        customButtons: identity,\n        defaultAllDayEventDuration: createDuration,\n        defaultTimedEventDuration: createDuration,\n        nextDayThreshold: createDuration,\n        scrollTime: createDuration,\n        scrollTimeReset: Boolean,\n        slotMinTime: createDuration,\n        slotMaxTime: createDuration,\n        dayPopoverFormat: createFormatter,\n        slotDuration: createDuration,\n        snapDuration: createDuration,\n        headerToolbar: identity,\n        footerToolbar: identity,\n        defaultRangeSeparator: String,\n        titleRangeSeparator: String,\n        forceEventDuration: Boolean,\n        dayHeaders: Boolean,\n        dayHeaderFormat: createFormatter,\n        dayHeaderClassNames: identity,\n        dayHeaderContent: identity,\n        dayHeaderDidMount: identity,\n        dayHeaderWillUnmount: identity,\n        dayCellClassNames: identity,\n        dayCellContent: identity,\n        dayCellDidMount: identity,\n        dayCellWillUnmount: identity,\n        initialView: String,\n        aspectRatio: Number,\n        weekends: Boolean,\n        weekNumberCalculation: identity,\n        weekNumbers: Boolean,\n        weekNumberClassNames: identity,\n        weekNumberContent: identity,\n        weekNumberDidMount: identity,\n        weekNumberWillUnmount: identity,\n        editable: Boolean,\n        viewClassNames: identity,\n        viewDidMount: identity,\n        viewWillUnmount: identity,\n        nowIndicator: Boolean,\n        nowIndicatorClassNames: identity,\n        nowIndicatorContent: identity,\n        nowIndicatorDidMount: identity,\n        nowIndicatorWillUnmount: identity,\n        showNonCurrentDates: Boolean,\n        lazyFetching: Boolean,\n        startParam: String,\n        endParam: String,\n        timeZoneParam: String,\n        timeZone: String,\n        locales: identity,\n        locale: identity,\n        themeSystem: String,\n        dragRevertDuration: Number,\n        dragScroll: Boolean,\n        allDayMaintainDuration: Boolean,\n        unselectAuto: Boolean,\n        dropAccept: identity,\n        eventOrder: parseFieldSpecs,\n        eventOrderStrict: Boolean,\n        handleWindowResize: Boolean,\n        windowResizeDelay: Number,\n        longPressDelay: Number,\n        eventDragMinDistance: Number,\n        expandRows: Boolean,\n        height: identity,\n        contentHeight: identity,\n        direction: String,\n        weekNumberFormat: createFormatter,\n        eventResizableFromStart: Boolean,\n        displayEventTime: Boolean,\n        displayEventEnd: Boolean,\n        weekText: String,\n        weekTextLong: String,\n        progressiveEventRendering: Boolean,\n        businessHours: identity,\n        initialDate: identity,\n        now: identity,\n        eventDataTransform: identity,\n        stickyHeaderDates: identity,\n        stickyFooterScrollbar: identity,\n        viewHeight: identity,\n        defaultAllDay: Boolean,\n        eventSourceFailure: identity,\n        eventSourceSuccess: identity,\n        eventDisplay: String,\n        eventStartEditable: Boolean,\n        eventDurationEditable: Boolean,\n        eventOverlap: identity,\n        eventConstraint: identity,\n        eventAllow: identity,\n        eventBackgroundColor: String,\n        eventBorderColor: String,\n        eventTextColor: String,\n        eventColor: String,\n        eventClassNames: identity,\n        eventContent: identity,\n        eventDidMount: identity,\n        eventWillUnmount: identity,\n        selectConstraint: identity,\n        selectOverlap: identity,\n        selectAllow: identity,\n        droppable: Boolean,\n        unselectCancel: String,\n        slotLabelFormat: identity,\n        slotLaneClassNames: identity,\n        slotLaneContent: identity,\n        slotLaneDidMount: identity,\n        slotLaneWillUnmount: identity,\n        slotLabelClassNames: identity,\n        slotLabelContent: identity,\n        slotLabelDidMount: identity,\n        slotLabelWillUnmount: identity,\n        dayMaxEvents: identity,\n        dayMaxEventRows: identity,\n        dayMinWidth: Number,\n        slotLabelInterval: createDuration,\n        allDayText: String,\n        allDayClassNames: identity,\n        allDayContent: identity,\n        allDayDidMount: identity,\n        allDayWillUnmount: identity,\n        slotMinWidth: Number,\n        navLinks: Boolean,\n        eventTimeFormat: createFormatter,\n        rerenderDelay: Number,\n        moreLinkText: identity,\n        moreLinkHint: identity,\n        selectMinDistance: Number,\n        selectable: Boolean,\n        selectLongPressDelay: Number,\n        eventLongPressDelay: Number,\n        selectMirror: Boolean,\n        eventMaxStack: Number,\n        eventMinHeight: Number,\n        eventMinWidth: Number,\n        eventShortHeight: Number,\n        slotEventOverlap: Boolean,\n        plugins: identity,\n        firstDay: Number,\n        dayCount: Number,\n        dateAlignment: String,\n        dateIncrement: createDuration,\n        hiddenDays: identity,\n        monthMode: Boolean,\n        fixedWeekCount: Boolean,\n        validRange: identity,\n        visibleRange: identity,\n        titleFormat: identity,\n        eventInteractive: Boolean,\n        // only used by list-view, but languages define the value, so we need it in base options\n        noEventsText: String,\n        viewHint: identity,\n        navLinkHint: identity,\n        closeHint: String,\n        timeHint: String,\n        eventHint: String,\n        moreLinkClick: identity,\n        moreLinkClassNames: identity,\n        moreLinkContent: identity,\n        moreLinkDidMount: identity,\n        moreLinkWillUnmount: identity,\n    };\n    // do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n    // raw values.\n    var BASE_OPTION_DEFAULTS = {\n        eventDisplay: 'auto',\n        defaultRangeSeparator: ' - ',\n        titleRangeSeparator: ' \\u2013 ',\n        defaultTimedEventDuration: '01:00:00',\n        defaultAllDayEventDuration: { day: 1 },\n        forceEventDuration: false,\n        nextDayThreshold: '00:00:00',\n        dayHeaders: true,\n        initialView: '',\n        aspectRatio: 1.35,\n        headerToolbar: {\n            start: 'title',\n            center: '',\n            end: 'today prev,next',\n        },\n        weekends: true,\n        weekNumbers: false,\n        weekNumberCalculation: 'local',\n        editable: false,\n        nowIndicator: false,\n        scrollTime: '06:00:00',\n        scrollTimeReset: true,\n        slotMinTime: '00:00:00',\n        slotMaxTime: '24:00:00',\n        showNonCurrentDates: true,\n        lazyFetching: true,\n        startParam: 'start',\n        endParam: 'end',\n        timeZoneParam: 'timeZone',\n        timeZone: 'local',\n        locales: [],\n        locale: '',\n        themeSystem: 'standard',\n        dragRevertDuration: 500,\n        dragScroll: true,\n        allDayMaintainDuration: false,\n        unselectAuto: true,\n        dropAccept: '*',\n        eventOrder: 'start,-duration,allDay,title',\n        dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n        handleWindowResize: true,\n        windowResizeDelay: 100,\n        longPressDelay: 1000,\n        eventDragMinDistance: 5,\n        expandRows: false,\n        navLinks: false,\n        selectable: false,\n        eventMinHeight: 15,\n        eventMinWidth: 30,\n        eventShortHeight: 30,\n    };\n    // calendar listeners\n    // ------------------\n    var CALENDAR_LISTENER_REFINERS = {\n        datesSet: identity,\n        eventsSet: identity,\n        eventAdd: identity,\n        eventChange: identity,\n        eventRemove: identity,\n        windowResize: identity,\n        eventClick: identity,\n        eventMouseEnter: identity,\n        eventMouseLeave: identity,\n        select: identity,\n        unselect: identity,\n        loading: identity,\n        // internal\n        _unmount: identity,\n        _beforeprint: identity,\n        _afterprint: identity,\n        _noEventDrop: identity,\n        _noEventResize: identity,\n        _resize: identity,\n        _scrollRequest: identity,\n    };\n    // calendar-specific options\n    // -------------------------\n    var CALENDAR_OPTION_REFINERS = {\n        buttonText: identity,\n        buttonHints: identity,\n        views: identity,\n        plugins: identity,\n        initialEvents: identity,\n        events: identity,\n        eventSources: identity,\n    };\n    var COMPLEX_OPTION_COMPARATORS = {\n        headerToolbar: isMaybeObjectsEqual,\n        footerToolbar: isMaybeObjectsEqual,\n        buttonText: isMaybeObjectsEqual,\n        buttonHints: isMaybeObjectsEqual,\n        buttonIcons: isMaybeObjectsEqual,\n        dateIncrement: isMaybeObjectsEqual,\n    };\n    function isMaybeObjectsEqual(a, b) {\n        if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n            return isPropsEqual(a, b);\n        }\n        return a === b;\n    }\n    // view-specific options\n    // ---------------------\n    var VIEW_OPTION_REFINERS = {\n        type: String,\n        component: identity,\n        buttonText: String,\n        buttonTextKey: String,\n        dateProfileGeneratorClass: identity,\n        usesMinMaxTime: Boolean,\n        classNames: identity,\n        content: identity,\n        didMount: identity,\n        willUnmount: identity,\n    };\n    // util funcs\n    // ----------------------------------------------------------------------------------------------------\n    function mergeRawOptions(optionSets) {\n        return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n    }\n    function refineProps(input, refiners) {\n        var refined = {};\n        var extra = {};\n        for (var propName in refiners) {\n            if (propName in input) {\n                refined[propName] = refiners[propName](input[propName]);\n            }\n        }\n        for (var propName in input) {\n            if (!(propName in refiners)) {\n                extra[propName] = input[propName];\n            }\n        }\n        return { refined: refined, extra: extra };\n    }\n    function identity(raw) {\n        return raw;\n    }\n\n    function parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n        var eventStore = createEmptyEventStore();\n        var eventRefiners = buildEventRefiners(context);\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n            if (tuple) {\n                eventTupleToStore(tuple, eventStore);\n            }\n        }\n        return eventStore;\n    }\n    function eventTupleToStore(tuple, eventStore) {\n        if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n        eventStore.defs[tuple.def.defId] = tuple.def;\n        if (tuple.instance) {\n            eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n        }\n        return eventStore;\n    }\n    // retrieves events that have the same groupId as the instance specified by `instanceId`\n    // or they are the same as the instance.\n    // why might instanceId not be in the store? an event from another calendar?\n    function getRelevantEvents(eventStore, instanceId) {\n        var instance = eventStore.instances[instanceId];\n        if (instance) {\n            var def_1 = eventStore.defs[instance.defId];\n            // get events/instances with same group\n            var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n            // add the original\n            // TODO: wish we could use eventTupleToStore or something like it\n            newStore.defs[def_1.defId] = def_1;\n            newStore.instances[instance.instanceId] = instance;\n            return newStore;\n        }\n        return createEmptyEventStore();\n    }\n    function isEventDefsGrouped(def0, def1) {\n        return Boolean(def0.groupId && def0.groupId === def1.groupId);\n    }\n    function createEmptyEventStore() {\n        return { defs: {}, instances: {} };\n    }\n    function mergeEventStores(store0, store1) {\n        return {\n            defs: __assign(__assign({}, store0.defs), store1.defs),\n            instances: __assign(__assign({}, store0.instances), store1.instances),\n        };\n    }\n    function filterEventStoreDefs(eventStore, filterFunc) {\n        var defs = filterHash(eventStore.defs, filterFunc);\n        var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n        ); });\n        return { defs: defs, instances: instances };\n    }\n    function excludeSubEventStore(master, sub) {\n        var defs = master.defs, instances = master.instances;\n        var filteredDefs = {};\n        var filteredInstances = {};\n        for (var defId in defs) {\n            if (!sub.defs[defId]) { // not explicitly excluded\n                filteredDefs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            if (!sub.instances[instanceId] && // not explicitly excluded\n                filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n            ) {\n                filteredInstances[instanceId] = instances[instanceId];\n            }\n        }\n        return {\n            defs: filteredDefs,\n            instances: filteredInstances,\n        };\n    }\n\n    function normalizeConstraint(input, context) {\n        if (Array.isArray(input)) {\n            return parseEvents(input, null, context, true); // allowOpenRange=true\n        }\n        if (typeof input === 'object' && input) { // non-null object\n            return parseEvents([input], null, context, true); // allowOpenRange=true\n        }\n        if (input != null) {\n            return String(input);\n        }\n        return null;\n    }\n\n    function parseClassNames(raw) {\n        if (Array.isArray(raw)) {\n            return raw;\n        }\n        if (typeof raw === 'string') {\n            return raw.split(/\\s+/);\n        }\n        return [];\n    }\n\n    // TODO: better called \"EventSettings\" or \"EventConfig\"\n    // TODO: move this file into structs\n    // TODO: separate constraint/overlap/allow, because selection uses only that, not other props\n    var EVENT_UI_REFINERS = {\n        display: String,\n        editable: Boolean,\n        startEditable: Boolean,\n        durationEditable: Boolean,\n        constraint: identity,\n        overlap: identity,\n        allow: identity,\n        className: parseClassNames,\n        classNames: parseClassNames,\n        color: String,\n        backgroundColor: String,\n        borderColor: String,\n        textColor: String,\n    };\n    var EMPTY_EVENT_UI = {\n        display: null,\n        startEditable: null,\n        durationEditable: null,\n        constraints: [],\n        overlap: null,\n        allows: [],\n        backgroundColor: '',\n        borderColor: '',\n        textColor: '',\n        classNames: [],\n    };\n    function createEventUi(refined, context) {\n        var constraint = normalizeConstraint(refined.constraint, context);\n        return {\n            display: refined.display || null,\n            startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n            durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n            constraints: constraint != null ? [constraint] : [],\n            overlap: refined.overlap != null ? refined.overlap : null,\n            allows: refined.allow != null ? [refined.allow] : [],\n            backgroundColor: refined.backgroundColor || refined.color || '',\n            borderColor: refined.borderColor || refined.color || '',\n            textColor: refined.textColor || '',\n            classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n        };\n    }\n    // TODO: prevent against problems with <2 args!\n    function combineEventUis(uis) {\n        return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n    }\n    function combineTwoEventUis(item0, item1) {\n        return {\n            display: item1.display != null ? item1.display : item0.display,\n            startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n            durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n            constraints: item0.constraints.concat(item1.constraints),\n            overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n            allows: item0.allows.concat(item1.allows),\n            backgroundColor: item1.backgroundColor || item0.backgroundColor,\n            borderColor: item1.borderColor || item0.borderColor,\n            textColor: item1.textColor || item0.textColor,\n            classNames: item0.classNames.concat(item1.classNames),\n        };\n    }\n\n    var EVENT_NON_DATE_REFINERS = {\n        id: String,\n        groupId: String,\n        title: String,\n        url: String,\n        interactive: Boolean,\n    };\n    var EVENT_DATE_REFINERS = {\n        start: identity,\n        end: identity,\n        date: identity,\n        allDay: Boolean,\n    };\n    var EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\n    function parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n        if (refiners === void 0) { refiners = buildEventRefiners(context); }\n        var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n        var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n        var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n        if (recurringRes) {\n            var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n            def.recurringDef = {\n                typeId: recurringRes.typeId,\n                typeData: recurringRes.typeData,\n                duration: recurringRes.duration,\n            };\n            return { def: def, instance: null };\n        }\n        var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n        if (singleRes) {\n            var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n            var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n            return { def: def, instance: instance };\n        }\n        return null;\n    }\n    function refineEventDef(raw, context, refiners) {\n        if (refiners === void 0) { refiners = buildEventRefiners(context); }\n        return refineProps(raw, refiners);\n    }\n    function buildEventRefiners(context) {\n        return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n    }\n    /*\n    Will NOT populate extendedProps with the leftover properties.\n    Will NOT populate date-related props.\n    */\n    function parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n        var def = {\n            title: refined.title || '',\n            groupId: refined.groupId || '',\n            publicId: refined.id || '',\n            url: refined.url || '',\n            recurringDef: null,\n            defId: guid(),\n            sourceId: sourceId,\n            allDay: allDay,\n            hasEnd: hasEnd,\n            interactive: refined.interactive,\n            ui: createEventUi(refined, context),\n            extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n        };\n        for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n            var memberAdder = _a[_i];\n            __assign(def, memberAdder(refined));\n        }\n        // help out EventApi from having user modify props\n        Object.freeze(def.ui.classNames);\n        Object.freeze(def.extendedProps);\n        return def;\n    }\n    function parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n        var allDay = refined.allDay;\n        var startMeta;\n        var startMarker = null;\n        var hasEnd = false;\n        var endMeta;\n        var endMarker = null;\n        var startInput = refined.start != null ? refined.start : refined.date;\n        startMeta = context.dateEnv.createMarkerMeta(startInput);\n        if (startMeta) {\n            startMarker = startMeta.marker;\n        }\n        else if (!allowOpenRange) {\n            return null;\n        }\n        if (refined.end != null) {\n            endMeta = context.dateEnv.createMarkerMeta(refined.end);\n        }\n        if (allDay == null) {\n            if (defaultAllDay != null) {\n                allDay = defaultAllDay;\n            }\n            else {\n                // fall back to the date props LAST\n                allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                    (!endMeta || endMeta.isTimeUnspecified);\n            }\n        }\n        if (allDay && startMarker) {\n            startMarker = startOfDay(startMarker);\n        }\n        if (endMeta) {\n            endMarker = endMeta.marker;\n            if (allDay) {\n                endMarker = startOfDay(endMarker);\n            }\n            if (startMarker && endMarker <= startMarker) {\n                endMarker = null;\n            }\n        }\n        if (endMarker) {\n            hasEnd = true;\n        }\n        else if (!allowOpenRange) {\n            hasEnd = context.options.forceEventDuration || false;\n            endMarker = context.dateEnv.add(startMarker, allDay ?\n                context.options.defaultAllDayEventDuration :\n                context.options.defaultTimedEventDuration);\n        }\n        return {\n            allDay: allDay,\n            hasEnd: hasEnd,\n            range: { start: startMarker, end: endMarker },\n            forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n            forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n        };\n    }\n    function computeIsDefaultAllDay(eventSource, context) {\n        var res = null;\n        if (eventSource) {\n            res = eventSource.defaultAllDay;\n        }\n        if (res == null) {\n            res = context.options.defaultAllDay;\n        }\n        return res;\n    }\n\n    /* Date stuff that doesn't belong in datelib core\n    ----------------------------------------------------------------------------------------------------------------------*/\n    // given a timed range, computes an all-day range that has the same exact duration,\n    // but whose start time is aligned with the start of the day.\n    function computeAlignedDayRange(timedRange) {\n        var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n        var start = startOfDay(timedRange.start);\n        var end = addDays(start, dayCnt);\n        return { start: start, end: end };\n    }\n    // given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n    // TODO: give nextDayThreshold a default arg\n    function computeVisibleDayRange(timedRange, nextDayThreshold) {\n        if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n        var startDay = null;\n        var endDay = null;\n        if (timedRange.end) {\n            endDay = startOfDay(timedRange.end);\n            var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n            // If the end time is actually inclusively part of the next day and is equal to or\n            // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n            // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n            if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n                endDay = addDays(endDay, 1);\n            }\n        }\n        if (timedRange.start) {\n            startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n            // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n            if (endDay && endDay <= startDay) {\n                endDay = addDays(startDay, 1);\n            }\n        }\n        return { start: startDay, end: endDay };\n    }\n    // spans from one day into another?\n    function isMultiDayRange(range) {\n        var visibleRange = computeVisibleDayRange(range);\n        return diffDays(visibleRange.start, visibleRange.end) > 1;\n    }\n    function diffDates(date0, date1, dateEnv, largeUnit) {\n        if (largeUnit === 'year') {\n            return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n        }\n        if (largeUnit === 'month') {\n            return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n        }\n        return diffDayAndTime(date0, date1); // returns a duration\n    }\n\n    function parseRange(input, dateEnv) {\n        var start = null;\n        var end = null;\n        if (input.start) {\n            start = dateEnv.createMarker(input.start);\n        }\n        if (input.end) {\n            end = dateEnv.createMarker(input.end);\n        }\n        if (!start && !end) {\n            return null;\n        }\n        if (start && end && end < start) {\n            return null;\n        }\n        return { start: start, end: end };\n    }\n    // SIDE-EFFECT: will mutate ranges.\n    // Will return a new array result.\n    function invertRanges(ranges, constraintRange) {\n        var invertedRanges = [];\n        var start = constraintRange.start; // the end of the previous range. the start of the new range\n        var i;\n        var dateRange;\n        // ranges need to be in order. required for our date-walking algorithm\n        ranges.sort(compareRanges);\n        for (i = 0; i < ranges.length; i += 1) {\n            dateRange = ranges[i];\n            // add the span of time before the event (if there is any)\n            if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n                invertedRanges.push({ start: start, end: dateRange.start });\n            }\n            if (dateRange.end > start) {\n                start = dateRange.end;\n            }\n        }\n        // add the span of time after the last event (if there is any)\n        if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: constraintRange.end });\n        }\n        return invertedRanges;\n    }\n    function compareRanges(range0, range1) {\n        return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n    }\n    function intersectRanges(range0, range1) {\n        var start = range0.start, end = range0.end;\n        var newRange = null;\n        if (range1.start !== null) {\n            if (start === null) {\n                start = range1.start;\n            }\n            else {\n                start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n            }\n        }\n        if (range1.end != null) {\n            if (end === null) {\n                end = range1.end;\n            }\n            else {\n                end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n            }\n        }\n        if (start === null || end === null || start < end) {\n            newRange = { start: start, end: end };\n        }\n        return newRange;\n    }\n    function rangesEqual(range0, range1) {\n        return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n            (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n    }\n    function rangesIntersect(range0, range1) {\n        return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n            (range0.start === null || range1.end === null || range0.start < range1.end);\n    }\n    function rangeContainsRange(outerRange, innerRange) {\n        return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n            (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n    }\n    function rangeContainsMarker(range, date) {\n        return (range.start === null || date >= range.start) &&\n            (range.end === null || date < range.end);\n    }\n    // If the given date is not within the given range, move it inside.\n    // (If it's past the end, make it one millisecond before the end).\n    function constrainMarkerToRange(date, range) {\n        if (range.start != null && date < range.start) {\n            return range.start;\n        }\n        if (range.end != null && date >= range.end) {\n            return new Date(range.end.valueOf() - 1);\n        }\n        return date;\n    }\n\n    /*\n    Specifying nextDayThreshold signals that all-day ranges should be sliced.\n    */\n    function sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n        var inverseBgByGroupId = {};\n        var inverseBgByDefId = {};\n        var defByGroupId = {};\n        var bgRanges = [];\n        var fgRanges = [];\n        var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n        for (var defId in eventStore.defs) {\n            var def = eventStore.defs[defId];\n            var ui = eventUis[def.defId];\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId] = [];\n                    if (!defByGroupId[def.groupId]) {\n                        defByGroupId[def.groupId] = def;\n                    }\n                }\n                else {\n                    inverseBgByDefId[defId] = [];\n                }\n            }\n        }\n        for (var instanceId in eventStore.instances) {\n            var instance = eventStore.instances[instanceId];\n            var def = eventStore.defs[instance.defId];\n            var ui = eventUis[def.defId];\n            var origRange = instance.range;\n            var normalRange = (!def.allDay && nextDayThreshold) ?\n                computeVisibleDayRange(origRange, nextDayThreshold) :\n                origRange;\n            var slicedRange = intersectRanges(normalRange, framingRange);\n            if (slicedRange) {\n                if (ui.display === 'inverse-background') {\n                    if (def.groupId) {\n                        inverseBgByGroupId[def.groupId].push(slicedRange);\n                    }\n                    else {\n                        inverseBgByDefId[instance.defId].push(slicedRange);\n                    }\n                }\n                else if (ui.display !== 'none') {\n                    (ui.display === 'background' ? bgRanges : fgRanges).push({\n                        def: def,\n                        ui: ui,\n                        instance: instance,\n                        range: slicedRange,\n                        isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                        isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                    });\n                }\n            }\n        }\n        for (var groupId in inverseBgByGroupId) { // BY GROUP\n            var ranges = inverseBgByGroupId[groupId];\n            var invertedRanges = invertRanges(ranges, framingRange);\n            for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n                var invertedRange = invertedRanges_1[_i];\n                var def = defByGroupId[groupId];\n                var ui = eventUis[def.defId];\n                bgRanges.push({\n                    def: def,\n                    ui: ui,\n                    instance: null,\n                    range: invertedRange,\n                    isStart: false,\n                    isEnd: false,\n                });\n            }\n        }\n        for (var defId in inverseBgByDefId) {\n            var ranges = inverseBgByDefId[defId];\n            var invertedRanges = invertRanges(ranges, framingRange);\n            for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n                var invertedRange = invertedRanges_2[_a];\n                bgRanges.push({\n                    def: eventStore.defs[defId],\n                    ui: eventUis[defId],\n                    instance: null,\n                    range: invertedRange,\n                    isStart: false,\n                    isEnd: false,\n                });\n            }\n        }\n        return { bg: bgRanges, fg: fgRanges };\n    }\n    function hasBgRendering(def) {\n        return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n    }\n    function setElSeg(el, seg) {\n        el.fcSeg = seg;\n    }\n    function getElSeg(el) {\n        return el.fcSeg ||\n            el.parentNode.fcSeg || // for the harness\n            null;\n    }\n    // event ui computation\n    function compileEventUis(eventDefs, eventUiBases) {\n        return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n    }\n    function compileEventUi(eventDef, eventUiBases) {\n        var uis = [];\n        if (eventUiBases['']) {\n            uis.push(eventUiBases['']);\n        }\n        if (eventUiBases[eventDef.defId]) {\n            uis.push(eventUiBases[eventDef.defId]);\n        }\n        uis.push(eventDef.ui);\n        return combineEventUis(uis);\n    }\n    function sortEventSegs(segs, eventOrderSpecs) {\n        var objs = segs.map(buildSegCompareObj);\n        objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n        return objs.map(function (c) { return c._seg; });\n    }\n    // returns a object with all primitive props that can be compared\n    function buildSegCompareObj(seg) {\n        var eventRange = seg.eventRange;\n        var eventDef = eventRange.def;\n        var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n        var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n        var end = range.end ? range.end.valueOf() : 0; // \"\n        return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n            end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n    }\n    function computeSegDraggable(seg, context) {\n        var pluginHooks = context.pluginHooks;\n        var transformers = pluginHooks.isDraggableTransformers;\n        var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n        var val = ui.startEditable;\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            val = transformer(val, def, ui, context);\n        }\n        return val;\n    }\n    function computeSegStartResizable(seg, context) {\n        return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n    }\n    function computeSegEndResizable(seg, context) {\n        return seg.isEnd && seg.eventRange.ui.durationEditable;\n    }\n    function buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\n    defaultDisplayEventEnd, // defaults to true\n    startOverride, endOverride) {\n        var dateEnv = context.dateEnv, options = context.options;\n        var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n        var eventDef = seg.eventRange.def;\n        var eventInstance = seg.eventRange.instance;\n        if (displayEventTime == null) {\n            displayEventTime = defaultDisplayEventTime !== false;\n        }\n        if (displayEventEnd == null) {\n            displayEventEnd = defaultDisplayEventEnd !== false;\n        }\n        var wholeEventStart = eventInstance.range.start;\n        var wholeEventEnd = eventInstance.range.end;\n        var segStart = startOverride || seg.start || seg.eventRange.range.start;\n        var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n        var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n        var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n        if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n            segStart = isStartDay ? wholeEventStart : segStart;\n            segEnd = isEndDay ? wholeEventEnd : segEnd;\n            if (displayEventEnd && eventDef.hasEnd) {\n                return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                    forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                    forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n                });\n            }\n            return dateEnv.format(segStart, timeFormat, {\n                forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n            });\n        }\n        return '';\n    }\n    function getSegMeta(seg, todayRange, nowDate) {\n        var segRange = seg.eventRange.range;\n        return {\n            isPast: segRange.end < (nowDate || todayRange.start),\n            isFuture: segRange.start >= (nowDate || todayRange.end),\n            isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n        };\n    }\n    function getEventClassNames(props) {\n        var classNames = ['fc-event'];\n        if (props.isMirror) {\n            classNames.push('fc-event-mirror');\n        }\n        if (props.isDraggable) {\n            classNames.push('fc-event-draggable');\n        }\n        if (props.isStartResizable || props.isEndResizable) {\n            classNames.push('fc-event-resizable');\n        }\n        if (props.isDragging) {\n            classNames.push('fc-event-dragging');\n        }\n        if (props.isResizing) {\n            classNames.push('fc-event-resizing');\n        }\n        if (props.isSelected) {\n            classNames.push('fc-event-selected');\n        }\n        if (props.isStart) {\n            classNames.push('fc-event-start');\n        }\n        if (props.isEnd) {\n            classNames.push('fc-event-end');\n        }\n        if (props.isPast) {\n            classNames.push('fc-event-past');\n        }\n        if (props.isToday) {\n            classNames.push('fc-event-today');\n        }\n        if (props.isFuture) {\n            classNames.push('fc-event-future');\n        }\n        return classNames;\n    }\n    function buildEventRangeKey(eventRange) {\n        return eventRange.instance\n            ? eventRange.instance.instanceId\n            : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n        // inverse-background events don't have specific instances. TODO: better solution\n    }\n    function getSegAnchorAttrs(seg, context) {\n        var _a = seg.eventRange, def = _a.def, instance = _a.instance;\n        var url = def.url;\n        if (url) {\n            return { href: url };\n        }\n        var emitter = context.emitter, options = context.options;\n        var eventInteractive = options.eventInteractive;\n        if (eventInteractive == null) {\n            eventInteractive = def.interactive;\n            if (eventInteractive == null) {\n                eventInteractive = Boolean(emitter.hasHandlers('eventClick'));\n            }\n        }\n        // mock what happens in EventClicking\n        if (eventInteractive) {\n            // only attach keyboard-related handlers because click handler is already done in EventClicking\n            return createAriaKeyboardAttrs(function (ev) {\n                emitter.trigger('eventClick', {\n                    el: ev.target,\n                    event: new EventApi(context, def, instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            });\n        }\n        return {};\n    }\n\n    var STANDARD_PROPS = {\n        start: identity,\n        end: identity,\n        allDay: Boolean,\n    };\n    function parseDateSpan(raw, dateEnv, defaultDuration) {\n        var span = parseOpenDateSpan(raw, dateEnv);\n        var range = span.range;\n        if (!range.start) {\n            return null;\n        }\n        if (!range.end) {\n            if (defaultDuration == null) {\n                return null;\n            }\n            range.end = dateEnv.add(range.start, defaultDuration);\n        }\n        return span;\n    }\n    /*\n    TODO: somehow combine with parseRange?\n    Will return null if the start/end props were present but parsed invalidly.\n    */\n    function parseOpenDateSpan(raw, dateEnv) {\n        var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n        var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n        var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n        var allDay = standardProps.allDay;\n        if (allDay == null) {\n            allDay = (startMeta && startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n        return __assign({ range: {\n                start: startMeta ? startMeta.marker : null,\n                end: endMeta ? endMeta.marker : null,\n            }, allDay: allDay }, extra);\n    }\n    function isDateSpansEqual(span0, span1) {\n        return rangesEqual(span0.range, span1.range) &&\n            span0.allDay === span1.allDay &&\n            isSpanPropsEqual(span0, span1);\n    }\n    // the NON-DATE-RELATED props\n    function isSpanPropsEqual(span0, span1) {\n        for (var propName in span1) {\n            if (propName !== 'range' && propName !== 'allDay') {\n                if (span0[propName] !== span1[propName]) {\n                    return false;\n                }\n            }\n        }\n        // are there any props that span0 has that span1 DOESN'T have?\n        // both have range/allDay, so no need to special-case.\n        for (var propName in span0) {\n            if (!(propName in span1)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function buildDateSpanApi(span, dateEnv) {\n        return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n    }\n    function buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n        return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n    }\n    function buildRangeApi(range, dateEnv, omitTime) {\n        return {\n            start: dateEnv.toDate(range.start),\n            end: dateEnv.toDate(range.end),\n            startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n            endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n        };\n    }\n    function fabricateEventRange(dateSpan, eventUiBases, context) {\n        var res = refineEventDef({ editable: false }, context);\n        var def = parseEventDef(res.refined, res.extra, '', // sourceId\n        dateSpan.allDay, true, // hasEnd\n        context);\n        return {\n            def: def,\n            ui: compileEventUi(def, eventUiBases),\n            instance: createEventInstance(def.defId, dateSpan.range),\n            range: dateSpan.range,\n            isStart: true,\n            isEnd: true,\n        };\n    }\n\n    function triggerDateSelect(selection, pev, context) {\n        context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n    }\n    function triggerDateUnselect(pev, context) {\n        context.emitter.trigger('unselect', {\n            jsEvent: pev ? pev.origEvent : null,\n            view: context.viewApi || context.calendarApi.view,\n        });\n    }\n    function buildDateSpanApiWithContext(dateSpan, context) {\n        var props = {};\n        for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, context));\n        }\n        __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n        return props;\n    }\n    // Given an event's allDay status and start date, return what its fallback end date should be.\n    // TODO: rename to computeDefaultEventEnd\n    function getDefaultEventEnd(allDay, marker, context) {\n        var dateEnv = context.dateEnv, options = context.options;\n        var end = marker;\n        if (allDay) {\n            end = startOfDay(end);\n            end = dateEnv.add(end, options.defaultAllDayEventDuration);\n        }\n        else {\n            end = dateEnv.add(end, options.defaultTimedEventDuration);\n        }\n        return end;\n    }\n\n    // applies the mutation to ALL defs/instances within the event store\n    function applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n        var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n        var dest = createEmptyEventStore();\n        for (var defId in eventStore.defs) {\n            var def = eventStore.defs[defId];\n            dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n        }\n        for (var instanceId in eventStore.instances) {\n            var instance = eventStore.instances[instanceId];\n            var def = dest.defs[instance.defId]; // important to grab the newly modified def\n            dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n        }\n        return dest;\n    }\n    function applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n        var standardProps = mutation.standardProps || {};\n        // if hasEnd has not been specified, guess a good value based on deltas.\n        // if duration will change, there's no way the default duration will persist,\n        // and thus, we need to mark the event as having a real end\n        if (standardProps.hasEnd == null &&\n            eventConfig.durationEditable &&\n            (mutation.startDelta || mutation.endDelta)) {\n            standardProps.hasEnd = true; // TODO: is this mutation okay?\n        }\n        var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n        if (mutation.extendedProps) {\n            copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n        }\n        for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n            var applier = _a[_i];\n            applier(copy, mutation, context);\n        }\n        if (!copy.hasEnd && context.options.forceEventDuration) {\n            copy.hasEnd = true;\n        }\n        return copy;\n    }\n    function applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\n    eventConfig, mutation, context) {\n        var dateEnv = context.dateEnv;\n        var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n        var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n        var copy = __assign({}, eventInstance);\n        if (forceAllDay) {\n            copy.range = computeAlignedDayRange(copy.range);\n        }\n        if (mutation.datesDelta && eventConfig.startEditable) {\n            copy.range = {\n                start: dateEnv.add(copy.range.start, mutation.datesDelta),\n                end: dateEnv.add(copy.range.end, mutation.datesDelta),\n            };\n        }\n        if (mutation.startDelta && eventConfig.durationEditable) {\n            copy.range = {\n                start: dateEnv.add(copy.range.start, mutation.startDelta),\n                end: copy.range.end,\n            };\n        }\n        if (mutation.endDelta && eventConfig.durationEditable) {\n            copy.range = {\n                start: copy.range.start,\n                end: dateEnv.add(copy.range.end, mutation.endDelta),\n            };\n        }\n        if (clearEnd) {\n            copy.range = {\n                start: copy.range.start,\n                end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n            };\n        }\n        // in case event was all-day but the supplied deltas were not\n        // better util for this?\n        if (eventDef.allDay) {\n            copy.range = {\n                start: startOfDay(copy.range.start),\n                end: startOfDay(copy.range.end),\n            };\n        }\n        // handle invalid durations\n        if (copy.range.end < copy.range.start) {\n            copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n        }\n        return copy;\n    }\n\n    // no public types yet. when there are, export from:\n    // import {} from './api-type-deps'\n    var ViewApi = /** @class */ (function () {\n        function ViewApi(type, getCurrentData, dateEnv) {\n            this.type = type;\n            this.getCurrentData = getCurrentData;\n            this.dateEnv = dateEnv;\n        }\n        Object.defineProperty(ViewApi.prototype, \"calendar\", {\n            get: function () {\n                return this.getCurrentData().calendarApi;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ViewApi.prototype, \"title\", {\n            get: function () {\n                return this.getCurrentData().viewTitle;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n            get: function () {\n                return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ViewApi.prototype.getOption = function (name) {\n            return this.getCurrentData().options[name]; // are the view-specific options\n        };\n        return ViewApi;\n    }());\n\n    var EVENT_SOURCE_REFINERS$1 = {\n        id: String,\n        defaultAllDay: Boolean,\n        url: String,\n        format: String,\n        events: identity,\n        eventDataTransform: identity,\n        // for any network-related sources\n        success: identity,\n        failure: identity,\n    };\n    function parseEventSource(raw, context, refiners) {\n        if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n        var rawObj;\n        if (typeof raw === 'string') {\n            rawObj = { url: raw };\n        }\n        else if (typeof raw === 'function' || Array.isArray(raw)) {\n            rawObj = { events: raw };\n        }\n        else if (typeof raw === 'object' && raw) { // not null\n            rawObj = raw;\n        }\n        if (rawObj) {\n            var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n            var metaRes = buildEventSourceMeta(refined, context);\n            if (metaRes) {\n                return {\n                    _raw: raw,\n                    isFetching: false,\n                    latestFetchId: '',\n                    fetchRange: null,\n                    defaultAllDay: refined.defaultAllDay,\n                    eventDataTransform: refined.eventDataTransform,\n                    success: refined.success,\n                    failure: refined.failure,\n                    publicId: refined.id || '',\n                    sourceId: guid(),\n                    sourceDefId: metaRes.sourceDefId,\n                    meta: metaRes.meta,\n                    ui: createEventUi(refined, context),\n                    extendedProps: extra,\n                };\n            }\n        }\n        return null;\n    }\n    function buildEventSourceRefiners(context) {\n        return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS$1), context.pluginHooks.eventSourceRefiners);\n    }\n    function buildEventSourceMeta(raw, context) {\n        var defs = context.pluginHooks.eventSourceDefs;\n        for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n            var def = defs[i];\n            var meta = def.parseMeta(raw);\n            if (meta) {\n                return { sourceDefId: i, meta: meta };\n            }\n        }\n        return null;\n    }\n\n    function reduceCurrentDate(currentDate, action) {\n        switch (action.type) {\n            case 'CHANGE_DATE':\n                return action.dateMarker;\n            default:\n                return currentDate;\n        }\n    }\n    function getInitialDate(options, dateEnv) {\n        var initialDateInput = options.initialDate;\n        // compute the initial ambig-timezone date\n        if (initialDateInput != null) {\n            return dateEnv.createMarker(initialDateInput);\n        }\n        return getNow(options.now, dateEnv); // getNow already returns unzoned\n    }\n    function getNow(nowInput, dateEnv) {\n        if (typeof nowInput === 'function') {\n            nowInput = nowInput();\n        }\n        if (nowInput == null) {\n            return dateEnv.createNowMarker();\n        }\n        return dateEnv.createMarker(nowInput);\n    }\n\n    var CalendarApi = /** @class */ (function () {\n        function CalendarApi() {\n        }\n        CalendarApi.prototype.getCurrentData = function () {\n            return this.currentDataManager.getCurrentData();\n        };\n        CalendarApi.prototype.dispatch = function (action) {\n            return this.currentDataManager.dispatch(action);\n        };\n        Object.defineProperty(CalendarApi.prototype, \"view\", {\n            get: function () { return this.getCurrentData().viewApi; } // for public API\n            ,\n            enumerable: false,\n            configurable: true\n        });\n        CalendarApi.prototype.batchRendering = function (callback) {\n            callback();\n        };\n        CalendarApi.prototype.updateSize = function () {\n            this.trigger('_resize', true);\n        };\n        // Options\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.setOption = function (name, val) {\n            this.dispatch({\n                type: 'SET_OPTION',\n                optionName: name,\n                rawOptionValue: val,\n            });\n        };\n        CalendarApi.prototype.getOption = function (name) {\n            return this.currentDataManager.currentCalendarOptionsInput[name];\n        };\n        CalendarApi.prototype.getAvailableLocaleCodes = function () {\n            return Object.keys(this.getCurrentData().availableRawLocales);\n        };\n        // Trigger\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.on = function (handlerName, handler) {\n            var currentDataManager = this.currentDataManager;\n            if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n                currentDataManager.emitter.on(handlerName, handler);\n            }\n            else {\n                console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n            }\n        };\n        CalendarApi.prototype.off = function (handlerName, handler) {\n            this.currentDataManager.emitter.off(handlerName, handler);\n        };\n        // not meant for public use\n        CalendarApi.prototype.trigger = function (handlerName) {\n            var _a;\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n        };\n        // View\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n            var _this = this;\n            this.batchRendering(function () {\n                _this.unselect();\n                if (dateOrRange) {\n                    if (dateOrRange.start && dateOrRange.end) { // a range\n                        _this.dispatch({\n                            type: 'CHANGE_VIEW_TYPE',\n                            viewType: viewType,\n                        });\n                        _this.dispatch({\n                            type: 'SET_OPTION',\n                            optionName: 'visibleRange',\n                            rawOptionValue: dateOrRange,\n                        });\n                    }\n                    else {\n                        var dateEnv = _this.getCurrentData().dateEnv;\n                        _this.dispatch({\n                            type: 'CHANGE_VIEW_TYPE',\n                            viewType: viewType,\n                            dateMarker: dateEnv.createMarker(dateOrRange),\n                        });\n                    }\n                }\n                else {\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                }\n            });\n        };\n        // Forces navigation to a view for the given date.\n        // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n        // needs to change\n        CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n            var state = this.getCurrentData();\n            var spec;\n            viewType = viewType || 'day'; // day is default zoom\n            spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n            this.unselect();\n            if (spec) {\n                this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: spec.type,\n                    dateMarker: dateMarker,\n                });\n            }\n            else {\n                this.dispatch({\n                    type: 'CHANGE_DATE',\n                    dateMarker: dateMarker,\n                });\n            }\n        };\n        // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n        // Preference is given to views that have corresponding buttons.\n        CalendarApi.prototype.getUnitViewSpec = function (unit) {\n            var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n            var viewTypes = [].concat(toolbarConfig.header ? toolbarConfig.header.viewsWithButtons : [], toolbarConfig.footer ? toolbarConfig.footer.viewsWithButtons : []);\n            var i;\n            var spec;\n            for (var viewType in viewSpecs) {\n                viewTypes.push(viewType);\n            }\n            for (i = 0; i < viewTypes.length; i += 1) {\n                spec = viewSpecs[viewTypes[i]];\n                if (spec) {\n                    if (spec.singleUnit === unit) {\n                        return spec;\n                    }\n                }\n            }\n            return null;\n        };\n        // Current Date\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.prev = function () {\n            this.unselect();\n            this.dispatch({ type: 'PREV' });\n        };\n        CalendarApi.prototype.next = function () {\n            this.unselect();\n            this.dispatch({ type: 'NEXT' });\n        };\n        CalendarApi.prototype.prevYear = function () {\n            var state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n            });\n        };\n        CalendarApi.prototype.nextYear = function () {\n            var state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n            });\n        };\n        CalendarApi.prototype.today = function () {\n            var state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n            });\n        };\n        CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n            var state = this.getCurrentData();\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.createMarker(zonedDateInput),\n            });\n        };\n        CalendarApi.prototype.incrementDate = function (deltaInput) {\n            var state = this.getCurrentData();\n            var delta = createDuration(deltaInput);\n            if (delta) { // else, warn about invalid input?\n                this.unselect();\n                this.dispatch({\n                    type: 'CHANGE_DATE',\n                    dateMarker: state.dateEnv.add(state.currentDate, delta),\n                });\n            }\n        };\n        // for external API\n        CalendarApi.prototype.getDate = function () {\n            var state = this.getCurrentData();\n            return state.dateEnv.toDate(state.currentDate);\n        };\n        // Date Formatting Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.formatDate = function (d, formatter) {\n            var dateEnv = this.getCurrentData().dateEnv;\n            return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n        };\n        // `settings` is for formatter AND isEndExclusive\n        CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n            var dateEnv = this.getCurrentData().dateEnv;\n            return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n        };\n        CalendarApi.prototype.formatIso = function (d, omitTime) {\n            var dateEnv = this.getCurrentData().dateEnv;\n            return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n        };\n        // Date Selection / Event Selection / DayClick\n        // -----------------------------------------------------------------------------------------------------------------\n        // this public method receives start/end dates in any format, with any timezone\n        // NOTE: args were changed from v3\n        CalendarApi.prototype.select = function (dateOrObj, endDate) {\n            var selectionInput;\n            if (endDate == null) {\n                if (dateOrObj.start != null) {\n                    selectionInput = dateOrObj;\n                }\n                else {\n                    selectionInput = {\n                        start: dateOrObj,\n                        end: null,\n                    };\n                }\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: endDate,\n                };\n            }\n            var state = this.getCurrentData();\n            var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n            if (selection) { // throw parse error otherwise?\n                this.dispatch({ type: 'SELECT_DATES', selection: selection });\n                triggerDateSelect(selection, null, state);\n            }\n        };\n        // public method\n        CalendarApi.prototype.unselect = function (pev) {\n            var state = this.getCurrentData();\n            if (state.dateSelection) {\n                this.dispatch({ type: 'UNSELECT_DATES' });\n                triggerDateUnselect(pev, state);\n            }\n        };\n        // Public Events API\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n            if (eventInput instanceof EventApi) {\n                var def = eventInput._def;\n                var instance = eventInput._instance;\n                var currentData = this.getCurrentData();\n                // not already present? don't want to add an old snapshot\n                if (!currentData.eventStore.defs[def.defId]) {\n                    this.dispatch({\n                        type: 'ADD_EVENTS',\n                        eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                    });\n                    this.triggerEventAdd(eventInput);\n                }\n                return eventInput;\n            }\n            var state = this.getCurrentData();\n            var eventSource;\n            if (sourceInput instanceof EventSourceApi) {\n                eventSource = sourceInput.internalEventSource;\n            }\n            else if (typeof sourceInput === 'boolean') {\n                if (sourceInput) { // true. part of the first event source\n                    eventSource = hashValuesToArray(state.eventSources)[0];\n                }\n            }\n            else if (sourceInput != null) { // an ID. accepts a number too\n                var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n                if (!sourceApi) {\n                    console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                    return null;\n                }\n                eventSource = sourceApi.internalEventSource;\n            }\n            var tuple = parseEvent(eventInput, eventSource, state, false);\n            if (tuple) {\n                var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore(tuple),\n                });\n                this.triggerEventAdd(newEventApi);\n                return newEventApi;\n            }\n            return null;\n        };\n        CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n            var _this = this;\n            var emitter = this.getCurrentData().emitter;\n            emitter.trigger('eventAdd', {\n                event: eventApi,\n                relatedEvents: [],\n                revert: function () {\n                    _this.dispatch({\n                        type: 'REMOVE_EVENTS',\n                        eventStore: eventApiToStore(eventApi),\n                    });\n                },\n            });\n        };\n        // TODO: optimize\n        CalendarApi.prototype.getEventById = function (id) {\n            var state = this.getCurrentData();\n            var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n            id = String(id);\n            for (var defId in defs) {\n                var def = defs[defId];\n                if (def.publicId === id) {\n                    if (def.recurringDef) {\n                        return new EventApi(state, def, null);\n                    }\n                    for (var instanceId in instances) {\n                        var instance = instances[instanceId];\n                        if (instance.defId === def.defId) {\n                            return new EventApi(state, def, instance);\n                        }\n                    }\n                }\n            }\n            return null;\n        };\n        CalendarApi.prototype.getEvents = function () {\n            var currentData = this.getCurrentData();\n            return buildEventApis(currentData.eventStore, currentData);\n        };\n        CalendarApi.prototype.removeAllEvents = function () {\n            this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n        };\n        // Public Event Sources API\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.getEventSources = function () {\n            var state = this.getCurrentData();\n            var sourceHash = state.eventSources;\n            var sourceApis = [];\n            for (var internalId in sourceHash) {\n                sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n            }\n            return sourceApis;\n        };\n        CalendarApi.prototype.getEventSourceById = function (id) {\n            var state = this.getCurrentData();\n            var sourceHash = state.eventSources;\n            id = String(id);\n            for (var sourceId in sourceHash) {\n                if (sourceHash[sourceId].publicId === id) {\n                    return new EventSourceApi(state, sourceHash[sourceId]);\n                }\n            }\n            return null;\n        };\n        CalendarApi.prototype.addEventSource = function (sourceInput) {\n            var state = this.getCurrentData();\n            if (sourceInput instanceof EventSourceApi) {\n                // not already present? don't want to add an old snapshot\n                if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                    this.dispatch({\n                        type: 'ADD_EVENT_SOURCES',\n                        sources: [sourceInput.internalEventSource],\n                    });\n                }\n                return sourceInput;\n            }\n            var eventSource = parseEventSource(sourceInput, state);\n            if (eventSource) { // TODO: error otherwise?\n                this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n                return new EventSourceApi(state, eventSource);\n            }\n            return null;\n        };\n        CalendarApi.prototype.removeAllEventSources = function () {\n            this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n        };\n        CalendarApi.prototype.refetchEvents = function () {\n            this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n        };\n        // Scroll\n        // -----------------------------------------------------------------------------------------------------------------\n        CalendarApi.prototype.scrollToTime = function (timeInput) {\n            var time = createDuration(timeInput);\n            if (time) {\n                this.trigger('_scrollRequest', { time: time });\n            }\n        };\n        return CalendarApi;\n    }());\n\n    var EventApi = /** @class */ (function () {\n        // instance will be null if expressing a recurring event that has no current instances,\n        // OR if trying to validate an incoming external event that has no dates assigned\n        function EventApi(context, def, instance) {\n            this._context = context;\n            this._def = def;\n            this._instance = instance || null;\n        }\n        /*\n        TODO: make event struct more responsible for this\n        */\n        EventApi.prototype.setProp = function (name, val) {\n            var _a, _b;\n            if (name in EVENT_DATE_REFINERS) {\n                console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n                // TODO: make proper aliasing system?\n            }\n            else if (name === 'id') {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n                this.mutate({\n                    standardProps: { publicId: val }, // hardcoded internal name\n                });\n            }\n            else if (name in EVENT_NON_DATE_REFINERS) {\n                val = EVENT_NON_DATE_REFINERS[name](val);\n                this.mutate({\n                    standardProps: (_a = {}, _a[name] = val, _a),\n                });\n            }\n            else if (name in EVENT_UI_REFINERS) {\n                var ui = EVENT_UI_REFINERS[name](val);\n                if (name === 'color') {\n                    ui = { backgroundColor: val, borderColor: val };\n                }\n                else if (name === 'editable') {\n                    ui = { startEditable: val, durationEditable: val };\n                }\n                else {\n                    ui = (_b = {}, _b[name] = val, _b);\n                }\n                this.mutate({\n                    standardProps: { ui: ui },\n                });\n            }\n            else {\n                console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n            }\n        };\n        EventApi.prototype.setExtendedProp = function (name, val) {\n            var _a;\n            this.mutate({\n                extendedProps: (_a = {}, _a[name] = val, _a),\n            });\n        };\n        EventApi.prototype.setStart = function (startInput, options) {\n            if (options === void 0) { options = {}; }\n            var dateEnv = this._context.dateEnv;\n            var start = dateEnv.createMarker(startInput);\n            if (start && this._instance) { // TODO: warning if parsed bad\n                var instanceRange = this._instance.range;\n                var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n                if (options.maintainDuration) {\n                    this.mutate({ datesDelta: startDelta });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta });\n                }\n            }\n        };\n        EventApi.prototype.setEnd = function (endInput, options) {\n            if (options === void 0) { options = {}; }\n            var dateEnv = this._context.dateEnv;\n            var end;\n            if (endInput != null) {\n                end = dateEnv.createMarker(endInput);\n                if (!end) {\n                    return; // TODO: warning if parsed bad\n                }\n            }\n            if (this._instance) {\n                if (end) {\n                    var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                    this.mutate({ endDelta: endDelta });\n                }\n                else {\n                    this.mutate({ standardProps: { hasEnd: false } });\n                }\n            }\n        };\n        EventApi.prototype.setDates = function (startInput, endInput, options) {\n            if (options === void 0) { options = {}; }\n            var dateEnv = this._context.dateEnv;\n            var standardProps = { allDay: options.allDay };\n            var start = dateEnv.createMarker(startInput);\n            var end;\n            if (!start) {\n                return; // TODO: warning if parsed bad\n            }\n            if (endInput != null) {\n                end = dateEnv.createMarker(endInput);\n                if (!end) { // TODO: warning if parsed bad\n                    return;\n                }\n            }\n            if (this._instance) {\n                var instanceRange = this._instance.range;\n                // when computing the diff for an event being converted to all-day,\n                // compute diff off of the all-day values the way event-mutation does.\n                if (options.allDay === true) {\n                    instanceRange = computeAlignedDayRange(instanceRange);\n                }\n                var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n                if (end) {\n                    var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                    if (durationsEqual(startDelta, endDelta)) {\n                        this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                    }\n                    else {\n                        this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                    }\n                }\n                else { // means \"clear the end\"\n                    standardProps.hasEnd = false;\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n            }\n        };\n        EventApi.prototype.moveStart = function (deltaInput) {\n            var delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ startDelta: delta });\n            }\n        };\n        EventApi.prototype.moveEnd = function (deltaInput) {\n            var delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ endDelta: delta });\n            }\n        };\n        EventApi.prototype.moveDates = function (deltaInput) {\n            var delta = createDuration(deltaInput);\n            if (delta) { // TODO: warning if parsed bad\n                this.mutate({ datesDelta: delta });\n            }\n        };\n        EventApi.prototype.setAllDay = function (allDay, options) {\n            if (options === void 0) { options = {}; }\n            var standardProps = { allDay: allDay };\n            var maintainDuration = options.maintainDuration;\n            if (maintainDuration == null) {\n                maintainDuration = this._context.options.allDayMaintainDuration;\n            }\n            if (this._def.allDay !== allDay) {\n                standardProps.hasEnd = maintainDuration;\n            }\n            this.mutate({ standardProps: standardProps });\n        };\n        EventApi.prototype.formatRange = function (formatInput) {\n            var dateEnv = this._context.dateEnv;\n            var instance = this._instance;\n            var formatter = createFormatter(formatInput);\n            if (this._def.hasEnd) {\n                return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                    forcedStartTzo: instance.forcedStartTzo,\n                    forcedEndTzo: instance.forcedEndTzo,\n                });\n            }\n            return dateEnv.format(instance.range.start, formatter, {\n                forcedTzo: instance.forcedStartTzo,\n            });\n        };\n        EventApi.prototype.mutate = function (mutation) {\n            var instance = this._instance;\n            if (instance) {\n                var def = this._def;\n                var context_1 = this._context;\n                var eventStore_1 = context_1.getCurrentData().eventStore;\n                var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n                var eventConfigBase = {\n                    '': {\n                        display: '',\n                        startEditable: true,\n                        durationEditable: true,\n                        constraints: [],\n                        overlap: null,\n                        allows: [],\n                        backgroundColor: '',\n                        borderColor: '',\n                        textColor: '',\n                        classNames: [],\n                    },\n                };\n                relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n                var oldEvent = new EventApi(context_1, def, instance); // snapshot\n                this._def = relevantEvents.defs[def.defId];\n                this._instance = relevantEvents.instances[instance.instanceId];\n                context_1.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: relevantEvents,\n                });\n                context_1.emitter.trigger('eventChange', {\n                    oldEvent: oldEvent,\n                    event: this,\n                    relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                    revert: function () {\n                        context_1.dispatch({\n                            type: 'RESET_EVENTS',\n                            eventStore: eventStore_1,\n                        });\n                    },\n                });\n            }\n        };\n        EventApi.prototype.remove = function () {\n            var context = this._context;\n            var asStore = eventApiToStore(this);\n            context.dispatch({\n                type: 'REMOVE_EVENTS',\n                eventStore: asStore,\n            });\n            context.emitter.trigger('eventRemove', {\n                event: this,\n                relatedEvents: [],\n                revert: function () {\n                    context.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: asStore,\n                    });\n                },\n            });\n        };\n        Object.defineProperty(EventApi.prototype, \"source\", {\n            get: function () {\n                var sourceId = this._def.sourceId;\n                if (sourceId) {\n                    return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n                }\n                return null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"start\", {\n            get: function () {\n                return this._instance ?\n                    this._context.dateEnv.toDate(this._instance.range.start) :\n                    null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"end\", {\n            get: function () {\n                return (this._instance && this._def.hasEnd) ?\n                    this._context.dateEnv.toDate(this._instance.range.end) :\n                    null;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"startStr\", {\n            get: function () {\n                var instance = this._instance;\n                if (instance) {\n                    return this._context.dateEnv.formatIso(instance.range.start, {\n                        omitTime: this._def.allDay,\n                        forcedTzo: instance.forcedStartTzo,\n                    });\n                }\n                return '';\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"endStr\", {\n            get: function () {\n                var instance = this._instance;\n                if (instance && this._def.hasEnd) {\n                    return this._context.dateEnv.formatIso(instance.range.end, {\n                        omitTime: this._def.allDay,\n                        forcedTzo: instance.forcedEndTzo,\n                    });\n                }\n                return '';\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"id\", {\n            // computable props that all access the def\n            // TODO: find a TypeScript-compatible way to do this at scale\n            get: function () { return this._def.publicId; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"groupId\", {\n            get: function () { return this._def.groupId; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"allDay\", {\n            get: function () { return this._def.allDay; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"title\", {\n            get: function () { return this._def.title; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"url\", {\n            get: function () { return this._def.url; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"display\", {\n            get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n            ,\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"startEditable\", {\n            get: function () { return this._def.ui.startEditable; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n            get: function () { return this._def.ui.durationEditable; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"constraint\", {\n            get: function () { return this._def.ui.constraints[0] || null; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"overlap\", {\n            get: function () { return this._def.ui.overlap; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"allow\", {\n            get: function () { return this._def.ui.allows[0] || null; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n            get: function () { return this._def.ui.backgroundColor; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"borderColor\", {\n            get: function () { return this._def.ui.borderColor; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"textColor\", {\n            get: function () { return this._def.ui.textColor; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"classNames\", {\n            // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n            get: function () { return this._def.ui.classNames; },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n            get: function () { return this._def.extendedProps; },\n            enumerable: false,\n            configurable: true\n        });\n        EventApi.prototype.toPlainObject = function (settings) {\n            if (settings === void 0) { settings = {}; }\n            var def = this._def;\n            var ui = def.ui;\n            var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n            var res = {};\n            if (def.title) {\n                res.title = def.title;\n            }\n            if (startStr) {\n                res.start = startStr;\n            }\n            if (endStr) {\n                res.end = endStr;\n            }\n            if (def.publicId) {\n                res.id = def.publicId;\n            }\n            if (def.groupId) {\n                res.groupId = def.groupId;\n            }\n            if (def.url) {\n                res.url = def.url;\n            }\n            if (ui.display && ui.display !== 'auto') {\n                res.display = ui.display;\n            }\n            // TODO: what about recurring-event properties???\n            // TODO: include startEditable/durationEditable/constraint/overlap/allow\n            if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n                res.color = ui.backgroundColor;\n            }\n            else {\n                if (ui.backgroundColor) {\n                    res.backgroundColor = ui.backgroundColor;\n                }\n                if (ui.borderColor) {\n                    res.borderColor = ui.borderColor;\n                }\n            }\n            if (ui.textColor) {\n                res.textColor = ui.textColor;\n            }\n            if (ui.classNames.length) {\n                res.classNames = ui.classNames;\n            }\n            if (Object.keys(def.extendedProps).length) {\n                if (settings.collapseExtendedProps) {\n                    __assign(res, def.extendedProps);\n                }\n                else {\n                    res.extendedProps = def.extendedProps;\n                }\n            }\n            return res;\n        };\n        EventApi.prototype.toJSON = function () {\n            return this.toPlainObject();\n        };\n        return EventApi;\n    }());\n    function eventApiToStore(eventApi) {\n        var _a, _b;\n        var def = eventApi._def;\n        var instance = eventApi._instance;\n        return {\n            defs: (_a = {}, _a[def.defId] = def, _a),\n            instances: instance\n                ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n        };\n    }\n    function buildEventApis(eventStore, context, excludeInstance) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var eventApis = [];\n        var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n        for (var id in instances) {\n            var instance = instances[id];\n            var def = defs[instance.defId];\n            if (instance.instanceId !== excludeInstanceId) {\n                eventApis.push(new EventApi(context, def, instance));\n            }\n        }\n        return eventApis;\n    }\n\n    var calendarSystemClassMap = {};\n    function registerCalendarSystem(name, theClass) {\n        calendarSystemClassMap[name] = theClass;\n    }\n    function createCalendarSystem(name) {\n        return new calendarSystemClassMap[name]();\n    }\n    var GregorianCalendarSystem = /** @class */ (function () {\n        function GregorianCalendarSystem() {\n        }\n        GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n            return d.getUTCFullYear();\n        };\n        GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n            return d.getUTCMonth();\n        };\n        GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n            return d.getUTCDate();\n        };\n        GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n            return arrayToUtcDate(arr);\n        };\n        GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n            return dateToUtcArray(marker);\n        };\n        return GregorianCalendarSystem;\n    }());\n    registerCalendarSystem('gregory', GregorianCalendarSystem);\n\n    var ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\n    function parse(str) {\n        var m = ISO_RE.exec(str);\n        if (m) {\n            var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n            if (isValidDate(marker)) {\n                var timeZoneOffset = null;\n                if (m[13]) {\n                    timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                        Number(m[18] || 0));\n                }\n                return {\n                    marker: marker,\n                    isTimeUnspecified: !m[6],\n                    timeZoneOffset: timeZoneOffset,\n                };\n            }\n        }\n        return null;\n    }\n\n    var DateEnv = /** @class */ (function () {\n        function DateEnv(settings) {\n            var timeZone = this.timeZone = settings.timeZone;\n            var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n            if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n                this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n            }\n            this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n            this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n            this.locale = settings.locale;\n            this.weekDow = settings.locale.week.dow;\n            this.weekDoy = settings.locale.week.doy;\n            if (settings.weekNumberCalculation === 'ISO') {\n                this.weekDow = 1;\n                this.weekDoy = 4;\n            }\n            if (typeof settings.firstDay === 'number') {\n                this.weekDow = settings.firstDay;\n            }\n            if (typeof settings.weekNumberCalculation === 'function') {\n                this.weekNumberFunc = settings.weekNumberCalculation;\n            }\n            this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n            this.weekTextLong = (settings.weekTextLong != null ? settings.weekTextLong : settings.locale.options.weekTextLong) || this.weekText;\n            this.cmdFormatter = settings.cmdFormatter;\n            this.defaultSeparator = settings.defaultSeparator;\n        }\n        // Creating / Parsing\n        DateEnv.prototype.createMarker = function (input) {\n            var meta = this.createMarkerMeta(input);\n            if (meta === null) {\n                return null;\n            }\n            return meta.marker;\n        };\n        DateEnv.prototype.createNowMarker = function () {\n            if (this.canComputeOffset) {\n                return this.timestampToMarker(new Date().valueOf());\n            }\n            // if we can't compute the current date val for a timezone,\n            // better to give the current local date vals than UTC\n            return arrayToUtcDate(dateToLocalArray(new Date()));\n        };\n        DateEnv.prototype.createMarkerMeta = function (input) {\n            if (typeof input === 'string') {\n                return this.parse(input);\n            }\n            var marker = null;\n            if (typeof input === 'number') {\n                marker = this.timestampToMarker(input);\n            }\n            else if (input instanceof Date) {\n                input = input.valueOf();\n                if (!isNaN(input)) {\n                    marker = this.timestampToMarker(input);\n                }\n            }\n            else if (Array.isArray(input)) {\n                marker = arrayToUtcDate(input);\n            }\n            if (marker === null || !isValidDate(marker)) {\n                return null;\n            }\n            return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n        };\n        DateEnv.prototype.parse = function (s) {\n            var parts = parse(s);\n            if (parts === null) {\n                return null;\n            }\n            var marker = parts.marker;\n            var forcedTzo = null;\n            if (parts.timeZoneOffset !== null) {\n                if (this.canComputeOffset) {\n                    marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n                }\n                else {\n                    forcedTzo = parts.timeZoneOffset;\n                }\n            }\n            return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n        };\n        // Accessors\n        DateEnv.prototype.getYear = function (marker) {\n            return this.calendarSystem.getMarkerYear(marker);\n        };\n        DateEnv.prototype.getMonth = function (marker) {\n            return this.calendarSystem.getMarkerMonth(marker);\n        };\n        // Adding / Subtracting\n        DateEnv.prototype.add = function (marker, dur) {\n            var a = this.calendarSystem.markerToArray(marker);\n            a[0] += dur.years;\n            a[1] += dur.months;\n            a[2] += dur.days;\n            a[6] += dur.milliseconds;\n            return this.calendarSystem.arrayToMarker(a);\n        };\n        DateEnv.prototype.subtract = function (marker, dur) {\n            var a = this.calendarSystem.markerToArray(marker);\n            a[0] -= dur.years;\n            a[1] -= dur.months;\n            a[2] -= dur.days;\n            a[6] -= dur.milliseconds;\n            return this.calendarSystem.arrayToMarker(a);\n        };\n        DateEnv.prototype.addYears = function (marker, n) {\n            var a = this.calendarSystem.markerToArray(marker);\n            a[0] += n;\n            return this.calendarSystem.arrayToMarker(a);\n        };\n        DateEnv.prototype.addMonths = function (marker, n) {\n            var a = this.calendarSystem.markerToArray(marker);\n            a[1] += n;\n            return this.calendarSystem.arrayToMarker(a);\n        };\n        // Diffing Whole Units\n        DateEnv.prototype.diffWholeYears = function (m0, m1) {\n            var calendarSystem = this.calendarSystem;\n            if (timeAsMs(m0) === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n                calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n                return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n            }\n            return null;\n        };\n        DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n            var calendarSystem = this.calendarSystem;\n            if (timeAsMs(m0) === timeAsMs(m1) &&\n                calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n                return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                    (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n            }\n            return null;\n        };\n        // Range / Duration\n        DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n            var n = this.diffWholeYears(m0, m1);\n            if (n !== null) {\n                return { unit: 'year', value: n };\n            }\n            n = this.diffWholeMonths(m0, m1);\n            if (n !== null) {\n                return { unit: 'month', value: n };\n            }\n            n = diffWholeWeeks(m0, m1);\n            if (n !== null) {\n                return { unit: 'week', value: n };\n            }\n            n = diffWholeDays(m0, m1);\n            if (n !== null) {\n                return { unit: 'day', value: n };\n            }\n            n = diffHours(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'hour', value: n };\n            }\n            n = diffMinutes(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'minute', value: n };\n            }\n            n = diffSeconds(m0, m1);\n            if (isInt(n)) {\n                return { unit: 'second', value: n };\n            }\n            return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n        };\n        DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n            // TODO: can use greatestWholeUnit\n            var diff;\n            if (d.years) {\n                diff = this.diffWholeYears(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughYears(d);\n                }\n            }\n            if (d.months) {\n                diff = this.diffWholeMonths(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughMonths(d);\n                }\n            }\n            if (d.days) {\n                diff = diffWholeDays(m0, m1);\n                if (diff !== null) {\n                    return diff / asRoughDays(d);\n                }\n            }\n            return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n        };\n        // Start-Of\n        // these DON'T return zoned-dates. only UTC start-of dates\n        DateEnv.prototype.startOf = function (m, unit) {\n            if (unit === 'year') {\n                return this.startOfYear(m);\n            }\n            if (unit === 'month') {\n                return this.startOfMonth(m);\n            }\n            if (unit === 'week') {\n                return this.startOfWeek(m);\n            }\n            if (unit === 'day') {\n                return startOfDay(m);\n            }\n            if (unit === 'hour') {\n                return startOfHour(m);\n            }\n            if (unit === 'minute') {\n                return startOfMinute(m);\n            }\n            if (unit === 'second') {\n                return startOfSecond(m);\n            }\n            return null;\n        };\n        DateEnv.prototype.startOfYear = function (m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n            ]);\n        };\n        DateEnv.prototype.startOfMonth = function (m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n                this.calendarSystem.getMarkerMonth(m),\n            ]);\n        };\n        DateEnv.prototype.startOfWeek = function (m) {\n            return this.calendarSystem.arrayToMarker([\n                this.calendarSystem.getMarkerYear(m),\n                this.calendarSystem.getMarkerMonth(m),\n                m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n            ]);\n        };\n        // Week Number\n        DateEnv.prototype.computeWeekNumber = function (marker) {\n            if (this.weekNumberFunc) {\n                return this.weekNumberFunc(this.toDate(marker));\n            }\n            return weekOfYear(marker, this.weekDow, this.weekDoy);\n        };\n        // TODO: choke on timeZoneName: long\n        DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n            if (dateOptions === void 0) { dateOptions = {}; }\n            return formatter.format({\n                marker: marker,\n                timeZoneOffset: dateOptions.forcedTzo != null ?\n                    dateOptions.forcedTzo :\n                    this.offsetForMarker(marker),\n            }, this);\n        };\n        DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n            if (dateOptions === void 0) { dateOptions = {}; }\n            if (dateOptions.isEndExclusive) {\n                end = addMs(end, -1);\n            }\n            return formatter.formatRange({\n                marker: start,\n                timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                    dateOptions.forcedStartTzo :\n                    this.offsetForMarker(start),\n            }, {\n                marker: end,\n                timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                    dateOptions.forcedEndTzo :\n                    this.offsetForMarker(end),\n            }, this, dateOptions.defaultSeparator);\n        };\n        /*\n        DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n        might as well use buildIsoString or some other util directly\n        */\n        DateEnv.prototype.formatIso = function (marker, extraOptions) {\n            if (extraOptions === void 0) { extraOptions = {}; }\n            var timeZoneOffset = null;\n            if (!extraOptions.omitTimeZoneOffset) {\n                if (extraOptions.forcedTzo != null) {\n                    timeZoneOffset = extraOptions.forcedTzo;\n                }\n                else {\n                    timeZoneOffset = this.offsetForMarker(marker);\n                }\n            }\n            return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n        };\n        // TimeZone\n        DateEnv.prototype.timestampToMarker = function (ms) {\n            if (this.timeZone === 'local') {\n                return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n            }\n            if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n                return new Date(ms);\n            }\n            return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n        };\n        DateEnv.prototype.offsetForMarker = function (m) {\n            if (this.timeZone === 'local') {\n                return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n            }\n            if (this.timeZone === 'UTC') {\n                return 0;\n            }\n            if (this.namedTimeZoneImpl) {\n                return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n            }\n            return null;\n        };\n        // Conversion\n        DateEnv.prototype.toDate = function (m, forcedTzo) {\n            if (this.timeZone === 'local') {\n                return arrayToLocalDate(dateToUtcArray(m));\n            }\n            if (this.timeZone === 'UTC') {\n                return new Date(m.valueOf()); // make sure it's a copy\n            }\n            if (!this.namedTimeZoneImpl) {\n                return new Date(m.valueOf() - (forcedTzo || 0));\n            }\n            return new Date(m.valueOf() -\n                this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n        };\n        return DateEnv;\n    }());\n\n    var globalLocales = [];\n\n    var MINIMAL_RAW_EN_LOCALE = {\n        code: 'en',\n        week: {\n            dow: 0,\n            doy: 4, // 4 days need to be within the year to be considered the first week\n        },\n        direction: 'ltr',\n        buttonText: {\n            prev: 'prev',\n            next: 'next',\n            prevYear: 'prev year',\n            nextYear: 'next year',\n            year: 'year',\n            today: 'today',\n            month: 'month',\n            week: 'week',\n            day: 'day',\n            list: 'list',\n        },\n        weekText: 'W',\n        weekTextLong: 'Week',\n        closeHint: 'Close',\n        timeHint: 'Time',\n        eventHint: 'Event',\n        allDayText: 'all-day',\n        moreLinkText: 'more',\n        noEventsText: 'No events to display',\n    };\n    var RAW_EN_LOCALE = __assign(__assign({}, MINIMAL_RAW_EN_LOCALE), { \n        // Includes things we don't want other locales to inherit,\n        // things that derive from other translatable strings.\n        buttonHints: {\n            prev: 'Previous $0',\n            next: 'Next $0',\n            today: function (buttonText, unit) {\n                return (unit === 'day')\n                    ? 'Today'\n                    : \"This \" + buttonText;\n            },\n        }, viewHint: '$0 view', navLinkHint: 'Go to $0', moreLinkHint: function (eventCnt) {\n            return \"Show \" + eventCnt + \" more event\" + (eventCnt === 1 ? '' : 's');\n        } });\n    function organizeRawLocales(explicitRawLocales) {\n        var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n        var allRawLocales = globalLocales.concat(explicitRawLocales);\n        var rawLocaleMap = {\n            en: RAW_EN_LOCALE,\n        };\n        for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n            var rawLocale = allRawLocales_1[_i];\n            rawLocaleMap[rawLocale.code] = rawLocale;\n        }\n        return {\n            map: rawLocaleMap,\n            defaultCode: defaultCode,\n        };\n    }\n    function buildLocale(inputSingular, available) {\n        if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n            return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n        }\n        return queryLocale(inputSingular, available);\n    }\n    function queryLocale(codeArg, available) {\n        var codes = [].concat(codeArg || []); // will convert to array\n        var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n        return parseLocale(codeArg, codes, raw);\n    }\n    function queryRawLocale(codes, available) {\n        for (var i = 0; i < codes.length; i += 1) {\n            var parts = codes[i].toLocaleLowerCase().split('-');\n            for (var j = parts.length; j > 0; j -= 1) {\n                var simpleId = parts.slice(0, j).join('-');\n                if (available[simpleId]) {\n                    return available[simpleId];\n                }\n            }\n        }\n        return null;\n    }\n    function parseLocale(codeArg, codes, raw) {\n        var merged = mergeProps([MINIMAL_RAW_EN_LOCALE, raw], ['buttonText']);\n        delete merged.code; // don't want this part of the options\n        var week = merged.week;\n        delete merged.week;\n        return {\n            codeArg: codeArg,\n            codes: codes,\n            week: week,\n            simpleNumberFormat: new Intl.NumberFormat(codeArg),\n            options: merged,\n        };\n    }\n\n    function formatDate(dateInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = buildDateEnv$1(options);\n        var formatter = createFormatter(options);\n        var dateMeta = dateEnv.createMarkerMeta(dateInput);\n        if (!dateMeta) { // TODO: warning?\n            return '';\n        }\n        return dateEnv.format(dateMeta.marker, formatter, {\n            forcedTzo: dateMeta.forcedTzo,\n        });\n    }\n    function formatRange(startInput, endInput, options) {\n        var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n        var formatter = createFormatter(options);\n        var startMeta = dateEnv.createMarkerMeta(startInput);\n        var endMeta = dateEnv.createMarkerMeta(endInput);\n        if (!startMeta || !endMeta) { // TODO: warning?\n            return '';\n        }\n        return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n            forcedStartTzo: startMeta.forcedTzo,\n            forcedEndTzo: endMeta.forcedTzo,\n            isEndExclusive: options.isEndExclusive,\n            defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n        });\n    }\n    // TODO: more DRY and optimized\n    function buildDateEnv$1(settings) {\n        var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n        return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n    }\n\n    var DEF_DEFAULTS = {\n        startTime: '09:00',\n        endTime: '17:00',\n        daysOfWeek: [1, 2, 3, 4, 5],\n        display: 'inverse-background',\n        classNames: 'fc-non-business',\n        groupId: '_businessHours', // so multiple defs get grouped\n    };\n    /*\n    TODO: pass around as EventDefHash!!!\n    */\n    function parseBusinessHours(input, context) {\n        return parseEvents(refineInputs(input), null, context);\n    }\n    function refineInputs(input) {\n        var rawDefs;\n        if (input === true) {\n            rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n        }\n        else if (Array.isArray(input)) {\n            // if specifying an array, every sub-definition NEEDS a day-of-week\n            rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n        }\n        else if (typeof input === 'object' && input) { // non-null object\n            rawDefs = [input];\n        }\n        else { // is probably false\n            rawDefs = [];\n        }\n        rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n        return rawDefs;\n    }\n\n    function pointInsideRect(point, rect) {\n        return point.left >= rect.left &&\n            point.left < rect.right &&\n            point.top >= rect.top &&\n            point.top < rect.bottom;\n    }\n    // Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\n    function intersectRects(rect1, rect2) {\n        var res = {\n            left: Math.max(rect1.left, rect2.left),\n            right: Math.min(rect1.right, rect2.right),\n            top: Math.max(rect1.top, rect2.top),\n            bottom: Math.min(rect1.bottom, rect2.bottom),\n        };\n        if (res.left < res.right && res.top < res.bottom) {\n            return res;\n        }\n        return false;\n    }\n    function translateRect(rect, deltaX, deltaY) {\n        return {\n            left: rect.left + deltaX,\n            right: rect.right + deltaX,\n            top: rect.top + deltaY,\n            bottom: rect.bottom + deltaY,\n        };\n    }\n    // Returns a new point that will have been moved to reside within the given rectangle\n    function constrainPoint(point, rect) {\n        return {\n            left: Math.min(Math.max(point.left, rect.left), rect.right),\n            top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n        };\n    }\n    // Returns a point that is the center of the given rectangle\n    function getRectCenter(rect) {\n        return {\n            left: (rect.left + rect.right) / 2,\n            top: (rect.top + rect.bottom) / 2,\n        };\n    }\n    // Subtracts point2's coordinates from point1's coordinates, returning a delta\n    function diffPoints(point1, point2) {\n        return {\n            left: point1.left - point2.left,\n            top: point1.top - point2.top,\n        };\n    }\n\n    var canVGrowWithinCell;\n    function getCanVGrowWithinCell() {\n        if (canVGrowWithinCell == null) {\n            canVGrowWithinCell = computeCanVGrowWithinCell();\n        }\n        return canVGrowWithinCell;\n    }\n    function computeCanVGrowWithinCell() {\n        // for SSR, because this function is call immediately at top-level\n        // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n        if (typeof document === 'undefined') {\n            return true;\n        }\n        var el = document.createElement('div');\n        el.style.position = 'absolute';\n        el.style.top = '0px';\n        el.style.left = '0px';\n        el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n        el.querySelector('table').style.height = '100px';\n        el.querySelector('div').style.height = '100%';\n        document.body.appendChild(el);\n        var div = el.querySelector('div');\n        var possible = div.offsetHeight > 0;\n        document.body.removeChild(el);\n        return possible;\n    }\n\n    var EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\n    var Splitter = /** @class */ (function () {\n        function Splitter() {\n            this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n            this.splitDateSelection = memoize(this._splitDateSpan);\n            this.splitEventStore = memoize(this._splitEventStore);\n            this.splitIndividualUi = memoize(this._splitIndividualUi);\n            this.splitEventDrag = memoize(this._splitInteraction);\n            this.splitEventResize = memoize(this._splitInteraction);\n            this.eventUiBuilders = {}; // TODO: typescript protection\n        }\n        Splitter.prototype.splitProps = function (props) {\n            var _this = this;\n            var keyInfos = this.getKeyInfo(props);\n            var defKeys = this.getKeysForEventDefs(props.eventStore);\n            var dateSelections = this.splitDateSelection(props.dateSelection);\n            var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n            var eventStores = this.splitEventStore(props.eventStore, defKeys);\n            var eventDrags = this.splitEventDrag(props.eventDrag);\n            var eventResizes = this.splitEventResize(props.eventResize);\n            var splitProps = {};\n            this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n            for (var key in keyInfos) {\n                var keyInfo = keyInfos[key];\n                var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n                var buildEventUi = this.eventUiBuilders[key];\n                splitProps[key] = {\n                    businessHours: keyInfo.businessHours || props.businessHours,\n                    dateSelection: dateSelections[key] || null,\n                    eventStore: eventStore,\n                    eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                    eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                    eventDrag: eventDrags[key] || null,\n                    eventResize: eventResizes[key] || null,\n                };\n            }\n            return splitProps;\n        };\n        Splitter.prototype._splitDateSpan = function (dateSpan) {\n            var dateSpans = {};\n            if (dateSpan) {\n                var keys = this.getKeysForDateSpan(dateSpan);\n                for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                    var key = keys_1[_i];\n                    dateSpans[key] = dateSpan;\n                }\n            }\n            return dateSpans;\n        };\n        Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n            var _this = this;\n            return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n        };\n        Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n            var defs = eventStore.defs, instances = eventStore.instances;\n            var splitStores = {};\n            for (var defId in defs) {\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitStores[key]) {\n                        splitStores[key] = createEmptyEventStore();\n                    }\n                    splitStores[key].defs[defId] = defs[defId];\n                }\n            }\n            for (var instanceId in instances) {\n                var instance = instances[instanceId];\n                for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                    var key = _c[_b];\n                    if (splitStores[key]) { // must have already been created\n                        splitStores[key].instances[instanceId] = instance;\n                    }\n                }\n            }\n            return splitStores;\n        };\n        Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n            var splitHashes = {};\n            for (var defId in eventUiBases) {\n                if (defId) { // not the '' key\n                    for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                        var key = _a[_i];\n                        if (!splitHashes[key]) {\n                            splitHashes[key] = {};\n                        }\n                        splitHashes[key][defId] = eventUiBases[defId];\n                    }\n                }\n            }\n            return splitHashes;\n        };\n        Splitter.prototype._splitInteraction = function (interaction) {\n            var splitStates = {};\n            if (interaction) {\n                var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n                // can't rely on defKeys because event data is mutated\n                var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n                var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n                var populate = function (key) {\n                    if (!splitStates[key]) {\n                        splitStates[key] = {\n                            affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                            mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                            isEvent: interaction.isEvent,\n                        };\n                    }\n                };\n                for (var key in affectedStores_1) {\n                    populate(key);\n                }\n                for (var key in mutatedStores_1) {\n                    populate(key);\n                }\n            }\n            return splitStates;\n        };\n        return Splitter;\n    }());\n    function buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n        var baseParts = [];\n        if (allUi) {\n            baseParts.push(allUi);\n        }\n        if (eventUiForKey) {\n            baseParts.push(eventUiForKey);\n        }\n        var stuff = {\n            '': combineEventUis(baseParts),\n        };\n        if (individualUi) {\n            __assign(stuff, individualUi);\n        }\n        return stuff;\n    }\n\n    function getDateMeta(date, todayRange, nowDate, dateProfile) {\n        return {\n            dow: date.getUTCDay(),\n            isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n            isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n            isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n            isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n            isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n        };\n    }\n    function getDayClassNames(meta, theme) {\n        var classNames = [\n            'fc-day',\n            \"fc-day-\" + DAY_IDS[meta.dow],\n        ];\n        if (meta.isDisabled) {\n            classNames.push('fc-day-disabled');\n        }\n        else {\n            if (meta.isToday) {\n                classNames.push('fc-day-today');\n                classNames.push(theme.getClass('today'));\n            }\n            if (meta.isPast) {\n                classNames.push('fc-day-past');\n            }\n            if (meta.isFuture) {\n                classNames.push('fc-day-future');\n            }\n            if (meta.isOther) {\n                classNames.push('fc-day-other');\n            }\n        }\n        return classNames;\n    }\n    function getSlotClassNames(meta, theme) {\n        var classNames = [\n            'fc-slot',\n            \"fc-slot-\" + DAY_IDS[meta.dow],\n        ];\n        if (meta.isDisabled) {\n            classNames.push('fc-slot-disabled');\n        }\n        else {\n            if (meta.isToday) {\n                classNames.push('fc-slot-today');\n                classNames.push(theme.getClass('today'));\n            }\n            if (meta.isPast) {\n                classNames.push('fc-slot-past');\n            }\n            if (meta.isFuture) {\n                classNames.push('fc-slot-future');\n            }\n        }\n        return classNames;\n    }\n\n    var DAY_FORMAT = createFormatter({ year: 'numeric', month: 'long', day: 'numeric' });\n    var WEEK_FORMAT = createFormatter({ week: 'long' });\n    function buildNavLinkAttrs(context, dateMarker, viewType, isTabbable) {\n        if (viewType === void 0) { viewType = 'day'; }\n        if (isTabbable === void 0) { isTabbable = true; }\n        var dateEnv = context.dateEnv, options = context.options, calendarApi = context.calendarApi;\n        var dateStr = dateEnv.format(dateMarker, viewType === 'week' ? WEEK_FORMAT : DAY_FORMAT);\n        if (options.navLinks) {\n            var zonedDate = dateEnv.toDate(dateMarker);\n            var handleInteraction = function (ev) {\n                var customAction = viewType === 'day' ? options.navLinkDayClick :\n                    viewType === 'week' ? options.navLinkWeekClick : null;\n                if (typeof customAction === 'function') {\n                    customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n                }\n                else {\n                    if (typeof customAction === 'string') {\n                        viewType = customAction;\n                    }\n                    calendarApi.zoomTo(dateMarker, viewType);\n                }\n            };\n            return __assign({ title: formatWithOrdinals(options.navLinkHint, [dateStr, zonedDate], dateStr), 'data-navlink': '' }, (isTabbable\n                ? createAriaClickAttrs(handleInteraction)\n                : { onClick: handleInteraction }));\n        }\n        return { 'aria-label': dateStr };\n    }\n\n    var _isRtlScrollbarOnLeft = null;\n    function getIsRtlScrollbarOnLeft() {\n        if (_isRtlScrollbarOnLeft === null) {\n            _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n        }\n        return _isRtlScrollbarOnLeft;\n    }\n    function computeIsRtlScrollbarOnLeft() {\n        var outerEl = document.createElement('div');\n        applyStyle(outerEl, {\n            position: 'absolute',\n            top: -1000,\n            left: 0,\n            border: 0,\n            padding: 0,\n            overflow: 'scroll',\n            direction: 'rtl',\n        });\n        outerEl.innerHTML = '<div></div>';\n        document.body.appendChild(outerEl);\n        var innerEl = outerEl.firstChild;\n        var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n        removeElement(outerEl);\n        return res;\n    }\n\n    var _scrollbarWidths;\n    function getScrollbarWidths() {\n        if (!_scrollbarWidths) {\n            _scrollbarWidths = computeScrollbarWidths();\n        }\n        return _scrollbarWidths;\n    }\n    function computeScrollbarWidths() {\n        var el = document.createElement('div');\n        el.style.overflow = 'scroll';\n        el.style.position = 'absolute';\n        el.style.top = '-9999px';\n        el.style.left = '-9999px';\n        document.body.appendChild(el);\n        var res = computeScrollbarWidthsForEl(el);\n        document.body.removeChild(el);\n        return res;\n    }\n    // WARNING: will include border\n    function computeScrollbarWidthsForEl(el) {\n        return {\n            x: el.offsetHeight - el.clientHeight,\n            y: el.offsetWidth - el.clientWidth,\n        };\n    }\n\n    function computeEdges(el, getPadding) {\n        if (getPadding === void 0) { getPadding = false; }\n        var computedStyle = window.getComputedStyle(el);\n        var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n        var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n        var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n        var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n        var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n        var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n        var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n        var res = {\n            borderLeft: borderLeft,\n            borderRight: borderRight,\n            borderTop: borderTop,\n            borderBottom: borderBottom,\n            scrollbarBottom: scrollbarBottom,\n            scrollbarLeft: 0,\n            scrollbarRight: 0,\n        };\n        if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n            res.scrollbarLeft = scrollbarLeftRight;\n        }\n        else {\n            res.scrollbarRight = scrollbarLeftRight;\n        }\n        if (getPadding) {\n            res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n            res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n            res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n            res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n        }\n        return res;\n    }\n    function computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n        if (goWithinPadding === void 0) { goWithinPadding = false; }\n        var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n        var edges = computeEdges(el, goWithinPadding);\n        var res = {\n            left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n            right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n            top: outerRect.top + edges.borderTop,\n            bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n        };\n        if (goWithinPadding) {\n            res.left += edges.paddingLeft;\n            res.right -= edges.paddingRight;\n            res.top += edges.paddingTop;\n            res.bottom -= edges.paddingBottom;\n        }\n        return res;\n    }\n    function computeRect(el) {\n        var rect = el.getBoundingClientRect();\n        return {\n            left: rect.left + window.pageXOffset,\n            top: rect.top + window.pageYOffset,\n            right: rect.right + window.pageXOffset,\n            bottom: rect.bottom + window.pageYOffset,\n        };\n    }\n    function computeClippedClientRect(el) {\n        var clippingParents = getClippingParents(el);\n        var rect = el.getBoundingClientRect();\n        for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n            var clippingParent = clippingParents_1[_i];\n            var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n            if (intersection) {\n                rect = intersection;\n            }\n            else {\n                return null;\n            }\n        }\n        return rect;\n    }\n    function computeHeightAndMargins(el) {\n        return el.getBoundingClientRect().height + computeVMargins(el);\n    }\n    function computeVMargins(el) {\n        var computed = window.getComputedStyle(el);\n        return parseInt(computed.marginTop, 10) +\n            parseInt(computed.marginBottom, 10);\n    }\n    // does not return window\n    function getClippingParents(el) {\n        var parents = [];\n        while (el instanceof HTMLElement) { // will stop when gets to document or null\n            var computedStyle = window.getComputedStyle(el);\n            if (computedStyle.position === 'fixed') {\n                break;\n            }\n            if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n                parents.push(el);\n            }\n            el = el.parentNode;\n        }\n        return parents;\n    }\n\n    // given a function that resolves a result asynchronously.\n    // the function can either call passed-in success and failure callbacks,\n    // or it can return a promise.\n    // if you need to pass additional params to func, bind them first.\n    function unpromisify(func, success, failure) {\n        // guard against success/failure callbacks being called more than once\n        // and guard against a promise AND callback being used together.\n        var isResolved = false;\n        var wrappedSuccess = function () {\n            if (!isResolved) {\n                isResolved = true;\n                success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        };\n        var wrappedFailure = function () {\n            if (!isResolved) {\n                isResolved = true;\n                if (failure) {\n                    failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n                }\n            }\n        };\n        var res = func(wrappedSuccess, wrappedFailure);\n        if (res && typeof res.then === 'function') {\n            res.then(wrappedSuccess, wrappedFailure);\n        }\n    }\n\n    var Emitter = /** @class */ (function () {\n        function Emitter() {\n            this.handlers = {};\n            this.thisContext = null;\n        }\n        Emitter.prototype.setThisContext = function (thisContext) {\n            this.thisContext = thisContext;\n        };\n        Emitter.prototype.setOptions = function (options) {\n            this.options = options;\n        };\n        Emitter.prototype.on = function (type, handler) {\n            addToHash(this.handlers, type, handler);\n        };\n        Emitter.prototype.off = function (type, handler) {\n            removeFromHash(this.handlers, type, handler);\n        };\n        Emitter.prototype.trigger = function (type) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var attachedHandlers = this.handlers[type] || [];\n            var optionHandler = this.options && this.options[type];\n            var handlers = [].concat(optionHandler || [], attachedHandlers);\n            for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n                var handler = handlers_1[_a];\n                handler.apply(this.thisContext, args);\n            }\n        };\n        Emitter.prototype.hasHandlers = function (type) {\n            return Boolean((this.handlers[type] && this.handlers[type].length) ||\n                (this.options && this.options[type]));\n        };\n        return Emitter;\n    }());\n    function addToHash(hash, type, handler) {\n        (hash[type] || (hash[type] = []))\n            .push(handler);\n    }\n    function removeFromHash(hash, type, handler) {\n        if (handler) {\n            if (hash[type]) {\n                hash[type] = hash[type].filter(function (func) { return func !== handler; });\n            }\n        }\n        else {\n            delete hash[type]; // remove all handler funcs for this type\n        }\n    }\n\n    /*\n    Records offset information for a set of elements, relative to an origin element.\n    Can record the left/right OR the top/bottom OR both.\n    Provides methods for querying the cache by position.\n    */\n    var PositionCache = /** @class */ (function () {\n        function PositionCache(originEl, els, isHorizontal, isVertical) {\n            this.els = els;\n            var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n            if (isHorizontal) {\n                this.buildElHorizontals(originClientRect.left);\n            }\n            if (isVertical) {\n                this.buildElVerticals(originClientRect.top);\n            }\n        }\n        // Populates the left/right internal coordinate arrays\n        PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n            var lefts = [];\n            var rights = [];\n            for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n                var el = _a[_i];\n                var rect = el.getBoundingClientRect();\n                lefts.push(rect.left - originClientLeft);\n                rights.push(rect.right - originClientLeft);\n            }\n            this.lefts = lefts;\n            this.rights = rights;\n        };\n        // Populates the top/bottom internal coordinate arrays\n        PositionCache.prototype.buildElVerticals = function (originClientTop) {\n            var tops = [];\n            var bottoms = [];\n            for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n                var el = _a[_i];\n                var rect = el.getBoundingClientRect();\n                tops.push(rect.top - originClientTop);\n                bottoms.push(rect.bottom - originClientTop);\n            }\n            this.tops = tops;\n            this.bottoms = bottoms;\n        };\n        // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n        // If no intersection is made, returns undefined.\n        PositionCache.prototype.leftToIndex = function (leftPosition) {\n            var _a = this, lefts = _a.lefts, rights = _a.rights;\n            var len = lefts.length;\n            var i;\n            for (i = 0; i < len; i += 1) {\n                if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                    return i;\n                }\n            }\n            return undefined; // TODO: better\n        };\n        // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n        // If no intersection is made, returns undefined.\n        PositionCache.prototype.topToIndex = function (topPosition) {\n            var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n            var len = tops.length;\n            var i;\n            for (i = 0; i < len; i += 1) {\n                if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                    return i;\n                }\n            }\n            return undefined; // TODO: better\n        };\n        // Gets the width of the element at the given index\n        PositionCache.prototype.getWidth = function (leftIndex) {\n            return this.rights[leftIndex] - this.lefts[leftIndex];\n        };\n        // Gets the height of the element at the given index\n        PositionCache.prototype.getHeight = function (topIndex) {\n            return this.bottoms[topIndex] - this.tops[topIndex];\n        };\n        return PositionCache;\n    }());\n\n    /* eslint max-classes-per-file: \"off\" */\n    /*\n    An object for getting/setting scroll-related information for an element.\n    Internally, this is done very differently for window versus DOM element,\n    so this object serves as a common interface.\n    */\n    var ScrollController = /** @class */ (function () {\n        function ScrollController() {\n        }\n        ScrollController.prototype.getMaxScrollTop = function () {\n            return this.getScrollHeight() - this.getClientHeight();\n        };\n        ScrollController.prototype.getMaxScrollLeft = function () {\n            return this.getScrollWidth() - this.getClientWidth();\n        };\n        ScrollController.prototype.canScrollVertically = function () {\n            return this.getMaxScrollTop() > 0;\n        };\n        ScrollController.prototype.canScrollHorizontally = function () {\n            return this.getMaxScrollLeft() > 0;\n        };\n        ScrollController.prototype.canScrollUp = function () {\n            return this.getScrollTop() > 0;\n        };\n        ScrollController.prototype.canScrollDown = function () {\n            return this.getScrollTop() < this.getMaxScrollTop();\n        };\n        ScrollController.prototype.canScrollLeft = function () {\n            return this.getScrollLeft() > 0;\n        };\n        ScrollController.prototype.canScrollRight = function () {\n            return this.getScrollLeft() < this.getMaxScrollLeft();\n        };\n        return ScrollController;\n    }());\n    var ElementScrollController = /** @class */ (function (_super) {\n        __extends(ElementScrollController, _super);\n        function ElementScrollController(el) {\n            var _this = _super.call(this) || this;\n            _this.el = el;\n            return _this;\n        }\n        ElementScrollController.prototype.getScrollTop = function () {\n            return this.el.scrollTop;\n        };\n        ElementScrollController.prototype.getScrollLeft = function () {\n            return this.el.scrollLeft;\n        };\n        ElementScrollController.prototype.setScrollTop = function (top) {\n            this.el.scrollTop = top;\n        };\n        ElementScrollController.prototype.setScrollLeft = function (left) {\n            this.el.scrollLeft = left;\n        };\n        ElementScrollController.prototype.getScrollWidth = function () {\n            return this.el.scrollWidth;\n        };\n        ElementScrollController.prototype.getScrollHeight = function () {\n            return this.el.scrollHeight;\n        };\n        ElementScrollController.prototype.getClientHeight = function () {\n            return this.el.clientHeight;\n        };\n        ElementScrollController.prototype.getClientWidth = function () {\n            return this.el.clientWidth;\n        };\n        return ElementScrollController;\n    }(ScrollController));\n    var WindowScrollController = /** @class */ (function (_super) {\n        __extends(WindowScrollController, _super);\n        function WindowScrollController() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        WindowScrollController.prototype.getScrollTop = function () {\n            return window.pageYOffset;\n        };\n        WindowScrollController.prototype.getScrollLeft = function () {\n            return window.pageXOffset;\n        };\n        WindowScrollController.prototype.setScrollTop = function (n) {\n            window.scroll(window.pageXOffset, n);\n        };\n        WindowScrollController.prototype.setScrollLeft = function (n) {\n            window.scroll(n, window.pageYOffset);\n        };\n        WindowScrollController.prototype.getScrollWidth = function () {\n            return document.documentElement.scrollWidth;\n        };\n        WindowScrollController.prototype.getScrollHeight = function () {\n            return document.documentElement.scrollHeight;\n        };\n        WindowScrollController.prototype.getClientHeight = function () {\n            return document.documentElement.clientHeight;\n        };\n        WindowScrollController.prototype.getClientWidth = function () {\n            return document.documentElement.clientWidth;\n        };\n        return WindowScrollController;\n    }(ScrollController));\n\n    var Theme = /** @class */ (function () {\n        function Theme(calendarOptions) {\n            if (this.iconOverrideOption) {\n                this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n            }\n        }\n        Theme.prototype.setIconOverride = function (iconOverrideHash) {\n            var iconClassesCopy;\n            var buttonName;\n            if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n                iconClassesCopy = __assign({}, this.iconClasses);\n                for (buttonName in iconOverrideHash) {\n                    iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n                }\n                this.iconClasses = iconClassesCopy;\n            }\n            else if (iconOverrideHash === false) {\n                this.iconClasses = {};\n            }\n        };\n        Theme.prototype.applyIconOverridePrefix = function (className) {\n            var prefix = this.iconOverridePrefix;\n            if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n                className = prefix + className;\n            }\n            return className;\n        };\n        Theme.prototype.getClass = function (key) {\n            return this.classes[key] || '';\n        };\n        Theme.prototype.getIconClass = function (buttonName, isRtl) {\n            var className;\n            if (isRtl && this.rtlIconClasses) {\n                className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n            }\n            else {\n                className = this.iconClasses[buttonName];\n            }\n            if (className) {\n                return this.baseIconClass + \" \" + className;\n            }\n            return '';\n        };\n        Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n            var className;\n            if (this.iconOverrideCustomButtonOption) {\n                className = customButtonProps[this.iconOverrideCustomButtonOption];\n                if (className) {\n                    return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n                }\n            }\n            return '';\n        };\n        return Theme;\n    }());\n    Theme.prototype.classes = {};\n    Theme.prototype.iconClasses = {};\n    Theme.prototype.baseIconClass = '';\n    Theme.prototype.iconOverridePrefix = '';\n\n    /// <reference types=\"@fullcalendar/core-preact\" />\n    if (typeof FullCalendarVDom === 'undefined') {\n        throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n    }\n    var Component = FullCalendarVDom.Component;\n    var createElement = FullCalendarVDom.createElement;\n    var render = FullCalendarVDom.render;\n    var createRef = FullCalendarVDom.createRef;\n    var Fragment = FullCalendarVDom.Fragment;\n    var createContext = FullCalendarVDom.createContext;\n    var createPortal = FullCalendarVDom.createPortal;\n    var flushSync = FullCalendarVDom.flushSync;\n    var unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n    /* eslint-enable */\n\n    var ScrollResponder = /** @class */ (function () {\n        function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n            var _this = this;\n            this.execFunc = execFunc;\n            this.emitter = emitter;\n            this.scrollTime = scrollTime;\n            this.scrollTimeReset = scrollTimeReset;\n            this.handleScrollRequest = function (request) {\n                _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n                _this.drain();\n            };\n            emitter.on('_scrollRequest', this.handleScrollRequest);\n            this.fireInitialScroll();\n        }\n        ScrollResponder.prototype.detach = function () {\n            this.emitter.off('_scrollRequest', this.handleScrollRequest);\n        };\n        ScrollResponder.prototype.update = function (isDatesNew) {\n            if (isDatesNew && this.scrollTimeReset) {\n                this.fireInitialScroll(); // will drain\n            }\n            else {\n                this.drain();\n            }\n        };\n        ScrollResponder.prototype.fireInitialScroll = function () {\n            this.handleScrollRequest({\n                time: this.scrollTime,\n            });\n        };\n        ScrollResponder.prototype.drain = function () {\n            if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n                this.queuedRequest = null;\n            }\n        };\n        return ScrollResponder;\n    }());\n\n    var ViewContextType = createContext({}); // for Components\n    function buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n        return {\n            dateEnv: dateEnv,\n            options: viewOptions,\n            pluginHooks: pluginHooks,\n            emitter: emitter,\n            dispatch: dispatch,\n            getCurrentData: getCurrentData,\n            calendarApi: calendarApi,\n            viewSpec: viewSpec,\n            viewApi: viewApi,\n            dateProfileGenerator: dateProfileGenerator,\n            theme: theme,\n            isRtl: viewOptions.direction === 'rtl',\n            addResizeHandler: function (handler) {\n                emitter.on('_resize', handler);\n            },\n            removeResizeHandler: function (handler) {\n                emitter.off('_resize', handler);\n            },\n            createScrollResponder: function (execFunc) {\n                return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n            },\n            registerInteractiveComponent: registerInteractiveComponent,\n            unregisterInteractiveComponent: unregisterInteractiveComponent,\n        };\n    }\n\n    /* eslint max-classes-per-file: off */\n    var PureComponent = /** @class */ (function (_super) {\n        __extends(PureComponent, _super);\n        function PureComponent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n            if (this.debug) {\n                // eslint-disable-next-line no-console\n                console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n            }\n            return !compareObjs(this.props, nextProps, this.propEquality) ||\n                !compareObjs(this.state, nextState, this.stateEquality);\n        };\n        // HACK for freakin' React StrictMode\n        PureComponent.prototype.safeSetState = function (newState) {\n            if (!compareObjs(this.state, __assign(__assign({}, this.state), newState), this.stateEquality)) {\n                this.setState(newState);\n            }\n        };\n        PureComponent.addPropsEquality = addPropsEquality;\n        PureComponent.addStateEquality = addStateEquality;\n        PureComponent.contextType = ViewContextType;\n        return PureComponent;\n    }(Component));\n    PureComponent.prototype.propEquality = {};\n    PureComponent.prototype.stateEquality = {};\n    var BaseComponent = /** @class */ (function (_super) {\n        __extends(BaseComponent, _super);\n        function BaseComponent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        BaseComponent.contextType = ViewContextType;\n        return BaseComponent;\n    }(PureComponent));\n    function addPropsEquality(propEquality) {\n        var hash = Object.create(this.prototype.propEquality);\n        __assign(hash, propEquality);\n        this.prototype.propEquality = hash;\n    }\n    function addStateEquality(stateEquality) {\n        var hash = Object.create(this.prototype.stateEquality);\n        __assign(hash, stateEquality);\n        this.prototype.stateEquality = hash;\n    }\n    // use other one\n    function setRef(ref, current) {\n        if (typeof ref === 'function') {\n            ref(current);\n        }\n        else if (ref) {\n            // see https://github.com/facebook/react/issues/13029\n            ref.current = current;\n        }\n    }\n\n    /*\n    an INTERACTABLE date component\n\n    PURPOSES:\n    - hook up to fg, fill, and mirror renderers\n    - interface for dragging and hits\n    */\n    var DateComponent = /** @class */ (function (_super) {\n        __extends(DateComponent, _super);\n        function DateComponent() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.uid = guid();\n            return _this;\n        }\n        // Hit System\n        // -----------------------------------------------------------------------------------------------------------------\n        DateComponent.prototype.prepareHits = function () {\n        };\n        DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n            return null; // this should be abstract\n        };\n        // Pointer Interaction Utils\n        // -----------------------------------------------------------------------------------------------------------------\n        DateComponent.prototype.isValidSegDownEl = function (el) {\n            return !this.props.eventDrag && // HACK\n                !this.props.eventResize && // HACK\n                !elementClosest(el, '.fc-event-mirror');\n        };\n        DateComponent.prototype.isValidDateDownEl = function (el) {\n            return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n                !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n                !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n                !elementClosest(el, '.fc-popover'); // hack\n        };\n        return DateComponent;\n    }(BaseComponent));\n\n    // TODO: easier way to add new hooks? need to update a million things\n    function createPlugin(input) {\n        return {\n            id: guid(),\n            deps: input.deps || [],\n            reducers: input.reducers || [],\n            isLoadingFuncs: input.isLoadingFuncs || [],\n            contextInit: [].concat(input.contextInit || []),\n            eventRefiners: input.eventRefiners || {},\n            eventDefMemberAdders: input.eventDefMemberAdders || [],\n            eventSourceRefiners: input.eventSourceRefiners || {},\n            isDraggableTransformers: input.isDraggableTransformers || [],\n            eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n            eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n            dateSelectionTransformers: input.dateSelectionTransformers || [],\n            datePointTransforms: input.datePointTransforms || [],\n            dateSpanTransforms: input.dateSpanTransforms || [],\n            views: input.views || {},\n            viewPropsTransformers: input.viewPropsTransformers || [],\n            isPropsValid: input.isPropsValid || null,\n            externalDefTransforms: input.externalDefTransforms || [],\n            viewContainerAppends: input.viewContainerAppends || [],\n            eventDropTransformers: input.eventDropTransformers || [],\n            componentInteractions: input.componentInteractions || [],\n            calendarInteractions: input.calendarInteractions || [],\n            themeClasses: input.themeClasses || {},\n            eventSourceDefs: input.eventSourceDefs || [],\n            cmdFormatter: input.cmdFormatter,\n            recurringTypes: input.recurringTypes || [],\n            namedTimeZonedImpl: input.namedTimeZonedImpl,\n            initialView: input.initialView || '',\n            elementDraggingImpl: input.elementDraggingImpl,\n            optionChangeHandlers: input.optionChangeHandlers || {},\n            scrollGridImpl: input.scrollGridImpl || null,\n            contentTypeHandlers: input.contentTypeHandlers || {},\n            listenerRefiners: input.listenerRefiners || {},\n            optionRefiners: input.optionRefiners || {},\n            propSetHandlers: input.propSetHandlers || {},\n        };\n    }\n    function buildPluginHooks(pluginDefs, globalDefs) {\n        var isAdded = {};\n        var hooks = {\n            reducers: [],\n            isLoadingFuncs: [],\n            contextInit: [],\n            eventRefiners: {},\n            eventDefMemberAdders: [],\n            eventSourceRefiners: {},\n            isDraggableTransformers: [],\n            eventDragMutationMassagers: [],\n            eventDefMutationAppliers: [],\n            dateSelectionTransformers: [],\n            datePointTransforms: [],\n            dateSpanTransforms: [],\n            views: {},\n            viewPropsTransformers: [],\n            isPropsValid: null,\n            externalDefTransforms: [],\n            viewContainerAppends: [],\n            eventDropTransformers: [],\n            componentInteractions: [],\n            calendarInteractions: [],\n            themeClasses: {},\n            eventSourceDefs: [],\n            cmdFormatter: null,\n            recurringTypes: [],\n            namedTimeZonedImpl: null,\n            initialView: '',\n            elementDraggingImpl: null,\n            optionChangeHandlers: {},\n            scrollGridImpl: null,\n            contentTypeHandlers: {},\n            listenerRefiners: {},\n            optionRefiners: {},\n            propSetHandlers: {},\n        };\n        function addDefs(defs) {\n            for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n                var def = defs_1[_i];\n                if (!isAdded[def.id]) {\n                    isAdded[def.id] = true;\n                    addDefs(def.deps);\n                    hooks = combineHooks(hooks, def);\n                }\n            }\n        }\n        if (pluginDefs) {\n            addDefs(pluginDefs);\n        }\n        addDefs(globalDefs);\n        return hooks;\n    }\n    function buildBuildPluginHooks() {\n        var currentOverrideDefs = [];\n        var currentGlobalDefs = [];\n        var currentHooks;\n        return function (overrideDefs, globalDefs) {\n            if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n                currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n            }\n            currentOverrideDefs = overrideDefs;\n            currentGlobalDefs = globalDefs;\n            return currentHooks;\n        };\n    }\n    function combineHooks(hooks0, hooks1) {\n        return {\n            reducers: hooks0.reducers.concat(hooks1.reducers),\n            isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n            contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n            eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n            eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n            eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n            isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n            eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n            eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n            dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n            datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n            dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n            views: __assign(__assign({}, hooks0.views), hooks1.views),\n            viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n            isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n            externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n            viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n            eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n            calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n            componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n            themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n            eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n            cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n            recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n            namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n            initialView: hooks0.initialView || hooks1.initialView,\n            elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n            optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n            scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n            contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n            listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n            optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n            propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n        };\n    }\n\n    var StandardTheme = /** @class */ (function (_super) {\n        __extends(StandardTheme, _super);\n        function StandardTheme() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return StandardTheme;\n    }(Theme));\n    StandardTheme.prototype.classes = {\n        root: 'fc-theme-standard',\n        tableCellShaded: 'fc-cell-shaded',\n        buttonGroup: 'fc-button-group',\n        button: 'fc-button fc-button-primary',\n        buttonActive: 'fc-button-active',\n    };\n    StandardTheme.prototype.baseIconClass = 'fc-icon';\n    StandardTheme.prototype.iconClasses = {\n        close: 'fc-icon-x',\n        prev: 'fc-icon-chevron-left',\n        next: 'fc-icon-chevron-right',\n        prevYear: 'fc-icon-chevrons-left',\n        nextYear: 'fc-icon-chevrons-right',\n    };\n    StandardTheme.prototype.rtlIconClasses = {\n        prev: 'fc-icon-chevron-right',\n        next: 'fc-icon-chevron-left',\n        prevYear: 'fc-icon-chevrons-right',\n        nextYear: 'fc-icon-chevrons-left',\n    };\n    StandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\n    StandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\n    StandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\n    function compileViewDefs(defaultConfigs, overrideConfigs) {\n        var hash = {};\n        var viewType;\n        for (viewType in defaultConfigs) {\n            ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        }\n        for (viewType in overrideConfigs) {\n            ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        }\n        return hash;\n    }\n    function ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n        if (hash[viewType]) {\n            return hash[viewType];\n        }\n        var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n        if (viewDef) {\n            hash[viewType] = viewDef;\n        }\n        return viewDef;\n    }\n    function buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n        var defaultConfig = defaultConfigs[viewType];\n        var overrideConfig = overrideConfigs[viewType];\n        var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n            ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n        var theComponent = queryProp('component');\n        var superType = queryProp('superType');\n        var superDef = null;\n        if (superType) {\n            if (superType === viewType) {\n                throw new Error('Can\\'t have a custom view type that references itself');\n            }\n            superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n        }\n        if (!theComponent && superDef) {\n            theComponent = superDef.component;\n        }\n        if (!theComponent) {\n            return null; // don't throw a warning, might be settings for a single-unit view\n        }\n        return {\n            type: viewType,\n            component: theComponent,\n            defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n            overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n        };\n    }\n\n    /* eslint max-classes-per-file: off */\n    // NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\n    var RenderHook = /** @class */ (function (_super) {\n        __extends(RenderHook, _super);\n        function RenderHook() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.rootElRef = createRef();\n            _this.handleRootEl = function (el) {\n                setRef(_this.rootElRef, el);\n                if (_this.props.elRef) {\n                    setRef(_this.props.elRef, el);\n                }\n            };\n            return _this;\n        }\n        RenderHook.prototype.render = function () {\n            var _this = this;\n            var props = this.props;\n            var hookProps = props.hookProps;\n            return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n        };\n        return RenderHook;\n    }(BaseComponent));\n    // TODO: rename to be about function, not default. use in above type\n    // for forcing rerender of components that use the ContentHook\n    var CustomContentRenderContext = createContext(0);\n    function ContentHook(props) {\n        return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n    }\n    var ContentHookInner = /** @class */ (function (_super) {\n        __extends(ContentHookInner, _super);\n        function ContentHookInner() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.innerElRef = createRef();\n            return _this;\n        }\n        ContentHookInner.prototype.render = function () {\n            return this.props.children(this.innerElRef, this.renderInnerContent());\n        };\n        ContentHookInner.prototype.componentDidMount = function () {\n            this.updateCustomContent();\n        };\n        ContentHookInner.prototype.componentDidUpdate = function () {\n            this.updateCustomContent();\n        };\n        ContentHookInner.prototype.componentWillUnmount = function () {\n            if (this.customContentInfo && this.customContentInfo.destroy) {\n                this.customContentInfo.destroy();\n            }\n        };\n        ContentHookInner.prototype.renderInnerContent = function () {\n            var customContentInfo = this.customContentInfo; // only populated if using non-[p]react node(s)\n            var innerContent = this.getInnerContent();\n            var meta = this.getContentMeta(innerContent);\n            // initial run, or content-type changing? (from vue -> react for example)\n            if (!customContentInfo || customContentInfo.contentKey !== meta.contentKey) {\n                // clearing old value\n                if (customContentInfo) {\n                    if (customContentInfo.destroy) {\n                        customContentInfo.destroy();\n                    }\n                    customContentInfo = this.customContentInfo = null;\n                }\n                // assigning new value\n                if (meta.contentKey) {\n                    customContentInfo = this.customContentInfo = __assign({ contentKey: meta.contentKey, contentVal: innerContent[meta.contentKey] }, meta.buildLifecycleFuncs());\n                }\n                // updating\n            }\n            else if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[meta.contentKey];\n            }\n            return customContentInfo\n                ? [] // signal that something was specified\n                : innerContent; // assume a [p]react vdom node. use it\n        };\n        ContentHookInner.prototype.getInnerContent = function () {\n            var props = this.props;\n            var innerContent = normalizeContent(props.content, props.hookProps);\n            if (innerContent === undefined) { // use the default\n                innerContent = normalizeContent(props.defaultContent, props.hookProps);\n            }\n            return innerContent == null ? null : innerContent; // convert undefined to null (better for React)\n        };\n        ContentHookInner.prototype.getContentMeta = function (innerContent) {\n            var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n            var contentKey = '';\n            var buildLifecycleFuncs = null;\n            if (innerContent) { // allowed to be null, for convenience to caller\n                for (var searchKey in contentTypeHandlers) {\n                    if (innerContent[searchKey] !== undefined) {\n                        contentKey = searchKey;\n                        buildLifecycleFuncs = contentTypeHandlers[searchKey];\n                        break;\n                    }\n                }\n            }\n            return { contentKey: contentKey, buildLifecycleFuncs: buildLifecycleFuncs };\n        };\n        ContentHookInner.prototype.updateCustomContent = function () {\n            if (this.customContentInfo) { // for non-[p]react\n                this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n                this.customContentInfo.contentVal);\n            }\n        };\n        return ContentHookInner;\n    }(BaseComponent));\n    var MountHook = /** @class */ (function (_super) {\n        __extends(MountHook, _super);\n        function MountHook() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.handleRootEl = function (rootEl) {\n                _this.rootEl = rootEl;\n                if (_this.props.elRef) {\n                    setRef(_this.props.elRef, rootEl);\n                }\n            };\n            return _this;\n        }\n        MountHook.prototype.render = function () {\n            return this.props.children(this.handleRootEl);\n        };\n        MountHook.prototype.componentDidMount = function () {\n            var callback = this.props.didMount;\n            if (callback) {\n                callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n            }\n        };\n        MountHook.prototype.componentWillUnmount = function () {\n            var callback = this.props.willUnmount;\n            if (callback) {\n                callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n            }\n        };\n        return MountHook;\n    }(BaseComponent));\n    function buildClassNameNormalizer() {\n        var currentGenerator;\n        var currentHookProps;\n        var currentClassNames = [];\n        return function (generator, hookProps) {\n            if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n                currentGenerator = generator;\n                currentHookProps = hookProps;\n                currentClassNames = normalizeClassNames(generator, hookProps);\n            }\n            return currentClassNames;\n        };\n    }\n    function normalizeClassNames(classNames, hookProps) {\n        if (typeof classNames === 'function') {\n            classNames = classNames(hookProps);\n        }\n        return parseClassNames(classNames);\n    }\n    function normalizeContent(input, hookProps) {\n        if (typeof input === 'function') {\n            return input(hookProps, createElement); // give the function the vdom-creation func\n        }\n        return input;\n    }\n\n    var ViewRoot = /** @class */ (function (_super) {\n        __extends(ViewRoot, _super);\n        function ViewRoot() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.normalizeClassNames = buildClassNameNormalizer();\n            return _this;\n        }\n        ViewRoot.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var options = context.options;\n            var hookProps = { view: context.viewApi };\n            var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n            return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n        };\n        return ViewRoot;\n    }(BaseComponent));\n\n    function parseViewConfigs(inputs) {\n        return mapHash(inputs, parseViewConfig);\n    }\n    function parseViewConfig(input) {\n        var rawOptions = typeof input === 'function' ?\n            { component: input } :\n            input;\n        var component = rawOptions.component;\n        if (rawOptions.content) {\n            component = createViewHookComponent(rawOptions);\n            // TODO: remove content/classNames/didMount/etc from options?\n        }\n        return {\n            superType: rawOptions.type,\n            component: component,\n            rawOptions: rawOptions,\n        };\n    }\n    function createViewHookComponent(options) {\n        return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n            var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n        })); })); };\n    }\n\n    function buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n        var defaultConfigs = parseViewConfigs(defaultInputs);\n        var overrideConfigs = parseViewConfigs(optionOverrides.views);\n        var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n        return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n    }\n    function buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n        var durationInput = viewDef.overrides.duration ||\n            viewDef.defaults.duration ||\n            dynamicOptionOverrides.duration ||\n            optionOverrides.duration;\n        var duration = null;\n        var durationUnit = '';\n        var singleUnit = '';\n        var singleUnitOverrides = {};\n        if (durationInput) {\n            duration = createDurationCached(durationInput);\n            if (duration) { // valid?\n                var denom = greatestDurationDenominator(duration);\n                durationUnit = denom.unit;\n                if (denom.value === 1) {\n                    singleUnit = durationUnit;\n                    singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n                }\n            }\n        }\n        var queryButtonText = function (optionsSubset) {\n            var buttonTextMap = optionsSubset.buttonText || {};\n            var buttonTextKey = viewDef.defaults.buttonTextKey;\n            if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n                return buttonTextMap[buttonTextKey];\n            }\n            if (buttonTextMap[viewDef.type] != null) {\n                return buttonTextMap[viewDef.type];\n            }\n            if (buttonTextMap[singleUnit] != null) {\n                return buttonTextMap[singleUnit];\n            }\n            return null;\n        };\n        var queryButtonTitle = function (optionsSubset) {\n            var buttonHints = optionsSubset.buttonHints || {};\n            var buttonKey = viewDef.defaults.buttonTextKey; // use same key as text\n            if (buttonKey != null && buttonHints[buttonKey] != null) {\n                return buttonHints[buttonKey];\n            }\n            if (buttonHints[viewDef.type] != null) {\n                return buttonHints[viewDef.type];\n            }\n            if (buttonHints[singleUnit] != null) {\n                return buttonHints[singleUnit];\n            }\n            return null;\n        };\n        return {\n            type: viewDef.type,\n            component: viewDef.component,\n            duration: duration,\n            durationUnit: durationUnit,\n            singleUnit: singleUnit,\n            optionDefaults: viewDef.defaults,\n            optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n            buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n                queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n                viewDef.overrides.buttonText,\n            buttonTextDefault: queryButtonText(localeDefaults) ||\n                viewDef.defaults.buttonText ||\n                queryButtonText(BASE_OPTION_DEFAULTS) ||\n                viewDef.type,\n            // not DRY\n            buttonTitleOverride: queryButtonTitle(dynamicOptionOverrides) ||\n                queryButtonTitle(optionOverrides) ||\n                viewDef.overrides.buttonHint,\n            buttonTitleDefault: queryButtonTitle(localeDefaults) ||\n                viewDef.defaults.buttonHint ||\n                queryButtonTitle(BASE_OPTION_DEFAULTS),\n            // will eventually fall back to buttonText\n        };\n    }\n    // hack to get memoization working\n    var durationInputMap = {};\n    function createDurationCached(durationInput) {\n        var json = JSON.stringify(durationInput);\n        var res = durationInputMap[json];\n        if (res === undefined) {\n            res = createDuration(durationInput);\n            durationInputMap[json] = res;\n        }\n        return res;\n    }\n\n    var DateProfileGenerator = /** @class */ (function () {\n        function DateProfileGenerator(props) {\n            this.props = props;\n            this.nowDate = getNow(props.nowInput, props.dateEnv);\n            this.initHiddenDays();\n        }\n        /* Date Range Computation\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n        DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n            var dateEnv = this.props.dateEnv;\n            var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n            currentDateProfile.dateIncrement);\n            return this.build(prevDate, -1, forceToValid);\n        };\n        // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n        DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n            var dateEnv = this.props.dateEnv;\n            var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n            currentDateProfile.dateIncrement);\n            return this.build(nextDate, 1, forceToValid);\n        };\n        // Builds a structure holding dates/ranges for rendering around the given date.\n        // Optional direction param indicates whether the date is being incremented/decremented\n        // from its previous value. decremented = -1, incremented = 1 (default).\n        DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n            if (forceToValid === void 0) { forceToValid = true; }\n            var props = this.props;\n            var validRange;\n            var currentInfo;\n            var isRangeAllDay;\n            var renderRange;\n            var activeRange;\n            var isValid;\n            validRange = this.buildValidRange();\n            validRange = this.trimHiddenDays(validRange);\n            if (forceToValid) {\n                currentDate = constrainMarkerToRange(currentDate, validRange);\n            }\n            currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n            isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n            renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n            renderRange = this.trimHiddenDays(renderRange);\n            activeRange = renderRange;\n            if (!props.showNonCurrentDates) {\n                activeRange = intersectRanges(activeRange, currentInfo.range);\n            }\n            activeRange = this.adjustActiveRange(activeRange);\n            activeRange = intersectRanges(activeRange, validRange); // might return null\n            // it's invalid if the originally requested date is not contained,\n            // or if the range is completely outside of the valid range.\n            isValid = rangesIntersect(currentInfo.range, validRange);\n            return {\n                // constraint for where prev/next operations can go and where events can be dragged/resized to.\n                // an object with optional start and end properties.\n                validRange: validRange,\n                // range the view is formally responsible for.\n                // for example, a month view might have 1st-31st, excluding padded dates\n                currentRange: currentInfo.range,\n                // name of largest unit being displayed, like \"month\" or \"week\"\n                currentRangeUnit: currentInfo.unit,\n                isRangeAllDay: isRangeAllDay,\n                // dates that display events and accept drag-n-drop\n                // will be `null` if no dates accept events\n                activeRange: activeRange,\n                // date range with a rendered skeleton\n                // includes not-active days that need some sort of DOM\n                renderRange: renderRange,\n                // Duration object that denotes the first visible time of any given day\n                slotMinTime: props.slotMinTime,\n                // Duration object that denotes the exclusive visible end time of any given day\n                slotMaxTime: props.slotMaxTime,\n                isValid: isValid,\n                // how far the current date will move for a prev/next operation\n                dateIncrement: this.buildDateIncrement(currentInfo.duration),\n                // pass a fallback (might be null) ^\n            };\n        };\n        // Builds an object with optional start/end properties.\n        // Indicates the minimum/maximum dates to display.\n        // not responsible for trimming hidden days.\n        DateProfileGenerator.prototype.buildValidRange = function () {\n            var input = this.props.validRangeInput;\n            var simpleInput = typeof input === 'function'\n                ? input.call(this.props.calendarApi, this.nowDate)\n                : input;\n            return this.refineRange(simpleInput) ||\n                { start: null, end: null }; // completely open-ended\n        };\n        // Builds a structure with info about the \"current\" range, the range that is\n        // highlighted as being the current month for example.\n        // See build() for a description of `direction`.\n        // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n        DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n            var props = this.props;\n            var duration = null;\n            var unit = null;\n            var range = null;\n            var dayCount;\n            if (props.duration) {\n                duration = props.duration;\n                unit = props.durationUnit;\n                range = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n            else if ((dayCount = this.props.dayCount)) {\n                unit = 'day';\n                range = this.buildRangeFromDayCount(date, direction, dayCount);\n            }\n            else if ((range = this.buildCustomVisibleRange(date))) {\n                unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n            }\n            else {\n                duration = this.getFallbackDuration();\n                unit = greatestDurationDenominator(duration).unit;\n                range = this.buildRangeFromDuration(date, direction, duration, unit);\n            }\n            return { duration: duration, unit: unit, range: range };\n        };\n        DateProfileGenerator.prototype.getFallbackDuration = function () {\n            return createDuration({ day: 1 });\n        };\n        // Returns a new activeRange to have time values (un-ambiguate)\n        // slotMinTime or slotMaxTime causes the range to expand.\n        DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n            var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n            var start = range.start, end = range.end;\n            if (usesMinMaxTime) {\n                // expand active range if slotMinTime is negative (why not when positive?)\n                if (asRoughDays(slotMinTime) < 0) {\n                    start = startOfDay(start); // necessary?\n                    start = dateEnv.add(start, slotMinTime);\n                }\n                // expand active range if slotMaxTime is beyond one day (why not when negative?)\n                if (asRoughDays(slotMaxTime) > 1) {\n                    end = startOfDay(end); // necessary?\n                    end = addDays(end, -1);\n                    end = dateEnv.add(end, slotMaxTime);\n                }\n            }\n            return { start: start, end: end };\n        };\n        // Builds the \"current\" range when it is specified as an explicit duration.\n        // `unit` is the already-computed greatestDurationDenominator unit of duration.\n        DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n            var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n            var start;\n            var end;\n            var res;\n            // compute what the alignment should be\n            if (!dateAlignment) {\n                var dateIncrement = this.props.dateIncrement;\n                if (dateIncrement) {\n                    // use the smaller of the two units\n                    if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                        dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                    }\n                    else {\n                        dateAlignment = unit;\n                    }\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            // if the view displays a single day or smaller\n            if (asRoughDays(duration) <= 1) {\n                if (this.isHiddenDay(start)) {\n                    start = this.skipHiddenDays(start, direction);\n                    start = startOfDay(start);\n                }\n            }\n            function computeRes() {\n                start = dateEnv.startOf(date, dateAlignment);\n                end = dateEnv.add(start, duration);\n                res = { start: start, end: end };\n            }\n            computeRes();\n            // if range is completely enveloped by hidden days, go past the hidden days\n            if (!this.trimHiddenDays(res)) {\n                date = this.skipHiddenDays(date, direction);\n                computeRes();\n            }\n            return res;\n        };\n        // Builds the \"current\" range when a dayCount is specified.\n        DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n            var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n            var runningCount = 0;\n            var start = date;\n            var end;\n            if (dateAlignment) {\n                start = dateEnv.startOf(start, dateAlignment);\n            }\n            start = startOfDay(start);\n            start = this.skipHiddenDays(start, direction);\n            end = start;\n            do {\n                end = addDays(end, 1);\n                if (!this.isHiddenDay(end)) {\n                    runningCount += 1;\n                }\n            } while (runningCount < dayCount);\n            return { start: start, end: end };\n        };\n        // Builds a normalized range object for the \"visible\" range,\n        // which is a way to define the currentRange and activeRange at the same time.\n        DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n            var props = this.props;\n            var input = props.visibleRangeInput;\n            var simpleInput = typeof input === 'function'\n                ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n                : input;\n            var range = this.refineRange(simpleInput);\n            if (range && (range.start == null || range.end == null)) {\n                return null;\n            }\n            return range;\n        };\n        // Computes the range that will represent the element/cells for *rendering*,\n        // but which may have voided days/times.\n        // not responsible for trimming hidden days.\n        DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n            return currentRange;\n        };\n        // Compute the duration value that should be added/substracted to the current date\n        // when a prev/next operation happens.\n        DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n            var dateIncrement = this.props.dateIncrement;\n            var customAlignment;\n            if (dateIncrement) {\n                return dateIncrement;\n            }\n            if ((customAlignment = this.props.dateAlignment)) {\n                return createDuration(1, customAlignment);\n            }\n            if (fallback) {\n                return fallback;\n            }\n            return createDuration({ days: 1 });\n        };\n        DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n            if (rangeInput) {\n                var range = parseRange(rangeInput, this.props.dateEnv);\n                if (range) {\n                    range = computeVisibleDayRange(range);\n                }\n                return range;\n            }\n            return null;\n        };\n        /* Hidden Days\n        ------------------------------------------------------------------------------------------------------------------*/\n        // Initializes internal variables related to calculating hidden days-of-week\n        DateProfileGenerator.prototype.initHiddenDays = function () {\n            var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n            var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n            var dayCnt = 0;\n            var i;\n            if (this.props.weekends === false) {\n                hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n            }\n            for (i = 0; i < 7; i += 1) {\n                if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                    dayCnt += 1;\n                }\n            }\n            if (!dayCnt) {\n                throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n            }\n            this.isHiddenDayHash = isHiddenDayHash;\n        };\n        // Remove days from the beginning and end of the range that are computed as hidden.\n        // If the whole range is trimmed off, returns null\n        DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n            var start = range.start, end = range.end;\n            if (start) {\n                start = this.skipHiddenDays(start);\n            }\n            if (end) {\n                end = this.skipHiddenDays(end, -1, true);\n            }\n            if (start == null || end == null || start < end) {\n                return { start: start, end: end };\n            }\n            return null;\n        };\n        // Is the current day hidden?\n        // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n        DateProfileGenerator.prototype.isHiddenDay = function (day) {\n            if (day instanceof Date) {\n                day = day.getUTCDay();\n            }\n            return this.isHiddenDayHash[day];\n        };\n        // Incrementing the current day until it is no longer a hidden day, returning a copy.\n        // DOES NOT CONSIDER validRange!\n        // If the initial value of `date` is not a hidden day, don't do anything.\n        // Pass `isExclusive` as `true` if you are dealing with an end date.\n        // `inc` defaults to `1` (increment one day forward each time)\n        DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n            if (inc === void 0) { inc = 1; }\n            if (isExclusive === void 0) { isExclusive = false; }\n            while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n                date = addDays(date, inc);\n            }\n            return date;\n        };\n        return DateProfileGenerator;\n    }());\n\n    function reduceViewType(viewType, action) {\n        switch (action.type) {\n            case 'CHANGE_VIEW_TYPE':\n                viewType = action.viewType;\n        }\n        return viewType;\n    }\n\n    function reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n        var _a;\n        switch (action.type) {\n            case 'SET_OPTION':\n                return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n            default:\n                return dynamicOptionOverrides;\n        }\n    }\n\n    function reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n        var dp;\n        switch (action.type) {\n            case 'CHANGE_VIEW_TYPE':\n                return dateProfileGenerator.build(action.dateMarker || currentDate);\n            case 'CHANGE_DATE':\n                return dateProfileGenerator.build(action.dateMarker);\n            case 'PREV':\n                dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n                if (dp.isValid) {\n                    return dp;\n                }\n                break;\n            case 'NEXT':\n                dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n                if (dp.isValid) {\n                    return dp;\n                }\n                break;\n        }\n        return currentDateProfile;\n    }\n\n    function initEventSources(calendarOptions, dateProfile, context) {\n        var activeRange = dateProfile ? dateProfile.activeRange : null;\n        return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n    }\n    function reduceEventSources(eventSources, action, dateProfile, context) {\n        var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n        switch (action.type) {\n            case 'ADD_EVENT_SOURCES': // already parsed\n                return addSources(eventSources, action.sources, activeRange, context);\n            case 'REMOVE_EVENT_SOURCE':\n                return removeSource(eventSources, action.sourceId);\n            case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n            case 'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n                if (dateProfile) {\n                    return fetchDirtySources(eventSources, activeRange, context);\n                }\n                return eventSources;\n            case 'FETCH_EVENT_SOURCES':\n                return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                    arrayToHash(action.sourceIds) :\n                    excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n            case 'RECEIVE_EVENTS':\n            case 'RECEIVE_EVENT_ERROR':\n                return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n                return {};\n            default:\n                return eventSources;\n        }\n    }\n    function reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n        var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n        return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n    }\n    function computeEventSourcesLoading(eventSources) {\n        for (var sourceId in eventSources) {\n            if (eventSources[sourceId].isFetching) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function addSources(eventSourceHash, sources, fetchRange, context) {\n        var hash = {};\n        for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n            var source = sources_1[_i];\n            hash[source.sourceId] = source;\n        }\n        if (fetchRange) {\n            hash = fetchDirtySources(hash, fetchRange, context);\n        }\n        return __assign(__assign({}, eventSourceHash), hash);\n    }\n    function removeSource(eventSourceHash, sourceId) {\n        return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n    }\n    function fetchDirtySources(sourceHash, fetchRange, context) {\n        return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n    }\n    function isSourceDirty(eventSource, fetchRange, context) {\n        if (!doesSourceNeedRange(eventSource, context)) {\n            return !eventSource.latestFetchId;\n        }\n        return !context.options.lazyFetching ||\n            !eventSource.fetchRange ||\n            eventSource.isFetching || // always cancel outdated in-progress fetches\n            fetchRange.start < eventSource.fetchRange.start ||\n            fetchRange.end > eventSource.fetchRange.end;\n    }\n    function fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n        var nextSources = {};\n        for (var sourceId in prevSources) {\n            var source = prevSources[sourceId];\n            if (sourceIdHash[sourceId]) {\n                nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n            }\n            else {\n                nextSources[sourceId] = source;\n            }\n        }\n        return nextSources;\n    }\n    function fetchSource(eventSource, fetchRange, isRefetch, context) {\n        var options = context.options, calendarApi = context.calendarApi;\n        var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n        var fetchId = guid();\n        sourceDef.fetch({\n            eventSource: eventSource,\n            range: fetchRange,\n            isRefetch: isRefetch,\n            context: context,\n        }, function (res) {\n            var rawEvents = res.rawEvents;\n            if (options.eventSourceSuccess) {\n                rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n            }\n            if (eventSource.success) {\n                rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n            }\n            context.dispatch({\n                type: 'RECEIVE_EVENTS',\n                sourceId: eventSource.sourceId,\n                fetchId: fetchId,\n                fetchRange: fetchRange,\n                rawEvents: rawEvents,\n            });\n        }, function (error) {\n            console.warn(error.message, error);\n            if (options.eventSourceFailure) {\n                options.eventSourceFailure.call(calendarApi, error);\n            }\n            if (eventSource.failure) {\n                eventSource.failure(error);\n            }\n            context.dispatch({\n                type: 'RECEIVE_EVENT_ERROR',\n                sourceId: eventSource.sourceId,\n                fetchId: fetchId,\n                fetchRange: fetchRange,\n                error: error,\n            });\n        });\n        return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n    }\n    function receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n        var _a;\n        var eventSource = sourceHash[sourceId];\n        if (eventSource && // not already removed\n            fetchId === eventSource.latestFetchId) {\n            return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n        }\n        return sourceHash;\n    }\n    function excludeStaticSources(eventSources, context) {\n        return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n    }\n    function parseInitialSources(rawOptions, context) {\n        var refiners = buildEventSourceRefiners(context);\n        var rawSources = [].concat(rawOptions.eventSources || []);\n        var sources = []; // parsed\n        if (rawOptions.initialEvents) {\n            rawSources.unshift(rawOptions.initialEvents);\n        }\n        if (rawOptions.events) {\n            rawSources.unshift(rawOptions.events);\n        }\n        for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n            var rawSource = rawSources_1[_i];\n            var source = parseEventSource(rawSource, context, refiners);\n            if (source) {\n                sources.push(source);\n            }\n        }\n        return sources;\n    }\n    function doesSourceNeedRange(eventSource, context) {\n        var defs = context.pluginHooks.eventSourceDefs;\n        return !defs[eventSource.sourceDefId].ignoreRange;\n    }\n\n    function reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n        switch (action.type) {\n            case 'RECEIVE_EVENTS': // raw\n                return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n            case 'ADD_EVENTS': // already parsed, but not expanded\n                return addEvent(eventStore, action.eventStore, // new ones\n                dateProfile ? dateProfile.activeRange : null, context);\n            case 'RESET_EVENTS':\n                return action.eventStore;\n            case 'MERGE_EVENTS': // already parsed and expanded\n                return mergeEventStores(eventStore, action.eventStore);\n            case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n            case 'NEXT':\n            case 'CHANGE_DATE':\n            case 'CHANGE_VIEW_TYPE':\n                if (dateProfile) {\n                    return expandRecurring(eventStore, dateProfile.activeRange, context);\n                }\n                return eventStore;\n            case 'REMOVE_EVENTS':\n                return excludeSubEventStore(eventStore, action.eventStore);\n            case 'REMOVE_EVENT_SOURCE':\n                return excludeEventsBySourceId(eventStore, action.sourceId);\n            case 'REMOVE_ALL_EVENT_SOURCES':\n                return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n                ); });\n            case 'REMOVE_ALL_EVENTS':\n                return createEmptyEventStore();\n            default:\n                return eventStore;\n        }\n    }\n    function receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n        if (eventSource && // not already removed\n            fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n        ) {\n            var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n            if (fetchRange) {\n                subset = expandRecurring(subset, fetchRange, context);\n            }\n            return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n        }\n        return eventStore;\n    }\n    function transformRawEvents(rawEvents, eventSource, context) {\n        var calEachTransform = context.options.eventDataTransform;\n        var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n        if (sourceEachTransform) {\n            rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n        }\n        if (calEachTransform) {\n            rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n        }\n        return rawEvents;\n    }\n    function transformEachRawEvent(rawEvents, func) {\n        var refinedEvents;\n        if (!func) {\n            refinedEvents = rawEvents;\n        }\n        else {\n            refinedEvents = [];\n            for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n                var rawEvent = rawEvents_1[_i];\n                var refinedEvent = func(rawEvent);\n                if (refinedEvent) {\n                    refinedEvents.push(refinedEvent);\n                }\n                else if (refinedEvent == null) {\n                    refinedEvents.push(rawEvent);\n                } // if a different falsy value, do nothing\n            }\n        }\n        return refinedEvents;\n    }\n    function addEvent(eventStore, subset, expandRange, context) {\n        if (expandRange) {\n            subset = expandRecurring(subset, expandRange, context);\n        }\n        return mergeEventStores(eventStore, subset);\n    }\n    function rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n        var defs = eventStore.defs;\n        var instances = mapHash(eventStore.instances, function (instance) {\n            var def = defs[instance.defId];\n            if (def.allDay || def.recurringDef) {\n                return instance; // isn't dependent on timezone\n            }\n            return __assign(__assign({}, instance), { range: {\n                    start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                    end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n                }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n        });\n        return { defs: defs, instances: instances };\n    }\n    function excludeEventsBySourceId(eventStore, sourceId) {\n        return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n    }\n    // QUESTION: why not just return instances? do a general object-property-exclusion util\n    function excludeInstances(eventStore, removals) {\n        return {\n            defs: eventStore.defs,\n            instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n        };\n    }\n\n    function reduceDateSelection(currentSelection, action) {\n        switch (action.type) {\n            case 'UNSELECT_DATES':\n                return null;\n            case 'SELECT_DATES':\n                return action.selection;\n            default:\n                return currentSelection;\n        }\n    }\n\n    function reduceSelectedEvent(currentInstanceId, action) {\n        switch (action.type) {\n            case 'UNSELECT_EVENT':\n                return '';\n            case 'SELECT_EVENT':\n                return action.eventInstanceId;\n            default:\n                return currentInstanceId;\n        }\n    }\n\n    function reduceEventDrag(currentDrag, action) {\n        var newDrag;\n        switch (action.type) {\n            case 'UNSET_EVENT_DRAG':\n                return null;\n            case 'SET_EVENT_DRAG':\n                newDrag = action.state;\n                return {\n                    affectedEvents: newDrag.affectedEvents,\n                    mutatedEvents: newDrag.mutatedEvents,\n                    isEvent: newDrag.isEvent,\n                };\n            default:\n                return currentDrag;\n        }\n    }\n\n    function reduceEventResize(currentResize, action) {\n        var newResize;\n        switch (action.type) {\n            case 'UNSET_EVENT_RESIZE':\n                return null;\n            case 'SET_EVENT_RESIZE':\n                newResize = action.state;\n                return {\n                    affectedEvents: newResize.affectedEvents,\n                    mutatedEvents: newResize.mutatedEvents,\n                    isEvent: newResize.isEvent,\n                };\n            default:\n                return currentResize;\n        }\n    }\n\n    function parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n        var header = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n        var footer = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) : null;\n        return { header: header, footer: footer };\n    }\n    function parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n        var sectionWidgets = {};\n        var viewsWithButtons = [];\n        var hasTitle = false;\n        for (var sectionName in sectionStrHash) {\n            var sectionStr = sectionStrHash[sectionName];\n            var sectionRes = parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi);\n            sectionWidgets[sectionName] = sectionRes.widgets;\n            viewsWithButtons.push.apply(viewsWithButtons, sectionRes.viewsWithButtons);\n            hasTitle = hasTitle || sectionRes.hasTitle;\n        }\n        return { sectionWidgets: sectionWidgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n    }\n    /*\n    BAD: querying icons and text here. should be done at render time\n    */\n    function parseSection(sectionStr, calendarOptions, // defaults+overrides, then refined\n    calendarOptionOverrides, // overrides only!, unrefined :(\n    theme, viewSpecs, calendarApi) {\n        var isRtl = calendarOptions.direction === 'rtl';\n        var calendarCustomButtons = calendarOptions.customButtons || {};\n        var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n        var calendarButtonText = calendarOptions.buttonText || {};\n        var calendarButtonHintOverrides = calendarOptionOverrides.buttonHints || {};\n        var calendarButtonHints = calendarOptions.buttonHints || {};\n        var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n        var viewsWithButtons = [];\n        var hasTitle = false;\n        var widgets = sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n            if (buttonName === 'title') {\n                hasTitle = true;\n                return { buttonName: buttonName };\n            }\n            var customButtonProps;\n            var viewSpec;\n            var buttonClick;\n            var buttonIcon; // only one of these will be set\n            var buttonText; // \"\n            var buttonHint;\n            // ^ for the title=\"\" attribute, for accessibility\n            if ((customButtonProps = calendarCustomButtons[buttonName])) {\n                buttonClick = function (ev) {\n                    if (customButtonProps.click) {\n                        customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                    }\n                };\n                (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = customButtonProps.text);\n                buttonHint = customButtonProps.hint || customButtonProps.text;\n            }\n            else if ((viewSpec = viewSpecs[buttonName])) {\n                viewsWithButtons.push(buttonName);\n                buttonClick = function () {\n                    calendarApi.changeView(buttonName);\n                };\n                (buttonText = viewSpec.buttonTextOverride) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = viewSpec.buttonTextDefault);\n                var textFallback = viewSpec.buttonTextOverride ||\n                    viewSpec.buttonTextDefault;\n                buttonHint = formatWithOrdinals(viewSpec.buttonTitleOverride ||\n                    viewSpec.buttonTitleDefault ||\n                    calendarOptions.viewHint, [textFallback, buttonName], // view-name = buttonName\n                textFallback);\n            }\n            else if (calendarApi[buttonName]) { // a calendarApi method\n                buttonClick = function () {\n                    calendarApi[buttonName]();\n                };\n                (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                    (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                    (buttonText = calendarButtonText[buttonName]); // everything else is considered default\n                if (buttonName === 'prevYear' || buttonName === 'nextYear') {\n                    var prevOrNext = buttonName === 'prevYear' ? 'prev' : 'next';\n                    buttonHint = formatWithOrdinals(calendarButtonHintOverrides[prevOrNext] ||\n                        calendarButtonHints[prevOrNext], [\n                        calendarButtonText.year || 'year',\n                        'year',\n                    ], calendarButtonText[buttonName]);\n                }\n                else {\n                    buttonHint = function (navUnit) { return formatWithOrdinals(calendarButtonHintOverrides[buttonName] ||\n                        calendarButtonHints[buttonName], [\n                        calendarButtonText[navUnit] || navUnit,\n                        navUnit,\n                    ], calendarButtonText[buttonName]); };\n                }\n            }\n            return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText, buttonHint: buttonHint };\n        })); });\n        return { widgets: widgets, viewsWithButtons: viewsWithButtons, hasTitle: hasTitle };\n    }\n\n    var eventSourceDef$3 = {\n        ignoreRange: true,\n        parseMeta: function (refined) {\n            if (Array.isArray(refined.events)) {\n                return refined.events;\n            }\n            return null;\n        },\n        fetch: function (arg, success) {\n            success({\n                rawEvents: arg.eventSource.meta,\n            });\n        },\n    };\n    var arrayEventSourcePlugin = createPlugin({\n        eventSourceDefs: [eventSourceDef$3],\n    });\n\n    var eventSourceDef$2 = {\n        parseMeta: function (refined) {\n            if (typeof refined.events === 'function') {\n                return refined.events;\n            }\n            return null;\n        },\n        fetch: function (arg, success, failure) {\n            var dateEnv = arg.context.dateEnv;\n            var func = arg.eventSource.meta;\n            unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n                success({ rawEvents: rawEvents }); // needs an object response\n            }, failure);\n        },\n    };\n    var funcEventSourcePlugin = createPlugin({\n        eventSourceDefs: [eventSourceDef$2],\n    });\n\n    function requestJson(method, url, params, successCallback, failureCallback) {\n        method = method.toUpperCase();\n        var body = null;\n        if (method === 'GET') {\n            url = injectQueryStringParams(url, params);\n        }\n        else {\n            body = encodeParams(params);\n        }\n        var xhr = new XMLHttpRequest();\n        xhr.open(method, url, true);\n        if (method !== 'GET') {\n            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n        }\n        xhr.onload = function () {\n            if (xhr.status >= 200 && xhr.status < 400) {\n                var parsed = false;\n                var res = void 0;\n                try {\n                    res = JSON.parse(xhr.responseText);\n                    parsed = true;\n                }\n                catch (err) {\n                    // will handle parsed=false\n                }\n                if (parsed) {\n                    successCallback(res, xhr);\n                }\n                else {\n                    failureCallback('Failure parsing JSON', xhr);\n                }\n            }\n            else {\n                failureCallback('Request failed', xhr);\n            }\n        };\n        xhr.onerror = function () {\n            failureCallback('Request failed', xhr);\n        };\n        xhr.send(body);\n    }\n    function injectQueryStringParams(url, params) {\n        return url +\n            (url.indexOf('?') === -1 ? '?' : '&') +\n            encodeParams(params);\n    }\n    function encodeParams(params) {\n        var parts = [];\n        for (var key in params) {\n            parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n        }\n        return parts.join('&');\n    }\n\n    var JSON_FEED_EVENT_SOURCE_REFINERS = {\n        method: String,\n        extraParams: identity,\n        startParam: String,\n        endParam: String,\n        timeZoneParam: String,\n    };\n\n    var eventSourceDef$1 = {\n        parseMeta: function (refined) {\n            if (refined.url && (refined.format === 'json' || !refined.format)) {\n                return {\n                    url: refined.url,\n                    format: 'json',\n                    method: (refined.method || 'GET').toUpperCase(),\n                    extraParams: refined.extraParams,\n                    startParam: refined.startParam,\n                    endParam: refined.endParam,\n                    timeZoneParam: refined.timeZoneParam,\n                };\n            }\n            return null;\n        },\n        fetch: function (arg, success, failure) {\n            var meta = arg.eventSource.meta;\n            var requestParams = buildRequestParams$1(meta, arg.range, arg.context);\n            requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n                success({ rawEvents: rawEvents, xhr: xhr });\n            }, function (errorMessage, xhr) {\n                failure({ message: errorMessage, xhr: xhr });\n            });\n        },\n    };\n    var jsonFeedEventSourcePlugin = createPlugin({\n        eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n        eventSourceDefs: [eventSourceDef$1],\n    });\n    function buildRequestParams$1(meta, range, context) {\n        var dateEnv = context.dateEnv, options = context.options;\n        var startParam;\n        var endParam;\n        var timeZoneParam;\n        var customRequestParams;\n        var params = {};\n        startParam = meta.startParam;\n        if (startParam == null) {\n            startParam = options.startParam;\n        }\n        endParam = meta.endParam;\n        if (endParam == null) {\n            endParam = options.endParam;\n        }\n        timeZoneParam = meta.timeZoneParam;\n        if (timeZoneParam == null) {\n            timeZoneParam = options.timeZoneParam;\n        }\n        // retrieve any outbound GET/POST data from the options\n        if (typeof meta.extraParams === 'function') {\n            // supplied as a function that returns a key/value object\n            customRequestParams = meta.extraParams();\n        }\n        else {\n            // probably supplied as a straight key/value object\n            customRequestParams = meta.extraParams || {};\n        }\n        __assign(params, customRequestParams);\n        params[startParam] = dateEnv.formatIso(range.start);\n        params[endParam] = dateEnv.formatIso(range.end);\n        if (dateEnv.timeZone !== 'local') {\n            params[timeZoneParam] = dateEnv.timeZone;\n        }\n        return params;\n    }\n\n    var SIMPLE_RECURRING_REFINERS = {\n        daysOfWeek: identity,\n        startTime: createDuration,\n        endTime: createDuration,\n        duration: createDuration,\n        startRecur: identity,\n        endRecur: identity,\n    };\n\n    var recurring = {\n        parse: function (refined, dateEnv) {\n            if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n                var recurringData = {\n                    daysOfWeek: refined.daysOfWeek || null,\n                    startTime: refined.startTime || null,\n                    endTime: refined.endTime || null,\n                    startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                    endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n                };\n                var duration = void 0;\n                if (refined.duration) {\n                    duration = refined.duration;\n                }\n                if (!duration && refined.startTime && refined.endTime) {\n                    duration = subtractDurations(refined.endTime, refined.startTime);\n                }\n                return {\n                    allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                    duration: duration,\n                    typeData: recurringData, // doesn't need endTime anymore but oh well\n                };\n            }\n            return null;\n        },\n        expand: function (typeData, framingRange, dateEnv) {\n            var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n            if (clippedFramingRange) {\n                return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n            }\n            return [];\n        },\n    };\n    var simpleRecurringEventsPlugin = createPlugin({\n        recurringTypes: [recurring],\n        eventRefiners: SIMPLE_RECURRING_REFINERS,\n    });\n    function expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n        var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n        var dayMarker = startOfDay(framingRange.start);\n        var endMarker = framingRange.end;\n        var instanceStarts = [];\n        while (dayMarker < endMarker) {\n            var instanceStart \n            // if everyday, or this particular day-of-week\n            = void 0;\n            // if everyday, or this particular day-of-week\n            if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n                if (startTime) {\n                    instanceStart = dateEnv.add(dayMarker, startTime);\n                }\n                else {\n                    instanceStart = dayMarker;\n                }\n                instanceStarts.push(instanceStart);\n            }\n            dayMarker = addDays(dayMarker, 1);\n        }\n        return instanceStarts;\n    }\n\n    var changeHandlerPlugin = createPlugin({\n        optionChangeHandlers: {\n            events: function (events, context) {\n                handleEventSources([events], context);\n            },\n            eventSources: handleEventSources,\n        },\n    });\n    /*\n    BUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n    */\n    function handleEventSources(inputs, context) {\n        var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n        var newInputs = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            var inputFound = false;\n            for (var i = 0; i < unfoundSources.length; i += 1) {\n                if (unfoundSources[i]._raw === input) {\n                    unfoundSources.splice(i, 1); // delete\n                    inputFound = true;\n                    break;\n                }\n            }\n            if (!inputFound) {\n                newInputs.push(input);\n            }\n        }\n        for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n            var unfoundSource = unfoundSources_1[_a];\n            context.dispatch({\n                type: 'REMOVE_EVENT_SOURCE',\n                sourceId: unfoundSource.sourceId,\n            });\n        }\n        for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n            var newInput = newInputs_1[_b];\n            context.calendarApi.addEventSource(newInput);\n        }\n    }\n\n    function handleDateProfile(dateProfile, context) {\n        context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n    }\n\n    function handleEventStore(eventStore, context) {\n        var emitter = context.emitter;\n        if (emitter.hasHandlers('eventsSet')) {\n            emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n        }\n    }\n\n    /*\n    this array is exposed on the root namespace so that UMD plugins can add to it.\n    see the rollup-bundles script.\n    */\n    var globalPlugins = [\n        arrayEventSourcePlugin,\n        funcEventSourcePlugin,\n        jsonFeedEventSourcePlugin,\n        simpleRecurringEventsPlugin,\n        changeHandlerPlugin,\n        createPlugin({\n            isLoadingFuncs: [\n                function (state) { return computeEventSourcesLoading(state.eventSources); },\n            ],\n            contentTypeHandlers: {\n                html: buildHtmlRenderer,\n                domNodes: buildDomNodeRenderer,\n            },\n            propSetHandlers: {\n                dateProfile: handleDateProfile,\n                eventStore: handleEventStore,\n            },\n        }),\n    ];\n    function buildHtmlRenderer() {\n        var currentEl = null;\n        var currentHtml = '';\n        function render(el, html) {\n            if (el !== currentEl || html !== currentHtml) {\n                el.innerHTML = html;\n            }\n            currentEl = el;\n            currentHtml = html;\n        }\n        function destroy() {\n            currentEl.innerHTML = '';\n            currentEl = null;\n            currentHtml = '';\n        }\n        return { render: render, destroy: destroy };\n    }\n    function buildDomNodeRenderer() {\n        var currentEl = null;\n        var currentDomNodes = [];\n        function render(el, domNodes) {\n            var newDomNodes = Array.prototype.slice.call(domNodes);\n            if (el !== currentEl || !isArraysEqual(currentDomNodes, newDomNodes)) {\n                // append first, remove second (for scroll resetting)\n                for (var _i = 0, newDomNodes_1 = newDomNodes; _i < newDomNodes_1.length; _i++) {\n                    var newNode = newDomNodes_1[_i];\n                    el.appendChild(newNode);\n                }\n                destroy();\n            }\n            currentEl = el;\n            currentDomNodes = newDomNodes;\n        }\n        function destroy() {\n            currentDomNodes.forEach(removeElement);\n            currentDomNodes = [];\n            currentEl = null;\n        }\n        return { render: render, destroy: destroy };\n    }\n\n    var DelayedRunner = /** @class */ (function () {\n        function DelayedRunner(drainedOption) {\n            this.drainedOption = drainedOption;\n            this.isRunning = false;\n            this.isDirty = false;\n            this.pauseDepths = {};\n            this.timeoutId = 0;\n        }\n        DelayedRunner.prototype.request = function (delay) {\n            this.isDirty = true;\n            if (!this.isPaused()) {\n                this.clearTimeout();\n                if (delay == null) {\n                    this.tryDrain();\n                }\n                else {\n                    this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                    this.tryDrain.bind(this), delay);\n                }\n            }\n        };\n        DelayedRunner.prototype.pause = function (scope) {\n            if (scope === void 0) { scope = ''; }\n            var pauseDepths = this.pauseDepths;\n            pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n            this.clearTimeout();\n        };\n        DelayedRunner.prototype.resume = function (scope, force) {\n            if (scope === void 0) { scope = ''; }\n            var pauseDepths = this.pauseDepths;\n            if (scope in pauseDepths) {\n                if (force) {\n                    delete pauseDepths[scope];\n                }\n                else {\n                    pauseDepths[scope] -= 1;\n                    var depth = pauseDepths[scope];\n                    if (depth <= 0) {\n                        delete pauseDepths[scope];\n                    }\n                }\n                this.tryDrain();\n            }\n        };\n        DelayedRunner.prototype.isPaused = function () {\n            return Object.keys(this.pauseDepths).length;\n        };\n        DelayedRunner.prototype.tryDrain = function () {\n            if (!this.isRunning && !this.isPaused()) {\n                this.isRunning = true;\n                while (this.isDirty) {\n                    this.isDirty = false;\n                    this.drained(); // might set isDirty to true again\n                }\n                this.isRunning = false;\n            }\n        };\n        DelayedRunner.prototype.clear = function () {\n            this.clearTimeout();\n            this.isDirty = false;\n            this.pauseDepths = {};\n        };\n        DelayedRunner.prototype.clearTimeout = function () {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n                this.timeoutId = 0;\n            }\n        };\n        DelayedRunner.prototype.drained = function () {\n            if (this.drainedOption) {\n                this.drainedOption();\n            }\n        };\n        return DelayedRunner;\n    }());\n\n    var TaskRunner = /** @class */ (function () {\n        function TaskRunner(runTaskOption, drainedOption) {\n            this.runTaskOption = runTaskOption;\n            this.drainedOption = drainedOption;\n            this.queue = [];\n            this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n        }\n        TaskRunner.prototype.request = function (task, delay) {\n            this.queue.push(task);\n            this.delayedRunner.request(delay);\n        };\n        TaskRunner.prototype.pause = function (scope) {\n            this.delayedRunner.pause(scope);\n        };\n        TaskRunner.prototype.resume = function (scope, force) {\n            this.delayedRunner.resume(scope, force);\n        };\n        TaskRunner.prototype.drain = function () {\n            var queue = this.queue;\n            while (queue.length) {\n                var completedTasks = [];\n                var task = void 0;\n                while ((task = queue.shift())) {\n                    this.runTask(task);\n                    completedTasks.push(task);\n                }\n                this.drained(completedTasks);\n            } // keep going, in case new tasks were added in the drained handler\n        };\n        TaskRunner.prototype.runTask = function (task) {\n            if (this.runTaskOption) {\n                this.runTaskOption(task);\n            }\n        };\n        TaskRunner.prototype.drained = function (completedTasks) {\n            if (this.drainedOption) {\n                this.drainedOption(completedTasks);\n            }\n        };\n        return TaskRunner;\n    }());\n\n    // Computes what the title at the top of the calendarApi should be for this view\n    function buildTitle(dateProfile, viewOptions, dateEnv) {\n        var range;\n        // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n        if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n            range = dateProfile.currentRange;\n        }\n        else { // for day units or smaller, use the actual day range\n            range = dateProfile.activeRange;\n        }\n        return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n            isEndExclusive: dateProfile.isRangeAllDay,\n            defaultSeparator: viewOptions.titleRangeSeparator,\n        });\n    }\n    // Generates the format string that should be used to generate the title for the current date range.\n    // Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\n    function buildTitleFormat(dateProfile) {\n        var currentRangeUnit = dateProfile.currentRangeUnit;\n        if (currentRangeUnit === 'year') {\n            return { year: 'numeric' };\n        }\n        if (currentRangeUnit === 'month') {\n            return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n        }\n        var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n        if (days !== null && days > 1) {\n            // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n            return { year: 'numeric', month: 'short', day: 'numeric' };\n        }\n        // one day. longer, like \"September 9 2014\"\n        return { year: 'numeric', month: 'long', day: 'numeric' };\n    }\n\n    // in future refactor, do the redux-style function(state=initial) for initial-state\n    // also, whatever is happening in constructor, have it happen in action queue too\n    var CalendarDataManager = /** @class */ (function () {\n        function CalendarDataManager(props) {\n            var _this = this;\n            this.computeOptionsData = memoize(this._computeOptionsData);\n            this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n            this.organizeRawLocales = memoize(organizeRawLocales);\n            this.buildLocale = memoize(buildLocale);\n            this.buildPluginHooks = buildBuildPluginHooks();\n            this.buildDateEnv = memoize(buildDateEnv);\n            this.buildTheme = memoize(buildTheme);\n            this.parseToolbars = memoize(parseToolbars);\n            this.buildViewSpecs = memoize(buildViewSpecs);\n            this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n            this.buildViewApi = memoize(buildViewApi);\n            this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n            this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n            this.buildEventUiBases = memoize(buildEventUiBases);\n            this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n            this.buildTitle = memoize(buildTitle);\n            this.emitter = new Emitter();\n            this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n            this.currentCalendarOptionsInput = {};\n            this.currentCalendarOptionsRefined = {};\n            this.currentViewOptionsInput = {};\n            this.currentViewOptionsRefined = {};\n            this.currentCalendarOptionsRefiners = {};\n            this.getCurrentData = function () { return _this.data; };\n            this.dispatch = function (action) {\n                _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n            };\n            this.props = props;\n            this.actionRunner.pause();\n            var dynamicOptionOverrides = {};\n            var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n            var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n            var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n            // wire things up\n            // TODO: not DRY\n            props.calendarApi.currentDataManager = this;\n            this.emitter.setThisContext(props.calendarApi);\n            this.emitter.setOptions(currentViewData.options);\n            var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n            var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n            if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n                currentDate = dateProfile.currentRange.start;\n            }\n            var calendarContext = {\n                dateEnv: optionsData.dateEnv,\n                options: optionsData.calendarOptions,\n                pluginHooks: optionsData.pluginHooks,\n                calendarApi: props.calendarApi,\n                dispatch: this.dispatch,\n                emitter: this.emitter,\n                getCurrentData: this.getCurrentData,\n            };\n            // needs to be after setThisContext\n            for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n                var callback = _a[_i];\n                callback(calendarContext);\n            }\n            // NOT DRY\n            var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n            var initialState = {\n                dynamicOptionOverrides: dynamicOptionOverrides,\n                currentViewType: currentViewType,\n                currentDate: currentDate,\n                dateProfile: dateProfile,\n                businessHours: this.parseContextBusinessHours(calendarContext),\n                eventSources: eventSources,\n                eventUiBases: {},\n                eventStore: createEmptyEventStore(),\n                renderableEventStore: createEmptyEventStore(),\n                dateSelection: null,\n                eventSelection: '',\n                eventDrag: null,\n                eventResize: null,\n                selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n            };\n            var contextAndState = __assign(__assign({}, calendarContext), initialState);\n            for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n                var reducer = _c[_b];\n                __assign(initialState, reducer(null, null, contextAndState));\n            }\n            if (computeIsLoading(initialState, calendarContext)) {\n                this.emitter.trigger('loading', true); // NOT DRY\n            }\n            this.state = initialState;\n            this.updateData();\n            this.actionRunner.resume();\n        }\n        CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n            var props = this.props;\n            props.optionOverrides = append\n                ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n            this.actionRunner.request({\n                type: 'NOTHING',\n            });\n        };\n        CalendarDataManager.prototype._handleAction = function (action) {\n            var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n            var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n            var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n            var currentViewType = reduceViewType(state.currentViewType, action);\n            var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n            // wire things up\n            // TODO: not DRY\n            props.calendarApi.currentDataManager = this;\n            emitter.setThisContext(props.calendarApi);\n            emitter.setOptions(currentViewData.options);\n            var calendarContext = {\n                dateEnv: optionsData.dateEnv,\n                options: optionsData.calendarOptions,\n                pluginHooks: optionsData.pluginHooks,\n                calendarApi: props.calendarApi,\n                dispatch: this.dispatch,\n                emitter: emitter,\n                getCurrentData: this.getCurrentData,\n            };\n            var currentDate = state.currentDate, dateProfile = state.dateProfile;\n            if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n                dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n            }\n            currentDate = reduceCurrentDate(currentDate, action);\n            dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n            if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n                action.type === 'NEXT' || // \"\n                !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n                currentDate = dateProfile.currentRange.start;\n            }\n            var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n            var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n            var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n            var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n                (state.renderableEventStore || eventStore) : // try from previous state\n                eventStore;\n            var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n            var eventUiBySource = this.buildEventUiBySource(eventSources);\n            var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n            var newState = {\n                dynamicOptionOverrides: dynamicOptionOverrides,\n                currentViewType: currentViewType,\n                currentDate: currentDate,\n                dateProfile: dateProfile,\n                eventSources: eventSources,\n                eventStore: eventStore,\n                renderableEventStore: renderableEventStore,\n                selectionConfig: selectionConfig,\n                eventUiBases: eventUiBases,\n                businessHours: this.parseContextBusinessHours(calendarContext),\n                dateSelection: reduceDateSelection(state.dateSelection, action),\n                eventSelection: reduceSelectedEvent(state.eventSelection, action),\n                eventDrag: reduceEventDrag(state.eventDrag, action),\n                eventResize: reduceEventResize(state.eventResize, action),\n            };\n            var contextAndState = __assign(__assign({}, calendarContext), newState);\n            for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n                var reducer = _c[_i];\n                __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n            }\n            var wasLoading = computeIsLoading(state, calendarContext);\n            var isLoading = computeIsLoading(newState, calendarContext);\n            // TODO: use propSetHandlers in plugin system\n            if (!wasLoading && isLoading) {\n                emitter.trigger('loading', true);\n            }\n            else if (wasLoading && !isLoading) {\n                emitter.trigger('loading', false);\n            }\n            this.state = newState;\n            if (props.onAction) {\n                props.onAction(action);\n            }\n        };\n        CalendarDataManager.prototype.updateData = function () {\n            var _a = this, props = _a.props, state = _a.state;\n            var oldData = this.data;\n            var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n            var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n            var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n            var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n            var oldCalendarOptions = oldData && oldData.calendarOptions;\n            var newCalendarOptions = optionsData.calendarOptions;\n            if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n                if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                    // hack\n                    state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                    state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n                }\n                for (var optionName in changeHandlers) {\n                    if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                        changeHandlers[optionName](newCalendarOptions[optionName], data);\n                    }\n                }\n            }\n            if (props.onData) {\n                props.onData(data);\n            }\n        };\n        CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n            // TODO: blacklist options that are handled by optionChangeHandlers\n            var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n            warnUnknownOptions(extra);\n            var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n            var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n            var theme = this.buildTheme(refinedOptions, pluginHooks);\n            var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n            return {\n                calendarOptions: refinedOptions,\n                pluginHooks: pluginHooks,\n                dateEnv: dateEnv,\n                viewSpecs: viewSpecs,\n                theme: theme,\n                toolbarConfig: toolbarConfig,\n                localeDefaults: localeDefaults,\n                availableRawLocales: availableLocaleData.map,\n            };\n        };\n        // always called from behind a memoizer\n        CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n            var _a = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                optionOverrides,\n                dynamicOptionOverrides,\n            ]), locales = _a.locales, locale = _a.locale;\n            var availableLocaleData = this.organizeRawLocales(locales);\n            var availableRawLocales = availableLocaleData.map;\n            var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n            var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n            var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n            var extra = {};\n            var raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                localeDefaults,\n                optionOverrides,\n                dynamicOptionOverrides,\n            ]);\n            var refined = {};\n            var currentRaw = this.currentCalendarOptionsInput;\n            var currentRefined = this.currentCalendarOptionsRefined;\n            var anyChanges = false;\n            for (var optionName in raw) {\n                if (optionName !== 'plugins') { // because plugins is special-cased\n                    if (raw[optionName] === currentRaw[optionName] ||\n                        (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                            (optionName in currentRaw) &&\n                            COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                        refined[optionName] = currentRefined[optionName];\n                    }\n                    else if (refiners[optionName]) {\n                        refined[optionName] = refiners[optionName](raw[optionName]);\n                        anyChanges = true;\n                    }\n                    else {\n                        extra[optionName] = currentRaw[optionName];\n                    }\n                }\n            }\n            if (anyChanges) {\n                this.currentCalendarOptionsInput = raw;\n                this.currentCalendarOptionsRefined = refined;\n            }\n            return {\n                rawOptions: this.currentCalendarOptionsInput,\n                refinedOptions: this.currentCalendarOptionsRefined,\n                pluginHooks: pluginHooks,\n                availableLocaleData: availableLocaleData,\n                localeDefaults: localeDefaults,\n                extra: extra,\n            };\n        };\n        CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n            var viewSpec = optionsData.viewSpecs[viewType];\n            if (!viewSpec) {\n                throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n            }\n            var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n            warnUnknownOptions(extra);\n            var dateProfileGenerator = this.buildDateProfileGenerator({\n                dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n                duration: viewSpec.duration,\n                durationUnit: viewSpec.durationUnit,\n                usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n                dateEnv: optionsData.dateEnv,\n                calendarApi: this.props.calendarApi,\n                slotMinTime: refinedOptions.slotMinTime,\n                slotMaxTime: refinedOptions.slotMaxTime,\n                showNonCurrentDates: refinedOptions.showNonCurrentDates,\n                dayCount: refinedOptions.dayCount,\n                dateAlignment: refinedOptions.dateAlignment,\n                dateIncrement: refinedOptions.dateIncrement,\n                hiddenDays: refinedOptions.hiddenDays,\n                weekends: refinedOptions.weekends,\n                nowInput: refinedOptions.now,\n                validRangeInput: refinedOptions.validRange,\n                visibleRangeInput: refinedOptions.visibleRange,\n                monthMode: refinedOptions.monthMode,\n                fixedWeekCount: refinedOptions.fixedWeekCount,\n            });\n            var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n            return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n        };\n        CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n            var raw = mergeRawOptions([\n                BASE_OPTION_DEFAULTS,\n                viewSpec.optionDefaults,\n                localeDefaults,\n                optionOverrides,\n                viewSpec.optionOverrides,\n                dynamicOptionOverrides,\n            ]);\n            var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n            var refined = {};\n            var currentRaw = this.currentViewOptionsInput;\n            var currentRefined = this.currentViewOptionsRefined;\n            var anyChanges = false;\n            var extra = {};\n            for (var optionName in raw) {\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], currentRaw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else {\n                    if (raw[optionName] === this.currentCalendarOptionsInput[optionName] ||\n                        (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                            COMPLEX_OPTION_COMPARATORS[optionName](raw[optionName], this.currentCalendarOptionsInput[optionName]))) {\n                        if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                            refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                        }\n                    }\n                    else if (refiners[optionName]) {\n                        refined[optionName] = refiners[optionName](raw[optionName]);\n                    }\n                    else {\n                        extra[optionName] = raw[optionName];\n                    }\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.currentViewOptionsInput = raw;\n                this.currentViewOptionsRefined = refined;\n            }\n            return {\n                rawOptions: this.currentViewOptionsInput,\n                refinedOptions: this.currentViewOptionsRefined,\n                extra: extra,\n            };\n        };\n        return CalendarDataManager;\n    }());\n    function buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n        var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n        return new DateEnv({\n            calendarSystem: 'gregory',\n            timeZone: timeZone,\n            namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n            locale: locale,\n            weekNumberCalculation: weekNumberCalculation,\n            firstDay: firstDay,\n            weekText: weekText,\n            cmdFormatter: pluginHooks.cmdFormatter,\n            defaultSeparator: defaultSeparator,\n        });\n    }\n    function buildTheme(options, pluginHooks) {\n        var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n        return new ThemeClass(options);\n    }\n    function buildDateProfileGenerator(props) {\n        var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n        return new DateProfileGeneratorClass(props);\n    }\n    function buildViewApi(type, getCurrentData, dateEnv) {\n        return new ViewApi(type, getCurrentData, dateEnv);\n    }\n    function buildEventUiBySource(eventSources) {\n        return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n    }\n    function buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n        var eventUiBases = { '': eventUiSingleBase };\n        for (var defId in eventDefs) {\n            var def = eventDefs[defId];\n            if (def.sourceId && eventUiBySource[def.sourceId]) {\n                eventUiBases[defId] = eventUiBySource[def.sourceId];\n            }\n        }\n        return eventUiBases;\n    }\n    function buildViewUiProps(calendarContext) {\n        var options = calendarContext.options;\n        return {\n            eventUiSingleBase: createEventUi({\n                display: options.eventDisplay,\n                editable: options.editable,\n                startEditable: options.eventStartEditable,\n                durationEditable: options.eventDurationEditable,\n                constraint: options.eventConstraint,\n                overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n                allow: options.eventAllow,\n                backgroundColor: options.eventBackgroundColor,\n                borderColor: options.eventBorderColor,\n                textColor: options.eventTextColor,\n                color: options.eventColor,\n                // classNames: options.eventClassNames // render hook will handle this\n            }, calendarContext),\n            selectionConfig: createEventUi({\n                constraint: options.selectConstraint,\n                overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n                allow: options.selectAllow,\n            }, calendarContext),\n        };\n    }\n    function computeIsLoading(state, context) {\n        for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n            var isLoadingFunc = _a[_i];\n            if (isLoadingFunc(state)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    function parseContextBusinessHours(calendarContext) {\n        return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n    }\n    function warnUnknownOptions(options, viewName) {\n        for (var optionName in options) {\n            console.warn(\"Unknown option '\" + optionName + \"'\" +\n                (viewName ? \" for view '\" + viewName + \"'\" : ''));\n        }\n    }\n\n    // TODO: move this to react plugin?\n    var CalendarDataProvider = /** @class */ (function (_super) {\n        __extends(CalendarDataProvider, _super);\n        function CalendarDataProvider(props) {\n            var _this = _super.call(this, props) || this;\n            _this.handleData = function (data) {\n                if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                    // eslint-disable-next-line react/no-direct-mutation-state\n                    _this.state = data; // can't use setState yet\n                }\n                else {\n                    _this.setState(data);\n                }\n            };\n            _this.dataManager = new CalendarDataManager({\n                optionOverrides: props.optionOverrides,\n                calendarApi: props.calendarApi,\n                onData: _this.handleData,\n            });\n            return _this;\n        }\n        CalendarDataProvider.prototype.render = function () {\n            return this.props.children(this.state);\n        };\n        CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n            var newOptionOverrides = this.props.optionOverrides;\n            if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n                this.dataManager.resetOptions(newOptionOverrides);\n            }\n        };\n        return CalendarDataProvider;\n    }(Component));\n\n    // HELPERS\n    /*\n    if nextDayThreshold is specified, slicing is done in an all-day fashion.\n    you can get nextDayThreshold from context.nextDayThreshold\n    */\n    function sliceEvents(props, allDay) {\n        return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n    }\n\n    var NamedTimeZoneImpl = /** @class */ (function () {\n        function NamedTimeZoneImpl(timeZoneName) {\n            this.timeZoneName = timeZoneName;\n        }\n        return NamedTimeZoneImpl;\n    }());\n\n    var SegHierarchy = /** @class */ (function () {\n        function SegHierarchy() {\n            // settings\n            this.strictOrder = false;\n            this.allowReslicing = false;\n            this.maxCoord = -1; // -1 means no max\n            this.maxStackCnt = -1; // -1 means no max\n            this.levelCoords = []; // ordered\n            this.entriesByLevel = []; // parallel with levelCoords\n            this.stackCnts = {}; // TODO: use better technique!?\n        }\n        SegHierarchy.prototype.addSegs = function (inputs) {\n            var hiddenEntries = [];\n            for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n                var input = inputs_1[_i];\n                this.insertEntry(input, hiddenEntries);\n            }\n            return hiddenEntries;\n        };\n        SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n            var insertion = this.findInsertion(entry);\n            if (this.isInsertionValid(insertion, entry)) {\n                this.insertEntryAt(entry, insertion);\n                return 1;\n            }\n            return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n        };\n        SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n            return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n                (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n        };\n        // returns number of new entries inserted\n        SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n            if (this.allowReslicing && insertion.touchingEntry) {\n                return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n            }\n            hiddenEntries.push(entry);\n            return 0;\n        };\n        SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n            var partCnt = 0;\n            var splitHiddenEntries = [];\n            var entrySpan = entry.span;\n            var barrierSpan = barrier.span;\n            if (entrySpan.start < barrierSpan.start) {\n                partCnt += this.insertEntry({\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: { start: entrySpan.start, end: barrierSpan.start },\n                }, splitHiddenEntries);\n            }\n            if (entrySpan.end > barrierSpan.end) {\n                partCnt += this.insertEntry({\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: { start: barrierSpan.end, end: entrySpan.end },\n                }, splitHiddenEntries);\n            }\n            if (partCnt) {\n                hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                        index: entry.index,\n                        thickness: entry.thickness,\n                        span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                    }], splitHiddenEntries));\n                return partCnt;\n            }\n            hiddenEntries.push(entry);\n            return 0;\n        };\n        SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n            var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n            if (insertion.lateral === -1) {\n                // create a new level\n                insertAt(levelCoords, insertion.level, insertion.levelCoord);\n                insertAt(entriesByLevel, insertion.level, [entry]);\n            }\n            else {\n                // insert into existing level\n                insertAt(entriesByLevel[insertion.level], insertion.lateral, entry);\n            }\n            this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n        };\n        SegHierarchy.prototype.findInsertion = function (newEntry) {\n            var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, strictOrder = _a.strictOrder, stackCnts = _a.stackCnts;\n            var levelCnt = levelCoords.length;\n            var candidateCoord = 0;\n            var touchingLevel = -1;\n            var touchingLateral = -1;\n            var touchingEntry = null;\n            var stackCnt = 0;\n            for (var trackingLevel = 0; trackingLevel < levelCnt; trackingLevel += 1) {\n                var trackingCoord = levelCoords[trackingLevel];\n                // if the current level is past the placed entry, we have found a good empty space and can stop.\n                // if strictOrder, keep finding more lateral intersections.\n                if (!strictOrder && trackingCoord >= candidateCoord + newEntry.thickness) {\n                    break;\n                }\n                var trackingEntries = entriesByLevel[trackingLevel];\n                var trackingEntry = void 0;\n                var searchRes = binarySearch(trackingEntries, newEntry.span.start, getEntrySpanEnd); // find first entry after newEntry's end\n                var lateralIndex = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n                while ( // loop through entries that horizontally intersect\n                (trackingEntry = trackingEntries[lateralIndex]) && // but not past the whole entry list\n                    trackingEntry.span.start < newEntry.span.end // and not entirely past newEntry\n                ) {\n                    var trackingEntryBottom = trackingCoord + trackingEntry.thickness;\n                    // intersects into the top of the candidate?\n                    if (trackingEntryBottom > candidateCoord) {\n                        candidateCoord = trackingEntryBottom;\n                        touchingEntry = trackingEntry;\n                        touchingLevel = trackingLevel;\n                        touchingLateral = lateralIndex;\n                    }\n                    // butts up against top of candidate? (will happen if just intersected as well)\n                    if (trackingEntryBottom === candidateCoord) {\n                        // accumulate the highest possible stackCnt of the trackingEntries that butt up\n                        stackCnt = Math.max(stackCnt, stackCnts[buildEntryKey(trackingEntry)] + 1);\n                    }\n                    lateralIndex += 1;\n                }\n            }\n            // the destination level will be after touchingEntry's level. find it\n            var destLevel = 0;\n            if (touchingEntry) {\n                destLevel = touchingLevel + 1;\n                while (destLevel < levelCnt && levelCoords[destLevel] < candidateCoord) {\n                    destLevel += 1;\n                }\n            }\n            // if adding to an existing level, find where to insert\n            var destLateral = -1;\n            if (destLevel < levelCnt && levelCoords[destLevel] === candidateCoord) {\n                destLateral = binarySearch(entriesByLevel[destLevel], newEntry.span.end, getEntrySpanEnd)[0];\n            }\n            return {\n                touchingLevel: touchingLevel,\n                touchingLateral: touchingLateral,\n                touchingEntry: touchingEntry,\n                stackCnt: stackCnt,\n                levelCoord: candidateCoord,\n                level: destLevel,\n                lateral: destLateral,\n            };\n        };\n        // sorted by levelCoord (lowest to highest)\n        SegHierarchy.prototype.toRects = function () {\n            var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n            var levelCnt = entriesByLevel.length;\n            var rects = [];\n            for (var level = 0; level < levelCnt; level += 1) {\n                var entries = entriesByLevel[level];\n                var levelCoord = levelCoords[level];\n                for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                    var entry = entries_1[_i];\n                    rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n                }\n            }\n            return rects;\n        };\n        return SegHierarchy;\n    }());\n    function getEntrySpanEnd(entry) {\n        return entry.span.end;\n    }\n    function buildEntryKey(entry) {\n        return entry.index + ':' + entry.span.start;\n    }\n    // returns groups with entries sorted by input order\n    function groupIntersectingEntries(entries) {\n        var merges = [];\n        for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n            var entry = entries_2[_i];\n            var filteredMerges = [];\n            var hungryMerge = {\n                span: entry.span,\n                entries: [entry],\n            };\n            for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n                var merge = merges_1[_a];\n                if (intersectSpans(merge.span, hungryMerge.span)) {\n                    hungryMerge = {\n                        entries: merge.entries.concat(hungryMerge.entries),\n                        span: joinSpans(merge.span, hungryMerge.span),\n                    };\n                }\n                else {\n                    filteredMerges.push(merge);\n                }\n            }\n            filteredMerges.push(hungryMerge);\n            merges = filteredMerges;\n        }\n        return merges;\n    }\n    function joinSpans(span0, span1) {\n        return {\n            start: Math.min(span0.start, span1.start),\n            end: Math.max(span0.end, span1.end),\n        };\n    }\n    function intersectSpans(span0, span1) {\n        var start = Math.max(span0.start, span1.start);\n        var end = Math.min(span0.end, span1.end);\n        if (start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    }\n    // general util\n    // ---------------------------------------------------------------------------------------------------------------------\n    function insertAt(arr, index, item) {\n        arr.splice(index, 0, item);\n    }\n    function binarySearch(a, searchVal, getItemVal) {\n        var startIndex = 0;\n        var endIndex = a.length; // exclusive\n        if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n            return [0, 0];\n        }\n        if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n            return [endIndex, 0];\n        }\n        while (startIndex < endIndex) {\n            var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n            var middleVal = getItemVal(a[middleIndex]);\n            if (searchVal < middleVal) {\n                endIndex = middleIndex;\n            }\n            else if (searchVal > middleVal) {\n                startIndex = middleIndex + 1;\n            }\n            else { // equal!\n                return [middleIndex, 1];\n            }\n        }\n        return [startIndex, 0];\n    }\n\n    var Interaction = /** @class */ (function () {\n        function Interaction(settings) {\n            this.component = settings.component;\n            this.isHitComboAllowed = settings.isHitComboAllowed || null;\n        }\n        Interaction.prototype.destroy = function () {\n        };\n        return Interaction;\n    }());\n    function parseInteractionSettings(component, input) {\n        return {\n            component: component,\n            el: input.el,\n            useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n            isHitComboAllowed: input.isHitComboAllowed || null,\n        };\n    }\n    function interactionSettingsToStore(settings) {\n        var _a;\n        return _a = {},\n            _a[settings.component.uid] = settings,\n            _a;\n    }\n    // global state\n    var interactionSettingsStore = {};\n\n    /*\n    An abstraction for a dragging interaction originating on an event.\n    Does higher-level things than PointerDragger, such as possibly:\n    - a \"mirror\" that moves with the pointer\n    - a minimum number of pixels or other criteria for a true drag to begin\n\n    subclasses must emit:\n    - pointerdown\n    - dragstart\n    - dragmove\n    - pointerup\n    - dragend\n    */\n    var ElementDragging = /** @class */ (function () {\n        function ElementDragging(el, selector) {\n            this.emitter = new Emitter();\n        }\n        ElementDragging.prototype.destroy = function () {\n        };\n        ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n            // optional if subclass doesn't want to support a mirror\n        };\n        ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n            // optional if subclass doesn't want to support a mirror\n        };\n        ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n            // optional\n        };\n        return ElementDragging;\n    }());\n\n    // TODO: get rid of this in favor of options system,\n    // tho it's really easy to access this globally rather than pass thru options.\n    var config = {};\n\n    /*\n    Information about what will happen when an external element is dragged-and-dropped\n    onto a calendar. Contains information for creating an event.\n    */\n    var DRAG_META_REFINERS = {\n        startTime: createDuration,\n        duration: createDuration,\n        create: Boolean,\n        sourceId: String,\n    };\n    function parseDragMeta(raw) {\n        var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n        return {\n            startTime: refined.startTime || null,\n            duration: refined.duration || null,\n            create: refined.create != null ? refined.create : true,\n            sourceId: refined.sourceId,\n            leftoverProps: extra,\n        };\n    }\n\n    var ToolbarSection = /** @class */ (function (_super) {\n        __extends(ToolbarSection, _super);\n        function ToolbarSection() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ToolbarSection.prototype.render = function () {\n            var _this = this;\n            var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n            return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n        };\n        ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n            var props = this.props;\n            var theme = this.context.theme;\n            var children = [];\n            var isOnlyButtons = true;\n            for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n                var widget = widgetGroup_1[_i];\n                var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon, buttonHint = widget.buttonHint;\n                if (buttonName === 'title') {\n                    isOnlyButtons = false;\n                    children.push(createElement(\"h2\", { className: \"fc-toolbar-title\", id: props.titleId }, props.title));\n                }\n                else {\n                    var isPressed = buttonName === props.activeButton;\n                    var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                        (!props.isPrevEnabled && buttonName === 'prev') ||\n                        (!props.isNextEnabled && buttonName === 'next');\n                    var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                    if (isPressed) {\n                        buttonClasses.push(theme.getClass('buttonActive'));\n                    }\n                    children.push(createElement(\"button\", { type: \"button\", title: typeof buttonHint === 'function' ? buttonHint(props.navUnit) : buttonHint, disabled: isDisabled, \"aria-pressed\": isPressed, className: buttonClasses.join(' '), onClick: buttonClick }, buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n                }\n            }\n            if (children.length > 1) {\n                var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n                return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n            }\n            return children[0];\n        };\n        return ToolbarSection;\n    }(BaseComponent));\n\n    var Toolbar = /** @class */ (function (_super) {\n        __extends(Toolbar, _super);\n        function Toolbar() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        Toolbar.prototype.render = function () {\n            var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n            var forceLtr = false;\n            var startContent;\n            var endContent;\n            var sectionWidgets = model.sectionWidgets;\n            var centerContent = sectionWidgets.center;\n            if (sectionWidgets.left) {\n                forceLtr = true;\n                startContent = sectionWidgets.left;\n            }\n            else {\n                startContent = sectionWidgets.start;\n            }\n            if (sectionWidgets.right) {\n                forceLtr = true;\n                endContent = sectionWidgets.right;\n            }\n            else {\n                endContent = sectionWidgets.end;\n            }\n            var classNames = [\n                extraClassName || '',\n                'fc-toolbar',\n                forceLtr ? 'fc-toolbar-ltr' : '',\n            ];\n            return (createElement(\"div\", { className: classNames.join(' ') },\n                this.renderSection('start', startContent || []),\n                this.renderSection('center', centerContent || []),\n                this.renderSection('end', endContent || [])));\n        };\n        Toolbar.prototype.renderSection = function (key, widgetGroups) {\n            var props = this.props;\n            return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, navUnit: props.navUnit, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled, titleId: props.titleId }));\n        };\n        return Toolbar;\n    }(BaseComponent));\n\n    // TODO: do function component?\n    var ViewContainer = /** @class */ (function (_super) {\n        __extends(ViewContainer, _super);\n        function ViewContainer() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                availableWidth: null,\n            };\n            _this.handleEl = function (el) {\n                _this.el = el;\n                setRef(_this.props.elRef, el);\n                _this.updateAvailableWidth();\n            };\n            _this.handleResize = function () {\n                _this.updateAvailableWidth();\n            };\n            return _this;\n        }\n        ViewContainer.prototype.render = function () {\n            var _a = this, props = _a.props, state = _a.state;\n            var aspectRatio = props.aspectRatio;\n            var classNames = [\n                'fc-view-harness',\n                (aspectRatio || props.liquid || props.height)\n                    ? 'fc-view-harness-active' // harness controls the height\n                    : 'fc-view-harness-passive', // let the view do the height\n            ];\n            var height = '';\n            var paddingBottom = '';\n            if (aspectRatio) {\n                if (state.availableWidth !== null) {\n                    height = state.availableWidth / aspectRatio;\n                }\n                else {\n                    // while waiting to know availableWidth, we can't set height to *zero*\n                    // because will cause lots of unnecessary scrollbars within scrollgrid.\n                    // BETTER: don't start rendering ANYTHING yet until we know container width\n                    // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                    paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n                }\n            }\n            else {\n                height = props.height || '';\n            }\n            return (createElement(\"div\", { \"aria-labelledby\": props.labeledById, ref: this.handleEl, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n        };\n        ViewContainer.prototype.componentDidMount = function () {\n            this.context.addResizeHandler(this.handleResize);\n        };\n        ViewContainer.prototype.componentWillUnmount = function () {\n            this.context.removeResizeHandler(this.handleResize);\n        };\n        ViewContainer.prototype.updateAvailableWidth = function () {\n            if (this.el && // needed. but why?\n                this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n            ) {\n                this.setState({ availableWidth: this.el.offsetWidth });\n            }\n        };\n        return ViewContainer;\n    }(BaseComponent));\n\n    /*\n    Detects when the user clicks on an event within a DateComponent\n    */\n    var EventClicking = /** @class */ (function (_super) {\n        __extends(EventClicking, _super);\n        function EventClicking(settings) {\n            var _this = _super.call(this, settings) || this;\n            _this.handleSegClick = function (ev, segEl) {\n                var component = _this.component;\n                var context = component.context;\n                var seg = getElSeg(segEl);\n                if (seg && // might be the <div> surrounding the more link\n                    component.isValidSegDownEl(ev.target)) {\n                    // our way to simulate a link click for elements that can't be <a> tags\n                    // grab before trigger fired in case trigger trashes DOM thru rerendering\n                    var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                    var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                    context.emitter.trigger('eventClick', {\n                        el: segEl,\n                        event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                        jsEvent: ev,\n                        view: context.viewApi,\n                    });\n                    if (url && !ev.defaultPrevented) {\n                        window.location.href = url;\n                    }\n                }\n            };\n            _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n            _this.handleSegClick);\n            return _this;\n        }\n        return EventClicking;\n    }(Interaction));\n\n    /*\n    Triggers events and adds/removes core classNames when the user's pointer\n    enters/leaves event-elements of a component.\n    */\n    var EventHovering = /** @class */ (function (_super) {\n        __extends(EventHovering, _super);\n        function EventHovering(settings) {\n            var _this = _super.call(this, settings) || this;\n            // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n            _this.handleEventElRemove = function (el) {\n                if (el === _this.currentSegEl) {\n                    _this.handleSegLeave(null, _this.currentSegEl);\n                }\n            };\n            _this.handleSegEnter = function (ev, segEl) {\n                if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                    _this.currentSegEl = segEl;\n                    _this.triggerEvent('eventMouseEnter', ev, segEl);\n                }\n            };\n            _this.handleSegLeave = function (ev, segEl) {\n                if (_this.currentSegEl) {\n                    _this.currentSegEl = null;\n                    _this.triggerEvent('eventMouseLeave', ev, segEl);\n                }\n            };\n            _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n            _this.handleSegEnter, _this.handleSegLeave);\n            return _this;\n        }\n        EventHovering.prototype.destroy = function () {\n            this.removeHoverListeners();\n        };\n        EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n            var component = this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (!ev || component.isValidSegDownEl(ev.target)) {\n                context.emitter.trigger(publicEvName, {\n                    el: segEl,\n                    event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n        };\n        return EventHovering;\n    }(Interaction));\n\n    var CalendarContent = /** @class */ (function (_super) {\n        __extends(CalendarContent, _super);\n        function CalendarContent() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.buildViewContext = memoize(buildViewContext);\n            _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n            _this.buildToolbarProps = memoize(buildToolbarProps);\n            _this.headerRef = createRef();\n            _this.footerRef = createRef();\n            _this.interactionsStore = {};\n            // eslint-disable-next-line\n            _this.state = {\n                viewLabelId: getUniqueDomId(),\n            };\n            // Component Registration\n            // -----------------------------------------------------------------------------------------------------------------\n            _this.registerInteractiveComponent = function (component, settingsInput) {\n                var settings = parseInteractionSettings(component, settingsInput);\n                var DEFAULT_INTERACTIONS = [\n                    EventClicking,\n                    EventHovering,\n                ];\n                var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n                var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n                _this.interactionsStore[component.uid] = interactions;\n                interactionSettingsStore[component.uid] = settings;\n            };\n            _this.unregisterInteractiveComponent = function (component) {\n                var listeners = _this.interactionsStore[component.uid];\n                if (listeners) {\n                    for (var _i = 0, listeners_1 = listeners; _i < listeners_1.length; _i++) {\n                        var listener = listeners_1[_i];\n                        listener.destroy();\n                    }\n                    delete _this.interactionsStore[component.uid];\n                }\n                delete interactionSettingsStore[component.uid];\n            };\n            // Resizing\n            // -----------------------------------------------------------------------------------------------------------------\n            _this.resizeRunner = new DelayedRunner(function () {\n                _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n                _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n            });\n            _this.handleWindowResize = function (ev) {\n                var options = _this.props.options;\n                if (options.handleWindowResize &&\n                    ev.target === window // avoid jqui events\n                ) {\n                    _this.resizeRunner.request(options.windowResizeDelay);\n                }\n            };\n            return _this;\n        }\n        /*\n        renders INSIDE of an outer div\n        */\n        CalendarContent.prototype.render = function () {\n            var props = this.props;\n            var toolbarConfig = props.toolbarConfig, options = props.options;\n            var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n            props.viewTitle);\n            var viewVGrow = false;\n            var viewHeight = '';\n            var viewAspectRatio;\n            if (props.isHeightAuto || props.forPrint) {\n                viewHeight = '';\n            }\n            else if (options.height != null) {\n                viewVGrow = true;\n            }\n            else if (options.contentHeight != null) {\n                viewHeight = options.contentHeight;\n            }\n            else {\n                viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n            }\n            var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n            var viewLabelId = (toolbarConfig.header && toolbarConfig.header.hasTitle)\n                ? this.state.viewLabelId\n                : '';\n            return (createElement(ViewContextType.Provider, { value: viewContext },\n                toolbarConfig.header && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.header, titleId: viewLabelId }, toolbarProps))),\n                createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, labeledById: viewLabelId },\n                    this.renderView(props),\n                    this.buildAppendContent()),\n                toolbarConfig.footer && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footer, titleId: \"\" }, toolbarProps)))));\n        };\n        CalendarContent.prototype.componentDidMount = function () {\n            var props = this.props;\n            this.calendarInteractions = props.pluginHooks.calendarInteractions\n                .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n            window.addEventListener('resize', this.handleWindowResize);\n            var propSetHandlers = props.pluginHooks.propSetHandlers;\n            for (var propName in propSetHandlers) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        };\n        CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n            var props = this.props;\n            var propSetHandlers = props.pluginHooks.propSetHandlers;\n            for (var propName in propSetHandlers) {\n                if (props[propName] !== prevProps[propName]) {\n                    propSetHandlers[propName](props[propName], props);\n                }\n            }\n        };\n        CalendarContent.prototype.componentWillUnmount = function () {\n            window.removeEventListener('resize', this.handleWindowResize);\n            this.resizeRunner.clear();\n            for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n                var interaction = _a[_i];\n                interaction.destroy();\n            }\n            this.props.emitter.trigger('_unmount');\n        };\n        CalendarContent.prototype.buildAppendContent = function () {\n            var props = this.props;\n            var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n            return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n        };\n        CalendarContent.prototype.renderView = function (props) {\n            var pluginHooks = props.pluginHooks;\n            var viewSpec = props.viewSpec;\n            var viewProps = {\n                dateProfile: props.dateProfile,\n                businessHours: props.businessHours,\n                eventStore: props.renderableEventStore,\n                eventUiBases: props.eventUiBases,\n                dateSelection: props.dateSelection,\n                eventSelection: props.eventSelection,\n                eventDrag: props.eventDrag,\n                eventResize: props.eventResize,\n                isHeightAuto: props.isHeightAuto,\n                forPrint: props.forPrint,\n            };\n            var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n            for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n                var transformer = transformers_1[_i];\n                __assign(viewProps, transformer.transform(viewProps, props));\n            }\n            var ViewComponent = viewSpec.component;\n            return (createElement(ViewComponent, __assign({}, viewProps)));\n        };\n        return CalendarContent;\n    }(PureComponent));\n    function buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n        // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n        var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n        var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n        var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n        return {\n            title: title,\n            activeButton: viewSpec.type,\n            navUnit: viewSpec.singleUnit,\n            isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n            isPrevEnabled: prevInfo.isValid,\n            isNextEnabled: nextInfo.isValid,\n        };\n    }\n    // Plugin\n    // -----------------------------------------------------------------------------------------------------------------\n    function buildViewPropTransformers(theClasses) {\n        return theClasses.map(function (TheClass) { return new TheClass(); });\n    }\n\n    var CalendarRoot = /** @class */ (function (_super) {\n        __extends(CalendarRoot, _super);\n        function CalendarRoot() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                forPrint: false,\n            };\n            _this.handleBeforePrint = function () {\n                _this.setState({ forPrint: true });\n            };\n            _this.handleAfterPrint = function () {\n                _this.setState({ forPrint: false });\n            };\n            return _this;\n        }\n        CalendarRoot.prototype.render = function () {\n            var props = this.props;\n            var options = props.options;\n            var forPrint = this.state.forPrint;\n            var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n            var height = (!isHeightAuto && options.height != null) ? options.height : '';\n            var classNames = [\n                'fc',\n                forPrint ? 'fc-media-print' : 'fc-media-screen',\n                \"fc-direction-\" + options.direction,\n                props.theme.getClass('root'),\n            ];\n            if (!getCanVGrowWithinCell()) {\n                classNames.push('fc-liquid-hack');\n            }\n            return props.children(classNames, height, isHeightAuto, forPrint);\n        };\n        CalendarRoot.prototype.componentDidMount = function () {\n            var emitter = this.props.emitter;\n            emitter.on('_beforeprint', this.handleBeforePrint);\n            emitter.on('_afterprint', this.handleAfterPrint);\n        };\n        CalendarRoot.prototype.componentWillUnmount = function () {\n            var emitter = this.props.emitter;\n            emitter.off('_beforeprint', this.handleBeforePrint);\n            emitter.off('_afterprint', this.handleAfterPrint);\n        };\n        return CalendarRoot;\n    }(BaseComponent));\n\n    // Computes a default column header formatting string if `colFormat` is not explicitly defined\n    function computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n        // if more than one week row, or if there are a lot of columns with not much space,\n        // put just the day numbers will be in each cell\n        if (!datesRepDistinctDays || dayCnt > 10) {\n            return createFormatter({ weekday: 'short' }); // \"Sat\"\n        }\n        if (dayCnt > 1) {\n            return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n        }\n        return createFormatter({ weekday: 'long' }); // \"Saturday\"\n    }\n\n    var CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\n    function renderInner$1(hookProps) {\n        return hookProps.text;\n    }\n\n    var TableDateCell = /** @class */ (function (_super) {\n        __extends(TableDateCell, _super);\n        function TableDateCell() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TableDateCell.prototype.render = function () {\n            var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n            var props = this.props;\n            var date = props.date, dateProfile = props.dateProfile;\n            var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n            var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n            var text = dateEnv.format(date, props.dayHeaderFormat);\n            // if colCnt is 1, we are already in a day-view and don't need a navlink\n            var navLinkAttrs = (!dayMeta.isDisabled && props.colCnt > 1)\n                ? buildNavLinkAttrs(this.context, date)\n                : {};\n            var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n                createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' ') }, navLinkAttrs), innerContent))))); }));\n        };\n        return TableDateCell;\n    }(BaseComponent));\n\n    var WEEKDAY_FORMAT = createFormatter({ weekday: 'long' });\n    var TableDowCell = /** @class */ (function (_super) {\n        __extends(TableDowCell, _super);\n        function TableDowCell() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TableDowCell.prototype.render = function () {\n            var props = this.props;\n            var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n            var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n            var dateMeta = {\n                dow: props.dow,\n                isDisabled: false,\n                isFuture: false,\n                isPast: false,\n                isToday: false,\n                isOther: false,\n            };\n            var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n            var text = dateEnv.format(date, props.dayHeaderFormat);\n            var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n                date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, role: \"columnheader\", className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n                createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                    createElement(\"a\", { \"aria-label\": dateEnv.format(date, WEEKDAY_FORMAT), className: [\n                            'fc-col-header-cell-cushion',\n                            props.isSticky ? 'fc-sticky' : '',\n                        ].join(' '), ref: innerElRef }, innerContent)))); }));\n        };\n        return TableDowCell;\n    }(BaseComponent));\n\n    var NowTimer = /** @class */ (function (_super) {\n        __extends(NowTimer, _super);\n        function NowTimer(props, context) {\n            var _this = _super.call(this, props, context) || this;\n            _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n            _this.initialNowQueriedMs = new Date().valueOf();\n            _this.state = _this.computeTiming().currentState;\n            return _this;\n        }\n        NowTimer.prototype.render = function () {\n            var _a = this, props = _a.props, state = _a.state;\n            return props.children(state.nowDate, state.todayRange);\n        };\n        NowTimer.prototype.componentDidMount = function () {\n            this.setTimeout();\n        };\n        NowTimer.prototype.componentDidUpdate = function (prevProps) {\n            if (prevProps.unit !== this.props.unit) {\n                this.clearTimeout();\n                this.setTimeout();\n            }\n        };\n        NowTimer.prototype.componentWillUnmount = function () {\n            this.clearTimeout();\n        };\n        NowTimer.prototype.computeTiming = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n            var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n            var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n            var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n            // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n            // ensure no longer than a day\n            waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n            return {\n                currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n                nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n                waitMs: waitMs,\n            };\n        };\n        NowTimer.prototype.setTimeout = function () {\n            var _this = this;\n            var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n            this.timeoutId = setTimeout(function () {\n                _this.setState(nextState, function () {\n                    _this.setTimeout();\n                });\n            }, waitMs);\n        };\n        NowTimer.prototype.clearTimeout = function () {\n            if (this.timeoutId) {\n                clearTimeout(this.timeoutId);\n            }\n        };\n        NowTimer.contextType = ViewContextType;\n        return NowTimer;\n    }(Component));\n    function buildDayRange(date) {\n        var start = startOfDay(date);\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    }\n\n    var DayHeader = /** @class */ (function (_super) {\n        __extends(DayHeader, _super);\n        function DayHeader() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n            return _this;\n        }\n        DayHeader.prototype.render = function () {\n            var context = this.context;\n            var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n            var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n            return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", { role: \"row\" },\n                renderIntro && renderIntro('day'),\n                dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n        };\n        return DayHeader;\n    }(BaseComponent));\n    function createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n        return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n    }\n\n    var DaySeriesModel = /** @class */ (function () {\n        function DaySeriesModel(range, dateProfileGenerator) {\n            var date = range.start;\n            var end = range.end;\n            var indices = [];\n            var dates = [];\n            var dayIndex = -1;\n            while (date < end) { // loop each day from start to end\n                if (dateProfileGenerator.isHiddenDay(date)) {\n                    indices.push(dayIndex + 0.5); // mark that it's between indices\n                }\n                else {\n                    dayIndex += 1;\n                    indices.push(dayIndex);\n                    dates.push(date);\n                }\n                date = addDays(date, 1);\n            }\n            this.dates = dates;\n            this.indices = indices;\n            this.cnt = dates.length;\n        }\n        DaySeriesModel.prototype.sliceRange = function (range) {\n            var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n            var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n            var clippedFirstIndex = Math.max(0, firstIndex);\n            var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n            // deal with in-between indices\n            clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n            clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n            if (clippedFirstIndex <= clippedLastIndex) {\n                return {\n                    firstIndex: clippedFirstIndex,\n                    lastIndex: clippedLastIndex,\n                    isStart: firstIndex === clippedFirstIndex,\n                    isEnd: lastIndex === clippedLastIndex,\n                };\n            }\n            return null;\n        };\n        // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n        // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n        // If before the first offset, returns a negative number.\n        // If after the last offset, returns an offset past the last cell offset.\n        // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n        DaySeriesModel.prototype.getDateDayIndex = function (date) {\n            var indices = this.indices;\n            var dayOffset = Math.floor(diffDays(this.dates[0], date));\n            if (dayOffset < 0) {\n                return indices[0] - 1;\n            }\n            if (dayOffset >= indices.length) {\n                return indices[indices.length - 1] + 1;\n            }\n            return indices[dayOffset];\n        };\n        return DaySeriesModel;\n    }());\n\n    var DayTableModel = /** @class */ (function () {\n        function DayTableModel(daySeries, breakOnWeeks) {\n            var dates = daySeries.dates;\n            var daysPerRow;\n            var firstDay;\n            var rowCnt;\n            if (breakOnWeeks) {\n                // count columns until the day-of-week repeats\n                firstDay = dates[0].getUTCDay();\n                for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                    if (dates[daysPerRow].getUTCDay() === firstDay) {\n                        break;\n                    }\n                }\n                rowCnt = Math.ceil(dates.length / daysPerRow);\n            }\n            else {\n                rowCnt = 1;\n                daysPerRow = dates.length;\n            }\n            this.rowCnt = rowCnt;\n            this.colCnt = daysPerRow;\n            this.daySeries = daySeries;\n            this.cells = this.buildCells();\n            this.headerDates = this.buildHeaderDates();\n        }\n        DayTableModel.prototype.buildCells = function () {\n            var rows = [];\n            for (var row = 0; row < this.rowCnt; row += 1) {\n                var cells = [];\n                for (var col = 0; col < this.colCnt; col += 1) {\n                    cells.push(this.buildCell(row, col));\n                }\n                rows.push(cells);\n            }\n            return rows;\n        };\n        DayTableModel.prototype.buildCell = function (row, col) {\n            var date = this.daySeries.dates[row * this.colCnt + col];\n            return {\n                key: date.toISOString(),\n                date: date,\n            };\n        };\n        DayTableModel.prototype.buildHeaderDates = function () {\n            var dates = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                dates.push(this.cells[0][col].date);\n            }\n            return dates;\n        };\n        DayTableModel.prototype.sliceRange = function (range) {\n            var colCnt = this.colCnt;\n            var seriesSeg = this.daySeries.sliceRange(range);\n            var segs = [];\n            if (seriesSeg) {\n                var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n                var index = firstIndex;\n                while (index <= lastIndex) {\n                    var row = Math.floor(index / colCnt);\n                    var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                    segs.push({\n                        row: row,\n                        firstCol: index % colCnt,\n                        lastCol: (nextIndex - 1) % colCnt,\n                        isStart: seriesSeg.isStart && index === firstIndex,\n                        isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                    });\n                    index = nextIndex;\n                }\n            }\n            return segs;\n        };\n        return DayTableModel;\n    }());\n\n    var Slicer = /** @class */ (function () {\n        function Slicer() {\n            this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n            this.sliceDateSelection = memoize(this._sliceDateSpan);\n            this.sliceEventStore = memoize(this._sliceEventStore);\n            this.sliceEventDrag = memoize(this._sliceInteraction);\n            this.sliceEventResize = memoize(this._sliceInteraction);\n            this.forceDayIfListItem = false; // hack\n        }\n        Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n            var extraArgs = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i - 4] = arguments[_i];\n            }\n            var eventUiBases = props.eventUiBases;\n            var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n            return {\n                dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n                businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n                fgEventSegs: eventSegs.fg,\n                bgEventSegs: eventSegs.bg,\n                eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n                eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n                eventSelection: props.eventSelection,\n            }; // TODO: give interactionSegs?\n        };\n        Slicer.prototype.sliceNowDate = function (// does not memoize\n        date, context) {\n            var extraArgs = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                extraArgs[_i - 2] = arguments[_i];\n            }\n            return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n                {},\n                context], extraArgs));\n        };\n        Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n            var extraArgs = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i - 4] = arguments[_i];\n            }\n            if (!businessHours) {\n                return [];\n            }\n            return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n                {},\n                dateProfile,\n                nextDayThreshold], extraArgs)).bg;\n        };\n        Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n            var extraArgs = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i - 4] = arguments[_i];\n            }\n            if (eventStore) {\n                var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n                return {\n                    bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                    fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n                };\n            }\n            return { bg: [], fg: [] };\n        };\n        Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n            var extraArgs = [];\n            for (var _i = 4; _i < arguments.length; _i++) {\n                extraArgs[_i - 4] = arguments[_i];\n            }\n            if (!interaction) {\n                return null;\n            }\n            var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n                affectedInstances: interaction.affectedEvents.instances,\n                isEvent: interaction.isEvent,\n            };\n        };\n        Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n            var extraArgs = [];\n            for (var _i = 3; _i < arguments.length; _i++) {\n                extraArgs[_i - 3] = arguments[_i];\n            }\n            if (!dateSpan) {\n                return [];\n            }\n            var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n            var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n            for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n                var seg = segs_1[_a];\n                seg.eventRange = eventRange;\n            }\n            return segs;\n        };\n        /*\n        \"complete\" seg means it has component and eventRange\n        */\n        Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n            var segs = [];\n            for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n                var eventRange = eventRanges_1[_i];\n                segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n            }\n            return segs;\n        };\n        /*\n        \"complete\" seg means it has component and eventRange\n        */\n        Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n            var dateRange = eventRange.range;\n            // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n            if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n                dateRange = {\n                    start: dateRange.start,\n                    end: addDays(dateRange.start, 1),\n                };\n            }\n            var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n            for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n                var seg = segs_2[_i];\n                seg.eventRange = eventRange;\n                seg.isStart = eventRange.isStart && seg.isStart;\n                seg.isEnd = eventRange.isEnd && seg.isEnd;\n            }\n            return segs;\n        };\n        return Slicer;\n    }());\n    /*\n    for incorporating slotMinTime/slotMaxTime if appropriate\n    TODO: should be part of DateProfile!\n    TimelineDateProfile already does this btw\n    */\n    function computeActiveRange(dateProfile, isComponentAllDay) {\n        var range = dateProfile.activeRange;\n        if (isComponentAllDay) {\n            return range;\n        }\n        return {\n            start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n            end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n        };\n    }\n\n    // high-level segmenting-aware tester functions\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isInteractionValid(interaction, dateProfile, context) {\n        var instances = interaction.mutatedEvents.instances;\n        for (var instanceId in instances) {\n            if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n                return false;\n            }\n        }\n        return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n    }\n    function isDateSelectionValid(dateSelection, dateProfile, context) {\n        if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n            return false;\n        }\n        return isNewPropsValid({ dateSelection: dateSelection }, context);\n    }\n    function isNewPropsValid(newProps, context) {\n        var calendarState = context.getCurrentData();\n        var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n        return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n    }\n    function isPropsValid(state, context, dateSpanMeta, filterConfig) {\n        if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n        if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n            return false;\n        }\n        if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n            return false;\n        }\n        return true;\n    }\n    // Moving Event Validation\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n        var currentState = context.getCurrentData();\n        var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n        var subjectEventStore = interaction.mutatedEvents;\n        var subjectDefs = subjectEventStore.defs;\n        var subjectInstances = subjectEventStore.instances;\n        var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n            state.eventUiBases :\n            { '': currentState.selectionConfig });\n        if (filterConfig) {\n            subjectConfigs = mapHash(subjectConfigs, filterConfig);\n        }\n        // exclude the subject events. TODO: exclude defs too?\n        var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n        var otherDefs = otherEventStore.defs;\n        var otherInstances = otherEventStore.instances;\n        var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n        for (var subjectInstanceId in subjectInstances) {\n            var subjectInstance = subjectInstances[subjectInstanceId];\n            var subjectRange = subjectInstance.range;\n            var subjectConfig = subjectConfigs[subjectInstance.defId];\n            var subjectDef = subjectDefs[subjectInstance.defId];\n            // constraint\n            if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n                return false;\n            }\n            // overlap\n            var eventOverlap = context.options.eventOverlap;\n            var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n            for (var otherInstanceId in otherInstances) {\n                var otherInstance = otherInstances[otherInstanceId];\n                // intersect! evaluate\n                if (rangesIntersect(subjectRange, otherInstance.range)) {\n                    var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                    // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                    if (otherOverlap === false && interaction.isEvent) {\n                        return false;\n                    }\n                    if (subjectConfig.overlap === false) {\n                        return false;\n                    }\n                    if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                    new EventApi(context, subjectDef, subjectInstance))) {\n                        return false;\n                    }\n                }\n            }\n            // allow (a function)\n            var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n            for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n                var subjectAllow = _a[_i];\n                var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n                var origDef = calendarEventStore.defs[subjectDef.defId];\n                var origInstance = calendarEventStore.instances[subjectInstanceId];\n                var eventApi = void 0;\n                if (origDef) { // was previously in the calendar\n                    eventApi = new EventApi(context, origDef, origInstance);\n                }\n                else { // was an external event\n                    eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n                }\n                if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    // Date Selection Validation\n    // ------------------------------------------------------------------------------------------------------------------------\n    function isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n        var relevantEventStore = state.eventStore;\n        var relevantDefs = relevantEventStore.defs;\n        var relevantInstances = relevantEventStore.instances;\n        var selection = state.dateSelection;\n        var selectionRange = selection.range;\n        var selectionConfig = context.getCurrentData().selectionConfig;\n        if (filterConfig) {\n            selectionConfig = filterConfig(selectionConfig);\n        }\n        // constraint\n        if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var selectOverlap = context.options.selectOverlap;\n        var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n        for (var relevantInstanceId in relevantInstances) {\n            var relevantInstance = relevantInstances[relevantInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(selectionRange, relevantInstance.range)) {\n                if (selectionConfig.overlap === false) {\n                    return false;\n                }\n                if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n            var selectionAllow = _a[_i];\n            var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n            if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    // Constraint Utils\n    // ------------------------------------------------------------------------------------------------------------------------\n    function allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n        for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n            var constraint = constraints_1[_i];\n            if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    function constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\n    otherEventStore, // for if constraint is an even group ID\n    businessHoursUnexpanded, // for if constraint is 'businessHours'\n    context) {\n        if (constraint === 'businessHours') {\n            return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n        }\n        if (typeof constraint === 'string') { // an group ID\n            return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n        }\n        if (typeof constraint === 'object' && constraint) { // non-null object\n            return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n        }\n        return []; // if it's false\n    }\n    // TODO: move to event-store file?\n    function eventStoreToRanges(eventStore) {\n        var instances = eventStore.instances;\n        var ranges = [];\n        for (var instanceId in instances) {\n            ranges.push(instances[instanceId].range);\n        }\n        return ranges;\n    }\n    // TODO: move to geom file?\n    function anyRangesContainRange(outerRanges, innerRange) {\n        for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n            var outerRange = outerRanges_1[_i];\n            if (rangeContainsRange(outerRange, innerRange)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    var VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\n    var Scroller = /** @class */ (function (_super) {\n        __extends(Scroller, _super);\n        function Scroller() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.handleEl = function (el) {\n                _this.el = el;\n                setRef(_this.props.elRef, el);\n            };\n            return _this;\n        }\n        Scroller.prototype.render = function () {\n            var props = this.props;\n            var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n            var isAbsolute = liquid && liquidIsAbsolute;\n            var className = ['fc-scroller'];\n            if (liquid) {\n                if (liquidIsAbsolute) {\n                    className.push('fc-scroller-liquid-absolute');\n                }\n                else {\n                    className.push('fc-scroller-liquid');\n                }\n            }\n            return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                    overflowX: props.overflowX,\n                    overflowY: props.overflowY,\n                    left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                    bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                    marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                    marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                    maxHeight: props.maxHeight || '',\n                } }, props.children));\n        };\n        Scroller.prototype.needsXScrolling = function () {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n                return false;\n            }\n            // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n            // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n            // inner-child margins and absolute positioning\n            var el = this.el;\n            var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n            var children = el.children;\n            for (var i = 0; i < children.length; i += 1) {\n                var childEl = children[i];\n                if (childEl.getBoundingClientRect().width > realClientWidth) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        Scroller.prototype.needsYScrolling = function () {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return false;\n            }\n            // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n            // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n            // inner-child margins and absolute positioning\n            var el = this.el;\n            var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n            var children = el.children;\n            for (var i = 0; i < children.length; i += 1) {\n                var childEl = children[i];\n                if (childEl.getBoundingClientRect().height > realClientHeight) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        Scroller.prototype.getXScrollbarWidth = function () {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n                return 0;\n            }\n            return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n        };\n        Scroller.prototype.getYScrollbarWidth = function () {\n            if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n                return 0;\n            }\n            return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n        };\n        return Scroller;\n    }(BaseComponent));\n\n    /*\n    TODO: somehow infer OtherArgs from masterCallback?\n    TODO: infer RefType from masterCallback if provided\n    */\n    var RefMap = /** @class */ (function () {\n        function RefMap(masterCallback) {\n            var _this = this;\n            this.masterCallback = masterCallback;\n            this.currentMap = {};\n            this.depths = {};\n            this.callbackMap = {};\n            this.handleValue = function (val, key) {\n                var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n                var removed = false;\n                var added = false;\n                if (val !== null) {\n                    // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                    removed = (key in currentMap);\n                    currentMap[key] = val;\n                    depths[key] = (depths[key] || 0) + 1;\n                    added = true;\n                }\n                else {\n                    depths[key] -= 1;\n                    if (!depths[key]) {\n                        delete currentMap[key];\n                        delete _this.callbackMap[key];\n                        removed = true;\n                    }\n                }\n                if (_this.masterCallback) {\n                    if (removed) {\n                        _this.masterCallback(null, String(key));\n                    }\n                    if (added) {\n                        _this.masterCallback(val, String(key));\n                    }\n                }\n            };\n        }\n        RefMap.prototype.createRef = function (key) {\n            var _this = this;\n            var refCallback = this.callbackMap[key];\n            if (!refCallback) {\n                refCallback = this.callbackMap[key] = function (val) {\n                    _this.handleValue(val, String(key));\n                };\n            }\n            return refCallback;\n        };\n        // TODO: check callers that don't care about order. should use getAll instead\n        // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n        // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n        RefMap.prototype.collect = function (startIndex, endIndex, step) {\n            return collectFromHash(this.currentMap, startIndex, endIndex, step);\n        };\n        RefMap.prototype.getAll = function () {\n            return hashValuesToArray(this.currentMap);\n        };\n        return RefMap;\n    }());\n\n    function computeShrinkWidth(chunkEls) {\n        var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n        var largestWidth = 0;\n        for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n            var shrinkCell = shrinkCells_1[_i];\n            largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n        }\n        return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n    }\n    function getSectionHasLiquidHeight(props, sectionConfig) {\n        return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n    }\n    function getAllowYScrolling(props, sectionConfig) {\n        return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n            getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n    }\n    // TODO: ONLY use `arg`. force out internal function to use same API\n    function renderChunkContent(sectionConfig, chunkConfig, arg, isHeader) {\n        var expandRows = arg.expandRows;\n        var content = typeof chunkConfig.content === 'function' ?\n            chunkConfig.content(arg) :\n            createElement('table', {\n                role: 'presentation',\n                className: [\n                    chunkConfig.tableClassName,\n                    sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n                ].join(' '),\n                style: {\n                    minWidth: arg.tableMinWidth,\n                    width: arg.clientWidth,\n                    height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n                },\n            }, arg.tableColGroupNode, createElement(isHeader ? 'thead' : 'tbody', {\n                role: 'presentation',\n            }, typeof chunkConfig.rowContent === 'function'\n                ? chunkConfig.rowContent(arg)\n                : chunkConfig.rowContent));\n        return content;\n    }\n    function isColPropsEqual(cols0, cols1) {\n        return isArraysEqual(cols0, cols1, isPropsEqual);\n    }\n    function renderMicroColGroup(cols, shrinkWidth) {\n        var colNodes = [];\n        /*\n        for ColProps with spans, it would have been great to make a single <col span=\"\">\n        HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n        SOLUTION: making individual <col> elements makes Chrome behave.\n        */\n        for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n            var colProps = cols_1[_i];\n            var span = colProps.span || 1;\n            for (var i = 0; i < span; i += 1) {\n                colNodes.push(createElement(\"col\", { style: {\n                        width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                        minWidth: colProps.minWidth || '',\n                    } }));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n    }\n    function sanitizeShrinkWidth(shrinkWidth) {\n        /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n        4 accounts for 2 2-pixel borders. TODO: better solution? */\n        return shrinkWidth == null ? 4 : shrinkWidth;\n    }\n    function hasShrinkWidth(cols) {\n        for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n            var col = cols_2[_i];\n            if (col.width === 'shrink') {\n                return true;\n            }\n        }\n        return false;\n    }\n    function getScrollGridClassNames(liquid, context) {\n        var classNames = [\n            'fc-scrollgrid',\n            context.theme.getClass('table'),\n        ];\n        if (liquid) {\n            classNames.push('fc-scrollgrid-liquid');\n        }\n        return classNames;\n    }\n    function getSectionClassNames(sectionConfig, wholeTableVGrow) {\n        var classNames = [\n            'fc-scrollgrid-section',\n            \"fc-scrollgrid-section-\" + sectionConfig.type,\n            sectionConfig.className, // used?\n        ];\n        if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n            classNames.push('fc-scrollgrid-section-liquid');\n        }\n        if (sectionConfig.isSticky) {\n            classNames.push('fc-scrollgrid-section-sticky');\n        }\n        return classNames;\n    }\n    function renderScrollShim(arg) {\n        return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n                width: arg.clientWidth,\n                minWidth: arg.tableMinWidth,\n            } }));\n    }\n    function getStickyHeaderDates(options) {\n        var stickyHeaderDates = options.stickyHeaderDates;\n        if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n            stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyHeaderDates;\n    }\n    function getStickyFooterScrollbar(options) {\n        var stickyFooterScrollbar = options.stickyFooterScrollbar;\n        if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n            stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n        }\n        return stickyFooterScrollbar;\n    }\n\n    var SimpleScrollGrid = /** @class */ (function (_super) {\n        __extends(SimpleScrollGrid, _super);\n        function SimpleScrollGrid() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n            // yucky to memoize VNodes, but much more efficient for consumers\n            _this.renderMicroColGroup = memoize(renderMicroColGroup);\n            _this.scrollerRefs = new RefMap();\n            _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n            _this.state = {\n                shrinkWidth: null,\n                forceYScrollbars: false,\n                scrollerClientWidths: {},\n                scrollerClientHeights: {},\n            };\n            // TODO: can do a really simple print-view. dont need to join rows\n            _this.handleSizing = function () {\n                _this.safeSetState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n            };\n            return _this;\n        }\n        SimpleScrollGrid.prototype.render = function () {\n            var _a = this, props = _a.props, state = _a.state, context = _a.context;\n            var sectionConfigs = props.sections || [];\n            var cols = this.processCols(props.cols);\n            var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n            var classNames = getScrollGridClassNames(props.liquid, context);\n            if (props.collapsibleWidth) {\n                classNames.push('fc-scrollgrid-collapsible');\n            }\n            // TODO: make DRY\n            var configCnt = sectionConfigs.length;\n            var configI = 0;\n            var currentConfig;\n            var headSectionNodes = [];\n            var bodySectionNodes = [];\n            var footSectionNodes = [];\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n                headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n                configI += 1;\n            }\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n                bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode, false));\n                configI += 1;\n            }\n            while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n                footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode, true));\n                configI += 1;\n            }\n            // firefox bug: when setting height on table and there is a thead or tfoot,\n            // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n            // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n            // if so, use a simpler dom structure, jam everything into a lone tbody.\n            var isBuggy = !getCanVGrowWithinCell();\n            var roleAttrs = { role: 'rowgroup' };\n            return createElement('table', {\n                role: 'grid',\n                className: classNames.join(' '),\n                style: { height: props.height },\n            }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', roleAttrs], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', roleAttrs], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', roleAttrs], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', roleAttrs], headSectionNodes), bodySectionNodes), footSectionNodes)));\n        };\n        SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode, isHeader) {\n            if ('outerContent' in sectionConfig) {\n                return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n            }\n            return (createElement(\"tr\", { key: sectionConfig.key, role: \"presentation\", className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk, isHeader)));\n        };\n        SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig, isHeader) {\n            if ('outerContent' in chunkConfig) {\n                return chunkConfig.outerContent;\n            }\n            var props = this.props;\n            var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n            var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n            var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n            // for `!props.liquid` - is WHOLE scrollgrid natural height?\n            // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n            var overflowY = !props.liquid ? 'visible' :\n                forceYScrollbars ? 'scroll' :\n                    !needsYScrolling ? 'hidden' :\n                        'auto';\n            var sectionKey = sectionConfig.key;\n            var content = renderChunkContent(sectionConfig, chunkConfig, {\n                tableColGroupNode: microColGroupNode,\n                tableMinWidth: '',\n                clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n                clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n                expandRows: sectionConfig.expandRows,\n                syncRowHeights: false,\n                rowSyncHeights: [],\n                reportRowHeightChange: function () { },\n            }, isHeader);\n            return createElement(isHeader ? 'th' : 'td', {\n                ref: chunkConfig.elRef,\n                role: 'presentation',\n            }, createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content)));\n        };\n        SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n            var section = getSectionByKey(this.props.sections, key);\n            if (section) {\n                setRef(section.chunk.scrollerElRef, scrollerEl);\n            }\n        };\n        SimpleScrollGrid.prototype.componentDidMount = function () {\n            this.handleSizing();\n            this.context.addResizeHandler(this.handleSizing);\n        };\n        SimpleScrollGrid.prototype.componentDidUpdate = function () {\n            // TODO: need better solution when state contains non-sizing things\n            this.handleSizing();\n        };\n        SimpleScrollGrid.prototype.componentWillUnmount = function () {\n            this.context.removeResizeHandler(this.handleSizing);\n        };\n        SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n            return hasShrinkWidth(this.props.cols)\n                ? computeShrinkWidth(this.scrollerElRefs.getAll())\n                : 0;\n        };\n        SimpleScrollGrid.prototype.computeScrollerDims = function () {\n            var scrollbarWidth = getScrollbarWidths();\n            var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n            var forceYScrollbars = false;\n            var scrollerClientWidths = {};\n            var scrollerClientHeights = {};\n            for (var sectionKey in scrollerRefs.currentMap) {\n                var scroller = scrollerRefs.currentMap[sectionKey];\n                if (scroller && scroller.needsYScrolling()) {\n                    forceYScrollbars = true;\n                    break;\n                }\n            }\n            for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n                var section = _b[_i];\n                var sectionKey = section.key;\n                var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n                if (scrollerEl) {\n                    var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                    scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                        ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                        : 0));\n                    scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n                }\n            }\n            return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n        };\n        return SimpleScrollGrid;\n    }(BaseComponent));\n    SimpleScrollGrid.addStateEquality({\n        scrollerClientWidths: isPropsEqual,\n        scrollerClientHeights: isPropsEqual,\n    });\n    function getSectionByKey(sections, key) {\n        for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n            var section = sections_1[_i];\n            if (section.key === key) {\n                return section;\n            }\n        }\n        return null;\n    }\n\n    var EventRoot = /** @class */ (function (_super) {\n        __extends(EventRoot, _super);\n        function EventRoot() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.elRef = createRef();\n            return _this;\n        }\n        EventRoot.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var options = context.options;\n            var seg = props.seg;\n            var eventRange = seg.eventRange;\n            var ui = eventRange.ui;\n            var hookProps = {\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                view: context.viewApi,\n                timeText: props.timeText,\n                textColor: ui.textColor,\n                backgroundColor: ui.backgroundColor,\n                borderColor: ui.borderColor,\n                isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n                isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n                isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n                isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n                isStart: Boolean(seg.isStart),\n                isEnd: Boolean(seg.isEnd),\n                isPast: Boolean(props.isPast),\n                isFuture: Boolean(props.isFuture),\n                isToday: Boolean(props.isToday),\n                isSelected: Boolean(props.isSelected),\n                isDragging: Boolean(props.isDragging),\n                isResizing: Boolean(props.isResizing),\n            };\n            var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n        };\n        EventRoot.prototype.componentDidMount = function () {\n            setElSeg(this.elRef.current, this.props.seg);\n        };\n        /*\n        need to re-assign seg to the element if seg changes, even if the element is the same\n        */\n        EventRoot.prototype.componentDidUpdate = function (prevProps) {\n            var seg = this.props.seg;\n            if (seg !== prevProps.seg) {\n                setElSeg(this.elRef.current, seg);\n            }\n        };\n        return EventRoot;\n    }(BaseComponent));\n\n    // should not be a purecomponent\n    var StandardEvent = /** @class */ (function (_super) {\n        __extends(StandardEvent, _super);\n        function StandardEvent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        StandardEvent.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var seg = props.seg;\n            var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n            var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n            return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$4, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                    borderColor: hookProps.borderColor,\n                    backgroundColor: hookProps.backgroundColor,\n                }, ref: rootElRef }, getSegAnchorAttrs(seg, context)),\n                createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n                hookProps.isStartResizable &&\n                    createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n                hookProps.isEndResizable &&\n                    createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n        };\n        return StandardEvent;\n    }(BaseComponent));\n    function renderInnerContent$4(innerProps) {\n        return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n            innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n            createElement(\"div\", { className: \"fc-event-title-container\" },\n                createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n    }\n\n    var NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n        var options = context.options;\n        var hookProps = {\n            isAxis: props.isAxis,\n            date: context.dateEnv.toDate(props.date),\n            view: context.viewApi,\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n    })); };\n\n    var DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\n    var DayCellContent = /** @class */ (function (_super) {\n        __extends(DayCellContent, _super);\n        function DayCellContent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        DayCellContent.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var options = context.options;\n            var hookProps = refineDayCellHookProps({\n                date: props.date,\n                dateProfile: props.dateProfile,\n                todayRange: props.todayRange,\n                showDayNumber: props.showDayNumber,\n                extraProps: props.extraHookProps,\n                viewApi: context.viewApi,\n                dateEnv: context.dateEnv,\n            });\n            return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n        };\n        return DayCellContent;\n    }(BaseComponent));\n    function refineDayCellHookProps(raw) {\n        var date = raw.date, dateEnv = raw.dateEnv;\n        var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n        return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n    }\n\n    var DayCellRoot = /** @class */ (function (_super) {\n        __extends(DayCellRoot, _super);\n        function DayCellRoot() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n            _this.normalizeClassNames = buildClassNameNormalizer();\n            return _this;\n        }\n        DayCellRoot.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var options = context.options;\n            var hookProps = this.refineHookProps({\n                date: props.date,\n                dateProfile: props.dateProfile,\n                todayRange: props.todayRange,\n                showDayNumber: props.showDayNumber,\n                extraProps: props.extraHookProps,\n                viewApi: context.viewApi,\n                dateEnv: context.dateEnv,\n            });\n            var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n                ? [] // don't use custom classNames if disabled\n                : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n            var dataAttrs = hookProps.isDisabled ? {} : {\n                'data-date': formatDayString(props.date),\n            };\n            return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n        };\n        return DayCellRoot;\n    }(BaseComponent));\n\n    function renderFill(fillType) {\n        return (createElement(\"div\", { className: \"fc-\" + fillType }));\n    }\n    var BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent$3, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n            backgroundColor: hookProps.backgroundColor,\n        } }, innerContent)); })); };\n    function renderInnerContent$3(props) {\n        var title = props.event.title;\n        return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n    }\n\n    var WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n        var dateEnv = context.dateEnv, options = context.options;\n        var date = props.date;\n        var format = options.weekNumberFormat || props.defaultFormat;\n        var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n        var text = dateEnv.format(date, format);\n        var hookProps = { num: num, text: text, date: date };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n    })); };\n    function renderInner(innerProps) {\n        return innerProps.text;\n    }\n\n    var PADDING_FROM_VIEWPORT = 10;\n    var Popover = /** @class */ (function (_super) {\n        __extends(Popover, _super);\n        function Popover() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                titleId: getUniqueDomId(),\n            };\n            _this.handleRootEl = function (el) {\n                _this.rootEl = el;\n                if (_this.props.elRef) {\n                    setRef(_this.props.elRef, el);\n                }\n            };\n            // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n            _this.handleDocumentMouseDown = function (ev) {\n                // only hide the popover if the click happened outside the popover\n                var target = getEventTargetViaRoot(ev);\n                if (!_this.rootEl.contains(target)) {\n                    _this.handleCloseClick();\n                }\n            };\n            _this.handleDocumentKeyDown = function (ev) {\n                if (ev.key === 'Escape') {\n                    _this.handleCloseClick();\n                }\n            };\n            _this.handleCloseClick = function () {\n                var onClose = _this.props.onClose;\n                if (onClose) {\n                    onClose();\n                }\n            };\n            return _this;\n        }\n        Popover.prototype.render = function () {\n            var _a = this.context, theme = _a.theme, options = _a.options;\n            var _b = this, props = _b.props, state = _b.state;\n            var classNames = [\n                'fc-popover',\n                theme.getClass('popover'),\n            ].concat(props.extraClassNames || []);\n            return createPortal(createElement(\"div\", __assign({ id: props.id, className: classNames.join(' '), \"aria-labelledby\": state.titleId }, props.extraAttrs, { ref: this.handleRootEl }),\n                createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                    createElement(\"span\", { className: \"fc-popover-title\", id: state.titleId }, props.title),\n                    createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), title: options.closeHint, onClick: this.handleCloseClick })),\n                createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n        };\n        Popover.prototype.componentDidMount = function () {\n            document.addEventListener('mousedown', this.handleDocumentMouseDown);\n            document.addEventListener('keydown', this.handleDocumentKeyDown);\n            this.updateSize();\n        };\n        Popover.prototype.componentWillUnmount = function () {\n            document.removeEventListener('mousedown', this.handleDocumentMouseDown);\n            document.removeEventListener('keydown', this.handleDocumentKeyDown);\n        };\n        Popover.prototype.updateSize = function () {\n            var isRtl = this.context.isRtl;\n            var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n            var rootEl = this.rootEl;\n            var alignmentRect = computeClippedClientRect(alignmentEl);\n            if (alignmentRect) {\n                var popoverDims = rootEl.getBoundingClientRect();\n                // position relative to viewport\n                var popoverTop = alignGridTop\n                    ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                    : alignmentRect.top;\n                var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n                // constrain\n                popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n                popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n                popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n                var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n                applyStyle(rootEl, {\n                    top: popoverTop - origin_1.top,\n                    left: popoverLeft - origin_1.left,\n                });\n            }\n        };\n        return Popover;\n    }(BaseComponent));\n\n    var MorePopover = /** @class */ (function (_super) {\n        __extends(MorePopover, _super);\n        function MorePopover() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.handleRootEl = function (rootEl) {\n                _this.rootEl = rootEl;\n                if (rootEl) {\n                    _this.context.registerInteractiveComponent(_this, {\n                        el: rootEl,\n                        useEventCenter: false,\n                    });\n                }\n                else {\n                    _this.context.unregisterInteractiveComponent(_this);\n                }\n            };\n            return _this;\n        }\n        MorePopover.prototype.render = function () {\n            var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n            var props = this.props;\n            var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n            var title = dateEnv.format(startDate, options.dayPopoverFormat);\n            return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, id: props.id, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n                createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                    createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n                props.children)); }));\n        };\n        MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n            var _a = this, rootEl = _a.rootEl, props = _a.props;\n            if (positionLeft >= 0 && positionLeft < elWidth &&\n                positionTop >= 0 && positionTop < elHeight) {\n                return {\n                    dateProfile: props.dateProfile,\n                    dateSpan: __assign({ allDay: true, range: {\n                            start: props.startDate,\n                            end: props.endDate,\n                        } }, props.extraDateSpan),\n                    dayEl: rootEl,\n                    rect: {\n                        left: 0,\n                        top: 0,\n                        right: elWidth,\n                        bottom: elHeight,\n                    },\n                    layer: 1, // important when comparing with hits from other components\n                };\n            }\n            return null;\n        };\n        return MorePopover;\n    }(DateComponent));\n\n    var MoreLinkRoot = /** @class */ (function (_super) {\n        __extends(MoreLinkRoot, _super);\n        function MoreLinkRoot() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.linkElRef = createRef();\n            _this.state = {\n                isPopoverOpen: false,\n                popoverId: getUniqueDomId(),\n            };\n            _this.handleClick = function (ev) {\n                var _a = _this, props = _a.props, context = _a.context;\n                var moreLinkClick = context.options.moreLinkClick;\n                var date = computeRange(props).start;\n                function buildPublicSeg(seg) {\n                    var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                    return {\n                        event: new EventApi(context, def, instance),\n                        start: context.dateEnv.toDate(range.start),\n                        end: context.dateEnv.toDate(range.end),\n                        isStart: seg.isStart,\n                        isEnd: seg.isEnd,\n                    };\n                }\n                if (typeof moreLinkClick === 'function') {\n                    moreLinkClick = moreLinkClick({\n                        date: date,\n                        allDay: Boolean(props.allDayDate),\n                        allSegs: props.allSegs.map(buildPublicSeg),\n                        hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                        jsEvent: ev,\n                        view: context.viewApi,\n                    });\n                }\n                if (!moreLinkClick || moreLinkClick === 'popover') {\n                    _this.setState({ isPopoverOpen: true });\n                }\n                else if (typeof moreLinkClick === 'string') { // a view name\n                    context.calendarApi.zoomTo(date, moreLinkClick);\n                }\n            };\n            _this.handlePopoverClose = function () {\n                _this.setState({ isPopoverOpen: false });\n            };\n            return _this;\n        }\n        MoreLinkRoot.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, state = _a.state;\n            return (createElement(ViewContextType.Consumer, null, function (context) {\n                var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n                var moreLinkText = options.moreLinkText;\n                var moreCnt = props.moreCnt;\n                var range = computeRange(props);\n                var text = typeof moreLinkText === 'function' // TODO: eventually use formatWithOrdinals\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText;\n                var title = formatWithOrdinals(options.moreLinkHint, [moreCnt], text);\n                var hookProps = {\n                    num: moreCnt,\n                    shortText: \"+\" + moreCnt,\n                    text: text,\n                    view: viewApi,\n                };\n                return (createElement(Fragment, null,\n                    Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner$1, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick, title, state.isPopoverOpen, state.isPopoverOpen ? state.popoverId : ''); })),\n                    state.isPopoverOpen && (createElement(MorePopover, { id: state.popoverId, startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n            }));\n        };\n        MoreLinkRoot.prototype.componentDidMount = function () {\n            this.updateParentEl();\n        };\n        MoreLinkRoot.prototype.componentDidUpdate = function () {\n            this.updateParentEl();\n        };\n        MoreLinkRoot.prototype.updateParentEl = function () {\n            if (this.linkElRef.current) {\n                this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n            }\n        };\n        return MoreLinkRoot;\n    }(BaseComponent));\n    function renderMoreLinkInner$1(props) {\n        return props.text;\n    }\n    function computeRange(props) {\n        if (props.allDayDate) {\n            return {\n                start: props.allDayDate,\n                end: addDays(props.allDayDate, 1),\n            };\n        }\n        var hiddenSegs = props.hiddenSegs;\n        return {\n            start: computeEarliestSegStart(hiddenSegs),\n            end: computeLatestSegEnd(hiddenSegs),\n        };\n    }\n    function computeEarliestSegStart(segs) {\n        return segs.reduce(pickEarliestStart).eventRange.range.start;\n    }\n    function pickEarliestStart(seg0, seg1) {\n        return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n    }\n    function computeLatestSegEnd(segs) {\n        return segs.reduce(pickLatestEnd).eventRange.range.end;\n    }\n    function pickLatestEnd(seg0, seg1) {\n        return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n    }\n\n    // exports\n    // --------------------------------------------------------------------------------------------------\n    var version = '5.11.3'; // important to type it, so .d.ts has generic string\n\n    var Calendar = /** @class */ (function (_super) {\n        __extends(Calendar, _super);\n        function Calendar(el, optionOverrides) {\n            if (optionOverrides === void 0) { optionOverrides = {}; }\n            var _this = _super.call(this) || this;\n            _this.isRendering = false;\n            _this.isRendered = false;\n            _this.currentClassNames = [];\n            _this.customContentRenderId = 0; // will affect custom generated classNames?\n            _this.handleAction = function (action) {\n                // actions we know we want to render immediately\n                switch (action.type) {\n                    case 'SET_EVENT_DRAG':\n                    case 'SET_EVENT_RESIZE':\n                        _this.renderRunner.tryDrain();\n                }\n            };\n            _this.handleData = function (data) {\n                _this.currentData = data;\n                _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n            };\n            _this.handleRenderRequest = function () {\n                if (_this.isRendering) {\n                    _this.isRendered = true;\n                    var currentData_1 = _this.currentData;\n                    flushSync(function () {\n                        render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                            _this.setClassNames(classNames);\n                            _this.setHeight(height);\n                            return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                                createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                        }), _this.el);\n                    });\n                }\n                else if (_this.isRendered) {\n                    _this.isRendered = false;\n                    unmountComponentAtNode(_this.el);\n                    _this.setClassNames([]);\n                    _this.setHeight('');\n                }\n            };\n            _this.el = el;\n            _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n            new CalendarDataManager({\n                optionOverrides: optionOverrides,\n                calendarApi: _this,\n                onAction: _this.handleAction,\n                onData: _this.handleData,\n            });\n            return _this;\n        }\n        Object.defineProperty(Calendar.prototype, \"view\", {\n            get: function () { return this.currentData.viewApi; } // for public API\n            ,\n            enumerable: false,\n            configurable: true\n        });\n        Calendar.prototype.render = function () {\n            var wasRendering = this.isRendering;\n            if (!wasRendering) {\n                this.isRendering = true;\n            }\n            else {\n                this.customContentRenderId += 1;\n            }\n            this.renderRunner.request();\n            if (wasRendering) {\n                this.updateSize();\n            }\n        };\n        Calendar.prototype.destroy = function () {\n            if (this.isRendering) {\n                this.isRendering = false;\n                this.renderRunner.request();\n            }\n        };\n        Calendar.prototype.updateSize = function () {\n            var _this = this;\n            flushSync(function () {\n                _super.prototype.updateSize.call(_this);\n            });\n        };\n        Calendar.prototype.batchRendering = function (func) {\n            this.renderRunner.pause('batchRendering');\n            func();\n            this.renderRunner.resume('batchRendering');\n        };\n        Calendar.prototype.pauseRendering = function () {\n            this.renderRunner.pause('pauseRendering');\n        };\n        Calendar.prototype.resumeRendering = function () {\n            this.renderRunner.resume('pauseRendering', true);\n        };\n        Calendar.prototype.resetOptions = function (optionOverrides, append) {\n            this.currentDataManager.resetOptions(optionOverrides, append);\n        };\n        Calendar.prototype.setClassNames = function (classNames) {\n            if (!isArraysEqual(classNames, this.currentClassNames)) {\n                var classList = this.el.classList;\n                for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                    var className = _a[_i];\n                    classList.remove(className);\n                }\n                for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                    var className = classNames_1[_b];\n                    classList.add(className);\n                }\n                this.currentClassNames = classNames;\n            }\n        };\n        Calendar.prototype.setHeight = function (height) {\n            applyStyleProp(this.el, 'height', height);\n        };\n        return Calendar;\n    }(CalendarApi));\n\n    config.touchMouseIgnoreWait = 500;\n    var ignoreMouseDepth = 0;\n    var listenerCnt = 0;\n    var isWindowTouchMoveCancelled = false;\n    /*\n    Uses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\n    Tracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\n    Also, tracks if there was touch-scrolling.\n    Also, can prevent touch-scrolling from happening.\n    Also, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\n    emits:\n    - pointerdown\n    - pointermove\n    - pointerup\n    */\n    var PointerDragging = /** @class */ (function () {\n        function PointerDragging(containerEl) {\n            var _this = this;\n            this.subjectEl = null;\n            // options that can be directly assigned by caller\n            this.selector = ''; // will cause subjectEl in all emitted events to be this element\n            this.handleSelector = '';\n            this.shouldIgnoreMove = false;\n            this.shouldWatchScroll = true; // for simulating pointermove on scroll\n            // internal states\n            this.isDragging = false;\n            this.isTouchDragging = false;\n            this.wasTouchScroll = false;\n            // Mouse\n            // ----------------------------------------------------------------------------------------------------\n            this.handleMouseDown = function (ev) {\n                if (!_this.shouldIgnoreMouse() &&\n                    isPrimaryMouseButton(ev) &&\n                    _this.tryStart(ev)) {\n                    var pev = _this.createEventFromMouse(ev, true);\n                    _this.emitter.trigger('pointerdown', pev);\n                    _this.initScrollWatch(pev);\n                    if (!_this.shouldIgnoreMove) {\n                        document.addEventListener('mousemove', _this.handleMouseMove);\n                    }\n                    document.addEventListener('mouseup', _this.handleMouseUp);\n                }\n            };\n            this.handleMouseMove = function (ev) {\n                var pev = _this.createEventFromMouse(ev);\n                _this.recordCoords(pev);\n                _this.emitter.trigger('pointermove', pev);\n            };\n            this.handleMouseUp = function (ev) {\n                document.removeEventListener('mousemove', _this.handleMouseMove);\n                document.removeEventListener('mouseup', _this.handleMouseUp);\n                _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n            };\n            // Touch\n            // ----------------------------------------------------------------------------------------------------\n            this.handleTouchStart = function (ev) {\n                if (_this.tryStart(ev)) {\n                    _this.isTouchDragging = true;\n                    var pev = _this.createEventFromTouch(ev, true);\n                    _this.emitter.trigger('pointerdown', pev);\n                    _this.initScrollWatch(pev);\n                    // unlike mouse, need to attach to target, not document\n                    // https://stackoverflow.com/a/45760014\n                    var targetEl = ev.target;\n                    if (!_this.shouldIgnoreMove) {\n                        targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                    }\n                    targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                    targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                    // attach a handler to get called when ANY scroll action happens on the page.\n                    // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                    // http://stackoverflow.com/a/32954565/96342\n                    window.addEventListener('scroll', _this.handleTouchScroll, true);\n                }\n            };\n            this.handleTouchMove = function (ev) {\n                var pev = _this.createEventFromTouch(ev);\n                _this.recordCoords(pev);\n                _this.emitter.trigger('pointermove', pev);\n            };\n            this.handleTouchEnd = function (ev) {\n                if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                    var targetEl = ev.target;\n                    targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                    targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                    targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                    window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                    _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                    _this.cleanup(); // call last so that pointerup has access to props\n                    _this.isTouchDragging = false;\n                    startIgnoringMouse();\n                }\n            };\n            this.handleTouchScroll = function () {\n                _this.wasTouchScroll = true;\n            };\n            this.handleScroll = function (ev) {\n                if (!_this.shouldIgnoreMove) {\n                    var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                    var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                    _this.emitter.trigger('pointermove', {\n                        origEvent: ev,\n                        isTouch: _this.isTouchDragging,\n                        subjectEl: _this.subjectEl,\n                        pageX: pageX,\n                        pageY: pageY,\n                        deltaX: pageX - _this.origPageX,\n                        deltaY: pageY - _this.origPageY,\n                    });\n                }\n            };\n            this.containerEl = containerEl;\n            this.emitter = new Emitter();\n            containerEl.addEventListener('mousedown', this.handleMouseDown);\n            containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n            listenerCreated();\n        }\n        PointerDragging.prototype.destroy = function () {\n            this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n            this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n            listenerDestroyed();\n        };\n        PointerDragging.prototype.tryStart = function (ev) {\n            var subjectEl = this.querySubjectEl(ev);\n            var downEl = ev.target;\n            if (subjectEl &&\n                (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n                this.subjectEl = subjectEl;\n                this.isDragging = true; // do this first so cancelTouchScroll will work\n                this.wasTouchScroll = false;\n                return true;\n            }\n            return false;\n        };\n        PointerDragging.prototype.cleanup = function () {\n            isWindowTouchMoveCancelled = false;\n            this.isDragging = false;\n            this.subjectEl = null;\n            // keep wasTouchScroll around for later access\n            this.destroyScrollWatch();\n        };\n        PointerDragging.prototype.querySubjectEl = function (ev) {\n            if (this.selector) {\n                return elementClosest(ev.target, this.selector);\n            }\n            return this.containerEl;\n        };\n        PointerDragging.prototype.shouldIgnoreMouse = function () {\n            return ignoreMouseDepth || this.isTouchDragging;\n        };\n        // can be called by user of this class, to cancel touch-based scrolling for the current drag\n        PointerDragging.prototype.cancelTouchScroll = function () {\n            if (this.isDragging) {\n                isWindowTouchMoveCancelled = true;\n            }\n        };\n        // Scrolling that simulates pointermoves\n        // ----------------------------------------------------------------------------------------------------\n        PointerDragging.prototype.initScrollWatch = function (ev) {\n            if (this.shouldWatchScroll) {\n                this.recordCoords(ev);\n                window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n            }\n        };\n        PointerDragging.prototype.recordCoords = function (ev) {\n            if (this.shouldWatchScroll) {\n                this.prevPageX = ev.pageX;\n                this.prevPageY = ev.pageY;\n                this.prevScrollX = window.pageXOffset;\n                this.prevScrollY = window.pageYOffset;\n            }\n        };\n        PointerDragging.prototype.destroyScrollWatch = function () {\n            if (this.shouldWatchScroll) {\n                window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n            }\n        };\n        // Event Normalization\n        // ----------------------------------------------------------------------------------------------------\n        PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n            var deltaX = 0;\n            var deltaY = 0;\n            // TODO: repeat code\n            if (isFirst) {\n                this.origPageX = ev.pageX;\n                this.origPageY = ev.pageY;\n            }\n            else {\n                deltaX = ev.pageX - this.origPageX;\n                deltaY = ev.pageY - this.origPageY;\n            }\n            return {\n                origEvent: ev,\n                isTouch: false,\n                subjectEl: this.subjectEl,\n                pageX: ev.pageX,\n                pageY: ev.pageY,\n                deltaX: deltaX,\n                deltaY: deltaY,\n            };\n        };\n        PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n            var touches = ev.touches;\n            var pageX;\n            var pageY;\n            var deltaX = 0;\n            var deltaY = 0;\n            // if touch coords available, prefer,\n            // because FF would give bad ev.pageX ev.pageY\n            if (touches && touches.length) {\n                pageX = touches[0].pageX;\n                pageY = touches[0].pageY;\n            }\n            else {\n                pageX = ev.pageX;\n                pageY = ev.pageY;\n            }\n            // TODO: repeat code\n            if (isFirst) {\n                this.origPageX = pageX;\n                this.origPageY = pageY;\n            }\n            else {\n                deltaX = pageX - this.origPageX;\n                deltaY = pageY - this.origPageY;\n            }\n            return {\n                origEvent: ev,\n                isTouch: true,\n                subjectEl: this.subjectEl,\n                pageX: pageX,\n                pageY: pageY,\n                deltaX: deltaX,\n                deltaY: deltaY,\n            };\n        };\n        return PointerDragging;\n    }());\n    // Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\n    function isPrimaryMouseButton(ev) {\n        return ev.button === 0 && !ev.ctrlKey;\n    }\n    // Ignoring fake mouse events generated by touch\n    // ----------------------------------------------------------------------------------------------------\n    function startIgnoringMouse() {\n        ignoreMouseDepth += 1;\n        setTimeout(function () {\n            ignoreMouseDepth -= 1;\n        }, config.touchMouseIgnoreWait);\n    }\n    // We want to attach touchmove as early as possible for Safari\n    // ----------------------------------------------------------------------------------------------------\n    function listenerCreated() {\n        listenerCnt += 1;\n        if (listenerCnt === 1) {\n            window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n        }\n    }\n    function listenerDestroyed() {\n        listenerCnt -= 1;\n        if (!listenerCnt) {\n            window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n        }\n    }\n    function onWindowTouchMove(ev) {\n        if (isWindowTouchMoveCancelled) {\n            ev.preventDefault();\n        }\n    }\n\n    /*\n    An effect in which an element follows the movement of a pointer across the screen.\n    The moving element is a clone of some other element.\n    Must call start + handleMove + stop.\n    */\n    var ElementMirror = /** @class */ (function () {\n        function ElementMirror() {\n            this.isVisible = false; // must be explicitly enabled\n            this.sourceEl = null;\n            this.mirrorEl = null;\n            this.sourceElRect = null; // screen coords relative to viewport\n            // options that can be set directly by caller\n            this.parentNode = document.body; // HIGHLY SUGGESTED to set this to sidestep ShadowDOM issues\n            this.zIndex = 9999;\n            this.revertDuration = 0;\n        }\n        ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n            this.sourceEl = sourceEl;\n            this.sourceElRect = this.sourceEl.getBoundingClientRect();\n            this.origScreenX = pageX - window.pageXOffset;\n            this.origScreenY = pageY - window.pageYOffset;\n            this.deltaX = 0;\n            this.deltaY = 0;\n            this.updateElPosition();\n        };\n        ElementMirror.prototype.handleMove = function (pageX, pageY) {\n            this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n            this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n            this.updateElPosition();\n        };\n        // can be called before start\n        ElementMirror.prototype.setIsVisible = function (bool) {\n            if (bool) {\n                if (!this.isVisible) {\n                    if (this.mirrorEl) {\n                        this.mirrorEl.style.display = '';\n                    }\n                    this.isVisible = bool; // needs to happen before updateElPosition\n                    this.updateElPosition(); // because was not updating the position while invisible\n                }\n            }\n            else if (this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = 'none';\n                }\n                this.isVisible = bool;\n            }\n        };\n        // always async\n        ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n            var _this = this;\n            var done = function () {\n                _this.cleanup();\n                callback();\n            };\n            if (needsRevertAnimation &&\n                this.mirrorEl &&\n                this.isVisible &&\n                this.revertDuration && // if 0, transition won't work\n                (this.deltaX || this.deltaY) // if same coords, transition won't work\n            ) {\n                this.doRevertAnimation(done, this.revertDuration);\n            }\n            else {\n                setTimeout(done, 0);\n            }\n        };\n        ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n            var mirrorEl = this.mirrorEl;\n            var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n            mirrorEl.style.transition =\n                'top ' + revertDuration + 'ms,' +\n                    'left ' + revertDuration + 'ms';\n            applyStyle(mirrorEl, {\n                left: finalSourceElRect.left,\n                top: finalSourceElRect.top,\n            });\n            whenTransitionDone(mirrorEl, function () {\n                mirrorEl.style.transition = '';\n                callback();\n            });\n        };\n        ElementMirror.prototype.cleanup = function () {\n            if (this.mirrorEl) {\n                removeElement(this.mirrorEl);\n                this.mirrorEl = null;\n            }\n            this.sourceEl = null;\n        };\n        ElementMirror.prototype.updateElPosition = function () {\n            if (this.sourceEl && this.isVisible) {\n                applyStyle(this.getMirrorEl(), {\n                    left: this.sourceElRect.left + this.deltaX,\n                    top: this.sourceElRect.top + this.deltaY,\n                });\n            }\n        };\n        ElementMirror.prototype.getMirrorEl = function () {\n            var sourceElRect = this.sourceElRect;\n            var mirrorEl = this.mirrorEl;\n            if (!mirrorEl) {\n                mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n                // we don't want long taps or any mouse interaction causing selection/menus.\n                // would use preventSelection(), but that prevents selectstart, causing problems.\n                mirrorEl.classList.add('fc-unselectable');\n                mirrorEl.classList.add('fc-event-dragging');\n                applyStyle(mirrorEl, {\n                    position: 'fixed',\n                    zIndex: this.zIndex,\n                    visibility: '',\n                    boxSizing: 'border-box',\n                    width: sourceElRect.right - sourceElRect.left,\n                    height: sourceElRect.bottom - sourceElRect.top,\n                    right: 'auto',\n                    bottom: 'auto',\n                    margin: 0,\n                });\n                this.parentNode.appendChild(mirrorEl);\n            }\n            return mirrorEl;\n        };\n        return ElementMirror;\n    }());\n\n    /*\n    Is a cache for a given element's scroll information (all the info that ScrollController stores)\n    in addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\n    The cache can be in one of two modes:\n    - doesListening:false - ignores when the container is scrolled by someone else\n    - doesListening:true - watch for scrolling and update the cache\n    */\n    var ScrollGeomCache = /** @class */ (function (_super) {\n        __extends(ScrollGeomCache, _super);\n        function ScrollGeomCache(scrollController, doesListening) {\n            var _this = _super.call(this) || this;\n            _this.handleScroll = function () {\n                _this.scrollTop = _this.scrollController.getScrollTop();\n                _this.scrollLeft = _this.scrollController.getScrollLeft();\n                _this.handleScrollChange();\n            };\n            _this.scrollController = scrollController;\n            _this.doesListening = doesListening;\n            _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n            _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n            _this.scrollWidth = scrollController.getScrollWidth();\n            _this.scrollHeight = scrollController.getScrollHeight();\n            _this.clientWidth = scrollController.getClientWidth();\n            _this.clientHeight = scrollController.getClientHeight();\n            _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n            if (_this.doesListening) {\n                _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n            }\n            return _this;\n        }\n        ScrollGeomCache.prototype.destroy = function () {\n            if (this.doesListening) {\n                this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n            }\n        };\n        ScrollGeomCache.prototype.getScrollTop = function () {\n            return this.scrollTop;\n        };\n        ScrollGeomCache.prototype.getScrollLeft = function () {\n            return this.scrollLeft;\n        };\n        ScrollGeomCache.prototype.setScrollTop = function (top) {\n            this.scrollController.setScrollTop(top);\n            if (!this.doesListening) {\n                // we are not relying on the element to normalize out-of-bounds scroll values\n                // so we need to sanitize ourselves\n                this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n                this.handleScrollChange();\n            }\n        };\n        ScrollGeomCache.prototype.setScrollLeft = function (top) {\n            this.scrollController.setScrollLeft(top);\n            if (!this.doesListening) {\n                // we are not relying on the element to normalize out-of-bounds scroll values\n                // so we need to sanitize ourselves\n                this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n                this.handleScrollChange();\n            }\n        };\n        ScrollGeomCache.prototype.getClientWidth = function () {\n            return this.clientWidth;\n        };\n        ScrollGeomCache.prototype.getClientHeight = function () {\n            return this.clientHeight;\n        };\n        ScrollGeomCache.prototype.getScrollWidth = function () {\n            return this.scrollWidth;\n        };\n        ScrollGeomCache.prototype.getScrollHeight = function () {\n            return this.scrollHeight;\n        };\n        ScrollGeomCache.prototype.handleScrollChange = function () {\n        };\n        return ScrollGeomCache;\n    }(ScrollController));\n\n    var ElementScrollGeomCache = /** @class */ (function (_super) {\n        __extends(ElementScrollGeomCache, _super);\n        function ElementScrollGeomCache(el, doesListening) {\n            return _super.call(this, new ElementScrollController(el), doesListening) || this;\n        }\n        ElementScrollGeomCache.prototype.getEventTarget = function () {\n            return this.scrollController.el;\n        };\n        ElementScrollGeomCache.prototype.computeClientRect = function () {\n            return computeInnerRect(this.scrollController.el);\n        };\n        return ElementScrollGeomCache;\n    }(ScrollGeomCache));\n\n    var WindowScrollGeomCache = /** @class */ (function (_super) {\n        __extends(WindowScrollGeomCache, _super);\n        function WindowScrollGeomCache(doesListening) {\n            return _super.call(this, new WindowScrollController(), doesListening) || this;\n        }\n        WindowScrollGeomCache.prototype.getEventTarget = function () {\n            return window;\n        };\n        WindowScrollGeomCache.prototype.computeClientRect = function () {\n            return {\n                left: this.scrollLeft,\n                right: this.scrollLeft + this.clientWidth,\n                top: this.scrollTop,\n                bottom: this.scrollTop + this.clientHeight,\n            };\n        };\n        // the window is the only scroll object that changes it's rectangle relative\n        // to the document's topleft as it scrolls\n        WindowScrollGeomCache.prototype.handleScrollChange = function () {\n            this.clientRect = this.computeClientRect();\n        };\n        return WindowScrollGeomCache;\n    }(ScrollGeomCache));\n\n    // If available we are using native \"performance\" API instead of \"Date\"\n    // Read more about it on MDN:\n    // https://developer.mozilla.org/en-US/docs/Web/API/Performance\n    var getTime = typeof performance === 'function' ? performance.now : Date.now;\n    /*\n    For a pointer interaction, automatically scrolls certain scroll containers when the pointer\n    approaches the edge.\n\n    The caller must call start + handleMove + stop.\n    */\n    var AutoScroller = /** @class */ (function () {\n        function AutoScroller() {\n            var _this = this;\n            // options that can be set by caller\n            this.isEnabled = true;\n            this.scrollQuery = [window, '.fc-scroller'];\n            this.edgeThreshold = 50; // pixels\n            this.maxVelocity = 300; // pixels per second\n            // internal state\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.isAnimating = false;\n            this.scrollCaches = null;\n            // protect against the initial pointerdown being too close to an edge and starting the scroll\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.animate = function () {\n                if (_this.isAnimating) { // wasn't cancelled between animation calls\n                    var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                    if (edge) {\n                        var now = getTime();\n                        _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                        _this.requestAnimation(now);\n                    }\n                    else {\n                        _this.isAnimating = false; // will stop animation\n                    }\n                }\n            };\n        }\n        AutoScroller.prototype.start = function (pageX, pageY, scrollStartEl) {\n            if (this.isEnabled) {\n                this.scrollCaches = this.buildCaches(scrollStartEl);\n                this.pointerScreenX = null;\n                this.pointerScreenY = null;\n                this.everMovedUp = false;\n                this.everMovedDown = false;\n                this.everMovedLeft = false;\n                this.everMovedRight = false;\n                this.handleMove(pageX, pageY);\n            }\n        };\n        AutoScroller.prototype.handleMove = function (pageX, pageY) {\n            if (this.isEnabled) {\n                var pointerScreenX = pageX - window.pageXOffset;\n                var pointerScreenY = pageY - window.pageYOffset;\n                var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n                var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n                if (yDelta < 0) {\n                    this.everMovedUp = true;\n                }\n                else if (yDelta > 0) {\n                    this.everMovedDown = true;\n                }\n                if (xDelta < 0) {\n                    this.everMovedLeft = true;\n                }\n                else if (xDelta > 0) {\n                    this.everMovedRight = true;\n                }\n                this.pointerScreenX = pointerScreenX;\n                this.pointerScreenY = pointerScreenY;\n                if (!this.isAnimating) {\n                    this.isAnimating = true;\n                    this.requestAnimation(getTime());\n                }\n            }\n        };\n        AutoScroller.prototype.stop = function () {\n            if (this.isEnabled) {\n                this.isAnimating = false; // will stop animation\n                for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                    var scrollCache = _a[_i];\n                    scrollCache.destroy();\n                }\n                this.scrollCaches = null;\n            }\n        };\n        AutoScroller.prototype.requestAnimation = function (now) {\n            this.msSinceRequest = now;\n            requestAnimationFrame(this.animate);\n        };\n        AutoScroller.prototype.handleSide = function (edge, seconds) {\n            var scrollCache = edge.scrollCache;\n            var edgeThreshold = this.edgeThreshold;\n            var invDistance = edgeThreshold - edge.distance;\n            var velocity = // the closer to the edge, the faster we scroll\n             ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n                this.maxVelocity * seconds;\n            var sign = 1;\n            switch (edge.name) {\n                case 'left':\n                    sign = -1;\n                // falls through\n                case 'right':\n                    scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                    break;\n                case 'top':\n                    sign = -1;\n                // falls through\n                case 'bottom':\n                    scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                    break;\n            }\n        };\n        // left/top are relative to document topleft\n        AutoScroller.prototype.computeBestEdge = function (left, top) {\n            var edgeThreshold = this.edgeThreshold;\n            var bestSide = null;\n            var scrollCaches = this.scrollCaches || [];\n            for (var _i = 0, scrollCaches_1 = scrollCaches; _i < scrollCaches_1.length; _i++) {\n                var scrollCache = scrollCaches_1[_i];\n                var rect = scrollCache.clientRect;\n                var leftDist = left - rect.left;\n                var rightDist = rect.right - left;\n                var topDist = top - rect.top;\n                var bottomDist = rect.bottom - top;\n                // completely within the rect?\n                if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                    if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                        (!bestSide || bestSide.distance > topDist)) {\n                        bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                    }\n                    if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                        (!bestSide || bestSide.distance > bottomDist)) {\n                        bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                    }\n                    if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                        (!bestSide || bestSide.distance > leftDist)) {\n                        bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                    }\n                    if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                        (!bestSide || bestSide.distance > rightDist)) {\n                        bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                    }\n                }\n            }\n            return bestSide;\n        };\n        AutoScroller.prototype.buildCaches = function (scrollStartEl) {\n            return this.queryScrollEls(scrollStartEl).map(function (el) {\n                if (el === window) {\n                    return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n                }\n                return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n            });\n        };\n        AutoScroller.prototype.queryScrollEls = function (scrollStartEl) {\n            var els = [];\n            for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n                var query = _a[_i];\n                if (typeof query === 'object') {\n                    els.push(query);\n                }\n                else {\n                    els.push.apply(els, Array.prototype.slice.call(getElRoot(scrollStartEl).querySelectorAll(query)));\n                }\n            }\n            return els;\n        };\n        return AutoScroller;\n    }());\n\n    /*\n    Monitors dragging on an element. Has a number of high-level features:\n    - minimum distance required before dragging\n    - minimum wait time (\"delay\") before dragging\n    - a mirror element that follows the pointer\n    */\n    var FeaturefulElementDragging = /** @class */ (function (_super) {\n        __extends(FeaturefulElementDragging, _super);\n        function FeaturefulElementDragging(containerEl, selector) {\n            var _this = _super.call(this, containerEl) || this;\n            _this.containerEl = containerEl;\n            // options that can be directly set by caller\n            // the caller can also set the PointerDragging's options as well\n            _this.delay = null;\n            _this.minDistance = 0;\n            _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n            _this.mirrorNeedsRevert = false;\n            _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n            _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n            _this.isDelayEnded = false;\n            _this.isDistanceSurpassed = false;\n            _this.delayTimeoutId = null;\n            _this.onPointerDown = function (ev) {\n                if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                    _this.isInteracting = true;\n                    _this.isDelayEnded = false;\n                    _this.isDistanceSurpassed = false;\n                    preventSelection(document.body);\n                    preventContextMenu(document.body);\n                    // prevent links from being visited if there's an eventual drag.\n                    // also prevents selection in older browsers (maybe?).\n                    // not necessary for touch, besides, browser would complain about passiveness.\n                    if (!ev.isTouch) {\n                        ev.origEvent.preventDefault();\n                    }\n                    _this.emitter.trigger('pointerdown', ev);\n                    if (_this.isInteracting && // not destroyed via pointerdown handler\n                        !_this.pointer.shouldIgnoreMove) {\n                        // actions related to initiating dragstart+dragmove+dragend...\n                        _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                        _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                        _this.startDelay(ev);\n                        if (!_this.minDistance) {\n                            _this.handleDistanceSurpassed(ev);\n                        }\n                    }\n                }\n            };\n            _this.onPointerMove = function (ev) {\n                if (_this.isInteracting) {\n                    _this.emitter.trigger('pointermove', ev);\n                    if (!_this.isDistanceSurpassed) {\n                        var minDistance = _this.minDistance;\n                        var distanceSq = void 0; // current distance from the origin, squared\n                        var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                        distanceSq = deltaX * deltaX + deltaY * deltaY;\n                        if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                            _this.handleDistanceSurpassed(ev);\n                        }\n                    }\n                    if (_this.isDragging) {\n                        // a real pointer move? (not one simulated by scrolling)\n                        if (ev.origEvent.type !== 'scroll') {\n                            _this.mirror.handleMove(ev.pageX, ev.pageY);\n                            _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                        }\n                        _this.emitter.trigger('dragmove', ev);\n                    }\n                }\n            };\n            _this.onPointerUp = function (ev) {\n                if (_this.isInteracting) {\n                    _this.isInteracting = false;\n                    allowSelection(document.body);\n                    allowContextMenu(document.body);\n                    _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                    if (_this.isDragging) {\n                        _this.autoScroller.stop();\n                        _this.tryStopDrag(ev); // which will stop the mirror\n                    }\n                    if (_this.delayTimeoutId) {\n                        clearTimeout(_this.delayTimeoutId);\n                        _this.delayTimeoutId = null;\n                    }\n                }\n            };\n            var pointer = _this.pointer = new PointerDragging(containerEl);\n            pointer.emitter.on('pointerdown', _this.onPointerDown);\n            pointer.emitter.on('pointermove', _this.onPointerMove);\n            pointer.emitter.on('pointerup', _this.onPointerUp);\n            if (selector) {\n                pointer.selector = selector;\n            }\n            _this.mirror = new ElementMirror();\n            _this.autoScroller = new AutoScroller();\n            return _this;\n        }\n        FeaturefulElementDragging.prototype.destroy = function () {\n            this.pointer.destroy();\n            // HACK: simulate a pointer-up to end the current drag\n            // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n            this.onPointerUp({});\n        };\n        FeaturefulElementDragging.prototype.startDelay = function (ev) {\n            var _this = this;\n            if (typeof this.delay === 'number') {\n                this.delayTimeoutId = setTimeout(function () {\n                    _this.delayTimeoutId = null;\n                    _this.handleDelayEnd(ev);\n                }, this.delay); // not assignable to number!\n            }\n            else {\n                this.handleDelayEnd(ev);\n            }\n        };\n        FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n            this.isDelayEnded = true;\n            this.tryStartDrag(ev);\n        };\n        FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n            this.isDistanceSurpassed = true;\n            this.tryStartDrag(ev);\n        };\n        FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n            if (this.isDelayEnded && this.isDistanceSurpassed) {\n                if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                    this.isDragging = true;\n                    this.mirrorNeedsRevert = false;\n                    this.autoScroller.start(ev.pageX, ev.pageY, this.containerEl);\n                    this.emitter.trigger('dragstart', ev);\n                    if (this.touchScrollAllowed === false) {\n                        this.pointer.cancelTouchScroll();\n                    }\n                }\n            }\n        };\n        FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n            // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n            // that come from the document to fire beforehand. much more convenient this way.\n            this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n        };\n        FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n            this.isDragging = false;\n            this.emitter.trigger('dragend', ev);\n        };\n        // fill in the implementations...\n        FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n            this.pointer.shouldIgnoreMove = bool;\n        };\n        FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n            this.mirror.setIsVisible(bool);\n        };\n        FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n            this.mirrorNeedsRevert = bool;\n        };\n        FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n            this.autoScroller.isEnabled = bool;\n        };\n        return FeaturefulElementDragging;\n    }(ElementDragging));\n\n    /*\n    When this class is instantiated, it records the offset of an element (relative to the document topleft),\n    and continues to monitor scrolling, updating the cached coordinates if it needs to.\n    Does not access the DOM after instantiation, so highly performant.\n\n    Also keeps track of all scrolling/overflow:hidden containers that are parents of the given element\n    and an determine if a given point is inside the combined clipping rectangle.\n    */\n    var OffsetTracker = /** @class */ (function () {\n        function OffsetTracker(el) {\n            this.origRect = computeRect(el);\n            // will work fine for divs that have overflow:hidden\n            this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n        }\n        OffsetTracker.prototype.destroy = function () {\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n        };\n        OffsetTracker.prototype.computeLeft = function () {\n            var left = this.origRect.left;\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n            }\n            return left;\n        };\n        OffsetTracker.prototype.computeTop = function () {\n            var top = this.origRect.top;\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n            }\n            return top;\n        };\n        OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n            var point = { left: pageX, top: pageY };\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                    !pointInsideRect(point, scrollCache.clientRect)) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        return OffsetTracker;\n    }());\n    // certain clipping containers should never constrain interactions, like <html> and <body>\n    // https://github.com/fullcalendar/fullcalendar/issues/3615\n    function isIgnoredClipping(node) {\n        var tagName = node.tagName;\n        return tagName === 'HTML' || tagName === 'BODY';\n    }\n\n    /*\n    Tracks movement over multiple droppable areas (aka \"hits\")\n    that exist in one or more DateComponents.\n    Relies on an existing draggable.\n\n    emits:\n    - pointerdown\n    - dragstart\n    - hitchange - fires initially, even if not over a hit\n    - pointerup\n    - (hitchange - again, to null, if ended over a hit)\n    - dragend\n    */\n    var HitDragging = /** @class */ (function () {\n        function HitDragging(dragging, droppableStore) {\n            var _this = this;\n            // options that can be set by caller\n            this.useSubjectCenter = false;\n            this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n            this.initialHit = null;\n            this.movingHit = null;\n            this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n            this.handlePointerDown = function (ev) {\n                var dragging = _this.dragging;\n                _this.initialHit = null;\n                _this.movingHit = null;\n                _this.finalHit = null;\n                _this.prepareHits();\n                _this.processFirstCoord(ev);\n                if (_this.initialHit || !_this.requireInitial) {\n                    dragging.setIgnoreMove(false);\n                    // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                    _this.emitter.trigger('pointerdown', ev);\n                }\n                else {\n                    dragging.setIgnoreMove(true);\n                }\n            };\n            this.handleDragStart = function (ev) {\n                _this.emitter.trigger('dragstart', ev);\n                _this.handleMove(ev, true); // force = fire even if initially null\n            };\n            this.handleDragMove = function (ev) {\n                _this.emitter.trigger('dragmove', ev);\n                _this.handleMove(ev);\n            };\n            this.handlePointerUp = function (ev) {\n                _this.releaseHits();\n                _this.emitter.trigger('pointerup', ev);\n            };\n            this.handleDragEnd = function (ev) {\n                if (_this.movingHit) {\n                    _this.emitter.trigger('hitupdate', null, true, ev);\n                }\n                _this.finalHit = _this.movingHit;\n                _this.movingHit = null;\n                _this.emitter.trigger('dragend', ev);\n            };\n            this.droppableStore = droppableStore;\n            dragging.emitter.on('pointerdown', this.handlePointerDown);\n            dragging.emitter.on('dragstart', this.handleDragStart);\n            dragging.emitter.on('dragmove', this.handleDragMove);\n            dragging.emitter.on('pointerup', this.handlePointerUp);\n            dragging.emitter.on('dragend', this.handleDragEnd);\n            this.dragging = dragging;\n            this.emitter = new Emitter();\n        }\n        // sets initialHit\n        // sets coordAdjust\n        HitDragging.prototype.processFirstCoord = function (ev) {\n            var origPoint = { left: ev.pageX, top: ev.pageY };\n            var adjustedPoint = origPoint;\n            var subjectEl = ev.subjectEl;\n            var subjectRect;\n            if (subjectEl instanceof HTMLElement) { // i.e. not a Document/ShadowRoot\n                subjectRect = computeRect(subjectEl);\n                adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n            }\n            var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n            if (initialHit) {\n                if (this.useSubjectCenter && subjectRect) {\n                    var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                    if (slicedSubjectRect) {\n                        adjustedPoint = getRectCenter(slicedSubjectRect);\n                    }\n                }\n                this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n            }\n            else {\n                this.coordAdjust = { left: 0, top: 0 };\n            }\n        };\n        HitDragging.prototype.handleMove = function (ev, forceHandle) {\n            var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n            if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n                this.movingHit = hit;\n                this.emitter.trigger('hitupdate', hit, false, ev);\n            }\n        };\n        HitDragging.prototype.prepareHits = function () {\n            this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n                interactionSettings.component.prepareHits();\n                return new OffsetTracker(interactionSettings.el);\n            });\n        };\n        HitDragging.prototype.releaseHits = function () {\n            var offsetTrackers = this.offsetTrackers;\n            for (var id in offsetTrackers) {\n                offsetTrackers[id].destroy();\n            }\n            this.offsetTrackers = {};\n        };\n        HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n            var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n            var bestHit = null;\n            for (var id in droppableStore) {\n                var component = droppableStore[id].component;\n                var offsetTracker = offsetTrackers[id];\n                if (offsetTracker && // wasn't destroyed mid-drag\n                    offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                    var originLeft = offsetTracker.computeLeft();\n                    var originTop = offsetTracker.computeTop();\n                    var positionLeft = offsetLeft - originLeft;\n                    var positionTop = offsetTop - originTop;\n                    var origRect = offsetTracker.origRect;\n                    var width = origRect.right - origRect.left;\n                    var height = origRect.bottom - origRect.top;\n                    if (\n                    // must be within the element's bounds\n                    positionLeft >= 0 && positionLeft < width &&\n                        positionTop >= 0 && positionTop < height) {\n                        var hit = component.queryHit(positionLeft, positionTop, width, height);\n                        if (hit && (\n                        // make sure the hit is within activeRange, meaning it's not a dead cell\n                        rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                            (!bestHit || hit.layer > bestHit.layer)) {\n                            hit.componentId = id;\n                            hit.context = component.context;\n                            // TODO: better way to re-orient rectangle\n                            hit.rect.left += originLeft;\n                            hit.rect.right += originLeft;\n                            hit.rect.top += originTop;\n                            hit.rect.bottom += originTop;\n                            bestHit = hit;\n                        }\n                    }\n                }\n            }\n            return bestHit;\n        };\n        return HitDragging;\n    }());\n    function isHitsEqual(hit0, hit1) {\n        if (!hit0 && !hit1) {\n            return true;\n        }\n        if (Boolean(hit0) !== Boolean(hit1)) {\n            return false;\n        }\n        return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n    }\n\n    function buildDatePointApiWithContext(dateSpan, context) {\n        var props = {};\n        for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(props, transform(dateSpan, context));\n        }\n        __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n        return props;\n    }\n    function buildDatePointApi(span, dateEnv) {\n        return {\n            date: dateEnv.toDate(span.range.start),\n            dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n            allDay: span.allDay,\n        };\n    }\n\n    /*\n    Monitors when the user clicks on a specific date/time of a component.\n    A pointerdown+pointerup on the same \"hit\" constitutes a click.\n    */\n    var DateClicking = /** @class */ (function (_super) {\n        __extends(DateClicking, _super);\n        function DateClicking(settings) {\n            var _this = _super.call(this, settings) || this;\n            _this.handlePointerDown = function (pev) {\n                var dragging = _this.dragging;\n                var downEl = pev.origEvent.target;\n                // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n                dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n            };\n            // won't even fire if moving was ignored\n            _this.handleDragEnd = function (ev) {\n                var component = _this.component;\n                var pointer = _this.dragging.pointer;\n                if (!pointer.wasTouchScroll) {\n                    var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                    if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                        var context = component.context;\n                        var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                        context.emitter.trigger('dateClick', arg);\n                    }\n                }\n            };\n            // we DO want to watch pointer moves because otherwise finalHit won't get populated\n            _this.dragging = new FeaturefulElementDragging(settings.el);\n            _this.dragging.autoScroller.isEnabled = false;\n            var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n            hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n            hitDragging.emitter.on('dragend', _this.handleDragEnd);\n            return _this;\n        }\n        DateClicking.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        return DateClicking;\n    }(Interaction));\n\n    /*\n    Tracks when the user selects a portion of time of a component,\n    constituted by a drag over date cells, with a possible delay at the beginning of the drag.\n    */\n    var DateSelecting = /** @class */ (function (_super) {\n        __extends(DateSelecting, _super);\n        function DateSelecting(settings) {\n            var _this = _super.call(this, settings) || this;\n            _this.dragSelection = null;\n            _this.handlePointerDown = function (ev) {\n                var _a = _this, component = _a.component, dragging = _a.dragging;\n                var options = component.context.options;\n                var canSelect = options.selectable &&\n                    component.isValidDateDownEl(ev.origEvent.target);\n                // don't bother to watch expensive moves if component won't do selection\n                dragging.setIgnoreMove(!canSelect);\n                // if touch, require user to hold down\n                dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n            };\n            _this.handleDragStart = function (ev) {\n                _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n            };\n            _this.handleHitUpdate = function (hit, isFinal) {\n                var context = _this.component.context;\n                var dragSelection = null;\n                var isInvalid = false;\n                if (hit) {\n                    var initialHit = _this.hitDragging.initialHit;\n                    var disallowed = hit.componentId === initialHit.componentId\n                        && _this.isHitComboAllowed\n                        && !_this.isHitComboAllowed(initialHit, hit);\n                    if (!disallowed) {\n                        dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                    }\n                    if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                        isInvalid = true;\n                        dragSelection = null;\n                    }\n                }\n                if (dragSelection) {\n                    context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n                }\n                else if (!isFinal) { // only unselect if moved away while dragging\n                    context.dispatch({ type: 'UNSELECT_DATES' });\n                }\n                if (!isInvalid) {\n                    enableCursor();\n                }\n                else {\n                    disableCursor();\n                }\n                if (!isFinal) {\n                    _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n                }\n            };\n            _this.handlePointerUp = function (pev) {\n                if (_this.dragSelection) {\n                    // selection is already rendered, so just need to report selection\n                    triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                    _this.dragSelection = null;\n                }\n            };\n            var component = settings.component;\n            var options = component.context.options;\n            var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n            dragging.touchScrollAllowed = false;\n            dragging.minDistance = options.selectMinDistance || 0;\n            dragging.autoScroller.isEnabled = options.dragScroll;\n            var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n            hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n            hitDragging.emitter.on('dragstart', _this.handleDragStart);\n            hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n            hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n            return _this;\n        }\n        DateSelecting.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        return DateSelecting;\n    }(Interaction));\n    function getComponentTouchDelay$1(component) {\n        var options = component.context.options;\n        var delay = options.selectLongPressDelay;\n        if (delay == null) {\n            delay = options.longPressDelay;\n        }\n        return delay;\n    }\n    function joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n        var dateSpan0 = hit0.dateSpan;\n        var dateSpan1 = hit1.dateSpan;\n        var ms = [\n            dateSpan0.range.start,\n            dateSpan0.range.end,\n            dateSpan1.range.start,\n            dateSpan1.range.end,\n        ];\n        ms.sort(compareNumbers);\n        var props = {};\n        for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n            var transformer = dateSelectionTransformers_1[_i];\n            var res = transformer(hit0, hit1);\n            if (res === false) {\n                return null;\n            }\n            if (res) {\n                __assign(props, res);\n            }\n        }\n        props.range = { start: ms[0], end: ms[3] };\n        props.allDay = dateSpan0.allDay;\n        return props;\n    }\n\n    var EventDragging = /** @class */ (function (_super) {\n        __extends(EventDragging, _super);\n        function EventDragging(settings) {\n            var _this = _super.call(this, settings) || this;\n            // internal state\n            _this.subjectEl = null;\n            _this.subjectSeg = null; // the seg being selected/dragged\n            _this.isDragging = false;\n            _this.eventRange = null;\n            _this.relevantEvents = null; // the events being dragged\n            _this.receivingContext = null;\n            _this.validMutation = null;\n            _this.mutatedRelevantEvents = null;\n            _this.handlePointerDown = function (ev) {\n                var origTarget = ev.origEvent.target;\n                var _a = _this, component = _a.component, dragging = _a.dragging;\n                var mirror = dragging.mirror;\n                var options = component.context.options;\n                var initialContext = component.context;\n                _this.subjectEl = ev.subjectEl;\n                var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n                var eventRange = _this.eventRange = subjectSeg.eventRange;\n                var eventInstanceId = eventRange.instance.instanceId;\n                _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n                dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n                dragging.delay =\n                    // only do a touch delay if touch and this event hasn't been selected yet\n                    (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                        getComponentTouchDelay(component) :\n                        null;\n                if (options.fixedMirrorParent) {\n                    mirror.parentNode = options.fixedMirrorParent;\n                }\n                else {\n                    mirror.parentNode = elementClosest(origTarget, '.fc');\n                }\n                mirror.revertDuration = options.dragRevertDuration;\n                var isValid = component.isValidSegDownEl(origTarget) &&\n                    !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n                dragging.setIgnoreMove(!isValid);\n                // disable dragging for elements that are resizable (ie, selectable)\n                // but are not draggable\n                _this.isDragging = isValid &&\n                    ev.subjectEl.classList.contains('fc-event-draggable');\n            };\n            _this.handleDragStart = function (ev) {\n                var initialContext = _this.component.context;\n                var eventRange = _this.eventRange;\n                var eventInstanceId = eventRange.instance.instanceId;\n                if (ev.isTouch) {\n                    // need to select a different event?\n                    if (eventInstanceId !== _this.component.props.eventSelection) {\n                        initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                    }\n                }\n                else {\n                    // if now using mouse, but was previous touch interaction, clear selected event\n                    initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n                if (_this.isDragging) {\n                    initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                    initialContext.emitter.trigger('eventDragStart', {\n                        el: _this.subjectEl,\n                        event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                        jsEvent: ev.origEvent,\n                        view: initialContext.viewApi,\n                    });\n                }\n            };\n            _this.handleHitUpdate = function (hit, isFinal) {\n                if (!_this.isDragging) {\n                    return;\n                }\n                var relevantEvents = _this.relevantEvents;\n                var initialHit = _this.hitDragging.initialHit;\n                var initialContext = _this.component.context;\n                // states based on new hit\n                var receivingContext = null;\n                var mutation = null;\n                var mutatedRelevantEvents = null;\n                var isInvalid = false;\n                var interaction = {\n                    affectedEvents: relevantEvents,\n                    mutatedEvents: createEmptyEventStore(),\n                    isEvent: true,\n                };\n                if (hit) {\n                    receivingContext = hit.context;\n                    var receivingOptions = receivingContext.options;\n                    if (initialContext === receivingContext ||\n                        (receivingOptions.editable && receivingOptions.droppable)) {\n                        mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                        if (mutation) {\n                            mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                            interaction.mutatedEvents = mutatedRelevantEvents;\n                            if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                                isInvalid = true;\n                                mutation = null;\n                                mutatedRelevantEvents = null;\n                                interaction.mutatedEvents = createEmptyEventStore();\n                            }\n                        }\n                    }\n                    else {\n                        receivingContext = null;\n                    }\n                }\n                _this.displayDrag(receivingContext, interaction);\n                if (!isInvalid) {\n                    enableCursor();\n                }\n                else {\n                    disableCursor();\n                }\n                if (!isFinal) {\n                    if (initialContext === receivingContext && // TODO: write test for this\n                        isHitsEqual(initialHit, hit)) {\n                        mutation = null;\n                    }\n                    _this.dragging.setMirrorNeedsRevert(!mutation);\n                    // render the mirror if no already-rendered mirror\n                    // TODO: wish we could somehow wait for dispatch to guarantee render\n                    _this.dragging.setMirrorIsVisible(!hit || !getElRoot(_this.subjectEl).querySelector('.fc-event-mirror'));\n                    // assign states based on new hit\n                    _this.receivingContext = receivingContext;\n                    _this.validMutation = mutation;\n                    _this.mutatedRelevantEvents = mutatedRelevantEvents;\n                }\n            };\n            _this.handlePointerUp = function () {\n                if (!_this.isDragging) {\n                    _this.cleanup(); // because handleDragEnd won't fire\n                }\n            };\n            _this.handleDragEnd = function (ev) {\n                if (_this.isDragging) {\n                    var initialContext_1 = _this.component.context;\n                    var initialView = initialContext_1.viewApi;\n                    var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                    var eventDef = _this.eventRange.def;\n                    var eventInstance = _this.eventRange.instance;\n                    var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                    var relevantEvents_1 = _this.relevantEvents;\n                    var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                    var finalHit = _this.hitDragging.finalHit;\n                    _this.clearDrag(); // must happen after revert animation\n                    initialContext_1.emitter.trigger('eventDragStop', {\n                        el: _this.subjectEl,\n                        event: eventApi,\n                        jsEvent: ev.origEvent,\n                        view: initialView,\n                    });\n                    if (validMutation) {\n                        // dropped within same calendar\n                        if (receivingContext_1 === initialContext_1) {\n                            var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                            initialContext_1.dispatch({\n                                type: 'MERGE_EVENTS',\n                                eventStore: mutatedRelevantEvents_1,\n                            });\n                            var eventChangeArg = {\n                                oldEvent: eventApi,\n                                event: updatedEventApi,\n                                relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                                revert: function () {\n                                    initialContext_1.dispatch({\n                                        type: 'MERGE_EVENTS',\n                                        eventStore: relevantEvents_1, // the pre-change data\n                                    });\n                                },\n                            };\n                            var transformed = {};\n                            for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                                var transformer = _b[_i];\n                                __assign(transformed, transformer(validMutation, initialContext_1));\n                            }\n                            initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                            initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                            // dropped in different calendar\n                        }\n                        else if (receivingContext_1) {\n                            var eventRemoveArg = {\n                                event: eventApi,\n                                relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                                revert: function () {\n                                    initialContext_1.dispatch({\n                                        type: 'MERGE_EVENTS',\n                                        eventStore: relevantEvents_1,\n                                    });\n                                },\n                            };\n                            initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                            initialContext_1.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: relevantEvents_1,\n                            });\n                            initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                            var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                            var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                            var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                            receivingContext_1.dispatch({\n                                type: 'MERGE_EVENTS',\n                                eventStore: mutatedRelevantEvents_1,\n                            });\n                            var eventAddArg = {\n                                event: addedEventApi,\n                                relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                                revert: function () {\n                                    receivingContext_1.dispatch({\n                                        type: 'REMOVE_EVENTS',\n                                        eventStore: mutatedRelevantEvents_1,\n                                    });\n                                },\n                            };\n                            receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                            if (ev.isTouch) {\n                                receivingContext_1.dispatch({\n                                    type: 'SELECT_EVENT',\n                                    eventInstanceId: eventInstance.instanceId,\n                                });\n                            }\n                            receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                            receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                        }\n                    }\n                    else {\n                        initialContext_1.emitter.trigger('_noEventDrop');\n                    }\n                }\n                _this.cleanup();\n            };\n            var component = _this.component;\n            var options = component.context.options;\n            var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n            dragging.pointer.selector = EventDragging.SELECTOR;\n            dragging.touchScrollAllowed = false;\n            dragging.autoScroller.isEnabled = options.dragScroll;\n            var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n            hitDragging.useSubjectCenter = settings.useEventCenter;\n            hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n            hitDragging.emitter.on('dragstart', _this.handleDragStart);\n            hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n            hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n            hitDragging.emitter.on('dragend', _this.handleDragEnd);\n            return _this;\n        }\n        EventDragging.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        // render a drag state on the next receivingCalendar\n        EventDragging.prototype.displayDrag = function (nextContext, state) {\n            var initialContext = this.component.context;\n            var prevContext = this.receivingContext;\n            // does the previous calendar need to be cleared?\n            if (prevContext && prevContext !== nextContext) {\n                // does the initial calendar need to be cleared?\n                // if so, don't clear all the way. we still need to to hide the affectedEvents\n                if (prevContext === initialContext) {\n                    prevContext.dispatch({\n                        type: 'SET_EVENT_DRAG',\n                        state: {\n                            affectedEvents: state.affectedEvents,\n                            mutatedEvents: createEmptyEventStore(),\n                            isEvent: true,\n                        },\n                    });\n                    // completely clear the old calendar if it wasn't the initial\n                }\n                else {\n                    prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n                }\n            }\n            if (nextContext) {\n                nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n            }\n        };\n        EventDragging.prototype.clearDrag = function () {\n            var initialCalendar = this.component.context;\n            var receivingContext = this.receivingContext;\n            if (receivingContext) {\n                receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n            // the initial calendar might have an dummy drag state from displayDrag\n            if (initialCalendar !== receivingContext) {\n                initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        };\n        EventDragging.prototype.cleanup = function () {\n            this.subjectSeg = null;\n            this.isDragging = false;\n            this.eventRange = null;\n            this.relevantEvents = null;\n            this.receivingContext = null;\n            this.validMutation = null;\n            this.mutatedRelevantEvents = null;\n        };\n        // TODO: test this in IE11\n        // QUESTION: why do we need it on the resizable???\n        EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n        return EventDragging;\n    }(Interaction));\n    function computeEventMutation(hit0, hit1, massagers) {\n        var dateSpan0 = hit0.dateSpan;\n        var dateSpan1 = hit1.dateSpan;\n        var date0 = dateSpan0.range.start;\n        var date1 = dateSpan1.range.start;\n        var standardProps = {};\n        if (dateSpan0.allDay !== dateSpan1.allDay) {\n            standardProps.allDay = dateSpan1.allDay;\n            standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n            if (dateSpan1.allDay) {\n                // means date1 is already start-of-day,\n                // but date0 needs to be converted\n                date0 = startOfDay(date0);\n            }\n        }\n        var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n            hit0.largeUnit :\n            null);\n        if (delta.milliseconds) { // has hours/minutes/seconds\n            standardProps.allDay = false;\n        }\n        var mutation = {\n            datesDelta: delta,\n            standardProps: standardProps,\n        };\n        for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n            var massager = massagers_1[_i];\n            massager(mutation, hit0, hit1);\n        }\n        return mutation;\n    }\n    function getComponentTouchDelay(component) {\n        var options = component.context.options;\n        var delay = options.eventLongPressDelay;\n        if (delay == null) {\n            delay = options.longPressDelay;\n        }\n        return delay;\n    }\n\n    var EventResizing = /** @class */ (function (_super) {\n        __extends(EventResizing, _super);\n        function EventResizing(settings) {\n            var _this = _super.call(this, settings) || this;\n            // internal state\n            _this.draggingSegEl = null;\n            _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n            _this.eventRange = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            _this.mutatedRelevantEvents = null;\n            _this.handlePointerDown = function (ev) {\n                var component = _this.component;\n                var segEl = _this.querySegEl(ev);\n                var seg = getElSeg(segEl);\n                var eventRange = _this.eventRange = seg.eventRange;\n                _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n                // if touch, need to be working with a selected event\n                _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                    (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n            };\n            _this.handleDragStart = function (ev) {\n                var context = _this.component.context;\n                var eventRange = _this.eventRange;\n                _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n                var segEl = _this.querySegEl(ev);\n                _this.draggingSegEl = segEl;\n                _this.draggingSeg = getElSeg(segEl);\n                context.calendarApi.unselect();\n                context.emitter.trigger('eventResizeStart', {\n                    el: segEl,\n                    event: new EventApi(context, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: context.viewApi,\n                });\n            };\n            _this.handleHitUpdate = function (hit, isFinal, ev) {\n                var context = _this.component.context;\n                var relevantEvents = _this.relevantEvents;\n                var initialHit = _this.hitDragging.initialHit;\n                var eventInstance = _this.eventRange.instance;\n                var mutation = null;\n                var mutatedRelevantEvents = null;\n                var isInvalid = false;\n                var interaction = {\n                    affectedEvents: relevantEvents,\n                    mutatedEvents: createEmptyEventStore(),\n                    isEvent: true,\n                };\n                if (hit) {\n                    var disallowed = hit.componentId === initialHit.componentId\n                        && _this.isHitComboAllowed\n                        && !_this.isHitComboAllowed(initialHit, hit);\n                    if (!disallowed) {\n                        mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                    }\n                }\n                if (mutation) {\n                    mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                    interaction.mutatedEvents = mutatedRelevantEvents;\n                    if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                        isInvalid = true;\n                        mutation = null;\n                        mutatedRelevantEvents = null;\n                        interaction.mutatedEvents = null;\n                    }\n                }\n                if (mutatedRelevantEvents) {\n                    context.dispatch({\n                        type: 'SET_EVENT_RESIZE',\n                        state: interaction,\n                    });\n                }\n                else {\n                    context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n                }\n                if (!isInvalid) {\n                    enableCursor();\n                }\n                else {\n                    disableCursor();\n                }\n                if (!isFinal) {\n                    if (mutation && isHitsEqual(initialHit, hit)) {\n                        mutation = null;\n                    }\n                    _this.validMutation = mutation;\n                    _this.mutatedRelevantEvents = mutatedRelevantEvents;\n                }\n            };\n            _this.handleDragEnd = function (ev) {\n                var context = _this.component.context;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(context, eventDef, eventInstance);\n                var relevantEvents = _this.relevantEvents;\n                var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n                context.emitter.trigger('eventResizeStop', {\n                    el: _this.draggingSegEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: context.viewApi,\n                });\n                if (_this.validMutation) {\n                    var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                    context.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: mutatedRelevantEvents,\n                    });\n                    var eventChangeArg = {\n                        oldEvent: eventApi,\n                        event: updatedEventApi,\n                        relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                        revert: function () {\n                            context.dispatch({\n                                type: 'MERGE_EVENTS',\n                                eventStore: relevantEvents, // the pre-change events\n                            });\n                        },\n                    };\n                    context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                    context.emitter.trigger('eventChange', eventChangeArg);\n                }\n                else {\n                    context.emitter.trigger('_noEventResize');\n                }\n                // reset all internal state\n                _this.draggingSeg = null;\n                _this.relevantEvents = null;\n                _this.validMutation = null;\n                // okay to keep eventInstance around. useful to set it in handlePointerDown\n            };\n            var component = settings.component;\n            var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n            dragging.pointer.selector = '.fc-event-resizer';\n            dragging.touchScrollAllowed = false;\n            dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n            var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n            hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n            hitDragging.emitter.on('dragstart', _this.handleDragStart);\n            hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n            hitDragging.emitter.on('dragend', _this.handleDragEnd);\n            return _this;\n        }\n        EventResizing.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        EventResizing.prototype.querySegEl = function (ev) {\n            return elementClosest(ev.subjectEl, '.fc-event');\n        };\n        return EventResizing;\n    }(Interaction));\n    function computeMutation(hit0, hit1, isFromStart, instanceRange) {\n        var dateEnv = hit0.context.dateEnv;\n        var date0 = hit0.dateSpan.range.start;\n        var date1 = hit1.dateSpan.range.start;\n        var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n        if (isFromStart) {\n            if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n                return { startDelta: delta };\n            }\n        }\n        else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n            return { endDelta: delta };\n        }\n        return null;\n    }\n\n    var UnselectAuto = /** @class */ (function () {\n        function UnselectAuto(context) {\n            var _this = this;\n            this.context = context;\n            this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n            this.matchesCancel = false;\n            this.matchesEvent = false;\n            this.onSelect = function (selectInfo) {\n                if (selectInfo.jsEvent) {\n                    _this.isRecentPointerDateSelect = true;\n                }\n            };\n            this.onDocumentPointerDown = function (pev) {\n                var unselectCancel = _this.context.options.unselectCancel;\n                var downEl = getEventTargetViaRoot(pev.origEvent);\n                _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n                _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n            };\n            this.onDocumentPointerUp = function (pev) {\n                var context = _this.context;\n                var documentPointer = _this.documentPointer;\n                var calendarState = context.getCurrentData();\n                // touch-scrolling should never unfocus any type of selection\n                if (!documentPointer.wasTouchScroll) {\n                    if (calendarState.dateSelection && // an existing date selection?\n                        !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                    ) {\n                        var unselectAuto = context.options.unselectAuto;\n                        if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                            context.calendarApi.unselect(pev);\n                        }\n                    }\n                    if (calendarState.eventSelection && // an existing event selected?\n                        !_this.matchesEvent // interaction DIDN'T start on an event\n                    ) {\n                        context.dispatch({ type: 'UNSELECT_EVENT' });\n                    }\n                }\n                _this.isRecentPointerDateSelect = false;\n            };\n            var documentPointer = this.documentPointer = new PointerDragging(document);\n            documentPointer.shouldIgnoreMove = true;\n            documentPointer.shouldWatchScroll = false;\n            documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n            documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n            /*\n            TODO: better way to know about whether there was a selection with the pointer\n            */\n            context.emitter.on('select', this.onSelect);\n        }\n        UnselectAuto.prototype.destroy = function () {\n            this.context.emitter.off('select', this.onSelect);\n            this.documentPointer.destroy();\n        };\n        return UnselectAuto;\n    }());\n\n    var OPTION_REFINERS$3 = {\n        fixedMirrorParent: identity,\n    };\n    var LISTENER_REFINERS = {\n        dateClick: identity,\n        eventDragStart: identity,\n        eventDragStop: identity,\n        eventDrop: identity,\n        eventResizeStart: identity,\n        eventResizeStop: identity,\n        eventResize: identity,\n        drop: identity,\n        eventReceive: identity,\n        eventLeave: identity,\n    };\n\n    /*\n    Given an already instantiated draggable object for one-or-more elements,\n    Interprets any dragging as an attempt to drag an events that lives outside\n    of a calendar onto a calendar.\n    */\n    var ExternalElementDragging = /** @class */ (function () {\n        function ExternalElementDragging(dragging, suppliedDragMeta) {\n            var _this = this;\n            this.receivingContext = null;\n            this.droppableEvent = null; // will exist for all drags, even if create:false\n            this.suppliedDragMeta = null;\n            this.dragMeta = null;\n            this.handleDragStart = function (ev) {\n                _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n            };\n            this.handleHitUpdate = function (hit, isFinal, ev) {\n                var dragging = _this.hitDragging.dragging;\n                var receivingContext = null;\n                var droppableEvent = null;\n                var isInvalid = false;\n                var interaction = {\n                    affectedEvents: createEmptyEventStore(),\n                    mutatedEvents: createEmptyEventStore(),\n                    isEvent: _this.dragMeta.create,\n                };\n                if (hit) {\n                    receivingContext = hit.context;\n                    if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                        droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                        interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                        isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                        if (isInvalid) {\n                            interaction.mutatedEvents = createEmptyEventStore();\n                            droppableEvent = null;\n                        }\n                    }\n                }\n                _this.displayDrag(receivingContext, interaction);\n                // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n                if (!isInvalid) {\n                    enableCursor();\n                }\n                else {\n                    disableCursor();\n                }\n                if (!isFinal) {\n                    dragging.setMirrorNeedsRevert(!droppableEvent);\n                    _this.receivingContext = receivingContext;\n                    _this.droppableEvent = droppableEvent;\n                }\n            };\n            this.handleDragEnd = function (pev) {\n                var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n                _this.clearDrag();\n                if (receivingContext && droppableEvent) {\n                    var finalHit = _this.hitDragging.finalHit;\n                    var finalView = finalHit.context.viewApi;\n                    var dragMeta = _this.dragMeta;\n                    receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                    if (dragMeta.create) {\n                        var addingEvents_1 = eventTupleToStore(droppableEvent);\n                        receivingContext.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: addingEvents_1,\n                        });\n                        if (pev.isTouch) {\n                            receivingContext.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: droppableEvent.instance.instanceId,\n                            });\n                        }\n                        // signal that an external event landed\n                        receivingContext.emitter.trigger('eventReceive', {\n                            event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                            relatedEvents: [],\n                            revert: function () {\n                                receivingContext.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: addingEvents_1,\n                                });\n                            },\n                            draggedEl: pev.subjectEl,\n                            view: finalView,\n                        });\n                    }\n                }\n                _this.receivingContext = null;\n                _this.droppableEvent = null;\n            };\n            var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n            hitDragging.requireInitial = false; // will start outside of a component\n            hitDragging.emitter.on('dragstart', this.handleDragStart);\n            hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n            hitDragging.emitter.on('dragend', this.handleDragEnd);\n            this.suppliedDragMeta = suppliedDragMeta;\n        }\n        ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n            if (typeof this.suppliedDragMeta === 'object') {\n                return parseDragMeta(this.suppliedDragMeta);\n            }\n            if (typeof this.suppliedDragMeta === 'function') {\n                return parseDragMeta(this.suppliedDragMeta(subjectEl));\n            }\n            return getDragMetaFromEl(subjectEl);\n        };\n        ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n            var prevContext = this.receivingContext;\n            if (prevContext && prevContext !== nextContext) {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n            if (nextContext) {\n                nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n            }\n        };\n        ExternalElementDragging.prototype.clearDrag = function () {\n            if (this.receivingContext) {\n                this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        };\n        ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n            var dropAccept = receivingContext.options.dropAccept;\n            if (typeof dropAccept === 'function') {\n                return dropAccept.call(receivingContext.calendarApi, el);\n            }\n            if (typeof dropAccept === 'string' && dropAccept) {\n                return Boolean(elementMatches(el, dropAccept));\n            }\n            return true;\n        };\n        return ExternalElementDragging;\n    }());\n    // Utils for computing event store from the DragMeta\n    // ----------------------------------------------------------------------------------------------------\n    function computeEventForDateSpan(dateSpan, dragMeta, context) {\n        var defProps = __assign({}, dragMeta.leftoverProps);\n        for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n            var transform = _a[_i];\n            __assign(defProps, transform(dateSpan, dragMeta));\n        }\n        var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n        var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n        context);\n        var start = dateSpan.range.start;\n        // only rely on time info if drop zone is all-day,\n        // otherwise, we already know the time\n        if (dateSpan.allDay && dragMeta.startTime) {\n            start = context.dateEnv.add(start, dragMeta.startTime);\n        }\n        var end = dragMeta.duration ?\n            context.dateEnv.add(start, dragMeta.duration) :\n            getDefaultEventEnd(dateSpan.allDay, start, context);\n        var instance = createEventInstance(def.defId, { start: start, end: end });\n        return { def: def, instance: instance };\n    }\n    // Utils for extracting data from element\n    // ----------------------------------------------------------------------------------------------------\n    function getDragMetaFromEl(el) {\n        var str = getEmbeddedElData(el, 'event');\n        var obj = str ?\n            JSON.parse(str) :\n            { create: false }; // if no embedded data, assume no event creation\n        return parseDragMeta(obj);\n    }\n    config.dataAttrPrefix = '';\n    function getEmbeddedElData(el, name) {\n        var prefix = config.dataAttrPrefix;\n        var prefixedName = (prefix ? prefix + '-' : '') + name;\n        return el.getAttribute('data-' + prefixedName) || '';\n    }\n\n    /*\n    Makes an element (that is *external* to any calendar) draggable.\n    Can pass in data that determines how an event will be created when dropped onto a calendar.\n    Leverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n    */\n    var ExternalDraggable = /** @class */ (function () {\n        function ExternalDraggable(el, settings) {\n            var _this = this;\n            if (settings === void 0) { settings = {}; }\n            this.handlePointerDown = function (ev) {\n                var dragging = _this.dragging;\n                var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n                dragging.minDistance =\n                    minDistance != null ?\n                        minDistance :\n                        (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n                dragging.delay =\n                    ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                        (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                        0;\n            };\n            this.handleDragStart = function (ev) {\n                if (ev.isTouch &&\n                    _this.dragging.delay &&\n                    ev.subjectEl.classList.contains('fc-event')) {\n                    _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n                }\n            };\n            this.settings = settings;\n            var dragging = this.dragging = new FeaturefulElementDragging(el);\n            dragging.touchScrollAllowed = false;\n            if (settings.itemSelector != null) {\n                dragging.pointer.selector = settings.itemSelector;\n            }\n            if (settings.appendTo != null) {\n                dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n            }\n            dragging.emitter.on('pointerdown', this.handlePointerDown);\n            dragging.emitter.on('dragstart', this.handleDragStart);\n            new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n        }\n        ExternalDraggable.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        return ExternalDraggable;\n    }());\n\n    /*\n    Detects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\n    The third-party system is responsible for drawing the visuals effects of the drag.\n    This class simply monitors for pointer movements and fires events.\n    It also has the ability to hide the moving element (the \"mirror\") during the drag.\n    */\n    var InferredElementDragging = /** @class */ (function (_super) {\n        __extends(InferredElementDragging, _super);\n        function InferredElementDragging(containerEl) {\n            var _this = _super.call(this, containerEl) || this;\n            _this.shouldIgnoreMove = false;\n            _this.mirrorSelector = '';\n            _this.currentMirrorEl = null;\n            _this.handlePointerDown = function (ev) {\n                _this.emitter.trigger('pointerdown', ev);\n                if (!_this.shouldIgnoreMove) {\n                    // fire dragstart right away. does not support delay or min-distance\n                    _this.emitter.trigger('dragstart', ev);\n                }\n            };\n            _this.handlePointerMove = function (ev) {\n                if (!_this.shouldIgnoreMove) {\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            };\n            _this.handlePointerUp = function (ev) {\n                _this.emitter.trigger('pointerup', ev);\n                if (!_this.shouldIgnoreMove) {\n                    // fire dragend right away. does not support a revert animation\n                    _this.emitter.trigger('dragend', ev);\n                }\n            };\n            var pointer = _this.pointer = new PointerDragging(containerEl);\n            pointer.emitter.on('pointerdown', _this.handlePointerDown);\n            pointer.emitter.on('pointermove', _this.handlePointerMove);\n            pointer.emitter.on('pointerup', _this.handlePointerUp);\n            return _this;\n        }\n        InferredElementDragging.prototype.destroy = function () {\n            this.pointer.destroy();\n        };\n        InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n            this.shouldIgnoreMove = bool;\n        };\n        InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n            if (bool) {\n                // restore a previously hidden element.\n                // use the reference in case the selector class has already been removed.\n                if (this.currentMirrorEl) {\n                    this.currentMirrorEl.style.visibility = '';\n                    this.currentMirrorEl = null;\n                }\n            }\n            else {\n                var mirrorEl = this.mirrorSelector\n                    // TODO: somehow query FullCalendars WITHIN shadow-roots\n                    ? document.querySelector(this.mirrorSelector)\n                    : null;\n                if (mirrorEl) {\n                    this.currentMirrorEl = mirrorEl;\n                    mirrorEl.style.visibility = 'hidden';\n                }\n            }\n        };\n        return InferredElementDragging;\n    }(ElementDragging));\n\n    /*\n    Bridges third-party drag-n-drop systems with FullCalendar.\n    Must be instantiated and destroyed by caller.\n    */\n    var ThirdPartyDraggable = /** @class */ (function () {\n        function ThirdPartyDraggable(containerOrSettings, settings) {\n            var containerEl = document;\n            if (\n            // wish we could just test instanceof EventTarget, but doesn't work in IE11\n            containerOrSettings === document ||\n                containerOrSettings instanceof Element) {\n                containerEl = containerOrSettings;\n                settings = settings || {};\n            }\n            else {\n                settings = (containerOrSettings || {});\n            }\n            var dragging = this.dragging = new InferredElementDragging(containerEl);\n            if (typeof settings.itemSelector === 'string') {\n                dragging.pointer.selector = settings.itemSelector;\n            }\n            else if (containerEl === document) {\n                dragging.pointer.selector = '[data-event]';\n            }\n            if (typeof settings.mirrorSelector === 'string') {\n                dragging.mirrorSelector = settings.mirrorSelector;\n            }\n            new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n        }\n        ThirdPartyDraggable.prototype.destroy = function () {\n            this.dragging.destroy();\n        };\n        return ThirdPartyDraggable;\n    }());\n\n    var interactionPlugin = createPlugin({\n        componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n        calendarInteractions: [UnselectAuto],\n        elementDraggingImpl: FeaturefulElementDragging,\n        optionRefiners: OPTION_REFINERS$3,\n        listenerRefiners: LISTENER_REFINERS,\n    });\n\n    /* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n    ----------------------------------------------------------------------------------------------------------------------*/\n    // It is a manager for a Table subcomponent, which does most of the heavy lifting.\n    // It is responsible for managing width/height.\n    var TableView = /** @class */ (function (_super) {\n        __extends(TableView, _super);\n        function TableView() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.headerElRef = createRef();\n            return _this;\n        }\n        TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n            var _a = this, props = _a.props, context = _a.context;\n            var sections = [];\n            var stickyHeaderDates = getStickyHeaderDates(context.options);\n            if (headerRowContent) {\n                sections.push({\n                    type: 'header',\n                    key: 'header',\n                    isSticky: stickyHeaderDates,\n                    chunk: {\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                });\n            }\n            sections.push({\n                type: 'body',\n                key: 'body',\n                liquid: true,\n                chunk: { content: bodyContent },\n            });\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n                createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n        };\n        TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n            var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n            if (!ScrollGrid) {\n                throw new Error('No ScrollGrid implementation');\n            }\n            var _a = this, props = _a.props, context = _a.context;\n            var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n            var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n            var sections = [];\n            if (headerRowContent) {\n                sections.push({\n                    type: 'header',\n                    key: 'header',\n                    isSticky: stickyHeaderDates,\n                    chunks: [{\n                            key: 'main',\n                            elRef: this.headerElRef,\n                            tableClassName: 'fc-col-header',\n                            rowContent: headerRowContent,\n                        }],\n                });\n            }\n            sections.push({\n                type: 'body',\n                key: 'body',\n                liquid: true,\n                chunks: [{\n                        key: 'main',\n                        content: bodyContent,\n                    }],\n            });\n            if (stickyFooterScrollbar) {\n                sections.push({\n                    type: 'footer',\n                    key: 'footer',\n                    isSticky: true,\n                    chunks: [{\n                            key: 'main',\n                            content: renderScrollShim,\n                        }],\n                });\n            }\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n                createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n        };\n        return TableView;\n    }(DateComponent));\n\n    function splitSegsByRow(segs, rowCnt) {\n        var byRow = [];\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = [];\n        }\n        for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n            var seg = segs_1[_i];\n            byRow[seg.row].push(seg);\n        }\n        return byRow;\n    }\n    function splitSegsByFirstCol(segs, colCnt) {\n        var byCol = [];\n        for (var i = 0; i < colCnt; i += 1) {\n            byCol[i] = [];\n        }\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            byCol[seg.firstCol].push(seg);\n        }\n        return byCol;\n    }\n    function splitInteractionByRow(ui, rowCnt) {\n        var byRow = [];\n        if (!ui) {\n            for (var i = 0; i < rowCnt; i += 1) {\n                byRow[i] = null;\n            }\n        }\n        else {\n            for (var i = 0; i < rowCnt; i += 1) {\n                byRow[i] = {\n                    affectedInstances: ui.affectedInstances,\n                    isEvent: ui.isEvent,\n                    segs: [],\n                };\n            }\n            for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                byRow[seg.row].segs.push(seg);\n            }\n        }\n        return byRow;\n    }\n\n    var TableCellTop = /** @class */ (function (_super) {\n        __extends(TableCellTop, _super);\n        function TableCellTop() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TableCellTop.prototype.render = function () {\n            var props = this.props;\n            var navLinkAttrs = buildNavLinkAttrs(this.context, props.date);\n            return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n                createElement(\"a\", __assign({ id: props.dayNumberId, className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n        };\n        return TableCellTop;\n    }(BaseComponent));\n    function renderTopInner(props) {\n        return props.dayNumberText;\n    }\n\n    var DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n        hour: 'numeric',\n        minute: '2-digit',\n        omitZeroMinute: true,\n        meridiem: 'narrow',\n    });\n    function hasListItemDisplay(seg) {\n        var display = seg.eventRange.ui.display;\n        return display === 'list-item' || (display === 'auto' &&\n            !seg.eventRange.def.allDay &&\n            seg.firstCol === seg.lastCol && // can't be multi-day\n            seg.isStart && // \"\n            seg.isEnd // \"\n        );\n    }\n\n    var TableBlockEvent = /** @class */ (function (_super) {\n        __extends(TableBlockEvent, _super);\n        function TableBlockEvent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TableBlockEvent.prototype.render = function () {\n            var props = this.props;\n            return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n        };\n        return TableBlockEvent;\n    }(BaseComponent));\n\n    var TableListItemEvent = /** @class */ (function (_super) {\n        __extends(TableListItemEvent, _super);\n        function TableListItemEvent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TableListItemEvent.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n            var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n            return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent$2, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n            createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg, context)), innerContent)); }));\n        };\n        return TableListItemEvent;\n    }(BaseComponent));\n    function renderInnerContent$2(innerProps) {\n        return (createElement(Fragment, null,\n            createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n            innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n            createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n    }\n\n    var TableCellMoreLink = /** @class */ (function (_super) {\n        __extends(TableCellMoreLink, _super);\n        function TableCellMoreLink() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.compileSegs = memoize(compileSegs);\n            return _this;\n        }\n        TableCellMoreLink.prototype.render = function () {\n            var props = this.props;\n            var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n            return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                    var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                        (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                        {};\n                    return (createElement(Fragment, null, allSegs.map(function (seg) {\n                        var instanceId = seg.eventRange.instance.instanceId;\n                        return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                                visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                            } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                    })));\n                } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", __assign({ ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId }, createAriaClickAttrs(handleClick)), innerContent)); }));\n        };\n        return TableCellMoreLink;\n    }(BaseComponent));\n    function compileSegs(singlePlacements) {\n        var allSegs = [];\n        var invisibleSegs = [];\n        for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n            var placement = singlePlacements_1[_i];\n            allSegs.push(placement.seg);\n            if (!placement.isVisible) {\n                invisibleSegs.push(placement.seg);\n            }\n        }\n        return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n    }\n\n    var DEFAULT_WEEK_NUM_FORMAT$1 = createFormatter({ week: 'narrow' });\n    var TableCell = /** @class */ (function (_super) {\n        __extends(TableCell, _super);\n        function TableCell() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.rootElRef = createRef();\n            _this.state = {\n                dayNumberId: getUniqueDomId(),\n            };\n            _this.handleRootEl = function (el) {\n                setRef(_this.rootElRef, el);\n                setRef(_this.props.elRef, el);\n            };\n            return _this;\n        }\n        TableCell.prototype.render = function () {\n            var _a = this, context = _a.context, props = _a.props, state = _a.state, rootElRef = _a.rootElRef;\n            var date = props.date, dateProfile = props.dateProfile;\n            var navLinkAttrs = buildNavLinkAttrs(context, date, 'week');\n            return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, role: \"gridcell\", className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs, (props.showDayNumber ? { 'aria-labelledby': state.dayNumberId } : {})),\n                createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                    props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT$1 }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                    !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, dayNumberId: state.dayNumberId, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                    createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                        props.fgContent,\n                        createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                            createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                    createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n        };\n        return TableCell;\n    }(DateComponent));\n\n    function computeFgSegPlacement(segs, // assumed already sorted\n    dayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n        var hierarchy = new DayGridSegHierarchy();\n        hierarchy.allowReslicing = true;\n        hierarchy.strictOrder = strictOrder;\n        if (dayMaxEvents === true || dayMaxEventRows === true) {\n            hierarchy.maxCoord = maxContentHeight;\n            hierarchy.hiddenConsumes = true;\n        }\n        else if (typeof dayMaxEvents === 'number') {\n            hierarchy.maxStackCnt = dayMaxEvents;\n        }\n        else if (typeof dayMaxEventRows === 'number') {\n            hierarchy.maxStackCnt = dayMaxEventRows;\n            hierarchy.hiddenConsumes = true;\n        }\n        // create segInputs only for segs with known heights\n        var segInputs = [];\n        var unknownHeightSegs = [];\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var instanceId = seg.eventRange.instance.instanceId;\n            var eventHeight = eventInstanceHeights[instanceId];\n            if (eventHeight != null) {\n                segInputs.push({\n                    index: i,\n                    thickness: eventHeight,\n                    span: {\n                        start: seg.firstCol,\n                        end: seg.lastCol + 1,\n                    },\n                });\n            }\n            else {\n                unknownHeightSegs.push(seg);\n            }\n        }\n        var hiddenEntries = hierarchy.addSegs(segInputs);\n        var segRects = hierarchy.toRects();\n        var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n        var moreCnts = [];\n        var moreMarginTops = [];\n        // add segs with unknown heights\n        for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n            var seg = unknownHeightSegs_1[_i];\n            multiColPlacements[seg.firstCol].push({\n                seg: seg,\n                isVisible: false,\n                isAbsolute: true,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n            for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n                singleColPlacements[col].push({\n                    seg: resliceSeg(seg, col, col + 1, cells),\n                    isVisible: false,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: 0,\n                });\n            }\n        }\n        // add the hidden entries\n        for (var col = 0; col < cells.length; col += 1) {\n            moreCnts.push(0);\n        }\n        for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n            var hiddenEntry = hiddenEntries_1[_b];\n            var seg = segs[hiddenEntry.index];\n            var hiddenSpan = hiddenEntry.span;\n            multiColPlacements[hiddenSpan.start].push({\n                seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n                isVisible: false,\n                isAbsolute: true,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n            for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n                moreCnts[col] += 1;\n                singleColPlacements[col].push({\n                    seg: resliceSeg(seg, col, col + 1, cells),\n                    isVisible: false,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: 0,\n                });\n            }\n        }\n        // deal with leftover margins\n        for (var col = 0; col < cells.length; col += 1) {\n            moreMarginTops.push(leftoverMargins[col]);\n        }\n        return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n    }\n    // rects ordered by top coord, then left\n    function placeRects(allRects, segs, cells) {\n        var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n        var singleColPlacements = [];\n        var multiColPlacements = [];\n        var leftoverMargins = [];\n        for (var col = 0; col < cells.length; col += 1) {\n            var rects = rectsByEachCol[col];\n            // compute all static segs in singlePlacements\n            var singlePlacements = [];\n            var currentHeight = 0;\n            var currentMarginTop = 0;\n            for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n                var rect = rects_1[_i];\n                var seg = segs[rect.index];\n                singlePlacements.push({\n                    seg: resliceSeg(seg, col, col + 1, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: rect.levelCoord,\n                    marginTop: rect.levelCoord - currentHeight,\n                });\n                currentHeight = rect.levelCoord + rect.thickness;\n            }\n            // compute mixed static/absolute segs in multiPlacements\n            var multiPlacements = [];\n            currentHeight = 0;\n            currentMarginTop = 0;\n            for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n                var rect = rects_2[_a];\n                var seg = segs[rect.index];\n                var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n                var isFirstCol = rect.span.start === col;\n                currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n                currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n                if (isAbsolute) {\n                    currentMarginTop += rect.thickness;\n                    if (isFirstCol) {\n                        multiPlacements.push({\n                            seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                            isVisible: true,\n                            isAbsolute: true,\n                            absoluteTop: rect.levelCoord,\n                            marginTop: 0,\n                        });\n                    }\n                }\n                else if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: false,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: currentMarginTop, // claim the margin\n                    });\n                    currentMarginTop = 0;\n                }\n            }\n            singleColPlacements.push(singlePlacements);\n            multiColPlacements.push(multiPlacements);\n            leftoverMargins.push(currentMarginTop);\n        }\n        return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n    }\n    function groupRectsByEachCol(rects, colCnt) {\n        var rectsByEachCol = [];\n        for (var col = 0; col < colCnt; col += 1) {\n            rectsByEachCol.push([]);\n        }\n        for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n            var rect = rects_3[_i];\n            for (var col = rect.span.start; col < rect.span.end; col += 1) {\n                rectsByEachCol[col].push(rect);\n            }\n        }\n        return rectsByEachCol;\n    }\n    function resliceSeg(seg, spanStart, spanEnd, cells) {\n        if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n            return seg;\n        }\n        var eventRange = seg.eventRange;\n        var origRange = eventRange.range;\n        var slicedRange = intersectRanges(origRange, {\n            start: cells[spanStart].date,\n            end: addDays(cells[spanEnd - 1].date, 1),\n        });\n        return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n                def: eventRange.def,\n                ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n                instance: eventRange.instance,\n                range: slicedRange,\n            }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n    }\n    var DayGridSegHierarchy = /** @class */ (function (_super) {\n        __extends(DayGridSegHierarchy, _super);\n        function DayGridSegHierarchy() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            // config\n            _this.hiddenConsumes = false;\n            // allows us to keep hidden entries in the hierarchy so they take up space\n            _this.forceHidden = {};\n            return _this;\n        }\n        DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n            var _this = this;\n            var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n            var entriesByLevel = this.entriesByLevel;\n            var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n            // remove the forced-hidden segs\n            for (var level = 0; level < entriesByLevel.length; level += 1) {\n                entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n            }\n            return hiddenSegs;\n        };\n        DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n            var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n            var touchingEntry = insertion.touchingEntry, touchingLevel = insertion.touchingLevel, touchingLateral = insertion.touchingLateral;\n            if (this.hiddenConsumes && touchingEntry) {\n                var touchingEntryId = buildEntryKey(touchingEntry);\n                // if not already hidden\n                if (!forceHidden[touchingEntryId]) {\n                    if (this.allowReslicing) {\n                        var placeholderEntry = __assign(__assign({}, touchingEntry), { span: intersectSpans(touchingEntry.span, entry.span) });\n                        var placeholderEntryId = buildEntryKey(placeholderEntry);\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[touchingLevel][touchingLateral] = placeholderEntry; // replace touchingEntry with our placeholder\n                        this.splitEntry(touchingEntry, entry, hiddenEntries); // split up the touchingEntry, reinsert it\n                    }\n                    else {\n                        forceHidden[touchingEntryId] = true;\n                        hiddenEntries.push(touchingEntry);\n                    }\n                }\n            }\n            return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n        };\n        return DayGridSegHierarchy;\n    }(SegHierarchy));\n\n    var TableRow = /** @class */ (function (_super) {\n        __extends(TableRow, _super);\n        function TableRow() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.cellElRefs = new RefMap(); // the <td>\n            _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n            _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n            _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n            _this.rootElRef = createRef();\n            _this.state = {\n                framePositions: null,\n                maxContentHeight: null,\n                eventInstanceHeights: {},\n            };\n            return _this;\n        }\n        TableRow.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, state = _a.state, context = _a.context;\n            var options = context.options;\n            var colCnt = props.cells.length;\n            var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n            var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n            var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n            var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n            var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n            var isForcedInvisible = // TODO: messy way to compute this\n             (props.eventDrag && props.eventDrag.affectedInstances) ||\n                (props.eventResize && props.eventResize.affectedInstances) ||\n                {};\n            return (createElement(\"tr\", { ref: this.rootElRef, role: \"row\" },\n                props.renderIntro && props.renderIntro(),\n                props.cells.map(function (cell, col) {\n                    var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                    var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                    return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                        createElement(Fragment, null,\n                            createElement(Fragment, null, normalFgNodes),\n                            createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                        createElement(Fragment, null,\n                            _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                            _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                            _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n                })));\n        };\n        TableRow.prototype.componentDidMount = function () {\n            this.updateSizing(true);\n        };\n        TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n            var currentProps = this.props;\n            this.updateSizing(!isPropsEqual(prevProps, currentProps));\n        };\n        TableRow.prototype.getHighlightSegs = function () {\n            var props = this.props;\n            if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n                return props.eventDrag.segs;\n            }\n            if (props.eventResize && props.eventResize.segs.length) { // messy check\n                return props.eventResize.segs;\n            }\n            return props.dateSelectionSegs;\n        };\n        TableRow.prototype.getMirrorSegs = function () {\n            var props = this.props;\n            if (props.eventResize && props.eventResize.segs.length) { // messy check\n                return props.eventResize.segs;\n            }\n            return [];\n        };\n        TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n            var context = this.context;\n            var eventSelection = this.props.eventSelection;\n            var framePositions = this.state.framePositions;\n            var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n            var isMirror = isDragging || isResizing || isDateSelecting;\n            var nodes = [];\n            if (framePositions) {\n                for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                    var placement = segPlacements_1[_i];\n                    var seg = placement.seg;\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    var key = instanceId + ':' + col;\n                    var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                    var isAbsolute = placement.isAbsolute;\n                    var left = '';\n                    var right = '';\n                    if (isAbsolute) {\n                        if (context.isRtl) {\n                            right = 0;\n                            left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                        }\n                        else {\n                            left = 0;\n                            right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                        }\n                    }\n                    /*\n                    known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                    todo: in print view, for multi-day events, don't display title within non-start/end segs\n                    */\n                    nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                            visibility: isVisible ? '' : 'hidden',\n                            marginTop: isAbsolute ? '' : placement.marginTop,\n                            top: isAbsolute ? placement.absoluteTop : '',\n                            left: left,\n                            right: right,\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n                }\n            }\n            return nodes;\n        };\n        TableRow.prototype.renderFillSegs = function (segs, fillType) {\n            var isRtl = this.context.isRtl;\n            var todayRange = this.props.todayRange;\n            var framePositions = this.state.framePositions;\n            var nodes = [];\n            if (framePositions) {\n                for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                    var seg = segs_1[_i];\n                    var leftRightCss = isRtl ? {\n                        right: 0,\n                        left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                    } : {\n                        left: 0,\n                        right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                    };\n                    nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                        createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                        renderFill(fillType)));\n                }\n            }\n            return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n        };\n        TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n            var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n            if (!props.forPrint &&\n                props.clientWidth !== null // positioning ready?\n            ) {\n                if (isExternalSizingChange) {\n                    var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                    if (frameEls.length) {\n                        var originEl = this.rootElRef.current;\n                        this.setState({\n                            framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                            false),\n                        });\n                    }\n                }\n                var oldInstanceHeights = this.state.eventInstanceHeights;\n                var newInstanceHeights = this.queryEventInstanceHeights();\n                var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n                this.safeSetState({\n                    // HACK to prevent oscillations of events being shown/hidden from max-event-rows\n                    // Essentially, once you compute an element's height, never null-out.\n                    // TODO: always display all events, as visibility:hidden?\n                    eventInstanceHeights: __assign(__assign({}, oldInstanceHeights), newInstanceHeights),\n                    maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n                });\n            }\n        };\n        TableRow.prototype.queryEventInstanceHeights = function () {\n            var segElMap = this.segHarnessRefs.currentMap;\n            var eventInstanceHeights = {};\n            // get the max height amongst instance segs\n            for (var key in segElMap) {\n                var height = Math.round(segElMap[key].getBoundingClientRect().height);\n                var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n                eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n            }\n            return eventInstanceHeights;\n        };\n        TableRow.prototype.computeMaxContentHeight = function () {\n            var firstKey = this.props.cells[0].key;\n            var cellEl = this.cellElRefs.currentMap[firstKey];\n            var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n            return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n        };\n        TableRow.prototype.getCellEls = function () {\n            var elMap = this.cellElRefs.currentMap;\n            return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n        };\n        return TableRow;\n    }(DateComponent));\n    TableRow.addStateEquality({\n        eventInstanceHeights: isPropsEqual,\n    });\n    function buildMirrorPlacements(mirrorSegs, colPlacements) {\n        if (!mirrorSegs.length) {\n            return [];\n        }\n        var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n        return mirrorSegs.map(function (seg) { return ({\n            seg: seg,\n            isVisible: true,\n            isAbsolute: true,\n            absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n            marginTop: 0,\n        }); });\n    }\n    function buildAbsoluteTopHash(colPlacements) {\n        var topsByInstanceId = {};\n        for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n            var placements = colPlacements_1[_i];\n            for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n                var placement = placements_1[_a];\n                topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n            }\n        }\n        return topsByInstanceId;\n    }\n\n    var Table = /** @class */ (function (_super) {\n        __extends(Table, _super);\n        function Table() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n            _this.splitBgEventSegs = memoize(splitSegsByRow);\n            _this.splitFgEventSegs = memoize(splitSegsByRow);\n            _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n            _this.splitEventDrag = memoize(splitInteractionByRow);\n            _this.splitEventResize = memoize(splitInteractionByRow);\n            _this.rowRefs = new RefMap();\n            _this.handleRootEl = function (rootEl) {\n                _this.rootEl = rootEl;\n                if (rootEl) {\n                    _this.context.registerInteractiveComponent(_this, {\n                        el: rootEl,\n                        isHitComboAllowed: _this.props.isHitComboAllowed,\n                    });\n                }\n                else {\n                    _this.context.unregisterInteractiveComponent(_this);\n                }\n            };\n            return _this;\n        }\n        Table.prototype.render = function () {\n            var _this = this;\n            var props = this.props;\n            var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n            var rowCnt = props.cells.length;\n            var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n            var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n            var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n            var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n            var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n            var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n            var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n            // if rows can't expand to fill fixed height, can't do balanced-height event limit\n            // TODO: best place to normalize these options?\n            if (limitViaBalanced && !expandRows) {\n                limitViaBalanced = false;\n                dayMaxEventRows = null;\n                dayMaxEvents = null;\n            }\n            var classNames = [\n                'fc-daygrid-body',\n                limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n                expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n            ];\n            return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                    // these props are important to give this wrapper correct dimensions for interactions\n                    // TODO: if we set it here, can we avoid giving to inner tables?\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                } },\n                createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                    createElement(\"table\", { role: \"presentation\", className: \"fc-scrollgrid-sync-table\", style: {\n                            width: props.clientWidth,\n                            minWidth: props.tableMinWidth,\n                            height: expandRows ? props.clientHeight : '',\n                        } },\n                        props.colGroupNode,\n                        createElement(\"tbody\", { role: \"presentation\" }, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                                ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                                : row // in case there are no cells (like when resource view is loading)\n                            , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n        };\n        // Hit System\n        // ----------------------------------------------------------------------------------------------------\n        Table.prototype.prepareHits = function () {\n            this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n            false, true);\n            this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n            true, // horizontal\n            false);\n        };\n        Table.prototype.queryHit = function (positionLeft, positionTop) {\n            var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n            var col = colPositions.leftToIndex(positionLeft);\n            var row = rowPositions.topToIndex(positionTop);\n            if (row != null && col != null) {\n                var cell = this.props.cells[row][col];\n                return {\n                    dateProfile: this.props.dateProfile,\n                    dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                    dayEl: this.getCellEl(row, col),\n                    rect: {\n                        left: colPositions.lefts[col],\n                        right: colPositions.rights[col],\n                        top: rowPositions.tops[row],\n                        bottom: rowPositions.bottoms[row],\n                    },\n                    layer: 0,\n                };\n            }\n            return null;\n        };\n        Table.prototype.getCellEl = function (row, col) {\n            return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n        };\n        Table.prototype.getCellRange = function (row, col) {\n            var start = this.props.cells[row][col].date;\n            var end = addDays(start, 1);\n            return { start: start, end: end };\n        };\n        return Table;\n    }(DateComponent));\n    function isSegAllDay(seg) {\n        return seg.eventRange.def.allDay;\n    }\n\n    var DayTableSlicer = /** @class */ (function (_super) {\n        __extends(DayTableSlicer, _super);\n        function DayTableSlicer() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.forceDayIfListItem = true;\n            return _this;\n        }\n        DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n            return dayTableModel.sliceRange(dateRange);\n        };\n        return DayTableSlicer;\n    }(Slicer));\n\n    var DayTable = /** @class */ (function (_super) {\n        __extends(DayTable, _super);\n        function DayTable() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.slicer = new DayTableSlicer();\n            _this.tableRef = createRef();\n            return _this;\n        }\n        DayTable.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n        };\n        return DayTable;\n    }(DateComponent));\n\n    var DayTableView = /** @class */ (function (_super) {\n        __extends(DayTableView, _super);\n        function DayTableView() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.buildDayTableModel = memoize(buildDayTableModel);\n            _this.headerRef = createRef();\n            _this.tableRef = createRef();\n            return _this;\n        }\n        DayTableView.prototype.render = function () {\n            var _this = this;\n            var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n            var props = this.props;\n            var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n            var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n            var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n            return options.dayMinWidth\n                ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n                : this.renderSimpleLayout(headerContent, bodyContent);\n        };\n        return DayTableView;\n    }(TableView));\n    function buildDayTableModel(dateProfile, dateProfileGenerator) {\n        var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n        return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n    }\n\n    var TableDateProfileGenerator = /** @class */ (function (_super) {\n        __extends(TableDateProfileGenerator, _super);\n        function TableDateProfileGenerator() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        // Computes the date range that will be rendered.\n        TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n            var dateEnv = this.props.dateEnv;\n            var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n            var start = renderRange.start;\n            var end = renderRange.end;\n            var endOfWeek;\n            // year and month views should be aligned with weeks. this is already done for week\n            if (/^(year|month)$/.test(currentRangeUnit)) {\n                start = dateEnv.startOfWeek(start);\n                // make end-of-week if not already\n                endOfWeek = dateEnv.startOfWeek(end);\n                if (endOfWeek.valueOf() !== end.valueOf()) {\n                    end = addWeeks(endOfWeek, 1);\n                }\n            }\n            // ensure 6 weeks\n            if (this.props.monthMode &&\n                this.props.fixedWeekCount) {\n                var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n                diffWeeks(start, end));\n                end = addWeeks(end, 6 - rowCnt);\n            }\n            return { start: start, end: end };\n        };\n        return TableDateProfileGenerator;\n    }(DateProfileGenerator));\n\n    var dayGridPlugin = createPlugin({\n        initialView: 'dayGridMonth',\n        views: {\n            dayGrid: {\n                component: DayTableView,\n                dateProfileGeneratorClass: TableDateProfileGenerator,\n            },\n            dayGridDay: {\n                type: 'dayGrid',\n                duration: { days: 1 },\n            },\n            dayGridWeek: {\n                type: 'dayGrid',\n                duration: { weeks: 1 },\n            },\n            dayGridMonth: {\n                type: 'dayGrid',\n                duration: { months: 1 },\n                monthMode: true,\n                fixedWeekCount: true,\n            },\n        },\n    });\n\n    var AllDaySplitter = /** @class */ (function (_super) {\n        __extends(AllDaySplitter, _super);\n        function AllDaySplitter() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        AllDaySplitter.prototype.getKeyInfo = function () {\n            return {\n                allDay: {},\n                timed: {},\n            };\n        };\n        AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n            if (dateSpan.allDay) {\n                return ['allDay'];\n            }\n            return ['timed'];\n        };\n        AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n            if (!eventDef.allDay) {\n                return ['timed'];\n            }\n            if (hasBgRendering(eventDef)) {\n                return ['timed', 'allDay'];\n            }\n            return ['allDay'];\n        };\n        return AllDaySplitter;\n    }(Splitter));\n\n    var DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n        hour: 'numeric',\n        minute: '2-digit',\n        omitZeroMinute: true,\n        meridiem: 'short',\n    });\n    function TimeColsAxisCell(props) {\n        var classNames = [\n            'fc-timegrid-slot',\n            'fc-timegrid-slot-label',\n            props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n        ];\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            if (!props.isLabeled) {\n                return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n            }\n            var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n            var labelFormat = // TODO: fully pre-parse\n             options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n                Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                    createFormatter(options.slotLabelFormat);\n            var hookProps = {\n                level: 0,\n                time: props.time,\n                date: dateEnv.toDate(props.date),\n                view: viewApi,\n                text: dateEnv.format(props.date, labelFormat),\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent$1, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                    createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n        }));\n    }\n    function renderInnerContent$1(props) {\n        return props.text;\n    }\n\n    var TimeBodyAxis = /** @class */ (function (_super) {\n        __extends(TimeBodyAxis, _super);\n        function TimeBodyAxis() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TimeBodyAxis.prototype.render = function () {\n            return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n                createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n        };\n        return TimeBodyAxis;\n    }(BaseComponent));\n\n    var DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\n    var AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\n    var TimeColsView = /** @class */ (function (_super) {\n        __extends(TimeColsView, _super);\n        function TimeColsView() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n            _this.headerElRef = createRef();\n            _this.rootElRef = createRef();\n            _this.scrollerElRef = createRef();\n            _this.state = {\n                slatCoords: null,\n            };\n            _this.handleScrollTopRequest = function (scrollTop) {\n                var scrollerEl = _this.scrollerElRef.current;\n                if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                    scrollerEl.scrollTop = scrollTop;\n                }\n            };\n            /* Header Render Methods\n            ------------------------------------------------------------------------------------------------------------------*/\n            _this.renderHeadAxis = function (rowKey, frameHeight) {\n                if (frameHeight === void 0) { frameHeight = ''; }\n                var options = _this.context.options;\n                var dateProfile = _this.props.dateProfile;\n                var range = dateProfile.renderRange;\n                var dayCnt = diffDays(range.start, range.end);\n                var navLinkAttrs = (dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                    ? buildNavLinkAttrs(_this.context, range.start, 'week')\n                    : {};\n                if (options.weekNumbers && rowKey === 'day') {\n                    return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                            'fc-timegrid-axis',\n                            'fc-scrollgrid-shrink',\n                        ].concat(classNames).join(' ') },\n                        createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                            createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n                }\n                return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n            };\n            /* Table Component Render Methods\n            ------------------------------------------------------------------------------------------------------------------*/\n            // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n            // but DayGrid still needs to have classNames on inner elements in order to measure.\n            _this.renderTableRowAxis = function (rowHeight) {\n                var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n                var hookProps = {\n                    text: options.allDayText,\n                    view: viewApi,\n                };\n                return (\n                // TODO: make reusable hook. used in list view too\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner$1, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, \"aria-hidden\": true, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                        createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n            };\n            _this.handleSlatCoords = function (slatCoords) {\n                _this.setState({ slatCoords: slatCoords });\n            };\n            return _this;\n        }\n        // rendering\n        // ----------------------------------------------------------------------------------------------------\n        TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n            var _a = this, context = _a.context, props = _a.props;\n            var sections = [];\n            var stickyHeaderDates = getStickyHeaderDates(context.options);\n            if (headerRowContent) {\n                sections.push({\n                    type: 'header',\n                    key: 'header',\n                    isSticky: stickyHeaderDates,\n                    chunk: {\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                });\n            }\n            if (allDayContent) {\n                sections.push({\n                    type: 'body',\n                    key: 'all-day',\n                    chunk: { content: allDayContent },\n                });\n                sections.push({\n                    type: 'body',\n                    key: 'all-day-divider',\n                    outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                    createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                        createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n                });\n            }\n            sections.push({\n                type: 'body',\n                key: 'body',\n                liquid: true,\n                expandRows: Boolean(context.options.expandRows),\n                chunk: {\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            });\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n                createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n        };\n        TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n            var _this = this;\n            var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n            if (!ScrollGrid) {\n                throw new Error('No ScrollGrid implementation');\n            }\n            var _a = this, context = _a.context, props = _a.props;\n            var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n            var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n            var sections = [];\n            if (headerRowContent) {\n                sections.push({\n                    type: 'header',\n                    key: 'header',\n                    isSticky: stickyHeaderDates,\n                    syncRowHeights: true,\n                    chunks: [\n                        {\n                            key: 'axis',\n                            rowContent: function (arg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                        },\n                        {\n                            key: 'cols',\n                            elRef: this.headerElRef,\n                            tableClassName: 'fc-col-header',\n                            rowContent: headerRowContent,\n                        },\n                    ],\n                });\n            }\n            if (allDayContent) {\n                sections.push({\n                    type: 'body',\n                    key: 'all-day',\n                    syncRowHeights: true,\n                    chunks: [\n                        {\n                            key: 'axis',\n                            rowContent: function (contentArg) { return (createElement(\"tr\", { role: \"presentation\" }, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                        },\n                        {\n                            key: 'cols',\n                            content: allDayContent,\n                        },\n                    ],\n                });\n                sections.push({\n                    key: 'all-day-divider',\n                    type: 'body',\n                    outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                    createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\n                        createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n                });\n            }\n            var isNowIndicator = context.options.nowIndicator;\n            sections.push({\n                type: 'body',\n                key: 'body',\n                liquid: true,\n                expandRows: Boolean(context.options.expandRows),\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: function (arg) { return (\n                        // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                        createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                            createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                                arg.tableColGroupNode,\n                                createElement(\"tbody\", null,\n                                    createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                                createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                    var nowIndicatorTop = isNowIndicator &&\n                                        slatCoords &&\n                                        slatCoords.safeComputeTop(nowDate); // might return void\n                                    if (typeof nowIndicatorTop === 'number') {\n                                        return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                    }\n                                    return null;\n                                })))); },\n                    },\n                    {\n                        key: 'cols',\n                        scrollerElRef: this.scrollerElRef,\n                        content: timeContent,\n                    },\n                ],\n            });\n            if (stickyFooterScrollbar) {\n                sections.push({\n                    key: 'footer',\n                    type: 'footer',\n                    isSticky: true,\n                    chunks: [\n                        {\n                            key: 'axis',\n                            content: renderScrollShim,\n                        },\n                        {\n                            key: 'cols',\n                            content: renderScrollShim,\n                        },\n                    ],\n                });\n            }\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n                createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                        { width: 'shrink', cols: [{ width: 'shrink' }] },\n                        { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                    ], sections: sections }))); }));\n        };\n        /* Dimensions\n        ------------------------------------------------------------------------------------------------------------------*/\n        TimeColsView.prototype.getAllDayMaxEventProps = function () {\n            var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n            if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n                dayMaxEvents = undefined;\n                dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n            }\n            return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n        };\n        return TimeColsView;\n    }(DateComponent));\n    function renderAllDayInner$1(hookProps) {\n        return hookProps.text;\n    }\n\n    var TimeColsSlatsCoords = /** @class */ (function () {\n        function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n            this.positions = positions;\n            this.dateProfile = dateProfile;\n            this.slotDuration = slotDuration;\n        }\n        TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n            var dateProfile = this.dateProfile;\n            if (rangeContainsMarker(dateProfile.currentRange, date)) {\n                var startOfDayDate = startOfDay(date);\n                var timeMs = date.valueOf() - startOfDayDate.valueOf();\n                if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                    timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                    return this.computeTimeTop(createDuration(timeMs));\n                }\n            }\n            return null;\n        };\n        // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n        // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n        TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n            if (!startOfDayDate) {\n                startOfDayDate = startOfDay(when);\n            }\n            return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n        };\n        // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n        // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n        // Eventually allow computation with arbirary slat dates.\n        TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n            var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n            var len = positions.els.length;\n            // floating-point value of # of slots covered\n            var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n            var slatIndex;\n            var slatRemainder;\n            // compute a floating-point number for how many slats should be progressed through.\n            // from 0 to number of slats (inclusive)\n            // constrained because slotMinTime/slotMaxTime might be customized.\n            slatCoverage = Math.max(0, slatCoverage);\n            slatCoverage = Math.min(len, slatCoverage);\n            // an integer index of the furthest whole slat\n            // from 0 to number slats (*exclusive*, so len-1)\n            slatIndex = Math.floor(slatCoverage);\n            slatIndex = Math.min(slatIndex, len - 1);\n            // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n            // could be 1.0 if slatCoverage is covering *all* the slots\n            slatRemainder = slatCoverage - slatIndex;\n            return positions.tops[slatIndex] +\n                positions.getHeight(slatIndex) * slatRemainder;\n        };\n        return TimeColsSlatsCoords;\n    }());\n\n    var TimeColsSlatsBody = /** @class */ (function (_super) {\n        __extends(TimeColsSlatsBody, _super);\n        function TimeColsSlatsBody() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TimeColsSlatsBody.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var options = context.options;\n            var slatElRefs = props.slatElRefs;\n            return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n                var hookProps = {\n                    time: slatMeta.time,\n                    date: context.dateEnv.toDate(slatMeta.date),\n                    view: context.viewApi,\n                };\n                var classNames = [\n                    'fc-timegrid-slot',\n                    'fc-timegrid-slot-lane',\n                    slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n                ];\n                return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                    props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                    createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n            })));\n        };\n        return TimeColsSlatsBody;\n    }(BaseComponent));\n\n    /*\n    for the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n    */\n    var TimeColsSlats = /** @class */ (function (_super) {\n        __extends(TimeColsSlats, _super);\n        function TimeColsSlats() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.rootElRef = createRef();\n            _this.slatElRefs = new RefMap();\n            return _this;\n        }\n        TimeColsSlats.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\n                createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\n                        minWidth: props.tableMinWidth,\n                        width: props.clientWidth,\n                        height: props.minHeight,\n                    } },\n                    props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                    createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n        };\n        TimeColsSlats.prototype.componentDidMount = function () {\n            this.updateSizing();\n        };\n        TimeColsSlats.prototype.componentDidUpdate = function () {\n            this.updateSizing();\n        };\n        TimeColsSlats.prototype.componentWillUnmount = function () {\n            if (this.props.onCoords) {\n                this.props.onCoords(null);\n            }\n        };\n        TimeColsSlats.prototype.updateSizing = function () {\n            var _a = this, context = _a.context, props = _a.props;\n            if (props.onCoords &&\n                props.clientWidth !== null // means sizing has stabilized\n            ) {\n                var rootEl = this.rootElRef.current;\n                if (rootEl.offsetHeight) { // not hidden by css\n                    props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n                }\n            }\n        };\n        return TimeColsSlats;\n    }(BaseComponent));\n    function collectSlatEls(elMap, slatMetas) {\n        return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n    }\n\n    function splitSegsByCol(segs, colCnt) {\n        var segsByCol = [];\n        var i;\n        for (i = 0; i < colCnt; i += 1) {\n            segsByCol.push([]);\n        }\n        if (segs) {\n            for (i = 0; i < segs.length; i += 1) {\n                segsByCol[segs[i].col].push(segs[i]);\n            }\n        }\n        return segsByCol;\n    }\n    function splitInteractionByCol(ui, colCnt) {\n        var byRow = [];\n        if (!ui) {\n            for (var i = 0; i < colCnt; i += 1) {\n                byRow[i] = null;\n            }\n        }\n        else {\n            for (var i = 0; i < colCnt; i += 1) {\n                byRow[i] = {\n                    affectedInstances: ui.affectedInstances,\n                    isEvent: ui.isEvent,\n                    segs: [],\n                };\n            }\n            for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n                var seg = _a[_i];\n                byRow[seg.col].segs.push(seg);\n            }\n        }\n        return byRow;\n    }\n\n    var TimeColMoreLink = /** @class */ (function (_super) {\n        __extends(TimeColMoreLink, _super);\n        function TimeColMoreLink() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.rootElRef = createRef();\n            return _this;\n        }\n        TimeColMoreLink.prototype.render = function () {\n            var _this = this;\n            var props = this.props;\n            return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick, title, isExpanded, popoverId) { return (createElement(\"a\", { ref: function (el) {\n                    setRef(rootElRef, el);\n                    setRef(_this.rootElRef, el);\n                }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick, title: title, \"aria-expanded\": isExpanded, \"aria-controls\": popoverId },\n                createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n        };\n        return TimeColMoreLink;\n    }(BaseComponent));\n    function renderMoreLinkInner(props) {\n        return props.shortText;\n    }\n\n    // segInputs assumed sorted\n    function buildPositioning(segInputs, strictOrder, maxStackCnt) {\n        var hierarchy = new SegHierarchy();\n        if (strictOrder != null) {\n            hierarchy.strictOrder = strictOrder;\n        }\n        if (maxStackCnt != null) {\n            hierarchy.maxStackCnt = maxStackCnt;\n        }\n        var hiddenEntries = hierarchy.addSegs(segInputs);\n        var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n        var web = buildWeb(hierarchy);\n        web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n        var segRects = webToRects(web);\n        return { segRects: segRects, hiddenGroups: hiddenGroups };\n    }\n    function buildWeb(hierarchy) {\n        var entriesByLevel = hierarchy.entriesByLevel;\n        var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n            var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n            var nextLevelRes = buildNodes(siblingRange, buildNode);\n            var entry = entriesByLevel[level][lateral];\n            return [\n                __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n                entry.thickness + nextLevelRes[1], // the pressure builds\n            ];\n        });\n        return buildNodes(entriesByLevel.length\n            ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n            : null, buildNode)[0];\n    }\n    function buildNodes(siblingRange, buildNode) {\n        if (!siblingRange) {\n            return [[], 0];\n        }\n        var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n        var lateral = lateralStart;\n        var pairs = [];\n        while (lateral < lateralEnd) {\n            pairs.push(buildNode(level, lateral));\n            lateral += 1;\n        }\n        pairs.sort(cmpDescPressures);\n        return [\n            pairs.map(extractNode),\n            pairs[0][1], // first item's pressure\n        ];\n    }\n    function cmpDescPressures(a, b) {\n        return b[1] - a[1];\n    }\n    function extractNode(a) {\n        return a[0];\n    }\n    function findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n        var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n        var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n        var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n        var levelCnt = levelCoords.length;\n        var level = subjectLevel;\n        // skip past levels that are too high up\n        for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n            ; // do nothing\n        for (; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n            var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n            var lateralEnd = lateralStart;\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole seg list\n                entry.span.start < subjectEntry.span.end) {\n                lateralEnd += 1;\n            }\n            if (lateralStart < lateralEnd) {\n                return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n            }\n        }\n        return null;\n    }\n    function stretchWeb(topLevelNodes, totalThickness) {\n        var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n            var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n            var allThickness = thickness + prevThickness;\n            var thicknessFraction = thickness / allThickness;\n            var endCoord;\n            var newChildren = [];\n            if (!nextLevelNodes.length) {\n                endCoord = totalThickness;\n            }\n            else {\n                for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                    var childNode = nextLevelNodes_1[_i];\n                    if (endCoord === undefined) {\n                        var res = stretchNode(childNode, startCoord, allThickness);\n                        endCoord = res[0];\n                        newChildren.push(res[1]);\n                    }\n                    else {\n                        var res = stretchNode(childNode, endCoord, 0);\n                        newChildren.push(res[1]);\n                    }\n                }\n            }\n            var newThickness = (endCoord - startCoord) * thicknessFraction;\n            return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n        });\n        return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n    }\n    // not sorted in any particular order\n    function webToRects(topLevelNodes) {\n        var rects = [];\n        var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n            var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n                stackDepth: stackDepth, stackForward: 0 });\n            rects.push(rect);\n            return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n        });\n        function processNodes(nodes, levelCoord, stackDepth) {\n            var stackForward = 0;\n            for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n                var node = nodes_1[_i];\n                stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n            }\n            return stackForward;\n        }\n        processNodes(topLevelNodes, 0, 0);\n        return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n    }\n    // TODO: move to general util\n    function cacheable(keyFunc, workFunc) {\n        var cache = {};\n        return function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var key = keyFunc.apply(void 0, args);\n            return (key in cache)\n                ? cache[key]\n                : (cache[key] = workFunc.apply(void 0, args));\n        };\n    }\n\n    function computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n        if (slatCoords === void 0) { slatCoords = null; }\n        if (eventMinHeight === void 0) { eventMinHeight = 0; }\n        var vcoords = [];\n        if (slatCoords) {\n            for (var i = 0; i < segs.length; i += 1) {\n                var seg = segs[i];\n                var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n                var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n                slatCoords.computeDateTop(seg.end, colDate));\n                vcoords.push({\n                    start: Math.round(spanStart),\n                    end: Math.round(spanEnd), //\n                });\n            }\n        }\n        return vcoords;\n    }\n    function computeFgSegPlacements(segs, segVCoords, // might not have for every seg\n    eventOrderStrict, eventMaxStack) {\n        var segInputs = [];\n        var dumbSegs = []; // segs without coords\n        for (var i = 0; i < segs.length; i += 1) {\n            var vcoords = segVCoords[i];\n            if (vcoords) {\n                segInputs.push({\n                    index: i,\n                    thickness: 1,\n                    span: vcoords,\n                });\n            }\n            else {\n                dumbSegs.push(segs[i]);\n            }\n        }\n        var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n        var segPlacements = [];\n        for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n            var segRect = segRects_1[_i];\n            segPlacements.push({\n                seg: segs[segRect.index],\n                rect: segRect,\n            });\n        }\n        for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n            var dumbSeg = dumbSegs_1[_b];\n            segPlacements.push({ seg: dumbSeg, rect: null });\n        }\n        return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n    }\n\n    var DEFAULT_TIME_FORMAT$1 = createFormatter({\n        hour: 'numeric',\n        minute: '2-digit',\n        meridiem: false,\n    });\n    var TimeColEvent = /** @class */ (function (_super) {\n        __extends(TimeColEvent, _super);\n        function TimeColEvent() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TimeColEvent.prototype.render = function () {\n            var classNames = [\n                'fc-timegrid-event',\n                'fc-v-event',\n            ];\n            if (this.props.isShort) {\n                classNames.push('fc-timegrid-event-short');\n            }\n            return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT$1, extraClassNames: classNames })));\n        };\n        return TimeColEvent;\n    }(BaseComponent));\n\n    var TimeColMisc = /** @class */ (function (_super) {\n        __extends(TimeColMisc, _super);\n        function TimeColMisc() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        TimeColMisc.prototype.render = function () {\n            var props = this.props;\n            return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n        };\n        return TimeColMisc;\n    }(BaseComponent));\n\n    var TimeCol = /** @class */ (function (_super) {\n        __extends(TimeCol, _super);\n        function TimeCol() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.sortEventSegs = memoize(sortEventSegs);\n            return _this;\n        }\n        // TODO: memoize event-placement?\n        TimeCol.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, context = _a.context;\n            var isSelectMirror = context.options.selectMirror;\n            var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n                (props.eventResize && props.eventResize.segs) ||\n                (isSelectMirror && props.dateSelectionSegs) ||\n                [];\n            var interactionAffectedInstances = // TODO: messy way to compute this\n             (props.eventDrag && props.eventDrag.affectedInstances) ||\n                (props.eventResize && props.eventResize.affectedInstances) ||\n                {};\n            var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n            return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, role: \"gridcell\", className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n                createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                    createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                        _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                        _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                        _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                    createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                    createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                    createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                    createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n        };\n        TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n            var props = this.props;\n            if (props.forPrint) {\n                return renderPlainFgSegs(sortedFgSegs, props);\n            }\n            return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n        };\n        TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n        segIsInvisible, isDragging, isResizing, isDateSelecting) {\n            var _this = this;\n            var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n            var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n            var isMirror = isDragging || isResizing || isDateSelecting;\n            var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n            var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n            return (createElement(Fragment, null,\n                this.renderHiddenGroups(hiddenGroups, segs),\n                segPlacements.map(function (segPlacement) {\n                    var seg = segPlacement.seg, rect = segPlacement.rect;\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                    var vStyle = computeSegVStyle(rect && rect.span);\n                    var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                    var isInset = Boolean(rect) && rect.stackForward > 0;\n                    var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                    return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                            (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                        createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n                })));\n        };\n        // will already have eventMinHeight applied because segInputs already had it\n        TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n            var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n            return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n                var positionCss = computeSegVStyle(hiddenGroup.span);\n                var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n                return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n            })));\n        };\n        TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n            var _a = this, props = _a.props, context = _a.context;\n            var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n            var children = segVCoords.map(function (vcoords, i) {\n                var seg = segs[i];\n                return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                    renderFill(fillType)));\n            });\n            return createElement(Fragment, null, children);\n        };\n        TimeCol.prototype.renderNowIndicator = function (segs) {\n            var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n            if (!slatCoords) {\n                return null;\n            }\n            return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n                // key doesn't matter. will only ever be one\n                key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n        };\n        TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n            var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n            var shouldOverlap = options.slotEventOverlap;\n            var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n            var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n            var left; // amount of space from left edge, a fraction of the total width\n            var right; // amount of space from right edge, a fraction of the total width\n            if (shouldOverlap) {\n                // double the width, but don't go beyond the maximum forward coordinate (1.0)\n                farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n            }\n            if (isRtl) {\n                left = 1 - farCoord;\n                right = nearCoord;\n            }\n            else {\n                left = nearCoord;\n                right = 1 - farCoord;\n            }\n            var props = {\n                zIndex: segHCoords.stackDepth + 1,\n                left: left * 100 + '%',\n                right: right * 100 + '%',\n            };\n            if (shouldOverlap && !segHCoords.stackForward) {\n                // add padding to the edge so that forward stacked events don't cover the resizer's icon\n                props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n            }\n            return props;\n        };\n        return TimeCol;\n    }(BaseComponent));\n    function renderPlainFgSegs(sortedFgSegs, _a) {\n        var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n            (eventResize ? eventResize.affectedInstances : null) ||\n            {};\n        return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n            var instanceId = seg.eventRange.instance.instanceId;\n            return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n                createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n        })));\n    }\n    function computeSegVStyle(segVCoords) {\n        if (!segVCoords) {\n            return { top: '', bottom: '' };\n        }\n        return {\n            top: segVCoords.start,\n            bottom: -segVCoords.end,\n        };\n    }\n    function compileSegsFromEntries(segEntries, allSegs) {\n        return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n    }\n\n    var TimeColsContent = /** @class */ (function (_super) {\n        __extends(TimeColsContent, _super);\n        function TimeColsContent() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.splitFgEventSegs = memoize(splitSegsByCol);\n            _this.splitBgEventSegs = memoize(splitSegsByCol);\n            _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n            _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n            _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n            _this.splitEventDrag = memoize(splitInteractionByCol);\n            _this.splitEventResize = memoize(splitInteractionByCol);\n            _this.rootElRef = createRef();\n            _this.cellElRefs = new RefMap();\n            return _this;\n        }\n        TimeColsContent.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, context = _a.context;\n            var nowIndicatorTop = context.options.nowIndicator &&\n                props.slatCoords &&\n                props.slatCoords.safeComputeTop(props.nowDate); // might return void\n            var colCnt = props.cells.length;\n            var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n            var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n            var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n            var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n            var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n            var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n            var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n            return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n                createElement(\"table\", { role: \"presentation\", style: {\n                        minWidth: props.tableMinWidth,\n                        width: props.clientWidth,\n                    } },\n                    props.tableColGroupNode,\n                    createElement(\"tbody\", { role: \"presentation\" },\n                        createElement(\"tr\", { role: \"row\" },\n                            props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\n                                createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                    createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                            props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n        };\n        TimeColsContent.prototype.componentDidMount = function () {\n            this.updateCoords();\n        };\n        TimeColsContent.prototype.componentDidUpdate = function () {\n            this.updateCoords();\n        };\n        TimeColsContent.prototype.updateCoords = function () {\n            var props = this.props;\n            if (props.onColCoords &&\n                props.clientWidth !== null // means sizing has stabilized\n            ) {\n                props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n                false));\n            }\n        };\n        return TimeColsContent;\n    }(BaseComponent));\n    function collectCellEls(elMap, cells) {\n        return cells.map(function (cell) { return elMap[cell.key]; });\n    }\n\n    /* A component that renders one or more columns of vertical time slots\n    ----------------------------------------------------------------------------------------------------------------------*/\n    var TimeCols = /** @class */ (function (_super) {\n        __extends(TimeCols, _super);\n        function TimeCols() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.processSlotOptions = memoize(processSlotOptions);\n            _this.state = {\n                slatCoords: null,\n            };\n            _this.handleRootEl = function (el) {\n                if (el) {\n                    _this.context.registerInteractiveComponent(_this, {\n                        el: el,\n                        isHitComboAllowed: _this.props.isHitComboAllowed,\n                    });\n                }\n                else {\n                    _this.context.unregisterInteractiveComponent(_this);\n                }\n            };\n            _this.handleScrollRequest = function (request) {\n                var onScrollTopRequest = _this.props.onScrollTopRequest;\n                var slatCoords = _this.state.slatCoords;\n                if (onScrollTopRequest && slatCoords) {\n                    if (request.time) {\n                        var top_1 = slatCoords.computeTimeTop(request.time);\n                        top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                        if (top_1) {\n                            top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                        }\n                        onScrollTopRequest(top_1);\n                    }\n                    return true;\n                }\n                return false;\n            };\n            _this.handleColCoords = function (colCoords) {\n                _this.colCoords = colCoords;\n            };\n            _this.handleSlatCoords = function (slatCoords) {\n                _this.setState({ slatCoords: slatCoords });\n                if (_this.props.onSlatCoords) {\n                    _this.props.onSlatCoords(slatCoords);\n                }\n            };\n            return _this;\n        }\n        TimeCols.prototype.render = function () {\n            var _a = this, props = _a.props, state = _a.state;\n            return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                    // these props are important to give this wrapper correct dimensions for interactions\n                    // TODO: if we set it here, can we avoid giving to inner tables?\n                    width: props.clientWidth,\n                    minWidth: props.tableMinWidth,\n                } },\n                createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n                createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n        };\n        TimeCols.prototype.componentDidMount = function () {\n            this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n        };\n        TimeCols.prototype.componentDidUpdate = function (prevProps) {\n            this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n        };\n        TimeCols.prototype.componentWillUnmount = function () {\n            this.scrollResponder.detach();\n        };\n        TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n            var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n            var colCoords = this.colCoords;\n            var dateProfile = this.props.dateProfile;\n            var slatCoords = this.state.slatCoords;\n            var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n            var colIndex = colCoords.leftToIndex(positionLeft);\n            var slatIndex = slatCoords.positions.topToIndex(positionTop);\n            if (colIndex != null && slatIndex != null) {\n                var cell = this.props.cells[colIndex];\n                var slatTop = slatCoords.positions.tops[slatIndex];\n                var slatHeight = slatCoords.positions.getHeight(slatIndex);\n                var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n                var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n                var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n                var dayDate = this.props.cells[colIndex].date;\n                var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n                var start = dateEnv.add(dayDate, time);\n                var end = dateEnv.add(start, snapDuration);\n                return {\n                    dateProfile: dateProfile,\n                    dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                    dayEl: colCoords.els[colIndex],\n                    rect: {\n                        left: colCoords.lefts[colIndex],\n                        right: colCoords.rights[colIndex],\n                        top: slatTop,\n                        bottom: slatTop + slatHeight,\n                    },\n                    layer: 0,\n                };\n            }\n            return null;\n        };\n        return TimeCols;\n    }(DateComponent));\n    function processSlotOptions(slotDuration, snapDurationOverride) {\n        var snapDuration = snapDurationOverride || slotDuration;\n        var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n        if (snapsPerSlot === null) {\n            snapDuration = slotDuration;\n            snapsPerSlot = 1;\n            // TODO: say warning?\n        }\n        return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n    }\n\n    var DayTimeColsSlicer = /** @class */ (function (_super) {\n        __extends(DayTimeColsSlicer, _super);\n        function DayTimeColsSlicer() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n            var segs = [];\n            for (var col = 0; col < dayRanges.length; col += 1) {\n                var segRange = intersectRanges(range, dayRanges[col]);\n                if (segRange) {\n                    segs.push({\n                        start: segRange.start,\n                        end: segRange.end,\n                        isStart: segRange.start.valueOf() === range.start.valueOf(),\n                        isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                        col: col,\n                    });\n                }\n            }\n            return segs;\n        };\n        return DayTimeColsSlicer;\n    }(Slicer));\n\n    var DayTimeCols = /** @class */ (function (_super) {\n        __extends(DayTimeCols, _super);\n        function DayTimeCols() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.buildDayRanges = memoize(buildDayRanges);\n            _this.slicer = new DayTimeColsSlicer();\n            _this.timeColsRef = createRef();\n            return _this;\n        }\n        DayTimeCols.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, context = _a.context;\n            var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n            var isNowIndicator = context.options.nowIndicator;\n            var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n            // give it the first row of cells\n            // TODO: would move this further down hierarchy, but sliceNowDate needs it\n            return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n        };\n        return DayTimeCols;\n    }(DateComponent));\n    function buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n        var ranges = [];\n        for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n            var date = _a[_i];\n            ranges.push({\n                start: dateEnv.add(date, dateProfile.slotMinTime),\n                end: dateEnv.add(date, dateProfile.slotMaxTime),\n            });\n        }\n        return ranges;\n    }\n\n    // potential nice values for the slot-duration and interval-duration\n    // from largest to smallest\n    var STOCK_SUB_DURATIONS = [\n        { hours: 1 },\n        { minutes: 30 },\n        { minutes: 15 },\n        { seconds: 30 },\n        { seconds: 15 },\n    ];\n    function buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n        var dayStart = new Date(0);\n        var slatTime = slotMinTime;\n        var slatIterator = createDuration(0);\n        var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n        var metas = [];\n        while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n            var date = dateEnv.add(dayStart, slatTime);\n            var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n            metas.push({\n                date: date,\n                time: slatTime,\n                key: date.toISOString(),\n                isoTimeStr: formatIsoTimeString(date),\n                isLabeled: isLabeled,\n            });\n            slatTime = addDurations(slatTime, slotDuration);\n            slatIterator = addDurations(slatIterator, slotDuration);\n        }\n        return metas;\n    }\n    // Computes an automatic value for slotLabelInterval\n    function computeLabelInterval(slotDuration) {\n        var i;\n        var labelInterval;\n        var slotsPerLabel;\n        // find the smallest stock label interval that results in more than one slots-per-label\n        for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n            labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n            slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n            if (slotsPerLabel !== null && slotsPerLabel > 1) {\n                return labelInterval;\n            }\n        }\n        return slotDuration; // fall back\n    }\n\n    var DayTimeColsView = /** @class */ (function (_super) {\n        __extends(DayTimeColsView, _super);\n        function DayTimeColsView() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.buildTimeColsModel = memoize(buildTimeColsModel);\n            _this.buildSlatMetas = memoize(buildSlatMetas);\n            return _this;\n        }\n        DayTimeColsView.prototype.render = function () {\n            var _this = this;\n            var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n            var props = this.props;\n            var dateProfile = props.dateProfile;\n            var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n            var splitProps = this.allDaySplitter.splitProps(props);\n            var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n            var dayMinWidth = options.dayMinWidth;\n            var hasAttachedAxis = !dayMinWidth;\n            var hasDetachedAxis = dayMinWidth;\n            var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n            var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n            var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n            return hasDetachedAxis\n                ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n                : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n        };\n        return DayTimeColsView;\n    }(TimeColsView));\n    function buildTimeColsModel(dateProfile, dateProfileGenerator) {\n        var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n        return new DayTableModel(daySeries, false);\n    }\n\n    var OPTION_REFINERS$2 = {\n        allDaySlot: Boolean,\n    };\n\n    var timeGridPlugin = createPlugin({\n        initialView: 'timeGridWeek',\n        optionRefiners: OPTION_REFINERS$2,\n        views: {\n            timeGrid: {\n                component: DayTimeColsView,\n                usesMinMaxTime: true,\n                allDaySlot: true,\n                slotDuration: '00:30:00',\n                slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n            },\n            timeGridDay: {\n                type: 'timeGrid',\n                duration: { days: 1 },\n            },\n            timeGridWeek: {\n                type: 'timeGrid',\n                duration: { weeks: 1 },\n            },\n        },\n    });\n\n    var ListViewHeaderRow = /** @class */ (function (_super) {\n        __extends(ListViewHeaderRow, _super);\n        function ListViewHeaderRow() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.state = {\n                textId: getUniqueDomId(),\n            };\n            return _this;\n        }\n        ListViewHeaderRow.prototype.render = function () {\n            var _a = this.context, theme = _a.theme, dateEnv = _a.dateEnv, options = _a.options, viewApi = _a.viewApi;\n            var _b = this.props, cellId = _b.cellId, dayDate = _b.dayDate, todayRange = _b.todayRange;\n            var textId = this.state.textId;\n            var dayMeta = getDateMeta(dayDate, todayRange);\n            // will ever be falsy?\n            var text = options.listDayFormat ? dateEnv.format(dayDate, options.listDayFormat) : '';\n            // will ever be falsy? also, BAD NAME \"alt\"\n            var sideText = options.listDaySideFormat ? dateEnv.format(dayDate, options.listDaySideFormat) : '';\n            var hookProps = __assign({ date: dateEnv.toDate(dayDate), view: viewApi, textId: textId,\n                text: text,\n                sideText: sideText, navLinkAttrs: buildNavLinkAttrs(this.context, dayDate), sideNavLinkAttrs: buildNavLinkAttrs(this.context, dayDate, 'day', false) }, dayMeta);\n            var classNames = ['fc-list-day'].concat(getDayClassNames(dayMeta, theme));\n            // TODO: make a reusable HOC for dayHeader (used in daygrid/timegrid too)\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInnerContent, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"tr\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": formatDayString(dayDate) },\n                createElement(\"th\", { scope: \"colgroup\", colSpan: 3, id: cellId, \"aria-labelledby\": textId },\n                    createElement(\"div\", { className: 'fc-list-day-cushion ' + theme.getClass('tableCellShaded'), ref: innerElRef }, innerContent)))); }));\n        };\n        return ListViewHeaderRow;\n    }(BaseComponent));\n    function renderInnerContent(props) {\n        return (createElement(Fragment, null,\n            props.text && (createElement(\"a\", __assign({ id: props.textId, className: \"fc-list-day-text\" }, props.navLinkAttrs), props.text)),\n            props.sideText && ( /* not keyboard tabbable */createElement(\"a\", __assign({ \"aria-hidden\": true, className: \"fc-list-day-side-text\" }, props.sideNavLinkAttrs), props.sideText))));\n    }\n\n    var DEFAULT_TIME_FORMAT = createFormatter({\n        hour: 'numeric',\n        minute: '2-digit',\n        meridiem: 'short',\n    });\n    var ListViewEventRow = /** @class */ (function (_super) {\n        __extends(ListViewEventRow, _super);\n        function ListViewEventRow() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        ListViewEventRow.prototype.render = function () {\n            var _a = this, props = _a.props, context = _a.context;\n            var seg = props.seg, timeHeaderId = props.timeHeaderId, eventHeaderId = props.eventHeaderId, dateHeaderId = props.dateHeaderId;\n            var timeFormat = context.options.eventTimeFormat || DEFAULT_TIME_FORMAT;\n            return (createElement(EventRoot, { seg: seg, timeText: \"\" // BAD. because of all-day content\n                , disableDragging: true, disableResizing: true, defaultContent: function () { return renderEventInnerContent(seg, context); } /* weird */, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday, isSelected: props.isSelected, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"tr\", { className: ['fc-list-event', hookProps.event.url ? 'fc-event-forced-url' : ''].concat(classNames).join(' '), ref: rootElRef },\n                buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId),\n                createElement(\"td\", { \"aria-hidden\": true, className: \"fc-list-event-graphic\" },\n                    createElement(\"span\", { className: \"fc-list-event-dot\", style: { borderColor: hookProps.borderColor || hookProps.backgroundColor } })),\n                createElement(\"td\", { ref: innerElRef, headers: eventHeaderId + \" \" + dateHeaderId, className: \"fc-list-event-title\" }, innerContent))); }));\n        };\n        return ListViewEventRow;\n    }(BaseComponent));\n    function renderEventInnerContent(seg, context) {\n        var interactiveAttrs = getSegAnchorAttrs(seg, context);\n        return (createElement(\"a\", __assign({}, interactiveAttrs), seg.eventRange.def.title));\n    }\n    function buildTimeContent(seg, timeFormat, context, timeHeaderId, dateHeaderId) {\n        var options = context.options;\n        if (options.displayEventTime !== false) {\n            var eventDef = seg.eventRange.def;\n            var eventInstance = seg.eventRange.instance;\n            var doAllDay = false;\n            var timeText = void 0;\n            if (eventDef.allDay) {\n                doAllDay = true;\n            }\n            else if (isMultiDayRange(seg.eventRange.range)) { // TODO: use (!isStart || !isEnd) instead?\n                if (seg.isStart) {\n                    timeText = buildSegTimeText(seg, timeFormat, context, null, null, eventInstance.range.start, seg.end);\n                }\n                else if (seg.isEnd) {\n                    timeText = buildSegTimeText(seg, timeFormat, context, null, null, seg.start, eventInstance.range.end);\n                }\n                else {\n                    doAllDay = true;\n                }\n            }\n            else {\n                timeText = buildSegTimeText(seg, timeFormat, context);\n            }\n            if (doAllDay) {\n                var hookProps = {\n                    text: context.options.allDayText,\n                    view: context.viewApi,\n                };\n                return (createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, headers: timeHeaderId + \" \" + dateHeaderId, className: ['fc-list-event-time'].concat(classNames).join(' ') }, innerContent)); }));\n            }\n            return (createElement(\"td\", { className: \"fc-list-event-time\" }, timeText));\n        }\n        return null;\n    }\n    function renderAllDayInner(hookProps) {\n        return hookProps.text;\n    }\n\n    /*\n    Responsible for the scroller, and forwarding event-related actions into the \"grid\".\n    */\n    var ListView = /** @class */ (function (_super) {\n        __extends(ListView, _super);\n        function ListView() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.computeDateVars = memoize(computeDateVars);\n            _this.eventStoreToSegs = memoize(_this._eventStoreToSegs);\n            _this.state = {\n                timeHeaderId: getUniqueDomId(),\n                eventHeaderId: getUniqueDomId(),\n                dateHeaderIdRoot: getUniqueDomId(),\n            };\n            _this.setRootEl = function (rootEl) {\n                if (rootEl) {\n                    _this.context.registerInteractiveComponent(_this, {\n                        el: rootEl,\n                    });\n                }\n                else {\n                    _this.context.unregisterInteractiveComponent(_this);\n                }\n            };\n            return _this;\n        }\n        ListView.prototype.render = function () {\n            var _this = this;\n            var _a = this, props = _a.props, context = _a.context;\n            var extraClassNames = [\n                'fc-list',\n                context.theme.getClass('table'),\n                context.options.stickyHeaderDates !== false ? 'fc-list-sticky' : '',\n            ];\n            var _b = this.computeDateVars(props.dateProfile), dayDates = _b.dayDates, dayRanges = _b.dayRanges;\n            var eventSegs = this.eventStoreToSegs(props.eventStore, props.eventUiBases, dayRanges);\n            return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.setRootEl }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: extraClassNames.concat(classNames).join(' ') },\n                createElement(Scroller, { liquid: !props.isHeightAuto, overflowX: props.isHeightAuto ? 'visible' : 'hidden', overflowY: props.isHeightAuto ? 'visible' : 'auto' }, eventSegs.length > 0 ?\n                    _this.renderSegList(eventSegs, dayDates) :\n                    _this.renderEmptyMessage()))); }));\n        };\n        ListView.prototype.renderEmptyMessage = function () {\n            var _a = this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.noEventsText,\n                view: viewApi,\n            };\n            return (createElement(RenderHook, { hookProps: hookProps, classNames: options.noEventsClassNames, content: options.noEventsContent, defaultContent: renderNoEventsInner, didMount: options.noEventsDidMount, willUnmount: options.noEventsWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { className: ['fc-list-empty'].concat(classNames).join(' '), ref: rootElRef },\n                createElement(\"div\", { className: \"fc-list-empty-cushion\", ref: innerElRef }, innerContent))); }));\n        };\n        ListView.prototype.renderSegList = function (allSegs, dayDates) {\n            var _a = this.context, theme = _a.theme, options = _a.options;\n            var _b = this.state, timeHeaderId = _b.timeHeaderId, eventHeaderId = _b.eventHeaderId, dateHeaderIdRoot = _b.dateHeaderIdRoot;\n            var segsByDay = groupSegsByDay(allSegs); // sparse array\n            return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) {\n                var innerNodes = [];\n                for (var dayIndex = 0; dayIndex < segsByDay.length; dayIndex += 1) {\n                    var daySegs = segsByDay[dayIndex];\n                    if (daySegs) { // sparse array, so might be undefined\n                        var dayStr = formatDayString(dayDates[dayIndex]);\n                        var dateHeaderId = dateHeaderIdRoot + '-' + dayStr;\n                        // append a day header\n                        innerNodes.push(createElement(ListViewHeaderRow, { key: dayStr, cellId: dateHeaderId, dayDate: dayDates[dayIndex], todayRange: todayRange }));\n                        daySegs = sortEventSegs(daySegs, options.eventOrder);\n                        for (var _i = 0, daySegs_1 = daySegs; _i < daySegs_1.length; _i++) {\n                            var seg = daySegs_1[_i];\n                            innerNodes.push(createElement(ListViewEventRow, __assign({ key: dayStr + ':' + seg.eventRange.instance.instanceId /* are multiple segs for an instanceId */, seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, timeHeaderId: timeHeaderId, eventHeaderId: eventHeaderId, dateHeaderId: dateHeaderId }, getSegMeta(seg, todayRange, nowDate))));\n                        }\n                    }\n                }\n                return (createElement(\"table\", { className: 'fc-list-table ' + theme.getClass('table') },\n                    createElement(\"thead\", null,\n                        createElement(\"tr\", null,\n                            createElement(\"th\", { scope: \"col\", id: timeHeaderId }, options.timeHint),\n                            createElement(\"th\", { scope: \"col\", \"aria-hidden\": true }),\n                            createElement(\"th\", { scope: \"col\", id: eventHeaderId }, options.eventHint))),\n                    createElement(\"tbody\", null, innerNodes)));\n            }));\n        };\n        ListView.prototype._eventStoreToSegs = function (eventStore, eventUiBases, dayRanges) {\n            return this.eventRangesToSegs(sliceEventStore(eventStore, eventUiBases, this.props.dateProfile.activeRange, this.context.options.nextDayThreshold).fg, dayRanges);\n        };\n        ListView.prototype.eventRangesToSegs = function (eventRanges, dayRanges) {\n            var segs = [];\n            for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n                var eventRange = eventRanges_1[_i];\n                segs.push.apply(segs, this.eventRangeToSegs(eventRange, dayRanges));\n            }\n            return segs;\n        };\n        ListView.prototype.eventRangeToSegs = function (eventRange, dayRanges) {\n            var dateEnv = this.context.dateEnv;\n            var nextDayThreshold = this.context.options.nextDayThreshold;\n            var range = eventRange.range;\n            var allDay = eventRange.def.allDay;\n            var dayIndex;\n            var segRange;\n            var seg;\n            var segs = [];\n            for (dayIndex = 0; dayIndex < dayRanges.length; dayIndex += 1) {\n                segRange = intersectRanges(range, dayRanges[dayIndex]);\n                if (segRange) {\n                    seg = {\n                        component: this,\n                        eventRange: eventRange,\n                        start: segRange.start,\n                        end: segRange.end,\n                        isStart: eventRange.isStart && segRange.start.valueOf() === range.start.valueOf(),\n                        isEnd: eventRange.isEnd && segRange.end.valueOf() === range.end.valueOf(),\n                        dayIndex: dayIndex,\n                    };\n                    segs.push(seg);\n                    // detect when range won't go fully into the next day,\n                    // and mutate the latest seg to the be the end.\n                    if (!seg.isEnd && !allDay &&\n                        dayIndex + 1 < dayRanges.length &&\n                        range.end <\n                            dateEnv.add(dayRanges[dayIndex + 1].start, nextDayThreshold)) {\n                        seg.end = range.end;\n                        seg.isEnd = true;\n                        break;\n                    }\n                }\n            }\n            return segs;\n        };\n        return ListView;\n    }(DateComponent));\n    function renderNoEventsInner(hookProps) {\n        return hookProps.text;\n    }\n    function computeDateVars(dateProfile) {\n        var dayStart = startOfDay(dateProfile.renderRange.start);\n        var viewEnd = dateProfile.renderRange.end;\n        var dayDates = [];\n        var dayRanges = [];\n        while (dayStart < viewEnd) {\n            dayDates.push(dayStart);\n            dayRanges.push({\n                start: dayStart,\n                end: addDays(dayStart, 1),\n            });\n            dayStart = addDays(dayStart, 1);\n        }\n        return { dayDates: dayDates, dayRanges: dayRanges };\n    }\n    // Returns a sparse array of arrays, segs grouped by their dayIndex\n    function groupSegsByDay(segs) {\n        var segsByDay = []; // sparse array\n        var i;\n        var seg;\n        for (i = 0; i < segs.length; i += 1) {\n            seg = segs[i];\n            (segsByDay[seg.dayIndex] || (segsByDay[seg.dayIndex] = []))\n                .push(seg);\n        }\n        return segsByDay;\n    }\n\n    var OPTION_REFINERS$1 = {\n        listDayFormat: createFalsableFormatter,\n        listDaySideFormat: createFalsableFormatter,\n        noEventsClassNames: identity,\n        noEventsContent: identity,\n        noEventsDidMount: identity,\n        noEventsWillUnmount: identity,\n        // noEventsText is defined in base options\n    };\n    function createFalsableFormatter(input) {\n        return input === false ? null : createFormatter(input);\n    }\n\n    var listPlugin = createPlugin({\n        optionRefiners: OPTION_REFINERS$1,\n        views: {\n            list: {\n                component: ListView,\n                buttonTextKey: 'list',\n                listDayFormat: { month: 'long', day: 'numeric', year: 'numeric' }, // like \"January 1, 2016\"\n            },\n            listDay: {\n                type: 'list',\n                duration: { days: 1 },\n                listDayFormat: { weekday: 'long' }, // day-of-week is all we need. full date is probably in headerToolbar\n            },\n            listWeek: {\n                type: 'list',\n                duration: { weeks: 1 },\n                listDayFormat: { weekday: 'long' },\n                listDaySideFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n            },\n            listMonth: {\n                type: 'list',\n                duration: { month: 1 },\n                listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n            },\n            listYear: {\n                type: 'list',\n                duration: { year: 1 },\n                listDaySideFormat: { weekday: 'long' }, // day-of-week is nice-to-have\n            },\n        },\n    });\n\n    var BootstrapTheme$1 = /** @class */ (function (_super) {\n        __extends(BootstrapTheme, _super);\n        function BootstrapTheme() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return BootstrapTheme;\n    }(Theme));\n    BootstrapTheme$1.prototype.classes = {\n        root: 'fc-theme-bootstrap',\n        table: 'table-bordered',\n        tableCellShaded: 'table-active',\n        buttonGroup: 'btn-group',\n        button: 'btn btn-primary',\n        buttonActive: 'active',\n        popover: 'popover',\n        popoverHeader: 'popover-header',\n        popoverContent: 'popover-body',\n    };\n    BootstrapTheme$1.prototype.baseIconClass = 'fa';\n    BootstrapTheme$1.prototype.iconClasses = {\n        close: 'fa-times',\n        prev: 'fa-chevron-left',\n        next: 'fa-chevron-right',\n        prevYear: 'fa-angle-double-left',\n        nextYear: 'fa-angle-double-right',\n    };\n    BootstrapTheme$1.prototype.rtlIconClasses = {\n        prev: 'fa-chevron-right',\n        next: 'fa-chevron-left',\n        prevYear: 'fa-angle-double-right',\n        nextYear: 'fa-angle-double-left',\n    };\n    BootstrapTheme$1.prototype.iconOverrideOption = 'bootstrapFontAwesome'; // TODO: make TS-friendly. move the option-processing into this plugin\n    BootstrapTheme$1.prototype.iconOverrideCustomButtonOption = 'bootstrapFontAwesome';\n    BootstrapTheme$1.prototype.iconOverridePrefix = 'fa-';\n    var plugin$1 = createPlugin({\n        themeClasses: {\n            bootstrap: BootstrapTheme$1,\n        },\n    });\n\n    var BootstrapTheme = /** @class */ (function (_super) {\n        __extends(BootstrapTheme, _super);\n        function BootstrapTheme() {\n            return _super !== null && _super.apply(this, arguments) || this;\n        }\n        return BootstrapTheme;\n    }(Theme));\n    BootstrapTheme.prototype.classes = {\n        root: 'fc-theme-bootstrap5',\n        tableCellShaded: 'fc-theme-bootstrap5-shaded',\n        buttonGroup: 'btn-group',\n        button: 'btn btn-primary',\n        buttonActive: 'active',\n        popover: 'popover',\n        popoverHeader: 'popover-header',\n        popoverContent: 'popover-body',\n    };\n    BootstrapTheme.prototype.baseIconClass = 'bi';\n    BootstrapTheme.prototype.iconClasses = {\n        close: 'bi-x-lg',\n        prev: 'bi-chevron-left',\n        next: 'bi-chevron-right',\n        prevYear: 'bi-chevron-double-left',\n        nextYear: 'bi-chevron-double-right',\n    };\n    BootstrapTheme.prototype.rtlIconClasses = {\n        prev: 'bi-chevron-right',\n        next: 'bi-chevron-left',\n        prevYear: 'bi-chevron-double-right',\n        nextYear: 'bi-chevron-double-left',\n    };\n    // wtf\n    BootstrapTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\n    BootstrapTheme.prototype.iconOverrideCustomButtonOption = 'icon';\n    BootstrapTheme.prototype.iconOverridePrefix = 'bi-';\n    var plugin = createPlugin({\n        themeClasses: {\n            bootstrap5: BootstrapTheme,\n        },\n    });\n\n    // rename this file to options.ts like other packages?\n    var OPTION_REFINERS = {\n        googleCalendarApiKey: String,\n    };\n\n    var EVENT_SOURCE_REFINERS = {\n        googleCalendarApiKey: String,\n        googleCalendarId: String,\n        googleCalendarApiBase: String,\n        extraParams: identity,\n    };\n\n    // TODO: expose somehow\n    var API_BASE = 'https://www.googleapis.com/calendar/v3/calendars';\n    var eventSourceDef = {\n        parseMeta: function (refined) {\n            var googleCalendarId = refined.googleCalendarId;\n            if (!googleCalendarId && refined.url) {\n                googleCalendarId = parseGoogleCalendarId(refined.url);\n            }\n            if (googleCalendarId) {\n                return {\n                    googleCalendarId: googleCalendarId,\n                    googleCalendarApiKey: refined.googleCalendarApiKey,\n                    googleCalendarApiBase: refined.googleCalendarApiBase,\n                    extraParams: refined.extraParams,\n                };\n            }\n            return null;\n        },\n        fetch: function (arg, onSuccess, onFailure) {\n            var _a = arg.context, dateEnv = _a.dateEnv, options = _a.options;\n            var meta = arg.eventSource.meta;\n            var apiKey = meta.googleCalendarApiKey || options.googleCalendarApiKey;\n            if (!apiKey) {\n                onFailure({\n                    message: 'Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/',\n                });\n            }\n            else {\n                var url = buildUrl(meta);\n                // TODO: make DRY with json-feed-event-source\n                var extraParams = meta.extraParams;\n                var extraParamsObj = typeof extraParams === 'function' ? extraParams() : extraParams;\n                var requestParams_1 = buildRequestParams(arg.range, apiKey, extraParamsObj, dateEnv);\n                requestJson('GET', url, requestParams_1, function (body, xhr) {\n                    if (body.error) {\n                        onFailure({\n                            message: 'Google Calendar API: ' + body.error.message,\n                            errors: body.error.errors,\n                            xhr: xhr,\n                        });\n                    }\n                    else {\n                        onSuccess({\n                            rawEvents: gcalItemsToRawEventDefs(body.items, requestParams_1.timeZone),\n                            xhr: xhr,\n                        });\n                    }\n                }, function (message, xhr) {\n                    onFailure({ message: message, xhr: xhr });\n                });\n            }\n        },\n    };\n    function parseGoogleCalendarId(url) {\n        var match;\n        // detect if the ID was specified as a single string.\n        // will match calendars like \"asdf1234@calendar.google.com\" in addition to person email calendars.\n        if (/^[^/]+@([^/.]+\\.)*(google|googlemail|gmail)\\.com$/.test(url)) {\n            return url;\n        }\n        if ((match = /^https:\\/\\/www.googleapis.com\\/calendar\\/v3\\/calendars\\/([^/]*)/.exec(url)) ||\n            (match = /^https?:\\/\\/www.google.com\\/calendar\\/feeds\\/([^/]*)/.exec(url))) {\n            return decodeURIComponent(match[1]);\n        }\n        return null;\n    }\n    function buildUrl(meta) {\n        var apiBase = meta.googleCalendarApiBase;\n        if (!apiBase) {\n            apiBase = API_BASE;\n        }\n        return apiBase + '/' + encodeURIComponent(meta.googleCalendarId) + '/events';\n    }\n    function buildRequestParams(range, apiKey, extraParams, dateEnv) {\n        var params;\n        var startStr;\n        var endStr;\n        if (dateEnv.canComputeOffset) {\n            // strings will naturally have offsets, which GCal needs\n            startStr = dateEnv.formatIso(range.start);\n            endStr = dateEnv.formatIso(range.end);\n        }\n        else {\n            // when timezone isn't known, we don't know what the UTC offset should be, so ask for +/- 1 day\n            // from the UTC day-start to guarantee we're getting all the events\n            // (start/end will be UTC-coerced dates, so toISOString is okay)\n            startStr = addDays(range.start, -1).toISOString();\n            endStr = addDays(range.end, 1).toISOString();\n        }\n        params = __assign(__assign({}, (extraParams || {})), { key: apiKey, timeMin: startStr, timeMax: endStr, singleEvents: true, maxResults: 9999 });\n        if (dateEnv.timeZone !== 'local') {\n            params.timeZone = dateEnv.timeZone;\n        }\n        return params;\n    }\n    function gcalItemsToRawEventDefs(items, gcalTimezone) {\n        return items.map(function (item) { return gcalItemToRawEventDef(item, gcalTimezone); });\n    }\n    function gcalItemToRawEventDef(item, gcalTimezone) {\n        var url = item.htmlLink || null;\n        // make the URLs for each event show times in the correct timezone\n        if (url && gcalTimezone) {\n            url = injectQsComponent(url, 'ctz=' + gcalTimezone);\n        }\n        return {\n            id: item.id,\n            title: item.summary,\n            start: item.start.dateTime || item.start.date,\n            end: item.end.dateTime || item.end.date,\n            url: url,\n            location: item.location,\n            description: item.description,\n            attachments: item.attachments || [],\n            extendedProps: (item.extendedProperties || {}).shared || {},\n        };\n    }\n    // Injects a string like \"arg=value\" into the querystring of a URL\n    // TODO: move to a general util file?\n    function injectQsComponent(url, component) {\n        // inject it after the querystring but before the fragment\n        return url.replace(/(\\?.*?)?(#|$)/, function (whole, qs, hash) { return (qs ? qs + '&' : '?') + component + hash; });\n    }\n    var googleCalendarPlugin = createPlugin({\n        eventSourceDefs: [eventSourceDef],\n        optionRefiners: OPTION_REFINERS,\n        eventSourceRefiners: EVENT_SOURCE_REFINERS,\n    });\n\n    globalPlugins.push(interactionPlugin, dayGridPlugin, timeGridPlugin, listPlugin, plugin$1, plugin, googleCalendarPlugin);\n\n    exports.BASE_OPTION_DEFAULTS = BASE_OPTION_DEFAULTS;\n    exports.BASE_OPTION_REFINERS = BASE_OPTION_REFINERS;\n    exports.BaseComponent = BaseComponent;\n    exports.BgEvent = BgEvent;\n    exports.BootstrapTheme = BootstrapTheme$1;\n    exports.Calendar = Calendar;\n    exports.CalendarApi = CalendarApi;\n    exports.CalendarContent = CalendarContent;\n    exports.CalendarDataManager = CalendarDataManager;\n    exports.CalendarDataProvider = CalendarDataProvider;\n    exports.CalendarRoot = CalendarRoot;\n    exports.Component = Component;\n    exports.ContentHook = ContentHook;\n    exports.CustomContentRenderContext = CustomContentRenderContext;\n    exports.DateComponent = DateComponent;\n    exports.DateEnv = DateEnv;\n    exports.DateProfileGenerator = DateProfileGenerator;\n    exports.DayCellContent = DayCellContent;\n    exports.DayCellRoot = DayCellRoot;\n    exports.DayGridView = DayTableView;\n    exports.DayHeader = DayHeader;\n    exports.DaySeriesModel = DaySeriesModel;\n    exports.DayTable = DayTable;\n    exports.DayTableModel = DayTableModel;\n    exports.DayTableSlicer = DayTableSlicer;\n    exports.DayTimeCols = DayTimeCols;\n    exports.DayTimeColsSlicer = DayTimeColsSlicer;\n    exports.DayTimeColsView = DayTimeColsView;\n    exports.DelayedRunner = DelayedRunner;\n    exports.Draggable = ExternalDraggable;\n    exports.ElementDragging = ElementDragging;\n    exports.ElementScrollController = ElementScrollController;\n    exports.Emitter = Emitter;\n    exports.EventApi = EventApi;\n    exports.EventRoot = EventRoot;\n    exports.EventSourceApi = EventSourceApi;\n    exports.FeaturefulElementDragging = FeaturefulElementDragging;\n    exports.Fragment = Fragment;\n    exports.Interaction = Interaction;\n    exports.ListView = ListView;\n    exports.MoreLinkRoot = MoreLinkRoot;\n    exports.MountHook = MountHook;\n    exports.NamedTimeZoneImpl = NamedTimeZoneImpl;\n    exports.NowIndicatorRoot = NowIndicatorRoot;\n    exports.NowTimer = NowTimer;\n    exports.PointerDragging = PointerDragging;\n    exports.PositionCache = PositionCache;\n    exports.RefMap = RefMap;\n    exports.RenderHook = RenderHook;\n    exports.ScrollController = ScrollController;\n    exports.ScrollResponder = ScrollResponder;\n    exports.Scroller = Scroller;\n    exports.SegHierarchy = SegHierarchy;\n    exports.SimpleScrollGrid = SimpleScrollGrid;\n    exports.Slicer = Slicer;\n    exports.Splitter = Splitter;\n    exports.StandardEvent = StandardEvent;\n    exports.Table = Table;\n    exports.TableDateCell = TableDateCell;\n    exports.TableDowCell = TableDowCell;\n    exports.TableView = TableView;\n    exports.Theme = Theme;\n    exports.ThirdPartyDraggable = ThirdPartyDraggable;\n    exports.TimeCols = TimeCols;\n    exports.TimeColsSlatsCoords = TimeColsSlatsCoords;\n    exports.TimeColsView = TimeColsView;\n    exports.ViewApi = ViewApi;\n    exports.ViewContextType = ViewContextType;\n    exports.ViewRoot = ViewRoot;\n    exports.WeekNumberRoot = WeekNumberRoot;\n    exports.WindowScrollController = WindowScrollController;\n    exports.addDays = addDays;\n    exports.addDurations = addDurations;\n    exports.addMs = addMs;\n    exports.addWeeks = addWeeks;\n    exports.allowContextMenu = allowContextMenu;\n    exports.allowSelection = allowSelection;\n    exports.applyMutationToEventStore = applyMutationToEventStore;\n    exports.applyStyle = applyStyle;\n    exports.applyStyleProp = applyStyleProp;\n    exports.asCleanDays = asCleanDays;\n    exports.asRoughMinutes = asRoughMinutes;\n    exports.asRoughMs = asRoughMs;\n    exports.asRoughSeconds = asRoughSeconds;\n    exports.binarySearch = binarySearch;\n    exports.buildClassNameNormalizer = buildClassNameNormalizer;\n    exports.buildDayRanges = buildDayRanges;\n    exports.buildDayTableModel = buildDayTableModel;\n    exports.buildEntryKey = buildEntryKey;\n    exports.buildEventApis = buildEventApis;\n    exports.buildEventRangeKey = buildEventRangeKey;\n    exports.buildHashFromArray = buildHashFromArray;\n    exports.buildIsoString = buildIsoString;\n    exports.buildNavLinkAttrs = buildNavLinkAttrs;\n    exports.buildSegCompareObj = buildSegCompareObj;\n    exports.buildSegTimeText = buildSegTimeText;\n    exports.buildSlatMetas = buildSlatMetas;\n    exports.buildTimeColsModel = buildTimeColsModel;\n    exports.collectFromHash = collectFromHash;\n    exports.combineEventUis = combineEventUis;\n    exports.compareByFieldSpec = compareByFieldSpec;\n    exports.compareByFieldSpecs = compareByFieldSpecs;\n    exports.compareNumbers = compareNumbers;\n    exports.compareObjs = compareObjs;\n    exports.computeEarliestSegStart = computeEarliestSegStart;\n    exports.computeEdges = computeEdges;\n    exports.computeFallbackHeaderFormat = computeFallbackHeaderFormat;\n    exports.computeHeightAndMargins = computeHeightAndMargins;\n    exports.computeInnerRect = computeInnerRect;\n    exports.computeRect = computeRect;\n    exports.computeSegDraggable = computeSegDraggable;\n    exports.computeSegEndResizable = computeSegEndResizable;\n    exports.computeSegStartResizable = computeSegStartResizable;\n    exports.computeShrinkWidth = computeShrinkWidth;\n    exports.computeSmallestCellWidth = computeSmallestCellWidth;\n    exports.computeVisibleDayRange = computeVisibleDayRange;\n    exports.config = config;\n    exports.constrainPoint = constrainPoint;\n    exports.createAriaClickAttrs = createAriaClickAttrs;\n    exports.createContext = createContext;\n    exports.createDuration = createDuration;\n    exports.createElement = createElement;\n    exports.createEmptyEventStore = createEmptyEventStore;\n    exports.createEventInstance = createEventInstance;\n    exports.createEventUi = createEventUi;\n    exports.createFormatter = createFormatter;\n    exports.createPlugin = createPlugin;\n    exports.createPortal = createPortal;\n    exports.createRef = createRef;\n    exports.diffDates = diffDates;\n    exports.diffDayAndTime = diffDayAndTime;\n    exports.diffDays = diffDays;\n    exports.diffPoints = diffPoints;\n    exports.diffWeeks = diffWeeks;\n    exports.diffWholeDays = diffWholeDays;\n    exports.diffWholeWeeks = diffWholeWeeks;\n    exports.disableCursor = disableCursor;\n    exports.elementClosest = elementClosest;\n    exports.elementMatches = elementMatches;\n    exports.enableCursor = enableCursor;\n    exports.eventTupleToStore = eventTupleToStore;\n    exports.filterEventStoreDefs = filterEventStoreDefs;\n    exports.filterHash = filterHash;\n    exports.findDirectChildren = findDirectChildren;\n    exports.findElements = findElements;\n    exports.flexibleCompare = flexibleCompare;\n    exports.flushSync = flushSync;\n    exports.formatDate = formatDate;\n    exports.formatDayString = formatDayString;\n    exports.formatIsoTimeString = formatIsoTimeString;\n    exports.formatRange = formatRange;\n    exports.getAllowYScrolling = getAllowYScrolling;\n    exports.getCanVGrowWithinCell = getCanVGrowWithinCell;\n    exports.getClippingParents = getClippingParents;\n    exports.getDateMeta = getDateMeta;\n    exports.getDayClassNames = getDayClassNames;\n    exports.getDefaultEventEnd = getDefaultEventEnd;\n    exports.getElRoot = getElRoot;\n    exports.getElSeg = getElSeg;\n    exports.getEntrySpanEnd = getEntrySpanEnd;\n    exports.getEventClassNames = getEventClassNames;\n    exports.getEventTargetViaRoot = getEventTargetViaRoot;\n    exports.getIsRtlScrollbarOnLeft = getIsRtlScrollbarOnLeft;\n    exports.getRectCenter = getRectCenter;\n    exports.getRelevantEvents = getRelevantEvents;\n    exports.getScrollGridClassNames = getScrollGridClassNames;\n    exports.getScrollbarWidths = getScrollbarWidths;\n    exports.getSectionClassNames = getSectionClassNames;\n    exports.getSectionHasLiquidHeight = getSectionHasLiquidHeight;\n    exports.getSegAnchorAttrs = getSegAnchorAttrs;\n    exports.getSegMeta = getSegMeta;\n    exports.getSlotClassNames = getSlotClassNames;\n    exports.getStickyFooterScrollbar = getStickyFooterScrollbar;\n    exports.getStickyHeaderDates = getStickyHeaderDates;\n    exports.getUnequalProps = getUnequalProps;\n    exports.getUniqueDomId = getUniqueDomId;\n    exports.globalLocales = globalLocales;\n    exports.globalPlugins = globalPlugins;\n    exports.greatestDurationDenominator = greatestDurationDenominator;\n    exports.groupIntersectingEntries = groupIntersectingEntries;\n    exports.guid = guid;\n    exports.hasBgRendering = hasBgRendering;\n    exports.hasShrinkWidth = hasShrinkWidth;\n    exports.identity = identity;\n    exports.interactionSettingsStore = interactionSettingsStore;\n    exports.interactionSettingsToStore = interactionSettingsToStore;\n    exports.intersectRanges = intersectRanges;\n    exports.intersectRects = intersectRects;\n    exports.intersectSpans = intersectSpans;\n    exports.isArraysEqual = isArraysEqual;\n    exports.isColPropsEqual = isColPropsEqual;\n    exports.isDateSelectionValid = isDateSelectionValid;\n    exports.isDateSpansEqual = isDateSpansEqual;\n    exports.isInt = isInt;\n    exports.isInteractionValid = isInteractionValid;\n    exports.isMultiDayRange = isMultiDayRange;\n    exports.isPropsEqual = isPropsEqual;\n    exports.isPropsValid = isPropsValid;\n    exports.isValidDate = isValidDate;\n    exports.joinSpans = joinSpans;\n    exports.listenBySelector = listenBySelector;\n    exports.mapHash = mapHash;\n    exports.memoize = memoize;\n    exports.memoizeArraylike = memoizeArraylike;\n    exports.memoizeHashlike = memoizeHashlike;\n    exports.memoizeObjArg = memoizeObjArg;\n    exports.mergeEventStores = mergeEventStores;\n    exports.multiplyDuration = multiplyDuration;\n    exports.padStart = padStart;\n    exports.parseBusinessHours = parseBusinessHours;\n    exports.parseClassNames = parseClassNames;\n    exports.parseDragMeta = parseDragMeta;\n    exports.parseEventDef = parseEventDef;\n    exports.parseFieldSpecs = parseFieldSpecs;\n    exports.parseMarker = parse;\n    exports.pointInsideRect = pointInsideRect;\n    exports.preventContextMenu = preventContextMenu;\n    exports.preventDefault = preventDefault;\n    exports.preventSelection = preventSelection;\n    exports.rangeContainsMarker = rangeContainsMarker;\n    exports.rangeContainsRange = rangeContainsRange;\n    exports.rangesEqual = rangesEqual;\n    exports.rangesIntersect = rangesIntersect;\n    exports.refineEventDef = refineEventDef;\n    exports.refineProps = refineProps;\n    exports.removeElement = removeElement;\n    exports.removeExact = removeExact;\n    exports.render = render;\n    exports.renderChunkContent = renderChunkContent;\n    exports.renderFill = renderFill;\n    exports.renderMicroColGroup = renderMicroColGroup;\n    exports.renderScrollShim = renderScrollShim;\n    exports.requestJson = requestJson;\n    exports.sanitizeShrinkWidth = sanitizeShrinkWidth;\n    exports.setElSeg = setElSeg;\n    exports.setRef = setRef;\n    exports.sliceEventStore = sliceEventStore;\n    exports.sliceEvents = sliceEvents;\n    exports.sortEventSegs = sortEventSegs;\n    exports.startOfDay = startOfDay;\n    exports.translateRect = translateRect;\n    exports.triggerDateSelect = triggerDateSelect;\n    exports.unmountComponentAtNode = unmountComponentAtNode;\n    exports.unpromisify = unpromisify;\n    exports.version = version;\n    exports.whenTransitionDone = whenTransitionDone;\n    exports.wholeDivideDurations = wholeDivideDurations;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n    return exports;\n\n}({}));\n","/**\n * TinyMCE version 6.3.1 (2022-12-06)\n */\n\n(function () {\n    'use strict';\n\n    var typeOf$1 = function (x) {\n      if (x === null) {\n        return 'null';\n      }\n      if (x === undefined) {\n        return 'undefined';\n      }\n      var t = typeof x;\n      if (t === 'object' && (Array.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'Array')) {\n        return 'array';\n      }\n      if (t === 'object' && (String.prototype.isPrototypeOf(x) || x.constructor && x.constructor.name === 'String')) {\n        return 'string';\n      }\n      return t;\n    };\n    var isEquatableType = function (x) {\n      return [\n        'undefined',\n        'boolean',\n        'number',\n        'string',\n        'function',\n        'xml',\n        'null'\n      ].indexOf(x) !== -1;\n    };\n\n    var sort$1 = function (xs, compareFn) {\n      var clone = Array.prototype.slice.call(xs);\n      return clone.sort(compareFn);\n    };\n\n    var contramap = function (eqa, f) {\n      return eq$2(function (x, y) {\n        return eqa.eq(f(x), f(y));\n      });\n    };\n    var eq$2 = function (f) {\n      return { eq: f };\n    };\n    var tripleEq = eq$2(function (x, y) {\n      return x === y;\n    });\n    var eqString = tripleEq;\n    var eqArray = function (eqa) {\n      return eq$2(function (x, y) {\n        if (x.length !== y.length) {\n          return false;\n        }\n        var len = x.length;\n        for (var i = 0; i < len; i++) {\n          if (!eqa.eq(x[i], y[i])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqSortedArray = function (eqa, compareFn) {\n      return contramap(eqArray(eqa), function (xs) {\n        return sort$1(xs, compareFn);\n      });\n    };\n    var eqRecord = function (eqa) {\n      return eq$2(function (x, y) {\n        var kx = Object.keys(x);\n        var ky = Object.keys(y);\n        if (!eqSortedArray(eqString).eq(kx, ky)) {\n          return false;\n        }\n        var len = kx.length;\n        for (var i = 0; i < len; i++) {\n          var q = kx[i];\n          if (!eqa.eq(x[q], y[q])) {\n            return false;\n          }\n        }\n        return true;\n      });\n    };\n    var eqAny = eq$2(function (x, y) {\n      if (x === y) {\n        return true;\n      }\n      var tx = typeOf$1(x);\n      var ty = typeOf$1(y);\n      if (tx !== ty) {\n        return false;\n      }\n      if (isEquatableType(tx)) {\n        return x === y;\n      } else if (tx === 'array') {\n        return eqArray(eqAny).eq(x, y);\n      } else if (tx === 'object') {\n        return eqRecord(eqAny).eq(x, y);\n      }\n      return false;\n    });\n\n    const getPrototypeOf$1 = Object.getPrototypeOf;\n    const hasProto = (v, constructor, predicate) => {\n      var _a;\n      if (predicate(v, constructor.prototype)) {\n        return true;\n      } else {\n        return ((_a = v.constructor) === null || _a === void 0 ? void 0 : _a.name) === constructor.name;\n      }\n    };\n    const typeOf = x => {\n      const t = typeof x;\n      if (x === null) {\n        return 'null';\n      } else if (t === 'object' && Array.isArray(x)) {\n        return 'array';\n      } else if (t === 'object' && hasProto(x, String, (o, proto) => proto.isPrototypeOf(o))) {\n        return 'string';\n      } else {\n        return t;\n      }\n    };\n    const isType$1 = type => value => typeOf(value) === type;\n    const isSimpleType = type => value => typeof value === type;\n    const eq$1 = t => a => t === a;\n    const is$4 = (value, constructor) => isObject(value) && hasProto(value, constructor, (o, proto) => getPrototypeOf$1(o) === proto);\n    const isString = isType$1('string');\n    const isObject = isType$1('object');\n    const isPlainObject = value => is$4(value, Object);\n    const isArray$1 = isType$1('array');\n    const isNull = eq$1(null);\n    const isBoolean = isSimpleType('boolean');\n    const isUndefined = eq$1(undefined);\n    const isNullable = a => a === null || a === undefined;\n    const isNonNullable = a => !isNullable(a);\n    const isFunction = isSimpleType('function');\n    const isNumber = isSimpleType('number');\n    const isArrayOf = (value, pred) => {\n      if (isArray$1(value)) {\n        for (let i = 0, len = value.length; i < len; ++i) {\n          if (!pred(value[i])) {\n            return false;\n          }\n        }\n        return true;\n      }\n      return false;\n    };\n\n    const noop = () => {\n    };\n    const compose = (fa, fb) => {\n      return (...args) => {\n        return fa(fb.apply(null, args));\n      };\n    };\n    const compose1 = (fbc, fab) => a => fbc(fab(a));\n    const constant = value => {\n      return () => {\n        return value;\n      };\n    };\n    const identity = x => {\n      return x;\n    };\n    const tripleEquals = (a, b) => {\n      return a === b;\n    };\n    function curry(fn, ...initialArgs) {\n      return (...restArgs) => {\n        const all = initialArgs.concat(restArgs);\n        return fn.apply(null, all);\n      };\n    }\n    const not = f => t => !f(t);\n    const die = msg => {\n      return () => {\n        throw new Error(msg);\n      };\n    };\n    const apply$1 = f => {\n      return f();\n    };\n    const call = f => {\n      f();\n    };\n    const never = constant(false);\n    const always = constant(true);\n\n    class Optional {\n      constructor(tag, value) {\n        this.tag = tag;\n        this.value = value;\n      }\n      static some(value) {\n        return new Optional(true, value);\n      }\n      static none() {\n        return Optional.singletonNone;\n      }\n      fold(onNone, onSome) {\n        if (this.tag) {\n          return onSome(this.value);\n        } else {\n          return onNone();\n        }\n      }\n      isSome() {\n        return this.tag;\n      }\n      isNone() {\n        return !this.tag;\n      }\n      map(mapper) {\n        if (this.tag) {\n          return Optional.some(mapper(this.value));\n        } else {\n          return Optional.none();\n        }\n      }\n      bind(binder) {\n        if (this.tag) {\n          return binder(this.value);\n        } else {\n          return Optional.none();\n        }\n      }\n      exists(predicate) {\n        return this.tag && predicate(this.value);\n      }\n      forall(predicate) {\n        return !this.tag || predicate(this.value);\n      }\n      filter(predicate) {\n        if (!this.tag || predicate(this.value)) {\n          return this;\n        } else {\n          return Optional.none();\n        }\n      }\n      getOr(replacement) {\n        return this.tag ? this.value : replacement;\n      }\n      or(replacement) {\n        return this.tag ? this : replacement;\n      }\n      getOrThunk(thunk) {\n        return this.tag ? this.value : thunk();\n      }\n      orThunk(thunk) {\n        return this.tag ? this : thunk();\n      }\n      getOrDie(message) {\n        if (!this.tag) {\n          throw new Error(message !== null && message !== void 0 ? message : 'Called getOrDie on None');\n        } else {\n          return this.value;\n        }\n      }\n      static from(value) {\n        return isNonNullable(value) ? Optional.some(value) : Optional.none();\n      }\n      getOrNull() {\n        return this.tag ? this.value : null;\n      }\n      getOrUndefined() {\n        return this.value;\n      }\n      each(worker) {\n        if (this.tag) {\n          worker(this.value);\n        }\n      }\n      toArray() {\n        return this.tag ? [this.value] : [];\n      }\n      toString() {\n        return this.tag ? `some(${ this.value })` : 'none()';\n      }\n    }\n    Optional.singletonNone = new Optional(false);\n\n    const nativeSlice = Array.prototype.slice;\n    const nativeIndexOf = Array.prototype.indexOf;\n    const nativePush = Array.prototype.push;\n    const rawIndexOf = (ts, t) => nativeIndexOf.call(ts, t);\n    const indexOf$1 = (xs, x) => {\n      const r = rawIndexOf(xs, x);\n      return r === -1 ? Optional.none() : Optional.some(r);\n    };\n    const contains$2 = (xs, x) => rawIndexOf(xs, x) > -1;\n    const exists = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const map$3 = (xs, f) => {\n      const len = xs.length;\n      const r = new Array(len);\n      for (let i = 0; i < len; i++) {\n        const x = xs[i];\n        r[i] = f(x, i);\n      }\n      return r;\n    };\n    const each$e = (xs, f) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const eachr = (xs, f) => {\n      for (let i = xs.length - 1; i >= 0; i--) {\n        const x = xs[i];\n        f(x, i);\n      }\n    };\n    const partition$2 = (xs, pred) => {\n      const pass = [];\n      const fail = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        const arr = pred(x, i) ? pass : fail;\n        arr.push(x);\n      }\n      return {\n        pass,\n        fail\n      };\n    };\n    const filter$5 = (xs, pred) => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n    const foldr = (xs, f, acc) => {\n      eachr(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const foldl = (xs, f, acc) => {\n      each$e(xs, (x, i) => {\n        acc = f(acc, x, i);\n      });\n      return acc;\n    };\n    const findUntil$1 = (xs, pred, until) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(x);\n        } else if (until(x, i)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const find$2 = (xs, pred) => {\n      return findUntil$1(xs, pred, never);\n    };\n    const findIndex$2 = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (pred(x, i)) {\n          return Optional.some(i);\n        }\n      }\n      return Optional.none();\n    };\n    const flatten = xs => {\n      const r = [];\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        if (!isArray$1(xs[i])) {\n          throw new Error('Arr.flatten item ' + i + ' was not an array, input: ' + xs);\n        }\n        nativePush.apply(r, xs[i]);\n      }\n      return r;\n    };\n    const bind$3 = (xs, f) => flatten(map$3(xs, f));\n    const forall = (xs, pred) => {\n      for (let i = 0, len = xs.length; i < len; ++i) {\n        const x = xs[i];\n        if (pred(x, i) !== true) {\n          return false;\n        }\n      }\n      return true;\n    };\n    const reverse = xs => {\n      const r = nativeSlice.call(xs, 0);\n      r.reverse();\n      return r;\n    };\n    const difference = (a1, a2) => filter$5(a1, x => !contains$2(a2, x));\n    const mapToObject = (xs, f) => {\n      const r = {};\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        r[String(x)] = f(x, i);\n      }\n      return r;\n    };\n    const sort = (xs, comparator) => {\n      const copy = nativeSlice.call(xs, 0);\n      copy.sort(comparator);\n      return copy;\n    };\n    const get$b = (xs, i) => i >= 0 && i < xs.length ? Optional.some(xs[i]) : Optional.none();\n    const head = xs => get$b(xs, 0);\n    const last$3 = xs => get$b(xs, xs.length - 1);\n    const from = isFunction(Array.from) ? Array.from : x => nativeSlice.call(x);\n    const findMap = (arr, f) => {\n      for (let i = 0; i < arr.length; i++) {\n        const r = f(arr[i], i);\n        if (r.isSome()) {\n          return r;\n        }\n      }\n      return Optional.none();\n    };\n    const unique$1 = (xs, comparator) => {\n      const r = [];\n      const isDuplicated = isFunction(comparator) ? x => exists(r, i => comparator(i, x)) : x => contains$2(r, x);\n      for (let i = 0, len = xs.length; i < len; i++) {\n        const x = xs[i];\n        if (!isDuplicated(x)) {\n          r.push(x);\n        }\n      }\n      return r;\n    };\n\n    const keys = Object.keys;\n    const hasOwnProperty$2 = Object.hasOwnProperty;\n    const each$d = (obj, f) => {\n      const props = keys(obj);\n      for (let k = 0, len = props.length; k < len; k++) {\n        const i = props[k];\n        const x = obj[i];\n        f(x, i);\n      }\n    };\n    const map$2 = (obj, f) => {\n      return tupleMap(obj, (x, i) => ({\n        k: i,\n        v: f(x, i)\n      }));\n    };\n    const tupleMap = (obj, f) => {\n      const r = {};\n      each$d(obj, (x, i) => {\n        const tuple = f(x, i);\n        r[tuple.k] = tuple.v;\n      });\n      return r;\n    };\n    const objAcc = r => (x, i) => {\n      r[i] = x;\n    };\n    const internalFilter = (obj, pred, onTrue, onFalse) => {\n      each$d(obj, (x, i) => {\n        (pred(x, i) ? onTrue : onFalse)(x, i);\n      });\n    };\n    const bifilter = (obj, pred) => {\n      const t = {};\n      const f = {};\n      internalFilter(obj, pred, objAcc(t), objAcc(f));\n      return {\n        t,\n        f\n      };\n    };\n    const filter$4 = (obj, pred) => {\n      const t = {};\n      internalFilter(obj, pred, objAcc(t), noop);\n      return t;\n    };\n    const mapToArray = (obj, f) => {\n      const r = [];\n      each$d(obj, (value, name) => {\n        r.push(f(value, name));\n      });\n      return r;\n    };\n    const values = obj => {\n      return mapToArray(obj, identity);\n    };\n    const get$a = (obj, key) => {\n      return has$2(obj, key) ? Optional.from(obj[key]) : Optional.none();\n    };\n    const has$2 = (obj, key) => hasOwnProperty$2.call(obj, key);\n    const hasNonNullableKey = (obj, key) => has$2(obj, key) && obj[key] !== undefined && obj[key] !== null;\n    const equal$1 = (a1, a2, eq = eqAny) => eqRecord(eq).eq(a1, a2);\n\n    const stringArray = a => {\n      const all = {};\n      each$e(a, key => {\n        all[key] = {};\n      });\n      return keys(all);\n    };\n\n    const isArrayLike = o => o.length !== undefined;\n    const isArray = Array.isArray;\n    const toArray$1 = obj => {\n      if (!isArray(obj)) {\n        const array = [];\n        for (let i = 0, l = obj.length; i < l; i++) {\n          array[i] = obj[i];\n        }\n        return array;\n      } else {\n        return obj;\n      }\n    };\n    const each$c = (o, cb, s) => {\n      if (!o) {\n        return false;\n      }\n      s = s || o;\n      if (isArrayLike(o)) {\n        for (let n = 0, l = o.length; n < l; n++) {\n          if (cb.call(s, o[n], n, o) === false) {\n            return false;\n          }\n        }\n      } else {\n        for (const n in o) {\n          if (has$2(o, n)) {\n            if (cb.call(s, o[n], n, o) === false) {\n              return false;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const map$1 = (array, callback) => {\n      const out = [];\n      each$c(array, (item, index) => {\n        out.push(callback(item, index, array));\n      });\n      return out;\n    };\n    const filter$3 = (a, f) => {\n      const o = [];\n      each$c(a, (v, index) => {\n        if (!f || f(v, index, a)) {\n          o.push(v);\n        }\n      });\n      return o;\n    };\n    const indexOf = (a, v) => {\n      if (a) {\n        for (let i = 0, l = a.length; i < l; i++) {\n          if (a[i] === v) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    const reduce = (collection, iteratee, accumulator, thisArg) => {\n      let acc = isUndefined(accumulator) ? collection[0] : accumulator;\n      for (let i = 0; i < collection.length; i++) {\n        acc = iteratee.call(thisArg, acc, collection[i], i);\n      }\n      return acc;\n    };\n    const findIndex$1 = (array, predicate, thisArg) => {\n      for (let i = 0, l = array.length; i < l; i++) {\n        if (predicate.call(thisArg, array[i], i, array)) {\n          return i;\n        }\n      }\n      return -1;\n    };\n    const last$2 = collection => collection[collection.length - 1];\n\n    const cached = f => {\n      let called = false;\n      let r;\n      return (...args) => {\n        if (!called) {\n          called = true;\n          r = f.apply(null, args);\n        }\n        return r;\n      };\n    };\n\n    const DeviceType = (os, browser, userAgent, mediaMatch) => {\n      const isiPad = os.isiOS() && /ipad/i.test(userAgent) === true;\n      const isiPhone = os.isiOS() && !isiPad;\n      const isMobile = os.isiOS() || os.isAndroid();\n      const isTouch = isMobile || mediaMatch('(pointer:coarse)');\n      const isTablet = isiPad || !isiPhone && isMobile && mediaMatch('(min-device-width:768px)');\n      const isPhone = isiPhone || isMobile && !isTablet;\n      const iOSwebview = browser.isSafari() && os.isiOS() && /safari/i.test(userAgent) === false;\n      const isDesktop = !isPhone && !isTablet && !iOSwebview;\n      return {\n        isiPad: constant(isiPad),\n        isiPhone: constant(isiPhone),\n        isTablet: constant(isTablet),\n        isPhone: constant(isPhone),\n        isTouch: constant(isTouch),\n        isAndroid: os.isAndroid,\n        isiOS: os.isiOS,\n        isWebView: constant(iOSwebview),\n        isDesktop: constant(isDesktop)\n      };\n    };\n\n    const firstMatch = (regexes, s) => {\n      for (let i = 0; i < regexes.length; i++) {\n        const x = regexes[i];\n        if (x.test(s)) {\n          return x;\n        }\n      }\n      return undefined;\n    };\n    const find$1 = (regexes, agent) => {\n      const r = firstMatch(regexes, agent);\n      if (!r) {\n        return {\n          major: 0,\n          minor: 0\n        };\n      }\n      const group = i => {\n        return Number(agent.replace(r, '$' + i));\n      };\n      return nu$3(group(1), group(2));\n    };\n    const detect$5 = (versionRegexes, agent) => {\n      const cleanedAgent = String(agent).toLowerCase();\n      if (versionRegexes.length === 0) {\n        return unknown$2();\n      }\n      return find$1(versionRegexes, cleanedAgent);\n    };\n    const unknown$2 = () => {\n      return nu$3(0, 0);\n    };\n    const nu$3 = (major, minor) => {\n      return {\n        major,\n        minor\n      };\n    };\n    const Version = {\n      nu: nu$3,\n      detect: detect$5,\n      unknown: unknown$2\n    };\n\n    const detectBrowser$1 = (browsers, userAgentData) => {\n      return findMap(userAgentData.brands, uaBrand => {\n        const lcBrand = uaBrand.brand.toLowerCase();\n        return find$2(browsers, browser => {\n          var _a;\n          return lcBrand === ((_a = browser.brand) === null || _a === void 0 ? void 0 : _a.toLowerCase());\n        }).map(info => ({\n          current: info.name,\n          version: Version.nu(parseInt(uaBrand.version, 10), 0)\n        }));\n      });\n    };\n\n    const detect$4 = (candidates, userAgent) => {\n      const agent = String(userAgent).toLowerCase();\n      return find$2(candidates, candidate => {\n        return candidate.search(agent);\n      });\n    };\n    const detectBrowser = (browsers, userAgent) => {\n      return detect$4(browsers, userAgent).map(browser => {\n        const version = Version.detect(browser.versionRegexes, userAgent);\n        return {\n          current: browser.name,\n          version\n        };\n      });\n    };\n    const detectOs = (oses, userAgent) => {\n      return detect$4(oses, userAgent).map(os => {\n        const version = Version.detect(os.versionRegexes, userAgent);\n        return {\n          current: os.name,\n          version\n        };\n      });\n    };\n\n    const removeFromStart = (str, numChars) => {\n      return str.substring(numChars);\n    };\n\n    const checkRange = (str, substr, start) => substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    const removeLeading = (str, prefix) => {\n      return startsWith(str, prefix) ? removeFromStart(str, prefix.length) : str;\n    };\n    const contains$1 = (str, substr, start = 0, end) => {\n      const idx = str.indexOf(substr, start);\n      if (idx !== -1) {\n        return isUndefined(end) ? true : idx + substr.length <= end;\n      } else {\n        return false;\n      }\n    };\n    const startsWith = (str, prefix) => {\n      return checkRange(str, prefix, 0);\n    };\n    const endsWith = (str, suffix) => {\n      return checkRange(str, suffix, str.length - suffix.length);\n    };\n    const blank = r => s => s.replace(r, '');\n    const trim$3 = blank(/^\\s+|\\s+$/g);\n    const lTrim = blank(/^\\s+/g);\n    const rTrim = blank(/\\s+$/g);\n    const isNotEmpty = s => s.length > 0;\n    const isEmpty$3 = s => !isNotEmpty(s);\n    const repeat = (s, count) => count <= 0 ? '' : new Array(count + 1).join(s);\n    const toInt = (value, radix = 10) => {\n      const num = parseInt(value, radix);\n      return isNaN(num) ? Optional.none() : Optional.some(num);\n    };\n\n    const normalVersionRegex = /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/;\n    const checkContains = target => {\n      return uastring => {\n        return contains$1(uastring, target);\n      };\n    };\n    const browsers = [\n      {\n        name: 'Edge',\n        versionRegexes: [/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],\n        search: uastring => {\n          return contains$1(uastring, 'edge/') && contains$1(uastring, 'chrome') && contains$1(uastring, 'safari') && contains$1(uastring, 'applewebkit');\n        }\n      },\n      {\n        name: 'Chromium',\n        brand: 'Chromium',\n        versionRegexes: [\n          /.*?chrome\\/([0-9]+)\\.([0-9]+).*/,\n          normalVersionRegex\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'chrome') && !contains$1(uastring, 'chromeframe');\n        }\n      },\n      {\n        name: 'IE',\n        versionRegexes: [\n          /.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*?rv:([0-9]+)\\.([0-9]+).*/\n        ],\n        search: uastring => {\n          return contains$1(uastring, 'msie') || contains$1(uastring, 'trident');\n        }\n      },\n      {\n        name: 'Opera',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?opera\\/([0-9]+)\\.([0-9]+).*/\n        ],\n        search: checkContains('opera')\n      },\n      {\n        name: 'Firefox',\n        versionRegexes: [/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],\n        search: checkContains('firefox')\n      },\n      {\n        name: 'Safari',\n        versionRegexes: [\n          normalVersionRegex,\n          /.*?cpu os ([0-9]+)_([0-9]+).*/\n        ],\n        search: uastring => {\n          return (contains$1(uastring, 'safari') || contains$1(uastring, 'mobile/')) && contains$1(uastring, 'applewebkit');\n        }\n      }\n    ];\n    const oses = [\n      {\n        name: 'Windows',\n        search: checkContains('win'),\n        versionRegexes: [/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'iOS',\n        search: uastring => {\n          return contains$1(uastring, 'iphone') || contains$1(uastring, 'ipad');\n        },\n        versionRegexes: [\n          /.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,\n          /.*cpu os ([0-9]+)_([0-9]+).*/,\n          /.*cpu iphone os ([0-9]+)_([0-9]+).*/\n        ]\n      },\n      {\n        name: 'Android',\n        search: checkContains('android'),\n        versionRegexes: [/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]\n      },\n      {\n        name: 'macOS',\n        search: checkContains('mac os x'),\n        versionRegexes: [/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]\n      },\n      {\n        name: 'Linux',\n        search: checkContains('linux'),\n        versionRegexes: []\n      },\n      {\n        name: 'Solaris',\n        search: checkContains('sunos'),\n        versionRegexes: []\n      },\n      {\n        name: 'FreeBSD',\n        search: checkContains('freebsd'),\n        versionRegexes: []\n      },\n      {\n        name: 'ChromeOS',\n        search: checkContains('cros'),\n        versionRegexes: [/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]\n      }\n    ];\n    const PlatformInfo = {\n      browsers: constant(browsers),\n      oses: constant(oses)\n    };\n\n    const edge = 'Edge';\n    const chromium = 'Chromium';\n    const ie = 'IE';\n    const opera = 'Opera';\n    const firefox = 'Firefox';\n    const safari = 'Safari';\n    const unknown$1 = () => {\n      return nu$2({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$2 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isBrowser = name => () => current === name;\n      return {\n        current,\n        version,\n        isEdge: isBrowser(edge),\n        isChromium: isBrowser(chromium),\n        isIE: isBrowser(ie),\n        isOpera: isBrowser(opera),\n        isFirefox: isBrowser(firefox),\n        isSafari: isBrowser(safari)\n      };\n    };\n    const Browser = {\n      unknown: unknown$1,\n      nu: nu$2,\n      edge: constant(edge),\n      chromium: constant(chromium),\n      ie: constant(ie),\n      opera: constant(opera),\n      firefox: constant(firefox),\n      safari: constant(safari)\n    };\n\n    const windows = 'Windows';\n    const ios = 'iOS';\n    const android = 'Android';\n    const linux = 'Linux';\n    const macos = 'macOS';\n    const solaris = 'Solaris';\n    const freebsd = 'FreeBSD';\n    const chromeos = 'ChromeOS';\n    const unknown = () => {\n      return nu$1({\n        current: undefined,\n        version: Version.unknown()\n      });\n    };\n    const nu$1 = info => {\n      const current = info.current;\n      const version = info.version;\n      const isOS = name => () => current === name;\n      return {\n        current,\n        version,\n        isWindows: isOS(windows),\n        isiOS: isOS(ios),\n        isAndroid: isOS(android),\n        isMacOS: isOS(macos),\n        isLinux: isOS(linux),\n        isSolaris: isOS(solaris),\n        isFreeBSD: isOS(freebsd),\n        isChromeOS: isOS(chromeos)\n      };\n    };\n    const OperatingSystem = {\n      unknown,\n      nu: nu$1,\n      windows: constant(windows),\n      ios: constant(ios),\n      android: constant(android),\n      linux: constant(linux),\n      macos: constant(macos),\n      solaris: constant(solaris),\n      freebsd: constant(freebsd),\n      chromeos: constant(chromeos)\n    };\n\n    const detect$3 = (userAgent, userAgentDataOpt, mediaMatch) => {\n      const browsers = PlatformInfo.browsers();\n      const oses = PlatformInfo.oses();\n      const browser = userAgentDataOpt.bind(userAgentData => detectBrowser$1(browsers, userAgentData)).orThunk(() => detectBrowser(browsers, userAgent)).fold(Browser.unknown, Browser.nu);\n      const os = detectOs(oses, userAgent).fold(OperatingSystem.unknown, OperatingSystem.nu);\n      const deviceType = DeviceType(os, browser, userAgent, mediaMatch);\n      return {\n        browser,\n        os,\n        deviceType\n      };\n    };\n    const PlatformDetection = { detect: detect$3 };\n\n    const mediaMatch = query => window.matchMedia(query).matches;\n    let platform$2 = cached(() => PlatformDetection.detect(navigator.userAgent, Optional.from(navigator.userAgentData), mediaMatch));\n    const detect$2 = () => platform$2();\n\n    const userAgent = navigator.userAgent;\n    const platform$1 = detect$2();\n    const browser$1 = platform$1.browser;\n    const os = platform$1.os;\n    const deviceType = platform$1.deviceType;\n    const windowsPhone = userAgent.indexOf('Windows Phone') !== -1;\n    const Env = {\n      transparentSrc: 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7',\n      documentMode: browser$1.isIE() ? document.documentMode || 7 : 10,\n      cacheSuffix: null,\n      container: null,\n      canHaveCSP: !browser$1.isIE(),\n      windowsPhone,\n      browser: {\n        current: browser$1.current,\n        version: browser$1.version,\n        isChromium: browser$1.isChromium,\n        isEdge: browser$1.isEdge,\n        isFirefox: browser$1.isFirefox,\n        isIE: browser$1.isIE,\n        isOpera: browser$1.isOpera,\n        isSafari: browser$1.isSafari\n      },\n      os: {\n        current: os.current,\n        version: os.version,\n        isAndroid: os.isAndroid,\n        isChromeOS: os.isChromeOS,\n        isFreeBSD: os.isFreeBSD,\n        isiOS: os.isiOS,\n        isLinux: os.isLinux,\n        isMacOS: os.isMacOS,\n        isSolaris: os.isSolaris,\n        isWindows: os.isWindows\n      },\n      deviceType: {\n        isDesktop: deviceType.isDesktop,\n        isiPad: deviceType.isiPad,\n        isiPhone: deviceType.isiPhone,\n        isPhone: deviceType.isPhone,\n        isTablet: deviceType.isTablet,\n        isTouch: deviceType.isTouch,\n        isWebView: deviceType.isWebView\n      }\n    };\n\n    const whiteSpaceRegExp$1 = /^\\s*|\\s*$/g;\n    const trim$2 = str => {\n      return isNullable(str) ? '' : ('' + str).replace(whiteSpaceRegExp$1, '');\n    };\n    const is$3 = (obj, type) => {\n      if (!type) {\n        return obj !== undefined;\n      }\n      if (type === 'array' && isArray(obj)) {\n        return true;\n      }\n      return typeof obj === type;\n    };\n    const makeMap$4 = (items, delim, map = {}) => {\n      const resolvedItems = isString(items) ? items.split(delim || ',') : items || [];\n      let i = resolvedItems.length;\n      while (i--) {\n        map[resolvedItems[i]] = {};\n      }\n      return map;\n    };\n    const hasOwnProperty$1 = has$2;\n    const extend$3 = (obj, ...exts) => {\n      for (let i = 0; i < exts.length; i++) {\n        const ext = exts[i];\n        for (const name in ext) {\n          if (has$2(ext, name)) {\n            const value = ext[name];\n            if (value !== undefined) {\n              obj[name] = value;\n            }\n          }\n        }\n      }\n      return obj;\n    };\n    const walk$4 = function (o, f, n, s) {\n      s = s || this;\n      if (o) {\n        if (n) {\n          o = o[n];\n        }\n        each$c(o, (o, i) => {\n          if (f.call(s, o, i, n) === false) {\n            return false;\n          } else {\n            walk$4(o, f, n, s);\n            return true;\n          }\n        });\n      }\n    };\n    const resolve$2 = (n, o = window) => {\n      const path = n.split('.');\n      for (let i = 0, l = path.length; i < l; i++) {\n        o = o[path[i]];\n        if (!o) {\n          break;\n        }\n      }\n      return o;\n    };\n    const explode$3 = (s, d) => {\n      if (isArray$1(s)) {\n        return s;\n      } else if (s === '') {\n        return [];\n      } else {\n        return map$1(s.split(d || ','), trim$2);\n      }\n    };\n    const _addCacheSuffix = url => {\n      const cacheSuffix = Env.cacheSuffix;\n      if (cacheSuffix) {\n        url += (url.indexOf('?') === -1 ? '?' : '&') + cacheSuffix;\n      }\n      return url;\n    };\n    const Tools = {\n      trim: trim$2,\n      isArray: isArray,\n      is: is$3,\n      toArray: toArray$1,\n      makeMap: makeMap$4,\n      each: each$c,\n      map: map$1,\n      grep: filter$3,\n      inArray: indexOf,\n      hasOwn: hasOwnProperty$1,\n      extend: extend$3,\n      walk: walk$4,\n      resolve: resolve$2,\n      explode: explode$3,\n      _addCacheSuffix\n    };\n\n    const is$2 = (lhs, rhs, comparator = tripleEquals) => lhs.exists(left => comparator(left, rhs));\n    const cat = arr => {\n      const r = [];\n      const push = x => {\n        r.push(x);\n      };\n      for (let i = 0; i < arr.length; i++) {\n        arr[i].each(push);\n      }\n      return r;\n    };\n    const lift2 = (oa, ob, f) => oa.isSome() && ob.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie())) : Optional.none();\n    const lift3 = (oa, ob, oc, f) => oa.isSome() && ob.isSome() && oc.isSome() ? Optional.some(f(oa.getOrDie(), ob.getOrDie(), oc.getOrDie())) : Optional.none();\n    const someIf = (b, a) => b ? Optional.some(a) : Optional.none();\n\n    typeof window !== 'undefined' ? window : Function('return this;')();\n\n    const COMMENT = 8;\n    const DOCUMENT = 9;\n    const DOCUMENT_FRAGMENT = 11;\n    const ELEMENT = 1;\n    const TEXT = 3;\n\n    const name = element => {\n      const r = element.dom.nodeName;\n      return r.toLowerCase();\n    };\n    const type$1 = element => element.dom.nodeType;\n    const isType = t => element => type$1(element) === t;\n    const isComment$1 = element => type$1(element) === COMMENT || name(element) === '#comment';\n    const isElement$7 = isType(ELEMENT);\n    const isText$b = isType(TEXT);\n    const isDocument$2 = isType(DOCUMENT);\n    const isDocumentFragment$1 = isType(DOCUMENT_FRAGMENT);\n    const isTag = tag => e => isElement$7(e) && name(e) === tag;\n\n    const rawSet = (dom, key, value) => {\n      if (isString(value) || isBoolean(value) || isNumber(value)) {\n        dom.setAttribute(key, value + '');\n      } else {\n        console.error('Invalid call to Attribute.set. Key ', key, ':: Value ', value, ':: Element ', dom);\n        throw new Error('Attribute value was not simple');\n      }\n    };\n    const set$2 = (element, key, value) => {\n      rawSet(element.dom, key, value);\n    };\n    const setAll$1 = (element, attrs) => {\n      const dom = element.dom;\n      each$d(attrs, (v, k) => {\n        rawSet(dom, k, v);\n      });\n    };\n    const get$9 = (element, key) => {\n      const v = element.dom.getAttribute(key);\n      return v === null ? undefined : v;\n    };\n    const getOpt = (element, key) => Optional.from(get$9(element, key));\n    const has$1 = (element, key) => {\n      const dom = element.dom;\n      return dom && dom.hasAttribute ? dom.hasAttribute(key) : false;\n    };\n    const remove$b = (element, key) => {\n      element.dom.removeAttribute(key);\n    };\n    const hasNone = element => {\n      const attrs = element.dom.attributes;\n      return attrs === undefined || attrs === null || attrs.length === 0;\n    };\n    const clone$4 = element => foldl(element.dom.attributes, (acc, attr) => {\n      acc[attr.name] = attr.value;\n      return acc;\n    }, {});\n\n    const read$4 = (element, attr) => {\n      const value = get$9(element, attr);\n      return value === undefined || value === '' ? [] : value.split(' ');\n    };\n    const add$4 = (element, attr, id) => {\n      const old = read$4(element, attr);\n      const nu = old.concat([id]);\n      set$2(element, attr, nu.join(' '));\n      return true;\n    };\n    const remove$a = (element, attr, id) => {\n      const nu = filter$5(read$4(element, attr), v => v !== id);\n      if (nu.length > 0) {\n        set$2(element, attr, nu.join(' '));\n      } else {\n        remove$b(element, attr);\n      }\n      return false;\n    };\n\n    const supports = element => element.dom.classList !== undefined;\n    const get$8 = element => read$4(element, 'class');\n    const add$3 = (element, clazz) => add$4(element, 'class', clazz);\n    const remove$9 = (element, clazz) => remove$a(element, 'class', clazz);\n    const toggle$2 = (element, clazz) => {\n      if (contains$2(get$8(element), clazz)) {\n        return remove$9(element, clazz);\n      } else {\n        return add$3(element, clazz);\n      }\n    };\n\n    const add$2 = (element, clazz) => {\n      if (supports(element)) {\n        element.dom.classList.add(clazz);\n      } else {\n        add$3(element, clazz);\n      }\n    };\n    const cleanClass = element => {\n      const classList = supports(element) ? element.dom.classList : get$8(element);\n      if (classList.length === 0) {\n        remove$b(element, 'class');\n      }\n    };\n    const remove$8 = (element, clazz) => {\n      if (supports(element)) {\n        const classList = element.dom.classList;\n        classList.remove(clazz);\n      } else {\n        remove$9(element, clazz);\n      }\n      cleanClass(element);\n    };\n    const toggle$1 = (element, clazz) => {\n      const result = supports(element) ? element.dom.classList.toggle(clazz) : toggle$2(element, clazz);\n      cleanClass(element);\n      return result;\n    };\n    const has = (element, clazz) => supports(element) && element.dom.classList.contains(clazz);\n\n    const isSupported$1 = dom => dom.style !== undefined && isFunction(dom.style.getPropertyValue);\n\n    const fromHtml$1 = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      if (!div.hasChildNodes() || div.childNodes.length > 1) {\n        const message = 'HTML does not have a single root node';\n        console.error(message, html);\n        throw new Error(message);\n      }\n      return fromDom$2(div.childNodes[0]);\n    };\n    const fromTag = (tag, scope) => {\n      const doc = scope || document;\n      const node = doc.createElement(tag);\n      return fromDom$2(node);\n    };\n    const fromText = (text, scope) => {\n      const doc = scope || document;\n      const node = doc.createTextNode(text);\n      return fromDom$2(node);\n    };\n    const fromDom$2 = node => {\n      if (node === null || node === undefined) {\n        throw new Error('Node cannot be null or undefined');\n      }\n      return { dom: node };\n    };\n    const fromPoint$2 = (docElm, x, y) => Optional.from(docElm.dom.elementFromPoint(x, y)).map(fromDom$2);\n    const SugarElement = {\n      fromHtml: fromHtml$1,\n      fromTag,\n      fromText,\n      fromDom: fromDom$2,\n      fromPoint: fromPoint$2\n    };\n\n    const toArray = (target, f) => {\n      const r = [];\n      const recurse = e => {\n        r.push(e);\n        return f(e);\n      };\n      let cur = f(target);\n      do {\n        cur = cur.bind(recurse);\n      } while (cur.isSome());\n      return r;\n    };\n\n    const is$1 = (element, selector) => {\n      const dom = element.dom;\n      if (dom.nodeType !== ELEMENT) {\n        return false;\n      } else {\n        const elem = dom;\n        if (elem.matches !== undefined) {\n          return elem.matches(selector);\n        } else if (elem.msMatchesSelector !== undefined) {\n          return elem.msMatchesSelector(selector);\n        } else if (elem.webkitMatchesSelector !== undefined) {\n          return elem.webkitMatchesSelector(selector);\n        } else if (elem.mozMatchesSelector !== undefined) {\n          return elem.mozMatchesSelector(selector);\n        } else {\n          throw new Error('Browser lacks native selectors');\n        }\n      }\n    };\n    const bypassSelector = dom => dom.nodeType !== ELEMENT && dom.nodeType !== DOCUMENT && dom.nodeType !== DOCUMENT_FRAGMENT || dom.childElementCount === 0;\n    const all = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? [] : map$3(base.querySelectorAll(selector), SugarElement.fromDom);\n    };\n    const one = (selector, scope) => {\n      const base = scope === undefined ? document : scope.dom;\n      return bypassSelector(base) ? Optional.none() : Optional.from(base.querySelector(selector)).map(SugarElement.fromDom);\n    };\n\n    const eq = (e1, e2) => e1.dom === e2.dom;\n    const contains = (e1, e2) => {\n      const d1 = e1.dom;\n      const d2 = e2.dom;\n      return d1 === d2 ? false : d1.contains(d2);\n    };\n\n    const owner$1 = element => SugarElement.fromDom(element.dom.ownerDocument);\n    const documentOrOwner = dos => isDocument$2(dos) ? dos : owner$1(dos);\n    const documentElement = element => SugarElement.fromDom(documentOrOwner(element).dom.documentElement);\n    const defaultView = element => SugarElement.fromDom(documentOrOwner(element).dom.defaultView);\n    const parent = element => Optional.from(element.dom.parentNode).map(SugarElement.fromDom);\n    const parentElement = element => Optional.from(element.dom.parentElement).map(SugarElement.fromDom);\n    const parents$1 = (element, isRoot) => {\n      const stop = isFunction(isRoot) ? isRoot : never;\n      let dom = element.dom;\n      const ret = [];\n      while (dom.parentNode !== null && dom.parentNode !== undefined) {\n        const rawParent = dom.parentNode;\n        const p = SugarElement.fromDom(rawParent);\n        ret.push(p);\n        if (stop(p) === true) {\n          break;\n        } else {\n          dom = rawParent;\n        }\n      }\n      return ret;\n    };\n    const siblings = element => {\n      const filterSelf = elements => filter$5(elements, x => !eq(element, x));\n      return parent(element).map(children$1).map(filterSelf).getOr([]);\n    };\n    const prevSibling = element => Optional.from(element.dom.previousSibling).map(SugarElement.fromDom);\n    const nextSibling = element => Optional.from(element.dom.nextSibling).map(SugarElement.fromDom);\n    const prevSiblings = element => reverse(toArray(element, prevSibling));\n    const nextSiblings = element => toArray(element, nextSibling);\n    const children$1 = element => map$3(element.dom.childNodes, SugarElement.fromDom);\n    const child$1 = (element, index) => {\n      const cs = element.dom.childNodes;\n      return Optional.from(cs[index]).map(SugarElement.fromDom);\n    };\n    const firstChild = element => child$1(element, 0);\n    const lastChild = element => child$1(element, element.dom.childNodes.length - 1);\n    const childNodesCount = element => element.dom.childNodes.length;\n\n    const getHead = doc => {\n      const b = doc.dom.head;\n      if (b === null || b === undefined) {\n        throw new Error('Head is not available yet');\n      }\n      return SugarElement.fromDom(b);\n    };\n\n    const isShadowRoot = dos => isDocumentFragment$1(dos) && isNonNullable(dos.dom.host);\n    const supported = isFunction(Element.prototype.attachShadow) && isFunction(Node.prototype.getRootNode);\n    const isSupported = constant(supported);\n    const getRootNode = supported ? e => SugarElement.fromDom(e.dom.getRootNode()) : documentOrOwner;\n    const getStyleContainer = dos => isShadowRoot(dos) ? dos : getHead(documentOrOwner(dos));\n    const getContentContainer = dos => isShadowRoot(dos) ? dos : SugarElement.fromDom(documentOrOwner(dos).dom.body);\n    const getShadowRoot = e => {\n      const r = getRootNode(e);\n      return isShadowRoot(r) ? Optional.some(r) : Optional.none();\n    };\n    const getShadowHost = e => SugarElement.fromDom(e.dom.host);\n    const getOriginalEventTarget = event => {\n      if (isSupported() && isNonNullable(event.target)) {\n        const el = SugarElement.fromDom(event.target);\n        if (isElement$7(el) && isOpenShadowHost(el)) {\n          if (event.composed && event.composedPath) {\n            const composedPath = event.composedPath();\n            if (composedPath) {\n              return head(composedPath);\n            }\n          }\n        }\n      }\n      return Optional.from(event.target);\n    };\n    const isOpenShadowHost = element => isNonNullable(element.dom.shadowRoot);\n\n    const inBody = element => {\n      const dom = isText$b(element) ? element.dom.parentNode : element.dom;\n      if (dom === undefined || dom === null || dom.ownerDocument === null) {\n        return false;\n      }\n      const doc = dom.ownerDocument;\n      return getShadowRoot(SugarElement.fromDom(dom)).fold(() => doc.body.contains(dom), compose1(inBody, getShadowHost));\n    };\n\n    const internalSet = (dom, property, value) => {\n      if (!isString(value)) {\n        console.error('Invalid call to CSS.set. Property ', property, ':: Value ', value, ':: Element ', dom);\n        throw new Error('CSS value must be a string: ' + value);\n      }\n      if (isSupported$1(dom)) {\n        dom.style.setProperty(property, value);\n      }\n    };\n    const internalRemove = (dom, property) => {\n      if (isSupported$1(dom)) {\n        dom.style.removeProperty(property);\n      }\n    };\n    const set$1 = (element, property, value) => {\n      const dom = element.dom;\n      internalSet(dom, property, value);\n    };\n    const setAll = (element, css) => {\n      const dom = element.dom;\n      each$d(css, (v, k) => {\n        internalSet(dom, k, v);\n      });\n    };\n    const get$7 = (element, property) => {\n      const dom = element.dom;\n      const styles = window.getComputedStyle(dom);\n      const r = styles.getPropertyValue(property);\n      return r === '' && !inBody(element) ? getUnsafeProperty(dom, property) : r;\n    };\n    const getUnsafeProperty = (dom, property) => isSupported$1(dom) ? dom.style.getPropertyValue(property) : '';\n    const getRaw$1 = (element, property) => {\n      const dom = element.dom;\n      const raw = getUnsafeProperty(dom, property);\n      return Optional.from(raw).filter(r => r.length > 0);\n    };\n    const getAllRaw = element => {\n      const css = {};\n      const dom = element.dom;\n      if (isSupported$1(dom)) {\n        for (let i = 0; i < dom.style.length; i++) {\n          const ruleName = dom.style.item(i);\n          css[ruleName] = dom.style[ruleName];\n        }\n      }\n      return css;\n    };\n    const remove$7 = (element, property) => {\n      const dom = element.dom;\n      internalRemove(dom, property);\n      if (is$2(getOpt(element, 'style').map(trim$3), '')) {\n        remove$b(element, 'style');\n      }\n    };\n    const reflow = e => e.dom.offsetWidth;\n\n    const before$3 = (marker, element) => {\n      const parent$1 = parent(marker);\n      parent$1.each(v => {\n        v.dom.insertBefore(element.dom, marker.dom);\n      });\n    };\n    const after$4 = (marker, element) => {\n      const sibling = nextSibling(marker);\n      sibling.fold(() => {\n        const parent$1 = parent(marker);\n        parent$1.each(v => {\n          append$1(v, element);\n        });\n      }, v => {\n        before$3(v, element);\n      });\n    };\n    const prepend = (parent, element) => {\n      const firstChild$1 = firstChild(parent);\n      firstChild$1.fold(() => {\n        append$1(parent, element);\n      }, v => {\n        parent.dom.insertBefore(element.dom, v.dom);\n      });\n    };\n    const append$1 = (parent, element) => {\n      parent.dom.appendChild(element.dom);\n    };\n    const wrap$2 = (element, wrapper) => {\n      before$3(element, wrapper);\n      append$1(wrapper, element);\n    };\n\n    const after$3 = (marker, elements) => {\n      each$e(elements, (x, i) => {\n        const e = i === 0 ? marker : elements[i - 1];\n        after$4(e, x);\n      });\n    };\n    const append = (parent, elements) => {\n      each$e(elements, x => {\n        append$1(parent, x);\n      });\n    };\n\n    const empty = element => {\n      element.dom.textContent = '';\n      each$e(children$1(element), rogue => {\n        remove$6(rogue);\n      });\n    };\n    const remove$6 = element => {\n      const dom = element.dom;\n      if (dom.parentNode !== null) {\n        dom.parentNode.removeChild(dom);\n      }\n    };\n    const unwrap = wrapper => {\n      const children = children$1(wrapper);\n      if (children.length > 0) {\n        after$3(wrapper, children);\n      }\n      remove$6(wrapper);\n    };\n\n    const fromHtml = (html, scope) => {\n      const doc = scope || document;\n      const div = doc.createElement('div');\n      div.innerHTML = html;\n      return children$1(SugarElement.fromDom(div));\n    };\n    const fromDom$1 = nodes => map$3(nodes, SugarElement.fromDom);\n\n    const get$6 = element => element.dom.innerHTML;\n    const set = (element, content) => {\n      const owner = owner$1(element);\n      const docDom = owner.dom;\n      const fragment = SugarElement.fromDom(docDom.createDocumentFragment());\n      const contentElements = fromHtml(content, docDom);\n      append(fragment, contentElements);\n      empty(element);\n      append$1(element, fragment);\n    };\n    const getOuter = element => {\n      const container = SugarElement.fromTag('div');\n      const clone = SugarElement.fromDom(element.dom.cloneNode(true));\n      append$1(container, clone);\n      return get$6(container);\n    };\n\n    const mkEvent = (target, x, y, stop, prevent, kill, raw) => ({\n      target,\n      x,\n      y,\n      stop,\n      prevent,\n      kill,\n      raw\n    });\n    const fromRawEvent = rawEvent => {\n      const target = SugarElement.fromDom(getOriginalEventTarget(rawEvent).getOr(rawEvent.target));\n      const stop = () => rawEvent.stopPropagation();\n      const prevent = () => rawEvent.preventDefault();\n      const kill = compose(prevent, stop);\n      return mkEvent(target, rawEvent.clientX, rawEvent.clientY, stop, prevent, kill, rawEvent);\n    };\n    const handle$1 = (filter, handler) => rawEvent => {\n      if (filter(rawEvent)) {\n        handler(fromRawEvent(rawEvent));\n      }\n    };\n    const binder = (element, event, filter, handler, useCapture) => {\n      const wrapped = handle$1(filter, handler);\n      element.dom.addEventListener(event, wrapped, useCapture);\n      return { unbind: curry(unbind, element, event, wrapped, useCapture) };\n    };\n    const bind$2 = (element, event, filter, handler) => binder(element, event, filter, handler, false);\n    const unbind = (element, event, handler, useCapture) => {\n      element.dom.removeEventListener(event, handler, useCapture);\n    };\n\n    const r = (left, top) => {\n      const translate = (x, y) => r(left + x, top + y);\n      return {\n        left,\n        top,\n        translate\n      };\n    };\n    const SugarPosition = r;\n\n    const boxPosition = dom => {\n      const box = dom.getBoundingClientRect();\n      return SugarPosition(box.left, box.top);\n    };\n    const firstDefinedOrZero = (a, b) => {\n      if (a !== undefined) {\n        return a;\n      } else {\n        return b !== undefined ? b : 0;\n      }\n    };\n    const absolute = element => {\n      const doc = element.dom.ownerDocument;\n      const body = doc.body;\n      const win = doc.defaultView;\n      const html = doc.documentElement;\n      if (body === element.dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      const scrollTop = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageYOffset, html.scrollTop);\n      const scrollLeft = firstDefinedOrZero(win === null || win === void 0 ? void 0 : win.pageXOffset, html.scrollLeft);\n      const clientTop = firstDefinedOrZero(html.clientTop, body.clientTop);\n      const clientLeft = firstDefinedOrZero(html.clientLeft, body.clientLeft);\n      return viewport(element).translate(scrollLeft - clientLeft, scrollTop - clientTop);\n    };\n    const viewport = element => {\n      const dom = element.dom;\n      const doc = dom.ownerDocument;\n      const body = doc.body;\n      if (body === dom) {\n        return SugarPosition(body.offsetLeft, body.offsetTop);\n      }\n      if (!inBody(element)) {\n        return SugarPosition(0, 0);\n      }\n      return boxPosition(dom);\n    };\n\n    const get$5 = _DOC => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const x = doc.body.scrollLeft || doc.documentElement.scrollLeft;\n      const y = doc.body.scrollTop || doc.documentElement.scrollTop;\n      return SugarPosition(x, y);\n    };\n    const to = (x, y, _DOC) => {\n      const doc = _DOC !== undefined ? _DOC.dom : document;\n      const win = doc.defaultView;\n      if (win) {\n        win.scrollTo(x, y);\n      }\n    };\n    const intoView = (element, alignToTop) => {\n      const isSafari = detect$2().browser.isSafari();\n      if (isSafari && isFunction(element.dom.scrollIntoViewIfNeeded)) {\n        element.dom.scrollIntoViewIfNeeded(false);\n      } else {\n        element.dom.scrollIntoView(alignToTop);\n      }\n    };\n\n    const get$4 = _win => {\n      const win = _win === undefined ? window : _win;\n      if (detect$2().browser.isFirefox()) {\n        return Optional.none();\n      } else {\n        return Optional.from(win.visualViewport);\n      }\n    };\n    const bounds = (x, y, width, height) => ({\n      x,\n      y,\n      width,\n      height,\n      right: x + width,\n      bottom: y + height\n    });\n    const getBounds = _win => {\n      const win = _win === undefined ? window : _win;\n      const doc = win.document;\n      const scroll = get$5(SugarElement.fromDom(doc));\n      return get$4(win).fold(() => {\n        const html = win.document.documentElement;\n        const width = html.clientWidth;\n        const height = html.clientHeight;\n        return bounds(scroll.left, scroll.top, width, height);\n      }, visualViewport => bounds(Math.max(visualViewport.pageLeft, scroll.left), Math.max(visualViewport.pageTop, scroll.top), visualViewport.width, visualViewport.height));\n    };\n\n    const children = (scope, predicate) => filter$5(children$1(scope), predicate);\n    const descendants$1 = (scope, predicate) => {\n      let result = [];\n      each$e(children$1(scope), x => {\n        if (predicate(x)) {\n          result = result.concat([x]);\n        }\n        result = result.concat(descendants$1(x, predicate));\n      });\n      return result;\n    };\n\n    var ClosestOrAncestor = (is, ancestor, scope, a, isRoot) => {\n      if (is(scope, a)) {\n        return Optional.some(scope);\n      } else if (isFunction(isRoot) && isRoot(scope)) {\n        return Optional.none();\n      } else {\n        return ancestor(scope, a, isRoot);\n      }\n    };\n\n    const ancestor$3 = (scope, predicate, isRoot) => {\n      let element = scope.dom;\n      const stop = isFunction(isRoot) ? isRoot : never;\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        if (predicate(el)) {\n          return Optional.some(el);\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$4 = (scope, predicate, isRoot) => {\n      const is = (s, test) => test(s);\n      return ClosestOrAncestor(is, ancestor$3, scope, predicate, isRoot);\n    };\n    const sibling$1 = (scope, predicate) => {\n      const element = scope.dom;\n      if (!element.parentNode) {\n        return Optional.none();\n      }\n      return child(SugarElement.fromDom(element.parentNode), x => !eq(scope, x) && predicate(x));\n    };\n    const child = (scope, predicate) => {\n      const pred = node => predicate(SugarElement.fromDom(node));\n      const result = find$2(scope.dom.childNodes, pred);\n      return result.map(SugarElement.fromDom);\n    };\n    const descendant$1 = (scope, predicate) => {\n      const descend = node => {\n        for (let i = 0; i < node.childNodes.length; i++) {\n          const child = SugarElement.fromDom(node.childNodes[i]);\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(node.childNodes[i]);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope.dom);\n    };\n\n    const ancestor$2 = (scope, selector, isRoot) => ancestor$3(scope, e => is$1(e, selector), isRoot);\n    const descendant = (scope, selector) => one(selector, scope);\n    const closest$3 = (scope, selector, isRoot) => {\n      const is = (element, selector) => is$1(element, selector);\n      return ClosestOrAncestor(is, ancestor$2, scope, selector, isRoot);\n    };\n\n    const ancestor$1 = (scope, selector, isRoot) => ancestor$2(scope, selector, isRoot).isSome();\n\n    class DomTreeWalker {\n      constructor(startNode, rootNode) {\n        this.node = startNode;\n        this.rootNode = rootNode;\n        this.current = this.current.bind(this);\n        this.next = this.next.bind(this);\n        this.prev = this.prev.bind(this);\n        this.prev2 = this.prev2.bind(this);\n      }\n      current() {\n        return this.node;\n      }\n      next(shallow) {\n        this.node = this.findSibling(this.node, 'firstChild', 'nextSibling', shallow);\n        return this.node;\n      }\n      prev(shallow) {\n        this.node = this.findSibling(this.node, 'lastChild', 'previousSibling', shallow);\n        return this.node;\n      }\n      prev2(shallow) {\n        this.node = this.findPreviousNode(this.node, shallow);\n        return this.node;\n      }\n      findSibling(node, startName, siblingName, shallow) {\n        if (node) {\n          if (!shallow && node[startName]) {\n            return node[startName];\n          }\n          if (node !== this.rootNode) {\n            let sibling = node[siblingName];\n            if (sibling) {\n              return sibling;\n            }\n            for (let parent = node.parentNode; parent && parent !== this.rootNode; parent = parent.parentNode) {\n              sibling = parent[siblingName];\n              if (sibling) {\n                return sibling;\n              }\n            }\n          }\n        }\n        return undefined;\n      }\n      findPreviousNode(node, shallow) {\n        if (node) {\n          const sibling = node.previousSibling;\n          if (this.rootNode && sibling === this.rootNode) {\n            return;\n          }\n          if (sibling) {\n            if (!shallow) {\n              for (let child = sibling.lastChild; child; child = child.lastChild) {\n                if (!child.lastChild) {\n                  return child;\n                }\n              }\n            }\n            return sibling;\n          }\n          const parent = node.parentNode;\n          if (parent && parent !== this.rootNode) {\n            return parent;\n          }\n        }\n        return undefined;\n      }\n    }\n\n    const isNodeType = type => {\n      return node => {\n        return !!node && node.nodeType === type;\n      };\n    };\n    const isRestrictedNode = node => !!node && !Object.getPrototypeOf(node);\n    const isElement$6 = isNodeType(1);\n    const matchNodeName = name => {\n      const lowerCasedName = name.toLowerCase();\n      return node => isNonNullable(node) && node.nodeName.toLowerCase() === lowerCasedName;\n    };\n    const matchNodeNames = names => {\n      const lowerCasedNames = names.map(s => s.toLowerCase());\n      return node => {\n        if (node && node.nodeName) {\n          const nodeName = node.nodeName.toLowerCase();\n          return contains$2(lowerCasedNames, nodeName);\n        }\n        return false;\n      };\n    };\n    const matchStyleValues = (name, values) => {\n      const items = values.toLowerCase().split(' ');\n      return node => {\n        if (isElement$6(node)) {\n          const win = node.ownerDocument.defaultView;\n          if (win) {\n            for (let i = 0; i < items.length; i++) {\n              const computed = win.getComputedStyle(node, null);\n              const cssValue = computed ? computed.getPropertyValue(name) : null;\n              if (cssValue === items[i]) {\n                return true;\n              }\n            }\n          }\n        }\n        return false;\n      };\n    };\n    const hasAttribute = attrName => {\n      return node => {\n        return isElement$6(node) && node.hasAttribute(attrName);\n      };\n    };\n    const hasAttributeValue = (attrName, attrValue) => {\n      return node => {\n        return isElement$6(node) && node.getAttribute(attrName) === attrValue;\n      };\n    };\n    const isBogus$2 = node => isElement$6(node) && node.hasAttribute('data-mce-bogus');\n    const isBogusAll$1 = node => isElement$6(node) && node.getAttribute('data-mce-bogus') === 'all';\n    const isTable$2 = node => isElement$6(node) && node.tagName === 'TABLE';\n    const hasContentEditableState = value => {\n      return node => {\n        if (isElement$6(node)) {\n          if (node.contentEditable === value) {\n            return true;\n          }\n          if (node.getAttribute('data-mce-contenteditable') === value) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const isTextareaOrInput = matchNodeNames([\n      'textarea',\n      'input'\n    ]);\n    const isText$a = isNodeType(3);\n    const isCData = isNodeType(4);\n    const isPi = isNodeType(7);\n    const isComment = isNodeType(8);\n    const isDocument$1 = isNodeType(9);\n    const isDocumentFragment = isNodeType(11);\n    const isBr$6 = matchNodeName('br');\n    const isImg = matchNodeName('img');\n    const isContentEditableTrue$3 = hasContentEditableState('true');\n    const isContentEditableFalse$a = hasContentEditableState('false');\n    const isTableCell$3 = matchNodeNames([\n      'td',\n      'th'\n    ]);\n    const isTableCellOrCaption = matchNodeNames([\n      'td',\n      'th',\n      'caption'\n    ]);\n    const isMedia$2 = matchNodeNames([\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    const isListItem$2 = matchNodeName('li');\n\n    const zeroWidth = '\\uFEFF';\n    const nbsp = '\\xA0';\n    const isZwsp$1 = char => char === zeroWidth;\n    const removeZwsp = s => s.replace(/\\uFEFF/g, '');\n\n    const descendants = (scope, selector) => all(selector, scope);\n\n    const NodeValue = (is, name) => {\n      const get = element => {\n        if (!is(element)) {\n          throw new Error('Can only get ' + name + ' value of a ' + name + ' node');\n        }\n        return getOption(element).getOr('');\n      };\n      const getOption = element => is(element) ? Optional.from(element.dom.nodeValue) : Optional.none();\n      const set = (element, value) => {\n        if (!is(element)) {\n          throw new Error('Can only set raw ' + name + ' value of a ' + name + ' node');\n        }\n        element.dom.nodeValue = value;\n      };\n      return {\n        get,\n        getOption,\n        set\n      };\n    };\n\n    const api$1 = NodeValue(isText$b, 'text');\n    const get$3 = element => api$1.get(element);\n    const getOption = element => api$1.getOption(element);\n\n    const blocks = [\n      'article',\n      'aside',\n      'details',\n      'div',\n      'dt',\n      'figcaption',\n      'footer',\n      'form',\n      'fieldset',\n      'header',\n      'hgroup',\n      'html',\n      'main',\n      'nav',\n      'section',\n      'summary',\n      'body',\n      'p',\n      'dl',\n      'multicol',\n      'dd',\n      'figure',\n      'address',\n      'center',\n      'blockquote',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'listing',\n      'xmp',\n      'pre',\n      'plaintext',\n      'menu',\n      'dir',\n      'ul',\n      'ol',\n      'li',\n      'hr',\n      'table',\n      'tbody',\n      'thead',\n      'tfoot',\n      'th',\n      'tr',\n      'td',\n      'caption'\n    ];\n    const tableCells = [\n      'td',\n      'th'\n    ];\n    const tableSections = [\n      'thead',\n      'tbody',\n      'tfoot'\n    ];\n    const textBlocks = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'p',\n      'div',\n      'address',\n      'pre',\n      'form',\n      'blockquote',\n      'center',\n      'dir',\n      'fieldset',\n      'header',\n      'footer',\n      'article',\n      'section',\n      'hgroup',\n      'aside',\n      'nav',\n      'figure'\n    ];\n    const headings = [\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6'\n    ];\n    const listItems$1 = [\n      'li',\n      'dd',\n      'dt'\n    ];\n    const lists = [\n      'ul',\n      'ol',\n      'dl'\n    ];\n    const wsElements = [\n      'pre',\n      'script',\n      'textarea',\n      'style'\n    ];\n    const wrapBlockElements = ['pre'].concat(headings);\n    const lazyLookup = items => {\n      let lookup;\n      return node => {\n        lookup = lookup ? lookup : mapToObject(items, always);\n        return has$2(lookup, name(node));\n      };\n    };\n    const isBlock$2 = lazyLookup(blocks);\n    const isTable$1 = node => name(node) === 'table';\n    const isInline$1 = node => isElement$7(node) && !isBlock$2(node);\n    const isBr$5 = node => isElement$7(node) && name(node) === 'br';\n    const isTextBlock$2 = lazyLookup(textBlocks);\n    const isList = lazyLookup(lists);\n    const isListItem$1 = lazyLookup(listItems$1);\n    const isTableSection = lazyLookup(tableSections);\n    const isTableCell$2 = lazyLookup(tableCells);\n    const isWsPreserveElement = lazyLookup(wsElements);\n    const isWrapBlockElement = lazyLookup(wrapBlockElements);\n    const isWrapElement = node => isWrapBlockElement(node) || isInline$1(node);\n\n    const getLastChildren$1 = elm => {\n      const children = [];\n      let rawNode = elm.dom;\n      while (rawNode) {\n        children.push(SugarElement.fromDom(rawNode));\n        rawNode = rawNode.lastChild;\n      }\n      return children;\n    };\n    const removeTrailingBr = elm => {\n      const allBrs = descendants(elm, 'br');\n      const brs = filter$5(getLastChildren$1(elm).slice(-1), isBr$5);\n      if (allBrs.length === brs.length) {\n        each$e(brs, remove$6);\n      }\n    };\n    const createPaddingBr = () => {\n      const br = SugarElement.fromTag('br');\n      set$2(br, 'data-mce-bogus', '1');\n      return br;\n    };\n    const fillWithPaddingBr = elm => {\n      empty(elm);\n      append$1(elm, createPaddingBr());\n    };\n    const trimBlockTrailingBr = elm => {\n      lastChild(elm).each(lastChild => {\n        prevSibling(lastChild).each(lastChildPrevSibling => {\n          if (isBlock$2(elm) && isBr$5(lastChild) && isBlock$2(lastChildPrevSibling)) {\n            remove$6(lastChild);\n          }\n        });\n      });\n    };\n\n    const ZWSP$1 = zeroWidth;\n    const isZwsp = isZwsp$1;\n    const trim$1 = removeZwsp;\n\n    const isElement$5 = isElement$6;\n    const isText$9 = isText$a;\n    const isCaretContainerBlock$1 = node => {\n      if (isText$9(node)) {\n        node = node.parentNode;\n      }\n      return isElement$5(node) && node.hasAttribute('data-mce-caret');\n    };\n    const isCaretContainerInline = node => isText$9(node) && isZwsp(node.data);\n    const isCaretContainer$2 = node => isCaretContainerBlock$1(node) || isCaretContainerInline(node);\n    const hasContent = node => node.firstChild !== node.lastChild || !isBr$6(node.firstChild);\n    const insertInline$1 = (node, before) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const textNode = doc.createTextNode(ZWSP$1);\n      const parentNode = node.parentNode;\n      if (!before) {\n        const sibling = node.nextSibling;\n        if (isText$9(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (startsWithCaretContainer$1(sibling)) {\n            sibling.splitText(1);\n            return sibling;\n          }\n        }\n        if (node.nextSibling) {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(textNode, node.nextSibling);\n        } else {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.appendChild(textNode);\n        }\n      } else {\n        const sibling = node.previousSibling;\n        if (isText$9(sibling)) {\n          if (isCaretContainer$2(sibling)) {\n            return sibling;\n          }\n          if (endsWithCaretContainer$1(sibling)) {\n            return sibling.splitText(sibling.data.length - 1);\n          }\n        }\n        parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(textNode, node);\n      }\n      return textNode;\n    };\n    const isBeforeInline = pos => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset()) === ZWSP$1 || pos.isAtStart() && isCaretContainerInline(container.previousSibling);\n    };\n    const isAfterInline = pos => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return false;\n      }\n      return container.data.charAt(pos.offset() - 1) === ZWSP$1 || pos.isAtEnd() && isCaretContainerInline(container.nextSibling);\n    };\n    const insertBlock = (blockName, node, before) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const blockNode = doc.createElement(blockName);\n      blockNode.setAttribute('data-mce-caret', before ? 'before' : 'after');\n      blockNode.setAttribute('data-mce-bogus', 'all');\n      blockNode.appendChild(createPaddingBr().dom);\n      const parentNode = node.parentNode;\n      if (!before) {\n        if (node.nextSibling) {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(blockNode, node.nextSibling);\n        } else {\n          parentNode === null || parentNode === void 0 ? void 0 : parentNode.appendChild(blockNode);\n        }\n      } else {\n        parentNode === null || parentNode === void 0 ? void 0 : parentNode.insertBefore(blockNode, node);\n      }\n      return blockNode;\n    };\n    const startsWithCaretContainer$1 = node => isText$9(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer$1 = node => isText$9(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const trimBogusBr = elm => {\n      var _a;\n      const brs = elm.getElementsByTagName('br');\n      const lastBr = brs[brs.length - 1];\n      if (isBogus$2(lastBr)) {\n        (_a = lastBr.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(lastBr);\n      }\n    };\n    const showCaretContainerBlock = caretContainer => {\n      if (caretContainer && caretContainer.hasAttribute('data-mce-caret')) {\n        trimBogusBr(caretContainer);\n        caretContainer.removeAttribute('data-mce-caret');\n        caretContainer.removeAttribute('data-mce-bogus');\n        caretContainer.removeAttribute('style');\n        caretContainer.removeAttribute('data-mce-style');\n        caretContainer.removeAttribute('_moz_abspos');\n        return caretContainer;\n      }\n      return null;\n    };\n    const isRangeInCaretContainerBlock = range => isCaretContainerBlock$1(range.startContainer);\n\n    const isContentEditableTrue$2 = isContentEditableTrue$3;\n    const isContentEditableFalse$9 = isContentEditableFalse$a;\n    const isBr$4 = isBr$6;\n    const isText$8 = isText$a;\n    const isInvalidTextElement = matchNodeNames([\n      'script',\n      'style',\n      'textarea'\n    ]);\n    const isAtomicInline = matchNodeNames([\n      'img',\n      'input',\n      'textarea',\n      'hr',\n      'iframe',\n      'video',\n      'audio',\n      'object',\n      'embed'\n    ]);\n    const isTable = matchNodeNames(['table']);\n    const isCaretContainer$1 = isCaretContainer$2;\n    const isCaretCandidate$3 = node => {\n      if (isCaretContainer$1(node)) {\n        return false;\n      }\n      if (isText$8(node)) {\n        return !isInvalidTextElement(node.parentNode);\n      }\n      return isAtomicInline(node) || isBr$4(node) || isTable(node) || isNonUiContentEditableFalse(node);\n    };\n    const isUnselectable = node => isElement$6(node) && node.getAttribute('unselectable') === 'true';\n    const isNonUiContentEditableFalse = node => !isUnselectable(node) && isContentEditableFalse$9(node);\n    const isInEditable = (node, root) => {\n      for (let tempNode = node.parentNode; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n        if (isNonUiContentEditableFalse(tempNode)) {\n          return false;\n        }\n        if (isContentEditableTrue$2(tempNode)) {\n          return true;\n        }\n      }\n      return true;\n    };\n    const isAtomicContentEditableFalse = node => {\n      if (!isNonUiContentEditableFalse(node)) {\n        return false;\n      }\n      return !foldl(from(node.getElementsByTagName('*')), (result, elm) => {\n        return result || isContentEditableTrue$2(elm);\n      }, false);\n    };\n    const isAtomic$1 = node => isAtomicInline(node) || isAtomicContentEditableFalse(node);\n    const isEditableCaretCandidate$1 = (node, root) => isCaretCandidate$3(node) && isInEditable(node, root);\n\n    const whiteSpaceRegExp = /^[ \\t\\r\\n]*$/;\n    const isWhitespaceText = text => whiteSpaceRegExp.test(text);\n    const isCollapsibleWhitespace$1 = c => ' \\f\\t\\x0B'.indexOf(c) !== -1;\n    const isNewLineChar = c => c === '\\n' || c === '\\r';\n    const isNewline = (text, idx) => idx < text.length && idx >= 0 ? isNewLineChar(text[idx]) : false;\n    const normalize$4 = (text, tabSpaces = 4, isStartOfContent = true, isEndOfContent = true) => {\n      const tabSpace = repeat(' ', tabSpaces);\n      const normalizedText = text.replace(/\\t/g, tabSpace);\n      const result = foldl(normalizedText, (acc, c) => {\n        if (isCollapsibleWhitespace$1(c) || c === nbsp) {\n          if (acc.pcIsSpace || acc.str === '' && isStartOfContent || acc.str.length === normalizedText.length - 1 && isEndOfContent || isNewline(normalizedText, acc.str.length + 1)) {\n            return {\n              pcIsSpace: false,\n              str: acc.str + nbsp\n            };\n          } else {\n            return {\n              pcIsSpace: true,\n              str: acc.str + ' '\n            };\n          }\n        } else {\n          return {\n            pcIsSpace: isNewLineChar(c),\n            str: acc.str + c\n          };\n        }\n      }, {\n        pcIsSpace: false,\n        str: ''\n      });\n      return result.str;\n    };\n\n    const hasWhitespacePreserveParent = (node, rootNode) => {\n      const rootElement = SugarElement.fromDom(rootNode);\n      const startNode = SugarElement.fromDom(node);\n      return ancestor$1(startNode, 'pre,code', curry(eq, rootElement));\n    };\n    const isWhitespace$1 = (node, rootNode) => {\n      return isText$a(node) && isWhitespaceText(node.data) && !hasWhitespacePreserveParent(node, rootNode);\n    };\n    const isNamedAnchor = node => {\n      return isElement$6(node) && node.nodeName === 'A' && !node.hasAttribute('href') && (node.hasAttribute('name') || node.hasAttribute('id'));\n    };\n    const isContent$1 = (node, rootNode) => {\n      return isCaretCandidate$3(node) && !isWhitespace$1(node, rootNode) || isNamedAnchor(node) || isBookmark(node);\n    };\n    const isBookmark = hasAttribute('data-mce-bookmark');\n    const isBogus$1 = hasAttribute('data-mce-bogus');\n    const isBogusAll = hasAttributeValue('data-mce-bogus', 'all');\n    const isEmptyNode = (targetNode, skipBogus) => {\n      let brCount = 0;\n      if (isContent$1(targetNode, targetNode)) {\n        return false;\n      } else {\n        let node = targetNode.firstChild;\n        if (!node) {\n          return true;\n        }\n        const walker = new DomTreeWalker(node, targetNode);\n        do {\n          if (skipBogus) {\n            if (isBogusAll(node)) {\n              node = walker.next(true);\n              continue;\n            }\n            if (isBogus$1(node)) {\n              node = walker.next();\n              continue;\n            }\n          }\n          if (isBr$6(node)) {\n            brCount++;\n            node = walker.next();\n            continue;\n          }\n          if (isContent$1(node, targetNode)) {\n            return false;\n          }\n          node = walker.next();\n        } while (node);\n        return brCount <= 1;\n      }\n    };\n    const isEmpty$2 = (elm, skipBogus = true) => isEmptyNode(elm.dom, skipBogus);\n\n    const transparentBlockAttr = 'data-mce-block';\n    const elementNames = map => filter$5(keys(map), key => !/[A-Z]/.test(key));\n    const makeSelectorFromSchemaMap = map => elementNames(map).join(',');\n    const updateTransparent = (blocksSelector, transparent) => {\n      if (isNonNullable(transparent.querySelector(blocksSelector))) {\n        transparent.setAttribute(transparentBlockAttr, 'true');\n        if (transparent.getAttribute('data-mce-selected') === 'inline-boundary') {\n          transparent.removeAttribute('data-mce-selected');\n        }\n        return true;\n      } else {\n        transparent.removeAttribute(transparentBlockAttr);\n        return false;\n      }\n    };\n    const updateBlockStateOnChildren = (schema, scope) => {\n      const transparentSelector = makeSelectorFromSchemaMap(schema.getTransparentElements());\n      const blocksSelector = makeSelectorFromSchemaMap(schema.getBlockElements());\n      return filter$5(scope.querySelectorAll(transparentSelector), transparent => updateTransparent(blocksSelector, transparent));\n    };\n    const trimEdge = (el, leftSide) => {\n      var _a;\n      const childPropertyName = leftSide ? 'lastChild' : 'firstChild';\n      for (let child = el[childPropertyName]; child; child = child[childPropertyName]) {\n        if (isEmpty$2(SugarElement.fromDom(child))) {\n          (_a = child.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(child);\n          return;\n        }\n      }\n    };\n    const split$2 = (parentElm, splitElm) => {\n      const range = document.createRange();\n      const parentNode = parentElm.parentNode;\n      if (parentNode) {\n        range.setStartBefore(parentElm);\n        range.setEndBefore(splitElm);\n        const beforeFragment = range.extractContents();\n        trimEdge(beforeFragment, true);\n        range.setStartAfter(splitElm);\n        range.setEndAfter(parentElm);\n        const afterFragment = range.extractContents();\n        trimEdge(afterFragment, false);\n        if (!isEmpty$2(SugarElement.fromDom(beforeFragment))) {\n          parentNode.insertBefore(beforeFragment, parentElm);\n        }\n        if (!isEmpty$2(SugarElement.fromDom(splitElm))) {\n          parentNode.insertBefore(splitElm, parentElm);\n        }\n        if (!isEmpty$2(SugarElement.fromDom(afterFragment))) {\n          parentNode.insertBefore(afterFragment, parentElm);\n        }\n        parentNode.removeChild(parentElm);\n      }\n    };\n    const splitInvalidChildren = (schema, scope, transparentBlocks) => {\n      const blocksElements = schema.getBlockElements();\n      const rootNode = SugarElement.fromDom(scope);\n      const isBlock = el => name(el) in blocksElements;\n      const isRoot = el => eq(el, rootNode);\n      each$e(fromDom$1(transparentBlocks), transparentBlock => {\n        ancestor$3(transparentBlock, isBlock, isRoot).each(parentBlock => {\n          const invalidChildren = children(transparentBlock, el => isBlock(el) && !schema.isValidChild(name(parentBlock), name(el)));\n          if (invalidChildren.length > 0) {\n            const stateScope = parentElement(parentBlock);\n            each$e(invalidChildren, child => {\n              ancestor$3(child, isBlock, isRoot).each(parentBlock => {\n                split$2(parentBlock.dom, child.dom);\n              });\n            });\n            stateScope.each(scope => updateBlockStateOnChildren(schema, scope.dom));\n          }\n        });\n      });\n    };\n    const updateChildren = (schema, scope) => {\n      const transparentBlocks = updateBlockStateOnChildren(schema, scope);\n      splitInvalidChildren(schema, scope, transparentBlocks);\n    };\n    const updateElement = (schema, target) => {\n      if (isTransparentElement(schema, target)) {\n        const blocksSelector = makeSelectorFromSchemaMap(schema.getBlockElements());\n        updateTransparent(blocksSelector, target);\n      }\n    };\n    const updateCaret = (schema, root, caretParent) => {\n      const isRoot = el => eq(el, SugarElement.fromDom(root));\n      const parents = parents$1(SugarElement.fromDom(caretParent), isRoot);\n      get$b(parents, parents.length - 2).filter(isElement$7).fold(() => updateChildren(schema, root), scope => updateChildren(schema, scope.dom));\n    };\n    const hasBlockAttr = el => el.hasAttribute(transparentBlockAttr);\n    const isTransparentElementName = (schema, name) => has$2(schema.getTransparentElements(), name);\n    const isTransparentElement = (schema, node) => isElement$6(node) && isTransparentElementName(schema, node.nodeName);\n    const isTransparentBlock = (schema, node) => isTransparentElement(schema, node) && hasBlockAttr(node);\n    const isTransparentAstBlock = (schema, node) => node.type === 1 && isTransparentElementName(schema, node.name) && isString(node.attr(transparentBlockAttr));\n    const isTransparentAstInline = (schema, node) => node.type === 1 && isTransparentElementName(schema, node.name) && isUndefined(node.attr(transparentBlockAttr));\n\n    const browser = detect$2().browser;\n    const firstElement = nodes => find$2(nodes, isElement$7);\n    const getTableCaptionDeltaY = elm => {\n      if (browser.isFirefox() && name(elm) === 'table') {\n        return firstElement(children$1(elm)).filter(elm => {\n          return name(elm) === 'caption';\n        }).bind(caption => {\n          return firstElement(nextSiblings(caption)).map(body => {\n            const bodyTop = body.dom.offsetTop;\n            const captionTop = caption.dom.offsetTop;\n            const captionHeight = caption.dom.offsetHeight;\n            return bodyTop <= captionTop ? -captionHeight : 0;\n          });\n        }).getOr(0);\n      } else {\n        return 0;\n      }\n    };\n    const hasChild = (elm, child) => elm.children && contains$2(elm.children, child);\n    const getPos = (body, elm, rootElm) => {\n      let x = 0, y = 0;\n      const doc = body.ownerDocument;\n      rootElm = rootElm ? rootElm : body;\n      if (elm) {\n        if (rootElm === body && elm.getBoundingClientRect && get$7(SugarElement.fromDom(body), 'position') === 'static') {\n          const pos = elm.getBoundingClientRect();\n          x = pos.left + (doc.documentElement.scrollLeft || body.scrollLeft) - doc.documentElement.clientLeft;\n          y = pos.top + (doc.documentElement.scrollTop || body.scrollTop) - doc.documentElement.clientTop;\n          return {\n            x,\n            y\n          };\n        }\n        let offsetParent = elm;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          const castOffsetParent = offsetParent;\n          x += castOffsetParent.offsetLeft || 0;\n          y += castOffsetParent.offsetTop || 0;\n          offsetParent = castOffsetParent.offsetParent;\n        }\n        offsetParent = elm.parentNode;\n        while (offsetParent && offsetParent !== rootElm && offsetParent.nodeType && !hasChild(offsetParent, rootElm)) {\n          x -= offsetParent.scrollLeft || 0;\n          y -= offsetParent.scrollTop || 0;\n          offsetParent = offsetParent.parentNode;\n        }\n        y += getTableCaptionDeltaY(SugarElement.fromDom(elm));\n      }\n      return {\n        x,\n        y\n      };\n    };\n\n    const StyleSheetLoader = (documentOrShadowRoot, settings = {}) => {\n      let idCount = 0;\n      const loadedStates = {};\n      const edos = SugarElement.fromDom(documentOrShadowRoot);\n      const doc = documentOrOwner(edos);\n      const maxLoadTime = settings.maxLoadTime || 5000;\n      const _setReferrerPolicy = referrerPolicy => {\n        settings.referrerPolicy = referrerPolicy;\n      };\n      const _setContentCssCors = contentCssCors => {\n        settings.contentCssCors = contentCssCors;\n      };\n      const addStyle = element => {\n        append$1(getStyleContainer(edos), element);\n      };\n      const removeStyle = id => {\n        const styleContainer = getStyleContainer(edos);\n        descendant(styleContainer, '#' + id).each(remove$6);\n      };\n      const getOrCreateState = url => get$a(loadedStates, url).getOrThunk(() => ({\n        id: 'mce-u' + idCount++,\n        passed: [],\n        failed: [],\n        count: 0\n      }));\n      const load = url => new Promise((success, failure) => {\n        let link;\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        const state = getOrCreateState(urlWithSuffix);\n        loadedStates[urlWithSuffix] = state;\n        state.count++;\n        const resolve = (callbacks, status) => {\n          each$e(callbacks, call);\n          state.status = status;\n          state.passed = [];\n          state.failed = [];\n          if (link) {\n            link.onload = null;\n            link.onerror = null;\n            link = null;\n          }\n        };\n        const passed = () => resolve(state.passed, 2);\n        const failed = () => resolve(state.failed, 3);\n        const wait = (testCallback, waitCallback) => {\n          if (!testCallback()) {\n            if (Date.now() - startTime < maxLoadTime) {\n              setTimeout(waitCallback);\n            } else {\n              failed();\n            }\n          }\n        };\n        const waitForWebKitLinkLoaded = () => {\n          wait(() => {\n            const styleSheets = documentOrShadowRoot.styleSheets;\n            let i = styleSheets.length;\n            while (i--) {\n              const styleSheet = styleSheets[i];\n              const owner = styleSheet.ownerNode;\n              if (owner && link && owner.id === link.id) {\n                passed();\n                return true;\n              }\n            }\n            return false;\n          }, waitForWebKitLinkLoaded);\n        };\n        if (success) {\n          state.passed.push(success);\n        }\n        if (failure) {\n          state.failed.push(failure);\n        }\n        if (state.status === 1) {\n          return;\n        }\n        if (state.status === 2) {\n          passed();\n          return;\n        }\n        if (state.status === 3) {\n          failed();\n          return;\n        }\n        state.status = 1;\n        const linkElem = SugarElement.fromTag('link', doc.dom);\n        setAll$1(linkElem, {\n          rel: 'stylesheet',\n          type: 'text/css',\n          id: state.id\n        });\n        const startTime = Date.now();\n        if (settings.contentCssCors) {\n          set$2(linkElem, 'crossOrigin', 'anonymous');\n        }\n        if (settings.referrerPolicy) {\n          set$2(linkElem, 'referrerpolicy', settings.referrerPolicy);\n        }\n        link = linkElem.dom;\n        link.onload = waitForWebKitLinkLoaded;\n        link.onerror = failed;\n        addStyle(linkElem);\n        set$2(linkElem, 'href', urlWithSuffix);\n      });\n      const loadAll = urls => {\n        const loadedUrls = Promise.allSettled(map$3(urls, url => load(url).then(constant(url))));\n        return loadedUrls.then(results => {\n          const parts = partition$2(results, r => r.status === 'fulfilled');\n          if (parts.fail.length > 0) {\n            return Promise.reject(map$3(parts.fail, result => result.reason));\n          } else {\n            return map$3(parts.pass, result => result.value);\n          }\n        });\n      };\n      const unload = url => {\n        const urlWithSuffix = Tools._addCacheSuffix(url);\n        get$a(loadedStates, urlWithSuffix).each(state => {\n          const count = --state.count;\n          if (count === 0) {\n            delete loadedStates[urlWithSuffix];\n            removeStyle(state.id);\n          }\n        });\n      };\n      const unloadAll = urls => {\n        each$e(urls, url => {\n          unload(url);\n        });\n      };\n      return {\n        load,\n        loadAll,\n        unload,\n        unloadAll,\n        _setReferrerPolicy,\n        _setContentCssCors\n      };\n    };\n\n    const create$d = () => {\n      const map = new WeakMap();\n      const forElement = (referenceElement, settings) => {\n        const root = getRootNode(referenceElement);\n        const rootDom = root.dom;\n        return Optional.from(map.get(rootDom)).getOrThunk(() => {\n          const sl = StyleSheetLoader(rootDom, settings);\n          map.set(rootDom, sl);\n          return sl;\n        });\n      };\n      return { forElement };\n    };\n    const instance = create$d();\n\n    const isSpan = node => node.nodeName.toLowerCase() === 'span';\n    const isInlineContent = (node, root) => isNonNullable(node) && (isContent$1(node, root) || isInline$1(SugarElement.fromDom(node)));\n    const surroundedByInlineContent = (node, root) => {\n      const prev = new DomTreeWalker(node, root).prev(false);\n      const next = new DomTreeWalker(node, root).next(false);\n      const prevIsInline = isUndefined(prev) || isInlineContent(prev, root);\n      const nextIsInline = isUndefined(next) || isInlineContent(next, root);\n      return prevIsInline && nextIsInline;\n    };\n    const isBookmarkNode$2 = node => isSpan(node) && node.getAttribute('data-mce-type') === 'bookmark';\n    const isKeepTextNode = (node, root) => isText$a(node) && node.data.length > 0 && surroundedByInlineContent(node, root);\n    const isKeepElement = node => isElement$6(node) ? node.childNodes.length > 0 : false;\n    const isDocument = node => isDocumentFragment(node) || isDocument$1(node);\n    const trimNode = (dom, node, root) => {\n      var _a;\n      const rootNode = root || node;\n      if (isElement$6(node) && isBookmarkNode$2(node)) {\n        return node;\n      }\n      const children = node.childNodes;\n      for (let i = children.length - 1; i >= 0; i--) {\n        trimNode(dom, children[i], rootNode);\n      }\n      if (isElement$6(node)) {\n        const currentChildren = node.childNodes;\n        if (currentChildren.length === 1 && isBookmarkNode$2(currentChildren[0])) {\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(currentChildren[0], node);\n        }\n      }\n      if (!isDocument(node) && !isContent$1(node, rootNode) && !isKeepElement(node) && !isKeepTextNode(node, rootNode)) {\n        dom.remove(node);\n      }\n      return node;\n    };\n\n    const makeMap$3 = Tools.makeMap;\n    const attrsCharsRegExp = /[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const textCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n    const rawCharsRegExp = /[<>&\\\"\\']/g;\n    const entityRegExp = /&#([a-z0-9]+);?|&([a-z0-9]+);/gi;\n    const asciiMap = {\n      128: '\\u20AC',\n      130: '\\u201A',\n      131: '\\u0192',\n      132: '\\u201E',\n      133: '\\u2026',\n      134: '\\u2020',\n      135: '\\u2021',\n      136: '\\u02c6',\n      137: '\\u2030',\n      138: '\\u0160',\n      139: '\\u2039',\n      140: '\\u0152',\n      142: '\\u017d',\n      145: '\\u2018',\n      146: '\\u2019',\n      147: '\\u201C',\n      148: '\\u201D',\n      149: '\\u2022',\n      150: '\\u2013',\n      151: '\\u2014',\n      152: '\\u02DC',\n      153: '\\u2122',\n      154: '\\u0161',\n      155: '\\u203A',\n      156: '\\u0153',\n      158: '\\u017e',\n      159: '\\u0178'\n    };\n    const baseEntities = {\n      '\"': '&quot;',\n      '\\'': '&#39;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '&': '&amp;',\n      '`': '&#96;'\n    };\n    const reverseEntities = {\n      '&lt;': '<',\n      '&gt;': '>',\n      '&amp;': '&',\n      '&quot;': '\"',\n      '&apos;': `'`\n    };\n    const nativeDecode = text => {\n      const elm = SugarElement.fromTag('div').dom;\n      elm.innerHTML = text;\n      return elm.textContent || elm.innerText || text;\n    };\n    const buildEntitiesLookup = (items, radix) => {\n      const lookup = {};\n      if (items) {\n        const itemList = items.split(',');\n        radix = radix || 10;\n        for (let i = 0; i < itemList.length; i += 2) {\n          const chr = String.fromCharCode(parseInt(itemList[i], radix));\n          if (!baseEntities[chr]) {\n            const entity = '&' + itemList[i + 1] + ';';\n            lookup[chr] = entity;\n            lookup[entity] = chr;\n          }\n        }\n        return lookup;\n      } else {\n        return undefined;\n      }\n    };\n    const namedEntities = buildEntitiesLookup('50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' + '5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' + '5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' + '5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' + '68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' + '6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' + '6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' + '75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' + '7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' + '7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' + 'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' + 'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' + 't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' + 'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' + 'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' + '81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' + '8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' + '8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' + '8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' + '8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' + 'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' + 'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' + 'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' + '80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' + '811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro', 32);\n    const encodeRaw = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeAllRaw = text => ('' + text).replace(rawCharsRegExp, chr => {\n      return baseEntities[chr] || chr;\n    });\n    const encodeNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n      if (chr.length > 1) {\n        return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n      }\n      return baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n    });\n    const encodeNamed = (text, attr, entities) => {\n      const resolveEntities = entities || namedEntities;\n      return text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        return baseEntities[chr] || resolveEntities[chr] || chr;\n      });\n    };\n    const getEncodeFunc = (name, entities) => {\n      const entitiesMap = buildEntitiesLookup(entities) || namedEntities;\n      const encodeNamedAndNumeric = (text, attr) => text.replace(attr ? attrsCharsRegExp : textCharsRegExp, chr => {\n        if (baseEntities[chr] !== undefined) {\n          return baseEntities[chr];\n        }\n        if (entitiesMap[chr] !== undefined) {\n          return entitiesMap[chr];\n        }\n        if (chr.length > 1) {\n          return '&#' + ((chr.charCodeAt(0) - 55296) * 1024 + (chr.charCodeAt(1) - 56320) + 65536) + ';';\n        }\n        return '&#' + chr.charCodeAt(0) + ';';\n      });\n      const encodeCustomNamed = (text, attr) => {\n        return encodeNamed(text, attr, entitiesMap);\n      };\n      const nameMap = makeMap$3(name.replace(/\\+/g, ','));\n      if (nameMap.named && nameMap.numeric) {\n        return encodeNamedAndNumeric;\n      }\n      if (nameMap.named) {\n        if (entities) {\n          return encodeCustomNamed;\n        }\n        return encodeNamed;\n      }\n      if (nameMap.numeric) {\n        return encodeNumeric;\n      }\n      return encodeRaw;\n    };\n    const decode = text => text.replace(entityRegExp, (all, numeric) => {\n      if (numeric) {\n        if (numeric.charAt(0).toLowerCase() === 'x') {\n          numeric = parseInt(numeric.substr(1), 16);\n        } else {\n          numeric = parseInt(numeric, 10);\n        }\n        if (numeric > 65535) {\n          numeric -= 65536;\n          return String.fromCharCode(55296 + (numeric >> 10), 56320 + (numeric & 1023));\n        }\n        return asciiMap[numeric] || String.fromCharCode(numeric);\n      }\n      return reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n    });\n    const Entities = {\n      encodeRaw,\n      encodeAllRaw,\n      encodeNumeric,\n      encodeNamed,\n      getEncodeFunc,\n      decode\n    };\n\n    const lookupCache = {};\n    const mapCache = {};\n    const dummyObj = {};\n    const makeMap$2 = Tools.makeMap, each$b = Tools.each, extend$2 = Tools.extend, explode$2 = Tools.explode, inArray = Tools.inArray;\n    const split$1 = (items, delim) => {\n      items = Tools.trim(items);\n      return items ? items.split(delim || ' ') : [];\n    };\n    const createMap = (defaultValue, extendWith = {}) => {\n      const value = makeMap$2(defaultValue, ' ', makeMap$2(defaultValue.toUpperCase(), ' '));\n      return extend$2(value, extendWith);\n    };\n    const getTextRootBlockElements = schema => createMap('td th li dt dd figcaption caption details summary', schema.getTextBlockElements());\n    const compileSchema = type => {\n      const schema = {};\n      let globalAttributes, blockContent;\n      let phrasingContent, flowContent;\n      const add = (name, attributes = '', children = '') => {\n        const childNames = split$1(children);\n        const names = split$1(name);\n        let ni = names.length;\n        while (ni--) {\n          const attributesOrder = split$1([\n            globalAttributes,\n            attributes\n          ].join(' '));\n          schema[names[ni]] = {\n            attributes: mapToObject(attributesOrder, () => ({})),\n            attributesOrder,\n            children: mapToObject(childNames, constant(dummyObj))\n          };\n        }\n      };\n      const addAttrs = (name, attributes) => {\n        const names = split$1(name);\n        const attrs = split$1(attributes);\n        let ni = names.length;\n        while (ni--) {\n          const schemaItem = schema[names[ni]];\n          for (let i = 0, l = attrs.length; i < l; i++) {\n            schemaItem.attributes[attrs[i]] = {};\n            schemaItem.attributesOrder.push(attrs[i]);\n          }\n        }\n      };\n      if (lookupCache[type]) {\n        return lookupCache[type];\n      }\n      globalAttributes = 'id accesskey class dir lang style tabindex title role';\n      blockContent = 'address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul';\n      phrasingContent = 'a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd ' + 'label map noscript object q s samp script select small span strong sub sup ' + 'textarea u var #text #comment';\n      if (type !== 'html4') {\n        const transparentContent = 'a ins del canvas map';\n        globalAttributes += ' contenteditable contextmenu draggable dropzone ' + 'hidden spellcheck translate';\n        blockContent += ' article aside details dialog figure main header footer hgroup section nav ' + transparentContent;\n        phrasingContent += ' audio canvas command datalist mark meter output picture ' + 'progress time wbr video ruby bdi keygen';\n      }\n      if (type !== 'html5-strict') {\n        globalAttributes += ' xml:lang';\n        const html4PhrasingContent = 'acronym applet basefont big font strike tt';\n        phrasingContent = [\n          phrasingContent,\n          html4PhrasingContent\n        ].join(' ');\n        each$b(split$1(html4PhrasingContent), name => {\n          add(name, '', phrasingContent);\n        });\n        const html4BlockContent = 'center dir isindex noframes';\n        blockContent = [\n          blockContent,\n          html4BlockContent\n        ].join(' ');\n        flowContent = [\n          blockContent,\n          phrasingContent\n        ].join(' ');\n        each$b(split$1(html4BlockContent), name => {\n          add(name, '', flowContent);\n        });\n      }\n      flowContent = flowContent || [\n        blockContent,\n        phrasingContent\n      ].join(' ');\n      add('html', 'manifest', 'head body');\n      add('head', '', 'base command link meta noscript script style title');\n      add('title hr noscript br');\n      add('base', 'href target');\n      add('link', 'href rel media hreflang type sizes hreflang');\n      add('meta', 'name http-equiv content charset');\n      add('style', 'media type scoped');\n      add('script', 'src async defer type charset');\n      add('body', 'onafterprint onbeforeprint onbeforeunload onblur onerror onfocus ' + 'onhashchange onload onmessage onoffline ononline onpagehide onpageshow ' + 'onpopstate onresize onscroll onstorage onunload', flowContent);\n      add('address dt dd div caption', '', flowContent);\n      add('h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn', '', phrasingContent);\n      add('blockquote', 'cite', flowContent);\n      add('ol', 'reversed start type', 'li');\n      add('ul', '', 'li');\n      add('li', 'value', flowContent);\n      add('dl', '', 'dt dd');\n      add('a', 'href target rel media hreflang type', flowContent);\n      add('q', 'cite', phrasingContent);\n      add('ins del', 'cite datetime', flowContent);\n      add('img', 'src sizes srcset alt usemap ismap width height');\n      add('iframe', 'src name width height', flowContent);\n      add('embed', 'src type width height');\n      add('object', 'data type typemustmatch name usemap form width height', [\n        flowContent,\n        'param'\n      ].join(' '));\n      add('param', 'name value');\n      add('map', 'name', [\n        flowContent,\n        'area'\n      ].join(' '));\n      add('area', 'alt coords shape href target rel media hreflang type');\n      add('table', 'border', 'caption colgroup thead tfoot tbody tr' + (type === 'html4' ? ' col' : ''));\n      add('colgroup', 'span', 'col');\n      add('col', 'span');\n      add('tbody thead tfoot', '', 'tr');\n      add('tr', '', 'td th');\n      add('td', 'colspan rowspan headers', flowContent);\n      add('th', 'colspan rowspan headers scope abbr', flowContent);\n      add('form', 'accept-charset action autocomplete enctype method name novalidate target', flowContent);\n      add('fieldset', 'disabled form name', [\n        flowContent,\n        'legend'\n      ].join(' '));\n      add('label', 'form for', phrasingContent);\n      add('input', 'accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate ' + 'formtarget height list max maxlength min multiple name pattern readonly required size src step type value width');\n      add('button', 'disabled form formaction formenctype formmethod formnovalidate formtarget name type value', type === 'html4' ? flowContent : phrasingContent);\n      add('select', 'disabled form multiple name required size', 'option optgroup');\n      add('optgroup', 'disabled label', 'option');\n      add('option', 'disabled label selected value');\n      add('textarea', 'cols dirname disabled form maxlength name readonly required rows wrap');\n      add('menu', 'type label', [\n        flowContent,\n        'li'\n      ].join(' '));\n      add('noscript', '', flowContent);\n      if (type !== 'html4') {\n        add('wbr');\n        add('ruby', '', [\n          phrasingContent,\n          'rt rp'\n        ].join(' '));\n        add('figcaption', '', flowContent);\n        add('mark rt rp summary bdi', '', phrasingContent);\n        add('canvas', 'width height', flowContent);\n        add('video', 'src crossorigin poster preload autoplay mediagroup loop ' + 'muted controls width height buffered', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('audio', 'src crossorigin preload autoplay mediagroup loop muted controls ' + 'buffered volume', [\n          flowContent,\n          'track source'\n        ].join(' '));\n        add('picture', '', 'img source');\n        add('source', 'src srcset type media sizes');\n        add('track', 'kind src srclang label default');\n        add('datalist', '', [\n          phrasingContent,\n          'option'\n        ].join(' '));\n        add('article section nav aside main header footer', '', flowContent);\n        add('hgroup', '', 'h1 h2 h3 h4 h5 h6');\n        add('figure', '', [\n          flowContent,\n          'figcaption'\n        ].join(' '));\n        add('time', 'datetime', phrasingContent);\n        add('dialog', 'open', flowContent);\n        add('command', 'type label icon disabled checked radiogroup command');\n        add('output', 'for form name', phrasingContent);\n        add('progress', 'value max', phrasingContent);\n        add('meter', 'value min max low high optimum', phrasingContent);\n        add('details', 'open', [\n          flowContent,\n          'summary'\n        ].join(' '));\n        add('keygen', 'autofocus challenge disabled form keytype name');\n      }\n      if (type !== 'html5-strict') {\n        addAttrs('script', 'language xml:space');\n        addAttrs('style', 'xml:space');\n        addAttrs('object', 'declare classid code codebase codetype archive standby align border hspace vspace');\n        addAttrs('embed', 'align name hspace vspace');\n        addAttrs('param', 'valuetype type');\n        addAttrs('a', 'charset name rev shape coords');\n        addAttrs('br', 'clear');\n        addAttrs('applet', 'codebase archive code object alt name width height align hspace vspace');\n        addAttrs('img', 'name longdesc align border hspace vspace');\n        addAttrs('iframe', 'longdesc frameborder marginwidth marginheight scrolling align');\n        addAttrs('font basefont', 'size color face');\n        addAttrs('input', 'usemap align');\n        addAttrs('select');\n        addAttrs('textarea');\n        addAttrs('h1 h2 h3 h4 h5 h6 div p legend caption', 'align');\n        addAttrs('ul', 'type compact');\n        addAttrs('li', 'type');\n        addAttrs('ol dl menu dir', 'compact');\n        addAttrs('pre', 'width xml:space');\n        addAttrs('hr', 'align noshade size width');\n        addAttrs('isindex', 'prompt');\n        addAttrs('table', 'summary width frame rules cellspacing cellpadding align bgcolor');\n        addAttrs('col', 'width align char charoff valign');\n        addAttrs('colgroup', 'width align char charoff valign');\n        addAttrs('thead', 'align char charoff valign');\n        addAttrs('tr', 'align char charoff valign bgcolor');\n        addAttrs('th', 'axis align char charoff valign nowrap bgcolor width height');\n        addAttrs('form', 'accept');\n        addAttrs('td', 'abbr axis scope align char charoff valign nowrap bgcolor width height');\n        addAttrs('tfoot', 'align char charoff valign');\n        addAttrs('tbody', 'align char charoff valign');\n        addAttrs('area', 'nohref');\n        addAttrs('body', 'background bgcolor text link vlink alink');\n      }\n      if (type !== 'html4') {\n        addAttrs('input button select textarea', 'autofocus');\n        addAttrs('input textarea', 'placeholder');\n        addAttrs('a', 'download');\n        addAttrs('link script img', 'crossorigin');\n        addAttrs('img', 'loading');\n        addAttrs('iframe', 'sandbox seamless allow allowfullscreen loading');\n      }\n      if (type !== 'html4') {\n        each$e([\n          schema.video,\n          schema.audio\n        ], item => {\n          delete item.children.audio;\n          delete item.children.video;\n        });\n      }\n      each$b(split$1('a form meter progress dfn'), name => {\n        if (schema[name]) {\n          delete schema[name].children[name];\n        }\n      });\n      delete schema.caption.children.table;\n      delete schema.script;\n      lookupCache[type] = schema;\n      return schema;\n    };\n    const compileElementMap = (value, mode) => {\n      if (value) {\n        const styles = {};\n        if (isString(value)) {\n          value = { '*': value };\n        }\n        each$b(value, (value, key) => {\n          styles[key] = styles[key.toUpperCase()] = mode === 'map' ? makeMap$2(value, /[, ]/) : explode$2(value, /[, ]/);\n        });\n        return styles;\n      } else {\n        return undefined;\n      }\n    };\n    const Schema = (settings = {}) => {\n      var _a;\n      const elements = {};\n      const children = {};\n      let patternElements = [];\n      const customElementsMap = {};\n      const specialElements = {};\n      const createLookupTable = (option, defaultValue, extendWith) => {\n        const value = settings[option];\n        if (!value) {\n          let newValue = mapCache[option];\n          if (!newValue) {\n            newValue = createMap(defaultValue, extendWith);\n            mapCache[option] = newValue;\n          }\n          return newValue;\n        } else {\n          return makeMap$2(value, /[, ]/, makeMap$2(value.toUpperCase(), /[, ]/));\n        }\n      };\n      const schemaType = (_a = settings.schema) !== null && _a !== void 0 ? _a : 'html5';\n      const schemaItems = compileSchema(schemaType);\n      if (settings.verify_html === false) {\n        settings.valid_elements = '*[*]';\n      }\n      const validStyles = compileElementMap(settings.valid_styles);\n      const invalidStyles = compileElementMap(settings.invalid_styles, 'map');\n      const validClasses = compileElementMap(settings.valid_classes, 'map');\n      const whitespaceElementsMap = createLookupTable('whitespace_elements', 'pre script noscript style textarea video audio iframe object code');\n      const selfClosingElementsMap = createLookupTable('self_closing_elements', 'colgroup dd dt li option p td tfoot th thead tr');\n      const voidElementsMap = createLookupTable('void_elements', 'area base basefont br col frame hr img input isindex link ' + 'meta param embed source wbr track');\n      const boolAttrMap = createLookupTable('boolean_attributes', 'checked compact declare defer disabled ismap multiple nohref noresize ' + 'noshade nowrap readonly selected autoplay loop controls allowfullscreen');\n      const nonEmptyOrMoveCaretBeforeOnEnter = 'td th iframe video audio object script code';\n      const nonEmptyElementsMap = createLookupTable('non_empty_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' pre', voidElementsMap);\n      const moveCaretBeforeOnEnterElementsMap = createLookupTable('move_caret_before_on_enter_elements', nonEmptyOrMoveCaretBeforeOnEnter + ' table', voidElementsMap);\n      const textBlockElementsMap = createLookupTable('text_block_elements', 'h1 h2 h3 h4 h5 h6 p div address pre form ' + 'blockquote center dir fieldset header footer article section hgroup aside main nav figure');\n      const blockElementsMap = createLookupTable('block_elements', 'hr table tbody thead tfoot ' + 'th tr td li ol ul caption dl dt dd noscript menu isindex option ' + 'datalist select optgroup figcaption details summary', textBlockElementsMap);\n      const textInlineElementsMap = createLookupTable('text_inline_elements', 'span strong b em i font s strike u var cite ' + 'dfn code mark q sup sub samp');\n      const transparentElementsMap = createLookupTable('transparent_elements', 'a ins del canvas map');\n      each$b('script noscript iframe noframes noembed title style textarea xmp plaintext'.split(' '), name => {\n        specialElements[name] = new RegExp('</' + name + '[^>]*>', 'gi');\n      });\n      const patternToRegExp = str => new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n      const addValidElements = validElements => {\n        const elementRuleRegExp = /^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/;\n        const attrRuleRegExp = /^([!\\-])?(\\w+[\\\\:]:\\w+|[^=~<]+)?(?:([=~<])(.*))?$/;\n        const hasPatternsRegExp = /[*?+]/;\n        if (validElements) {\n          const validElementsArr = split$1(validElements, ',');\n          let globalAttributes;\n          let globalAttributesOrder;\n          if (elements['@']) {\n            globalAttributes = elements['@'].attributes;\n            globalAttributesOrder = elements['@'].attributesOrder;\n          }\n          for (let ei = 0, el = validElementsArr.length; ei < el; ei++) {\n            let matches = elementRuleRegExp.exec(validElementsArr[ei]);\n            if (matches) {\n              const prefix = matches[1];\n              const elementName = matches[2];\n              const outputName = matches[3];\n              const attrData = matches[5];\n              const attributes = {};\n              const attributesOrder = [];\n              const element = {\n                attributes,\n                attributesOrder\n              };\n              if (prefix === '#') {\n                element.paddEmpty = true;\n              }\n              if (prefix === '-') {\n                element.removeEmpty = true;\n              }\n              if (matches[4] === '!') {\n                element.removeEmptyAttrs = true;\n              }\n              if (globalAttributes) {\n                each$d(globalAttributes, (value, key) => {\n                  attributes[key] = value;\n                });\n                if (globalAttributesOrder) {\n                  attributesOrder.push(...globalAttributesOrder);\n                }\n              }\n              if (attrData) {\n                const attrDatas = split$1(attrData, '|');\n                for (let ai = 0, al = attrDatas.length; ai < al; ai++) {\n                  matches = attrRuleRegExp.exec(attrDatas[ai]);\n                  if (matches) {\n                    const attr = {};\n                    const attrType = matches[1];\n                    const attrName = matches[2].replace(/[\\\\:]:/g, ':');\n                    const attrPrefix = matches[3];\n                    const value = matches[4];\n                    if (attrType === '!') {\n                      element.attributesRequired = element.attributesRequired || [];\n                      element.attributesRequired.push(attrName);\n                      attr.required = true;\n                    }\n                    if (attrType === '-') {\n                      delete attributes[attrName];\n                      attributesOrder.splice(inArray(attributesOrder, attrName), 1);\n                      continue;\n                    }\n                    if (attrPrefix) {\n                      if (attrPrefix === '=') {\n                        element.attributesDefault = element.attributesDefault || [];\n                        element.attributesDefault.push({\n                          name: attrName,\n                          value\n                        });\n                        attr.defaultValue = value;\n                      }\n                      if (attrPrefix === '~') {\n                        element.attributesForced = element.attributesForced || [];\n                        element.attributesForced.push({\n                          name: attrName,\n                          value\n                        });\n                        attr.forcedValue = value;\n                      }\n                      if (attrPrefix === '<') {\n                        attr.validValues = makeMap$2(value, '?');\n                      }\n                    }\n                    if (hasPatternsRegExp.test(attrName)) {\n                      const attrPattern = attr;\n                      element.attributePatterns = element.attributePatterns || [];\n                      attrPattern.pattern = patternToRegExp(attrName);\n                      element.attributePatterns.push(attrPattern);\n                    } else {\n                      if (!attributes[attrName]) {\n                        attributesOrder.push(attrName);\n                      }\n                      attributes[attrName] = attr;\n                    }\n                  }\n                }\n              }\n              if (!globalAttributes && elementName === '@') {\n                globalAttributes = attributes;\n                globalAttributesOrder = attributesOrder;\n              }\n              if (outputName) {\n                element.outputName = elementName;\n                elements[outputName] = element;\n              }\n              if (hasPatternsRegExp.test(elementName)) {\n                const patternElement = element;\n                patternElement.pattern = patternToRegExp(elementName);\n                patternElements.push(patternElement);\n              } else {\n                elements[elementName] = element;\n              }\n            }\n          }\n        }\n      };\n      const setValidElements = validElements => {\n        patternElements = [];\n        each$e(keys(elements), name => {\n          delete elements[name];\n        });\n        addValidElements(validElements);\n        each$b(schemaItems, (element, name) => {\n          children[name] = element.children;\n        });\n      };\n      const addCustomElements = customElements => {\n        const customElementRegExp = /^(~)?(.+)$/;\n        if (customElements) {\n          delete mapCache.text_block_elements;\n          delete mapCache.block_elements;\n          each$b(split$1(customElements, ','), rule => {\n            const matches = customElementRegExp.exec(rule);\n            if (matches) {\n              const inline = matches[1] === '~';\n              const cloneName = inline ? 'span' : 'div';\n              const name = matches[2];\n              children[name] = children[cloneName];\n              customElementsMap[name] = cloneName;\n              nonEmptyElementsMap[name.toUpperCase()] = {};\n              nonEmptyElementsMap[name] = {};\n              if (!inline) {\n                blockElementsMap[name.toUpperCase()] = {};\n                blockElementsMap[name] = {};\n              }\n              if (!elements[name]) {\n                let customRule = elements[cloneName];\n                customRule = extend$2({}, customRule);\n                delete customRule.removeEmptyAttrs;\n                delete customRule.removeEmpty;\n                elements[name] = customRule;\n              }\n              each$b(children, (element, elmName) => {\n                if (element[cloneName]) {\n                  children[elmName] = element = extend$2({}, children[elmName]);\n                  element[name] = element[cloneName];\n                }\n              });\n            }\n          });\n        }\n      };\n      const addValidChildren = validChildren => {\n        const childRuleRegExp = /^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;\n        delete lookupCache[schemaType];\n        if (validChildren) {\n          each$b(split$1(validChildren, ','), rule => {\n            const matches = childRuleRegExp.exec(rule);\n            if (matches) {\n              const prefix = matches[1];\n              let parent;\n              if (prefix) {\n                parent = children[matches[2]];\n              } else {\n                parent = children[matches[2]] = { '#comment': {} };\n              }\n              parent = children[matches[2]];\n              each$b(split$1(matches[3], '|'), child => {\n                if (prefix === '-') {\n                  delete parent[child];\n                } else {\n                  parent[child] = {};\n                }\n              });\n            }\n          });\n        }\n      };\n      const getElementRule = name => {\n        const element = elements[name];\n        if (element) {\n          return element;\n        }\n        let i = patternElements.length;\n        while (i--) {\n          const patternElement = patternElements[i];\n          if (patternElement.pattern.test(name)) {\n            return patternElement;\n          }\n        }\n        return undefined;\n      };\n      if (!settings.valid_elements) {\n        each$b(schemaItems, (element, name) => {\n          elements[name] = {\n            attributes: element.attributes,\n            attributesOrder: element.attributesOrder\n          };\n          children[name] = element.children;\n        });\n        each$b(split$1('strong/b em/i'), item => {\n          const items = split$1(item, '/');\n          elements[items[1]].outputName = items[0];\n        });\n        each$b(textInlineElementsMap, (_val, name) => {\n          if (elements[name]) {\n            if (settings.padd_empty_block_inline_children) {\n              elements[name].paddInEmptyBlock = true;\n            }\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$b(split$1('ol ul blockquote a table tbody'), name => {\n          if (elements[name]) {\n            elements[name].removeEmpty = true;\n          }\n        });\n        each$b(split$1('p h1 h2 h3 h4 h5 h6 th td pre div address caption li'), name => {\n          elements[name].paddEmpty = true;\n        });\n        each$b(split$1('span'), name => {\n          elements[name].removeEmptyAttrs = true;\n        });\n      } else {\n        setValidElements(settings.valid_elements);\n      }\n      addCustomElements(settings.custom_elements);\n      addValidChildren(settings.valid_children);\n      addValidElements(settings.extended_valid_elements);\n      addValidChildren('+ol[ul|ol],+ul[ul|ol]');\n      each$b({\n        dd: 'dl',\n        dt: 'dl',\n        li: 'ul ol',\n        td: 'tr',\n        th: 'tr',\n        tr: 'tbody thead tfoot',\n        tbody: 'table',\n        thead: 'table',\n        tfoot: 'table',\n        legend: 'fieldset',\n        area: 'map',\n        param: 'video audio object'\n      }, (parents, item) => {\n        if (elements[item]) {\n          elements[item].parentsRequired = split$1(parents);\n        }\n      });\n      if (settings.invalid_elements) {\n        each$b(explode$2(settings.invalid_elements), item => {\n          if (elements[item]) {\n            delete elements[item];\n          }\n        });\n      }\n      if (!getElementRule('span')) {\n        addValidElements('span[!data-mce-type|*]');\n      }\n      const getValidStyles = constant(validStyles);\n      const getInvalidStyles = constant(invalidStyles);\n      const getValidClasses = constant(validClasses);\n      const getBoolAttrs = constant(boolAttrMap);\n      const getBlockElements = constant(blockElementsMap);\n      const getTextBlockElements = constant(textBlockElementsMap);\n      const getTextInlineElements = constant(textInlineElementsMap);\n      const getVoidElements = constant(Object.seal(voidElementsMap));\n      const getSelfClosingElements = constant(selfClosingElementsMap);\n      const getNonEmptyElements = constant(nonEmptyElementsMap);\n      const getMoveCaretBeforeOnEnterElements = constant(moveCaretBeforeOnEnterElementsMap);\n      const getWhitespaceElements = constant(whitespaceElementsMap);\n      const getTransparentElements = constant(transparentElementsMap);\n      const getSpecialElements = constant(Object.seal(specialElements));\n      const isValidChild = (name, child) => {\n        const parent = children[name.toLowerCase()];\n        return !!(parent && parent[child.toLowerCase()]);\n      };\n      const isValid = (name, attr) => {\n        const rule = getElementRule(name);\n        if (rule) {\n          if (attr) {\n            if (rule.attributes[attr]) {\n              return true;\n            }\n            const attrPatterns = rule.attributePatterns;\n            if (attrPatterns) {\n              let i = attrPatterns.length;\n              while (i--) {\n                if (attrPatterns[i].pattern.test(attr)) {\n                  return true;\n                }\n              }\n            }\n          } else {\n            return true;\n          }\n        }\n        return false;\n      };\n      const getCustomElements = constant(customElementsMap);\n      return {\n        type: schemaType,\n        children,\n        elements,\n        getValidStyles,\n        getValidClasses,\n        getBlockElements,\n        getInvalidStyles,\n        getVoidElements,\n        getTextBlockElements,\n        getTextInlineElements,\n        getBoolAttrs,\n        getElementRule,\n        getSelfClosingElements,\n        getNonEmptyElements,\n        getMoveCaretBeforeOnEnterElements,\n        getWhitespaceElements,\n        getTransparentElements,\n        getSpecialElements,\n        isValidChild,\n        isValid,\n        getCustomElements,\n        addValidElements,\n        setValidElements,\n        addCustomElements,\n        addValidChildren\n      };\n    };\n\n    const Styles = (settings = {}, schema) => {\n      const urlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi;\n      const styleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g;\n      const trimRightRegExp = /\\s+$/;\n      const encodingLookup = {};\n      let validStyles;\n      let invalidStyles;\n      const invisibleChar = zeroWidth;\n      if (schema) {\n        validStyles = schema.getValidStyles();\n        invalidStyles = schema.getInvalidStyles();\n      }\n      const encodingItems = (`\\\\\" \\\\' \\\\; \\\\: ; : ` + invisibleChar).split(' ');\n      for (let i = 0; i < encodingItems.length; i++) {\n        encodingLookup[encodingItems[i]] = invisibleChar + i;\n        encodingLookup[invisibleChar + i] = encodingItems[i];\n      }\n      const self = {\n        parse: css => {\n          const styles = {};\n          let isEncoded = false;\n          const urlConverter = settings.url_converter;\n          const urlConverterScope = settings.url_converter_scope || self;\n          const compress = (prefix, suffix, noJoin) => {\n            const top = styles[prefix + '-top' + suffix];\n            if (!top) {\n              return;\n            }\n            const right = styles[prefix + '-right' + suffix];\n            if (!right) {\n              return;\n            }\n            const bottom = styles[prefix + '-bottom' + suffix];\n            if (!bottom) {\n              return;\n            }\n            const left = styles[prefix + '-left' + suffix];\n            if (!left) {\n              return;\n            }\n            const box = [\n              top,\n              right,\n              bottom,\n              left\n            ];\n            let i = box.length - 1;\n            while (i--) {\n              if (box[i] !== box[i + 1]) {\n                break;\n              }\n            }\n            if (i > -1 && noJoin) {\n              return;\n            }\n            styles[prefix + suffix] = i === -1 ? box[0] : box.join(' ');\n            delete styles[prefix + '-top' + suffix];\n            delete styles[prefix + '-right' + suffix];\n            delete styles[prefix + '-bottom' + suffix];\n            delete styles[prefix + '-left' + suffix];\n          };\n          const canCompress = key => {\n            const value = styles[key];\n            if (!value) {\n              return;\n            }\n            const values = value.split(' ');\n            let i = values.length;\n            while (i--) {\n              if (values[i] !== values[0]) {\n                return false;\n              }\n            }\n            styles[key] = values[0];\n            return true;\n          };\n          const compress2 = (target, a, b, c) => {\n            if (!canCompress(a)) {\n              return;\n            }\n            if (!canCompress(b)) {\n              return;\n            }\n            if (!canCompress(c)) {\n              return;\n            }\n            styles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n            delete styles[a];\n            delete styles[b];\n            delete styles[c];\n          };\n          const encode = str => {\n            isEncoded = true;\n            return encodingLookup[str];\n          };\n          const decode = (str, keepSlashes) => {\n            if (isEncoded) {\n              str = str.replace(/\\uFEFF[0-9]/g, str => {\n                return encodingLookup[str];\n              });\n            }\n            if (!keepSlashes) {\n              str = str.replace(/\\\\([\\'\\\";:])/g, '$1');\n            }\n            return str;\n          };\n          const decodeSingleHexSequence = escSeq => {\n            return String.fromCharCode(parseInt(escSeq.slice(1), 16));\n          };\n          const decodeHexSequences = value => {\n            return value.replace(/\\\\[0-9a-f]+/gi, decodeSingleHexSequence);\n          };\n          const processUrl = (match, url, url2, url3, str, str2) => {\n            str = str || str2;\n            if (str) {\n              str = decode(str);\n              return `'` + str.replace(/\\'/g, `\\\\'`) + `'`;\n            }\n            url = decode(url || url2 || url3 || '');\n            if (!settings.allow_script_urls) {\n              const scriptUrl = url.replace(/[\\s\\r\\n]+/g, '');\n              if (/(java|vb)script:/i.test(scriptUrl)) {\n                return '';\n              }\n              if (!settings.allow_svg_data_urls && /^data:image\\/svg/i.test(scriptUrl)) {\n                return '';\n              }\n            }\n            if (urlConverter) {\n              url = urlConverter.call(urlConverterScope, url, 'style');\n            }\n            return `url('` + url.replace(/\\'/g, `\\\\'`) + `')`;\n          };\n          if (css) {\n            css = css.replace(/[\\u0000-\\u001F]/g, '');\n            css = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, str => {\n              return str.replace(/[;:]/g, encode);\n            });\n            let matches;\n            while (matches = styleRegExp.exec(css)) {\n              styleRegExp.lastIndex = matches.index + matches[0].length;\n              let name = matches[1].replace(trimRightRegExp, '').toLowerCase();\n              let value = matches[2].replace(trimRightRegExp, '');\n              if (name && value) {\n                name = decodeHexSequences(name);\n                value = decodeHexSequences(value);\n                if (name.indexOf(invisibleChar) !== -1 || name.indexOf('\"') !== -1) {\n                  continue;\n                }\n                if (!settings.allow_script_urls && (name === 'behavior' || /expression\\s*\\(|\\/\\*|\\*\\//.test(value))) {\n                  continue;\n                }\n                if (name === 'font-weight' && value === '700') {\n                  value = 'bold';\n                } else if (name === 'color' || name === 'background-color') {\n                  value = value.toLowerCase();\n                }\n                value = value.replace(urlOrStrRegExp, processUrl);\n                styles[name] = isEncoded ? decode(value, true) : value;\n              }\n            }\n            compress('border', '', true);\n            compress('border', '-width');\n            compress('border', '-color');\n            compress('border', '-style');\n            compress('padding', '');\n            compress('margin', '');\n            compress2('border', 'border-width', 'border-style', 'border-color');\n            if (styles.border === 'medium none') {\n              delete styles.border;\n            }\n            if (styles['border-image'] === 'none') {\n              delete styles['border-image'];\n            }\n          }\n          return styles;\n        },\n        serialize: (styles, elementName) => {\n          let css = '';\n          const serializeStyles = (elemName, validStyleList) => {\n            const styleList = validStyleList[elemName];\n            if (styleList) {\n              for (let i = 0, l = styleList.length; i < l; i++) {\n                const name = styleList[i];\n                const value = styles[name];\n                if (value) {\n                  css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n                }\n              }\n            }\n          };\n          const isValid = (name, elemName) => {\n            if (!invalidStyles || !elemName) {\n              return true;\n            }\n            let styleMap = invalidStyles['*'];\n            if (styleMap && styleMap[name]) {\n              return false;\n            }\n            styleMap = invalidStyles[elemName];\n            return !(styleMap && styleMap[name]);\n          };\n          if (elementName && validStyles) {\n            serializeStyles('*', validStyles);\n            serializeStyles(elementName, validStyles);\n          } else {\n            each$d(styles, (value, name) => {\n              if (value && isValid(name, elementName)) {\n                css += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n              }\n            });\n          }\n          return css;\n        }\n      };\n      return self;\n    };\n\n    const deprecated = {\n      keyLocation: true,\n      layerX: true,\n      layerY: true,\n      returnValue: true,\n      webkitMovementX: true,\n      webkitMovementY: true,\n      keyIdentifier: true,\n      mozPressure: true\n    };\n    const isNativeEvent = event => event instanceof Event || isFunction(event.initEvent);\n    const hasIsDefaultPrevented = event => event.isDefaultPrevented === always || event.isDefaultPrevented === never;\n    const needsNormalizing = event => isNullable(event.preventDefault) || isNativeEvent(event);\n    const clone$3 = (originalEvent, data) => {\n      const event = data !== null && data !== void 0 ? data : {};\n      for (const name in originalEvent) {\n        if (!has$2(deprecated, name)) {\n          event[name] = originalEvent[name];\n        }\n      }\n      if (isNonNullable(originalEvent.composedPath)) {\n        event.composedPath = () => originalEvent.composedPath();\n      }\n      return event;\n    };\n    const normalize$3 = (type, originalEvent, fallbackTarget, data) => {\n      var _a;\n      const event = clone$3(originalEvent, data);\n      event.type = type;\n      if (isNullable(event.target)) {\n        event.target = (_a = event.srcElement) !== null && _a !== void 0 ? _a : fallbackTarget;\n      }\n      if (needsNormalizing(originalEvent)) {\n        event.preventDefault = () => {\n          event.defaultPrevented = true;\n          event.isDefaultPrevented = always;\n          if (isFunction(originalEvent.preventDefault)) {\n            originalEvent.preventDefault();\n          }\n        };\n        event.stopPropagation = () => {\n          event.cancelBubble = true;\n          event.isPropagationStopped = always;\n          if (isFunction(originalEvent.stopPropagation)) {\n            originalEvent.stopPropagation();\n          }\n        };\n        event.stopImmediatePropagation = () => {\n          event.isImmediatePropagationStopped = always;\n          event.stopPropagation();\n        };\n        if (!hasIsDefaultPrevented(event)) {\n          event.isDefaultPrevented = event.defaultPrevented === true ? always : never;\n          event.isPropagationStopped = event.cancelBubble === true ? always : never;\n          event.isImmediatePropagationStopped = never;\n        }\n      }\n      return event;\n    };\n\n    const eventExpandoPrefix = 'mce-data-';\n    const mouseEventRe = /^(?:mouse|contextmenu)|click/;\n    const addEvent = (target, name, callback, capture) => {\n      target.addEventListener(name, callback, capture || false);\n    };\n    const removeEvent = (target, name, callback, capture) => {\n      target.removeEventListener(name, callback, capture || false);\n    };\n    const isMouseEvent = event => isNonNullable(event) && mouseEventRe.test(event.type);\n    const fix = (originalEvent, data) => {\n      const event = normalize$3(originalEvent.type, originalEvent, document, data);\n      if (isMouseEvent(originalEvent) && isUndefined(originalEvent.pageX) && !isUndefined(originalEvent.clientX)) {\n        const eventDoc = event.target.ownerDocument || document;\n        const doc = eventDoc.documentElement;\n        const body = eventDoc.body;\n        const mouseEvent = event;\n        mouseEvent.pageX = originalEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n        mouseEvent.pageY = originalEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n      }\n      return event;\n    };\n    const bindOnReady = (win, callback, eventUtils) => {\n      const doc = win.document, event = { type: 'ready' };\n      if (eventUtils.domLoaded) {\n        callback(event);\n        return;\n      }\n      const isDocReady = () => {\n        return doc.readyState === 'complete' || doc.readyState === 'interactive' && doc.body;\n      };\n      const readyHandler = () => {\n        removeEvent(win, 'DOMContentLoaded', readyHandler);\n        removeEvent(win, 'load', readyHandler);\n        if (!eventUtils.domLoaded) {\n          eventUtils.domLoaded = true;\n          callback(event);\n        }\n        win = null;\n      };\n      if (isDocReady()) {\n        readyHandler();\n      } else {\n        addEvent(win, 'DOMContentLoaded', readyHandler);\n      }\n      if (!eventUtils.domLoaded) {\n        addEvent(win, 'load', readyHandler);\n      }\n    };\n    class EventUtils {\n      constructor() {\n        this.domLoaded = false;\n        this.events = {};\n        this.count = 1;\n        this.expando = eventExpandoPrefix + (+new Date()).toString(32);\n        this.hasFocusIn = 'onfocusin' in document.documentElement;\n        this.count = 1;\n      }\n      bind(target, names, callback, scope) {\n        const self = this;\n        let callbackList;\n        const win = window;\n        const defaultNativeHandler = evt => {\n          self.executeHandlers(fix(evt || win.event), id);\n        };\n        if (!target || isText$a(target) || isComment(target)) {\n          return callback;\n        }\n        let id;\n        if (!target[self.expando]) {\n          id = self.count++;\n          target[self.expando] = id;\n          self.events[id] = {};\n        } else {\n          id = target[self.expando];\n        }\n        scope = scope || target;\n        const namesList = names.split(' ');\n        let i = namesList.length;\n        while (i--) {\n          let name = namesList[i];\n          let nativeHandler = defaultNativeHandler;\n          let capture = false;\n          let fakeName = false;\n          if (name === 'DOMContentLoaded') {\n            name = 'ready';\n          }\n          if (self.domLoaded && name === 'ready' && target.readyState === 'complete') {\n            callback.call(scope, fix({ type: name }));\n            continue;\n          }\n          if (!self.hasFocusIn && (name === 'focusin' || name === 'focusout')) {\n            capture = true;\n            fakeName = name === 'focusin' ? 'focus' : 'blur';\n            nativeHandler = evt => {\n              const event = fix(evt || win.event);\n              event.type = event.type === 'focus' ? 'focusin' : 'focusout';\n              self.executeHandlers(event, id);\n            };\n          }\n          callbackList = self.events[id][name];\n          if (!callbackList) {\n            self.events[id][name] = callbackList = [{\n                func: callback,\n                scope\n              }];\n            callbackList.fakeName = fakeName;\n            callbackList.capture = capture;\n            callbackList.nativeHandler = nativeHandler;\n            if (name === 'ready') {\n              bindOnReady(target, nativeHandler, self);\n            } else {\n              addEvent(target, fakeName || name, nativeHandler, capture);\n            }\n          } else {\n            if (name === 'ready' && self.domLoaded) {\n              callback(fix({ type: name }));\n            } else {\n              callbackList.push({\n                func: callback,\n                scope\n              });\n            }\n          }\n        }\n        target = callbackList = null;\n        return callback;\n      }\n      unbind(target, names, callback) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        const id = target[this.expando];\n        if (id) {\n          let eventMap = this.events[id];\n          if (names) {\n            const namesList = names.split(' ');\n            let i = namesList.length;\n            while (i--) {\n              const name = namesList[i];\n              const callbackList = eventMap[name];\n              if (callbackList) {\n                if (callback) {\n                  let ci = callbackList.length;\n                  while (ci--) {\n                    if (callbackList[ci].func === callback) {\n                      const nativeHandler = callbackList.nativeHandler;\n                      const fakeName = callbackList.fakeName, capture = callbackList.capture;\n                      const newCallbackList = callbackList.slice(0, ci).concat(callbackList.slice(ci + 1));\n                      newCallbackList.nativeHandler = nativeHandler;\n                      newCallbackList.fakeName = fakeName;\n                      newCallbackList.capture = capture;\n                      eventMap[name] = newCallbackList;\n                    }\n                  }\n                }\n                if (!callback || callbackList.length === 0) {\n                  delete eventMap[name];\n                  removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n                }\n              }\n            }\n          } else {\n            each$d(eventMap, (callbackList, name) => {\n              removeEvent(target, callbackList.fakeName || name, callbackList.nativeHandler, callbackList.capture);\n            });\n            eventMap = {};\n          }\n          for (const name in eventMap) {\n            if (has$2(eventMap, name)) {\n              return this;\n            }\n          }\n          delete this.events[id];\n          try {\n            delete target[this.expando];\n          } catch (ex) {\n            target[this.expando] = null;\n          }\n        }\n        return this;\n      }\n      fire(target, name, args) {\n        return this.dispatch(target, name, args);\n      }\n      dispatch(target, name, args) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        const event = fix({\n          type: name,\n          target\n        }, args);\n        do {\n          const id = target[this.expando];\n          if (id) {\n            this.executeHandlers(event, id);\n          }\n          target = target.parentNode || target.ownerDocument || target.defaultView || target.parentWindow;\n        } while (target && !event.isPropagationStopped());\n        return this;\n      }\n      clean(target) {\n        if (!target || isText$a(target) || isComment(target)) {\n          return this;\n        }\n        if (target[this.expando]) {\n          this.unbind(target);\n        }\n        if (!target.getElementsByTagName) {\n          target = target.document;\n        }\n        if (target && target.getElementsByTagName) {\n          this.unbind(target);\n          const children = target.getElementsByTagName('*');\n          let i = children.length;\n          while (i--) {\n            target = children[i];\n            if (target[this.expando]) {\n              this.unbind(target);\n            }\n          }\n        }\n        return this;\n      }\n      destroy() {\n        this.events = {};\n      }\n      cancel(e) {\n        if (e) {\n          e.preventDefault();\n          e.stopImmediatePropagation();\n        }\n        return false;\n      }\n      executeHandlers(evt, id) {\n        const container = this.events[id];\n        const callbackList = container && container[evt.type];\n        if (callbackList) {\n          for (let i = 0, l = callbackList.length; i < l; i++) {\n            const callback = callbackList[i];\n            if (callback && callback.func.call(callback.scope, evt) === false) {\n              evt.preventDefault();\n            }\n            if (evt.isImmediatePropagationStopped()) {\n              return;\n            }\n          }\n        }\n      }\n    }\n    EventUtils.Event = new EventUtils();\n\n    const each$a = Tools.each;\n    const grep = Tools.grep;\n    const internalStyleName = 'data-mce-style';\n    const numericalCssMap = Tools.makeMap('fill-opacity font-weight line-height opacity orphans widows z-index zoom', ' ');\n    const legacySetAttribute = (elm, name, value) => {\n      if (isNullable(value) || value === '') {\n        remove$b(elm, name);\n      } else {\n        set$2(elm, name, value);\n      }\n    };\n    const camelCaseToHyphens = name => name.replace(/[A-Z]/g, v => '-' + v.toLowerCase());\n    const findNodeIndex = (node, normalized) => {\n      let idx = 0;\n      if (node) {\n        for (let lastNodeType = node.nodeType, tempNode = node.previousSibling; tempNode; tempNode = tempNode.previousSibling) {\n          const nodeType = tempNode.nodeType;\n          if (normalized && isText$a(tempNode)) {\n            if (nodeType === lastNodeType || !tempNode.data.length) {\n              continue;\n            }\n          }\n          idx++;\n          lastNodeType = nodeType;\n        }\n      }\n      return idx;\n    };\n    const updateInternalStyleAttr = (styles, elm) => {\n      const rawValue = get$9(elm, 'style');\n      const value = styles.serialize(styles.parse(rawValue), name(elm));\n      legacySetAttribute(elm, internalStyleName, value);\n    };\n    const convertStyleToString = (cssValue, cssName) => {\n      if (isNumber(cssValue)) {\n        return has$2(numericalCssMap, cssName) ? cssValue + '' : cssValue + 'px';\n      } else {\n        return cssValue;\n      }\n    };\n    const applyStyle$1 = ($elm, cssName, cssValue) => {\n      const normalizedName = camelCaseToHyphens(cssName);\n      if (isNullable(cssValue) || cssValue === '') {\n        remove$7($elm, normalizedName);\n      } else {\n        set$1($elm, normalizedName, convertStyleToString(cssValue, normalizedName));\n      }\n    };\n    const setupAttrHooks = (styles, settings, getContext) => {\n      const keepValues = settings.keep_values;\n      const keepUrlHook = {\n        set: (elm, value, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          if (isFunction(settings.url_converter) && isNonNullable(value)) {\n            value = settings.url_converter.call(settings.url_converter_scope || getContext(), String(value), name, elm);\n          }\n          const internalName = 'data-mce-' + name;\n          legacySetAttribute(sugarElm, internalName, value);\n          legacySetAttribute(sugarElm, name, value);\n        },\n        get: (elm, name) => {\n          const sugarElm = SugarElement.fromDom(elm);\n          return get$9(sugarElm, 'data-mce-' + name) || get$9(sugarElm, name);\n        }\n      };\n      const attrHooks = {\n        style: {\n          set: (elm, value) => {\n            const sugarElm = SugarElement.fromDom(elm);\n            if (keepValues) {\n              legacySetAttribute(sugarElm, internalStyleName, value);\n            }\n            remove$b(sugarElm, 'style');\n            if (isString(value)) {\n              setAll(sugarElm, styles.parse(value));\n            }\n          },\n          get: elm => {\n            const sugarElm = SugarElement.fromDom(elm);\n            const value = get$9(sugarElm, internalStyleName) || get$9(sugarElm, 'style');\n            return styles.serialize(styles.parse(value), name(sugarElm));\n          }\n        }\n      };\n      if (keepValues) {\n        attrHooks.href = attrHooks.src = keepUrlHook;\n      }\n      return attrHooks;\n    };\n    const DOMUtils = (doc, settings = {}) => {\n      const addedStyles = {};\n      const win = window;\n      const files = {};\n      let counter = 0;\n      const stdMode = true;\n      const boxModel = true;\n      const styleSheetLoader = instance.forElement(SugarElement.fromDom(doc), {\n        contentCssCors: settings.contentCssCors,\n        referrerPolicy: settings.referrerPolicy\n      });\n      const boundEvents = [];\n      const schema = settings.schema ? settings.schema : Schema({});\n      const styles = Styles({\n        url_converter: settings.url_converter,\n        url_converter_scope: settings.url_converter_scope\n      }, settings.schema);\n      const events = settings.ownEvents ? new EventUtils() : EventUtils.Event;\n      const blockElementsMap = schema.getBlockElements();\n      const isBlock = node => {\n        if (isString(node)) {\n          return has$2(blockElementsMap, node);\n        } else {\n          return isElement$6(node) && (has$2(blockElementsMap, node.nodeName) || isTransparentBlock(schema, node));\n        }\n      };\n      const get = elm => elm && doc && isString(elm) ? doc.getElementById(elm) : elm;\n      const _get = elm => {\n        const value = get(elm);\n        return isNonNullable(value) ? SugarElement.fromDom(value) : null;\n      };\n      const getAttrib = (elm, name, defaultVal = '') => {\n        let value;\n        const $elm = _get(elm);\n        if (isNonNullable($elm) && isElement$7($elm)) {\n          const hook = attrHooks[name];\n          if (hook && hook.get) {\n            value = hook.get($elm.dom, name);\n          } else {\n            value = get$9($elm, name);\n          }\n        }\n        return isNonNullable(value) ? value : defaultVal;\n      };\n      const getAttribs = elm => {\n        const node = get(elm);\n        return isNullable(node) ? [] : node.attributes;\n      };\n      const setAttrib = (elm, name, value) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            const val = value === '' ? null : value;\n            const originalValue = get$9($elm, name);\n            const hook = attrHooks[name];\n            if (hook && hook.set) {\n              hook.set($elm.dom, val, name);\n            } else {\n              legacySetAttribute($elm, name, val);\n            }\n            if (originalValue !== val && settings.onSetAttrib) {\n              settings.onSetAttrib({\n                attrElm: $elm.dom,\n                attrName: name,\n                attrValue: val\n              });\n            }\n          }\n        });\n      };\n      const clone = (node, deep) => {\n        return node.cloneNode(deep);\n      };\n      const getRoot = () => settings.root_element || doc.body;\n      const getViewPort = argWin => {\n        const vp = getBounds(argWin);\n        return {\n          x: vp.x,\n          y: vp.y,\n          w: vp.width,\n          h: vp.height\n        };\n      };\n      const getPos$1 = (elm, rootElm) => getPos(doc.body, get(elm), rootElm);\n      const setStyle = (elm, name, value) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          applyStyle$1($elm, name, value);\n          if (settings.update_styles) {\n            updateInternalStyleAttr(styles, $elm);\n          }\n        });\n      };\n      const setStyles = (elm, stylesArg) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          each$d(stylesArg, (v, n) => {\n            applyStyle$1($elm, n, v);\n          });\n          if (settings.update_styles) {\n            updateInternalStyleAttr(styles, $elm);\n          }\n        });\n      };\n      const getStyle = (elm, name, computed) => {\n        const $elm = get(elm);\n        if (isNullable($elm) || !isElement$6($elm)) {\n          return undefined;\n        }\n        if (computed) {\n          return get$7(SugarElement.fromDom($elm), camelCaseToHyphens(name));\n        } else {\n          name = name.replace(/-(\\D)/g, (a, b) => b.toUpperCase());\n          if (name === 'float') {\n            name = 'cssFloat';\n          }\n          return $elm.style ? $elm.style[name] : undefined;\n        }\n      };\n      const getSize = elm => {\n        const $elm = get(elm);\n        if (!$elm) {\n          return {\n            w: 0,\n            h: 0\n          };\n        }\n        let w = getStyle($elm, 'width');\n        let h = getStyle($elm, 'height');\n        if (!w || w.indexOf('px') === -1) {\n          w = '0';\n        }\n        if (!h || h.indexOf('px') === -1) {\n          h = '0';\n        }\n        return {\n          w: parseInt(w, 10) || $elm.offsetWidth || $elm.clientWidth,\n          h: parseInt(h, 10) || $elm.offsetHeight || $elm.clientHeight\n        };\n      };\n      const getRect = elm => {\n        const $elm = get(elm);\n        const pos = getPos$1($elm);\n        const size = getSize($elm);\n        return {\n          x: pos.x,\n          y: pos.y,\n          w: size.w,\n          h: size.h\n        };\n      };\n      const is = (elm, selector) => {\n        if (!elm) {\n          return false;\n        }\n        const elms = isArray$1(elm) ? elm : [elm];\n        return exists(elms, e => {\n          return is$1(SugarElement.fromDom(e), selector);\n        });\n      };\n      const getParents = (elm, selector, root, collect) => {\n        const result = [];\n        let node = get(elm);\n        collect = collect === undefined;\n        const resolvedRoot = root || (getRoot().nodeName !== 'BODY' ? getRoot().parentNode : null);\n        if (isString(selector)) {\n          if (selector === '*') {\n            selector = isElement$6;\n          } else {\n            const selectorVal = selector;\n            selector = node => is(node, selectorVal);\n          }\n        }\n        while (node) {\n          if (node === resolvedRoot || isNullable(node.nodeType) || isDocument$1(node) || isDocumentFragment(node)) {\n            break;\n          }\n          if (!selector || selector(node)) {\n            if (collect) {\n              result.push(node);\n            } else {\n              return [node];\n            }\n          }\n          node = node.parentNode;\n        }\n        return collect ? result : null;\n      };\n      const getParent = (node, selector, root) => {\n        const parents = getParents(node, selector, root, false);\n        return parents && parents.length > 0 ? parents[0] : null;\n      };\n      const _findSib = (node, selector, name) => {\n        let func = selector;\n        if (node) {\n          if (isString(selector)) {\n            func = node => {\n              return is(node, selector);\n            };\n          }\n          for (let tempNode = node[name]; tempNode; tempNode = tempNode[name]) {\n            if (isFunction(func) && func(tempNode)) {\n              return tempNode;\n            }\n          }\n        }\n        return null;\n      };\n      const getNext = (node, selector) => _findSib(node, selector, 'nextSibling');\n      const getPrev = (node, selector) => _findSib(node, selector, 'previousSibling');\n      const isParentNode = node => isFunction(node.querySelectorAll);\n      const select = (selector, scope) => {\n        var _a, _b;\n        const elm = (_b = (_a = get(scope)) !== null && _a !== void 0 ? _a : settings.root_element) !== null && _b !== void 0 ? _b : doc;\n        return isParentNode(elm) ? from(elm.querySelectorAll(selector)) : [];\n      };\n      const run = function (elm, func, scope) {\n        const context = scope !== null && scope !== void 0 ? scope : this;\n        if (isArray$1(elm)) {\n          const result = [];\n          each$a(elm, (e, i) => {\n            const node = get(e);\n            if (node) {\n              result.push(func.call(context, node, i));\n            }\n          });\n          return result;\n        } else {\n          const node = get(elm);\n          return !node ? false : func.call(context, node);\n        }\n      };\n      const setAttribs = (elm, attrs) => {\n        run(elm, $elm => {\n          each$d(attrs, (value, name) => {\n            setAttrib($elm, name, value);\n          });\n        });\n      };\n      const setHTML = (elm, html) => {\n        run(elm, e => {\n          const $elm = SugarElement.fromDom(e);\n          set($elm, html);\n        });\n      };\n      const add = (parentElm, name, attrs, html, create) => run(parentElm, parentElm => {\n        const newElm = isString(name) ? doc.createElement(name) : name;\n        if (isNonNullable(attrs)) {\n          setAttribs(newElm, attrs);\n        }\n        if (html) {\n          if (!isString(html) && html.nodeType) {\n            newElm.appendChild(html);\n          } else if (isString(html)) {\n            setHTML(newElm, html);\n          }\n        }\n        return !create ? parentElm.appendChild(newElm) : newElm;\n      });\n      const create = (name, attrs, html) => add(doc.createElement(name), name, attrs, html, true);\n      const decode = Entities.decode;\n      const encode = Entities.encodeAllRaw;\n      const createHTML = (name, attrs, html = '') => {\n        let outHtml = '<' + name;\n        for (const key in attrs) {\n          if (hasNonNullableKey(attrs, key)) {\n            outHtml += ' ' + key + '=\"' + encode(attrs[key]) + '\"';\n          }\n        }\n        if (isEmpty$3(html) && has$2(schema.getVoidElements(), name)) {\n          return outHtml + ' />';\n        } else {\n          return outHtml + '>' + html + '</' + name + '>';\n        }\n      };\n      const createFragment = html => {\n        const container = doc.createElement('div');\n        const frag = doc.createDocumentFragment();\n        frag.appendChild(container);\n        if (html) {\n          container.innerHTML = html;\n        }\n        let node;\n        while (node = container.firstChild) {\n          frag.appendChild(node);\n        }\n        frag.removeChild(container);\n        return frag;\n      };\n      const remove = (node, keepChildren) => {\n        return run(node, n => {\n          const $node = SugarElement.fromDom(n);\n          if (keepChildren) {\n            each$e(children$1($node), child => {\n              if (isText$b(child) && child.dom.length === 0) {\n                remove$6(child);\n              } else {\n                before$3($node, child);\n              }\n            });\n          }\n          remove$6($node);\n          return $node.dom;\n        });\n      };\n      const removeAllAttribs = e => run(e, e => {\n        const attrs = e.attributes;\n        for (let i = attrs.length - 1; i >= 0; i--) {\n          e.removeAttributeNode(attrs.item(i));\n        }\n      });\n      const parseStyle = cssText => styles.parse(cssText);\n      const serializeStyle = (stylesArg, name) => styles.serialize(stylesArg, name);\n      const addStyle = cssText => {\n        if (self !== DOMUtils.DOM && doc === document) {\n          if (addedStyles[cssText]) {\n            return;\n          }\n          addedStyles[cssText] = true;\n        }\n        let styleElm = doc.getElementById('mceDefaultStyles');\n        if (!styleElm) {\n          styleElm = doc.createElement('style');\n          styleElm.id = 'mceDefaultStyles';\n          styleElm.type = 'text/css';\n          const head = doc.head;\n          if (head.firstChild) {\n            head.insertBefore(styleElm, head.firstChild);\n          } else {\n            head.appendChild(styleElm);\n          }\n        }\n        if (styleElm.styleSheet) {\n          styleElm.styleSheet.cssText += cssText;\n        } else {\n          styleElm.appendChild(doc.createTextNode(cssText));\n        }\n      };\n      const loadCSS = urls => {\n        if (!urls) {\n          urls = '';\n        }\n        each$e(urls.split(','), url => {\n          files[url] = true;\n          styleSheetLoader.load(url).catch(noop);\n        });\n      };\n      const toggleClass = (elm, cls, state) => {\n        run(elm, e => {\n          if (isElement$6(e)) {\n            const $elm = SugarElement.fromDom(e);\n            const classes = cls.split(' ');\n            each$e(classes, c => {\n              if (isNonNullable(state)) {\n                const fn = state ? add$2 : remove$8;\n                fn($elm, c);\n              } else {\n                toggle$1($elm, c);\n              }\n            });\n          }\n        });\n      };\n      const addClass = (elm, cls) => {\n        toggleClass(elm, cls, true);\n      };\n      const removeClass = (elm, cls) => {\n        toggleClass(elm, cls, false);\n      };\n      const hasClass = (elm, cls) => {\n        const $elm = _get(elm);\n        const classes = cls.split(' ');\n        return isNonNullable($elm) && forall(classes, c => has($elm, c));\n      };\n      const show = elm => {\n        run(elm, e => remove$7(SugarElement.fromDom(e), 'display'));\n      };\n      const hide = elm => {\n        run(elm, e => set$1(SugarElement.fromDom(e), 'display', 'none'));\n      };\n      const isHidden = elm => {\n        const $elm = _get(elm);\n        return isNonNullable($elm) && is$2(getRaw$1($elm, 'display'), 'none');\n      };\n      const uniqueId = prefix => (!prefix ? 'mce_' : prefix) + counter++;\n      const getOuterHTML = elm => {\n        const $elm = _get(elm);\n        if (isNonNullable($elm)) {\n          return isElement$6($elm.dom) ? $elm.dom.outerHTML : getOuter($elm);\n        } else {\n          return '';\n        }\n      };\n      const setOuterHTML = (elm, html) => {\n        run(elm, $elm => {\n          if (isElement$6($elm)) {\n            $elm.outerHTML = html;\n          }\n        });\n      };\n      const insertAfter = (node, reference) => {\n        const referenceNode = get(reference);\n        return run(node, node => {\n          const parent = referenceNode === null || referenceNode === void 0 ? void 0 : referenceNode.parentNode;\n          const nextSibling = referenceNode === null || referenceNode === void 0 ? void 0 : referenceNode.nextSibling;\n          if (parent) {\n            if (nextSibling) {\n              parent.insertBefore(node, nextSibling);\n            } else {\n              parent.appendChild(node);\n            }\n          }\n          return node;\n        });\n      };\n      const replace = (newElm, oldElm, keepChildren) => run(oldElm, elm => {\n        var _a;\n        const replacee = isArray$1(oldElm) ? newElm.cloneNode(true) : newElm;\n        if (keepChildren) {\n          each$a(grep(elm.childNodes), node => {\n            replacee.appendChild(node);\n          });\n        }\n        (_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(replacee, elm);\n        return elm;\n      });\n      const rename = (elm, name) => {\n        if (elm.nodeName !== name.toUpperCase()) {\n          const newElm = create(name);\n          each$a(getAttribs(elm), attrNode => {\n            setAttrib(newElm, attrNode.nodeName, getAttrib(elm, attrNode.nodeName));\n          });\n          replace(newElm, elm, true);\n          return newElm;\n        } else {\n          return elm;\n        }\n      };\n      const findCommonAncestor = (a, b) => {\n        let ps = a;\n        while (ps) {\n          let pe = b;\n          while (pe && ps !== pe) {\n            pe = pe.parentNode;\n          }\n          if (ps === pe) {\n            break;\n          }\n          ps = ps.parentNode;\n        }\n        if (!ps && a.ownerDocument) {\n          return a.ownerDocument.documentElement;\n        } else {\n          return ps;\n        }\n      };\n      const isNonEmptyElement = node => {\n        if (isElement$6(node)) {\n          const isNamedAnchor = node.nodeName.toLowerCase() === 'a' && !getAttrib(node, 'href') && getAttrib(node, 'id');\n          if (getAttrib(node, 'name') || getAttrib(node, 'data-mce-bookmark') || isNamedAnchor) {\n            return true;\n          }\n        }\n        return false;\n      };\n      const isEmpty = (node, elements) => {\n        let brCount = 0;\n        if (isNonEmptyElement(node)) {\n          return false;\n        }\n        const firstChild = node.firstChild;\n        if (firstChild) {\n          const walker = new DomTreeWalker(firstChild, node);\n          const whitespaceElements = schema ? schema.getWhitespaceElements() : {};\n          const nonEmptyElements = elements || (schema ? schema.getNonEmptyElements() : null);\n          let tempNode = firstChild;\n          do {\n            if (isElement$6(tempNode)) {\n              const bogusVal = tempNode.getAttribute('data-mce-bogus');\n              if (bogusVal) {\n                tempNode = walker.next(bogusVal === 'all');\n                continue;\n              }\n              const name = tempNode.nodeName.toLowerCase();\n              if (nonEmptyElements && nonEmptyElements[name]) {\n                if (name === 'br') {\n                  brCount++;\n                  tempNode = walker.next();\n                  continue;\n                }\n                return false;\n              }\n              if (isNonEmptyElement(tempNode)) {\n                return false;\n              }\n            }\n            if (isComment(tempNode)) {\n              return false;\n            }\n            if (isText$a(tempNode) && !isWhitespaceText(tempNode.data)) {\n              return false;\n            }\n            if (isText$a(tempNode) && tempNode.parentNode && whitespaceElements[tempNode.parentNode.nodeName] && isWhitespaceText(tempNode.data)) {\n              return false;\n            }\n            tempNode = walker.next();\n          } while (tempNode);\n        }\n        return brCount <= 1;\n      };\n      const createRng = () => doc.createRange();\n      const split = (parentElm, splitElm, replacementElm) => {\n        let range = createRng();\n        let beforeFragment;\n        let afterFragment;\n        if (parentElm && splitElm && parentElm.parentNode && splitElm.parentNode) {\n          const parentNode = parentElm.parentNode;\n          range.setStart(parentNode, findNodeIndex(parentElm));\n          range.setEnd(splitElm.parentNode, findNodeIndex(splitElm));\n          beforeFragment = range.extractContents();\n          range = createRng();\n          range.setStart(splitElm.parentNode, findNodeIndex(splitElm) + 1);\n          range.setEnd(parentNode, findNodeIndex(parentElm) + 1);\n          afterFragment = range.extractContents();\n          parentNode.insertBefore(trimNode(self, beforeFragment), parentElm);\n          if (replacementElm) {\n            parentNode.insertBefore(replacementElm, parentElm);\n          } else {\n            parentNode.insertBefore(splitElm, parentElm);\n          }\n          parentNode.insertBefore(trimNode(self, afterFragment), parentElm);\n          remove(parentElm);\n          return replacementElm || splitElm;\n        } else {\n          return undefined;\n        }\n      };\n      const bind = (target, name, func, scope) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = bind(target[i], name, func, scope);\n          }\n          return rv;\n        } else {\n          if (settings.collect && (target === doc || target === win)) {\n            boundEvents.push([\n              target,\n              name,\n              func,\n              scope\n            ]);\n          }\n          return events.bind(target, name, func, scope || self);\n        }\n      };\n      const unbind = (target, name, func) => {\n        if (isArray$1(target)) {\n          let i = target.length;\n          const rv = [];\n          while (i--) {\n            rv[i] = unbind(target[i], name, func);\n          }\n          return rv;\n        } else {\n          if (boundEvents.length > 0 && (target === doc || target === win)) {\n            let i = boundEvents.length;\n            while (i--) {\n              const [boundTarget, boundName, boundFunc] = boundEvents[i];\n              if (target === boundTarget && (!name || name === boundName) && (!func || func === boundFunc)) {\n                events.unbind(boundTarget, boundName, boundFunc);\n              }\n            }\n          }\n          return events.unbind(target, name, func);\n        }\n      };\n      const dispatch = (target, name, evt) => events.dispatch(target, name, evt);\n      const fire = (target, name, evt) => events.dispatch(target, name, evt);\n      const getContentEditable = node => {\n        if (node && isElement$6(node)) {\n          const contentEditable = node.getAttribute('data-mce-contenteditable');\n          if (contentEditable && contentEditable !== 'inherit') {\n            return contentEditable;\n          }\n          return node.contentEditable !== 'inherit' ? node.contentEditable : null;\n        } else {\n          return null;\n        }\n      };\n      const getContentEditableParent = node => {\n        const root = getRoot();\n        let state = null;\n        for (let tempNode = node; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n          state = getContentEditable(tempNode);\n          if (state !== null) {\n            break;\n          }\n        }\n        return state;\n      };\n      const destroy = () => {\n        if (boundEvents.length > 0) {\n          let i = boundEvents.length;\n          while (i--) {\n            const [boundTarget, boundName, boundFunc] = boundEvents[i];\n            events.unbind(boundTarget, boundName, boundFunc);\n          }\n        }\n        each$d(files, (_, url) => {\n          styleSheetLoader.unload(url);\n          delete files[url];\n        });\n      };\n      const isChildOf = (node, parent) => {\n        return node === parent || parent.contains(node);\n      };\n      const dumpRng = r => 'startContainer: ' + r.startContainer.nodeName + ', startOffset: ' + r.startOffset + ', endContainer: ' + r.endContainer.nodeName + ', endOffset: ' + r.endOffset;\n      const self = {\n        doc,\n        settings,\n        win,\n        files,\n        stdMode,\n        boxModel,\n        styleSheetLoader,\n        boundEvents,\n        styles,\n        schema,\n        events,\n        isBlock: isBlock,\n        root: null,\n        clone,\n        getRoot,\n        getViewPort,\n        getRect,\n        getSize,\n        getParent,\n        getParents: getParents,\n        get,\n        getNext,\n        getPrev,\n        select,\n        is,\n        add,\n        create,\n        createHTML,\n        createFragment,\n        remove,\n        setStyle,\n        getStyle: getStyle,\n        setStyles,\n        removeAllAttribs,\n        setAttrib,\n        setAttribs,\n        getAttrib,\n        getPos: getPos$1,\n        parseStyle,\n        serializeStyle,\n        addStyle,\n        loadCSS,\n        addClass,\n        removeClass,\n        hasClass,\n        toggleClass,\n        show,\n        hide,\n        isHidden,\n        uniqueId,\n        setHTML,\n        getOuterHTML,\n        setOuterHTML,\n        decode,\n        encode,\n        insertAfter,\n        replace,\n        rename,\n        findCommonAncestor,\n        run,\n        getAttribs,\n        isEmpty,\n        createRng,\n        nodeIndex: findNodeIndex,\n        split,\n        bind: bind,\n        unbind: unbind,\n        fire,\n        dispatch,\n        getContentEditable,\n        getContentEditableParent,\n        destroy,\n        isChildOf,\n        dumpRng\n      };\n      const attrHooks = setupAttrHooks(styles, settings, constant(self));\n      return self;\n    };\n    DOMUtils.DOM = DOMUtils(document);\n    DOMUtils.nodeIndex = findNodeIndex;\n\n    const DOM$b = DOMUtils.DOM;\n    const QUEUED = 0;\n    const LOADING = 1;\n    const LOADED = 2;\n    const FAILED = 3;\n    class ScriptLoader {\n      constructor(settings = {}) {\n        this.states = {};\n        this.queue = [];\n        this.scriptLoadedCallbacks = {};\n        this.queueLoadedCallbacks = [];\n        this.loading = false;\n        this.settings = settings;\n      }\n      _setReferrerPolicy(referrerPolicy) {\n        this.settings.referrerPolicy = referrerPolicy;\n      }\n      loadScript(url) {\n        return new Promise((resolve, reject) => {\n          const dom = DOM$b;\n          let elm;\n          const cleanup = () => {\n            dom.remove(id);\n            if (elm) {\n              elm.onerror = elm.onload = elm = null;\n            }\n          };\n          const done = () => {\n            cleanup();\n            resolve();\n          };\n          const error = () => {\n            cleanup();\n            reject('Failed to load script: ' + url);\n          };\n          const id = dom.uniqueId();\n          elm = document.createElement('script');\n          elm.id = id;\n          elm.type = 'text/javascript';\n          elm.src = Tools._addCacheSuffix(url);\n          if (this.settings.referrerPolicy) {\n            dom.setAttrib(elm, 'referrerpolicy', this.settings.referrerPolicy);\n          }\n          elm.onload = done;\n          elm.onerror = error;\n          (document.getElementsByTagName('head')[0] || document.body).appendChild(elm);\n        });\n      }\n      isDone(url) {\n        return this.states[url] === LOADED;\n      }\n      markDone(url) {\n        this.states[url] = LOADED;\n      }\n      add(url) {\n        const self = this;\n        self.queue.push(url);\n        const state = self.states[url];\n        if (state === undefined) {\n          self.states[url] = QUEUED;\n        }\n        return new Promise((resolve, reject) => {\n          if (!self.scriptLoadedCallbacks[url]) {\n            self.scriptLoadedCallbacks[url] = [];\n          }\n          self.scriptLoadedCallbacks[url].push({\n            resolve,\n            reject\n          });\n        });\n      }\n      load(url) {\n        return this.add(url);\n      }\n      remove(url) {\n        delete this.states[url];\n        delete this.scriptLoadedCallbacks[url];\n      }\n      loadQueue() {\n        const queue = this.queue;\n        this.queue = [];\n        return this.loadScripts(queue);\n      }\n      loadScripts(scripts) {\n        const self = this;\n        const execCallbacks = (name, url) => {\n          get$a(self.scriptLoadedCallbacks, url).each(callbacks => {\n            each$e(callbacks, callback => callback[name](url));\n          });\n          delete self.scriptLoadedCallbacks[url];\n        };\n        const processResults = results => {\n          const failures = filter$5(results, result => result.status === 'rejected');\n          if (failures.length > 0) {\n            return Promise.reject(bind$3(failures, ({reason}) => isArray$1(reason) ? reason : [reason]));\n          } else {\n            return Promise.resolve();\n          }\n        };\n        const load = urls => Promise.allSettled(map$3(urls, url => {\n          if (self.states[url] === LOADED) {\n            execCallbacks('resolve', url);\n            return Promise.resolve();\n          } else if (self.states[url] === FAILED) {\n            execCallbacks('reject', url);\n            return Promise.reject(url);\n          } else {\n            self.states[url] = LOADING;\n            return self.loadScript(url).then(() => {\n              self.states[url] = LOADED;\n              execCallbacks('resolve', url);\n              const queue = self.queue;\n              if (queue.length > 0) {\n                self.queue = [];\n                return load(queue).then(processResults);\n              } else {\n                return Promise.resolve();\n              }\n            }, () => {\n              self.states[url] = FAILED;\n              execCallbacks('reject', url);\n              return Promise.reject(url);\n            });\n          }\n        }));\n        const processQueue = urls => {\n          self.loading = true;\n          return load(urls).then(results => {\n            self.loading = false;\n            const nextQueuedItem = self.queueLoadedCallbacks.shift();\n            Optional.from(nextQueuedItem).each(call);\n            return processResults(results);\n          });\n        };\n        const uniqueScripts = stringArray(scripts);\n        if (self.loading) {\n          return new Promise((resolve, reject) => {\n            self.queueLoadedCallbacks.push(() => processQueue(uniqueScripts).then(resolve, reject));\n          });\n        } else {\n          return processQueue(uniqueScripts);\n        }\n      }\n    }\n    ScriptLoader.ScriptLoader = new ScriptLoader();\n\n    const Cell = initial => {\n      let value = initial;\n      const get = () => {\n        return value;\n      };\n      const set = v => {\n        value = v;\n      };\n      return {\n        get,\n        set\n      };\n    };\n\n    const isRaw = str => isObject(str) && has$2(str, 'raw');\n    const isTokenised = str => isArray$1(str) && str.length > 1;\n    const data = {};\n    const currentCode = Cell('en');\n    const getLanguageData = () => get$a(data, currentCode.get());\n    const getData$1 = () => map$2(data, value => ({ ...value }));\n    const setCode = newCode => {\n      if (newCode) {\n        currentCode.set(newCode);\n      }\n    };\n    const getCode = () => currentCode.get();\n    const add$1 = (code, items) => {\n      let langData = data[code];\n      if (!langData) {\n        data[code] = langData = {};\n      }\n      each$d(items, (translation, name) => {\n        langData[name.toLowerCase()] = translation;\n      });\n    };\n    const translate = text => {\n      const langData = getLanguageData().getOr({});\n      const toString = obj => {\n        if (isFunction(obj)) {\n          return Object.prototype.toString.call(obj);\n        }\n        return !isEmpty(obj) ? '' + obj : '';\n      };\n      const isEmpty = text => text === '' || text === null || text === undefined;\n      const getLangData = text => {\n        const textstr = toString(text);\n        return get$a(langData, textstr.toLowerCase()).map(toString).getOr(textstr);\n      };\n      const removeContext = str => str.replace(/{context:\\w+}$/, '');\n      if (isEmpty(text)) {\n        return '';\n      }\n      if (isRaw(text)) {\n        return toString(text.raw);\n      }\n      if (isTokenised(text)) {\n        const values = text.slice(1);\n        const substitued = getLangData(text[0]).replace(/\\{([0-9]+)\\}/g, ($1, $2) => has$2(values, $2) ? toString(values[$2]) : $1);\n        return removeContext(substitued);\n      }\n      return removeContext(getLangData(text));\n    };\n    const isRtl$1 = () => getLanguageData().bind(items => get$a(items, '_dir')).exists(dir => dir === 'rtl');\n    const hasCode = code => has$2(data, code);\n    const I18n = {\n      getData: getData$1,\n      setCode,\n      getCode,\n      add: add$1,\n      translate,\n      isRtl: isRtl$1,\n      hasCode\n    };\n\n    const AddOnManager = () => {\n      const items = [];\n      const urls = {};\n      const lookup = {};\n      const _listeners = [];\n      const runListeners = (name, state) => {\n        const matchedListeners = filter$5(_listeners, listener => listener.name === name && listener.state === state);\n        each$e(matchedListeners, listener => listener.resolve());\n      };\n      const isLoaded = name => has$2(urls, name);\n      const isAdded = name => has$2(lookup, name);\n      const get = name => {\n        if (lookup[name]) {\n          return lookup[name].instance;\n        }\n        return undefined;\n      };\n      const loadLanguagePack = (name, languages) => {\n        const language = I18n.getCode();\n        const wrappedLanguages = ',' + (languages || '') + ',';\n        if (!language || languages && wrappedLanguages.indexOf(',' + language + ',') === -1) {\n          return;\n        }\n        ScriptLoader.ScriptLoader.add(urls[name] + '/langs/' + language + '.js');\n      };\n      const requireLangPack = (name, languages) => {\n        if (AddOnManager.languageLoad !== false) {\n          if (isLoaded(name)) {\n            loadLanguagePack(name, languages);\n          } else {\n            waitFor(name, 'loaded').then(() => loadLanguagePack(name, languages));\n          }\n        }\n      };\n      const add = (id, addOn) => {\n        items.push(addOn);\n        lookup[id] = { instance: addOn };\n        runListeners(id, 'added');\n        return addOn;\n      };\n      const remove = name => {\n        delete urls[name];\n        delete lookup[name];\n      };\n      const createUrl = (baseUrl, dep) => {\n        if (isString(dep)) {\n          return isString(baseUrl) ? {\n            prefix: '',\n            resource: dep,\n            suffix: ''\n          } : {\n            prefix: baseUrl.prefix,\n            resource: dep,\n            suffix: baseUrl.suffix\n          };\n        } else {\n          return dep;\n        }\n      };\n      const load = (name, addOnUrl) => {\n        if (urls[name]) {\n          return Promise.resolve();\n        }\n        let urlString = isString(addOnUrl) ? addOnUrl : addOnUrl.prefix + addOnUrl.resource + addOnUrl.suffix;\n        if (urlString.indexOf('/') !== 0 && urlString.indexOf('://') === -1) {\n          urlString = AddOnManager.baseURL + '/' + urlString;\n        }\n        urls[name] = urlString.substring(0, urlString.lastIndexOf('/'));\n        const done = () => {\n          runListeners(name, 'loaded');\n          return Promise.resolve();\n        };\n        if (lookup[name]) {\n          return done();\n        } else {\n          return ScriptLoader.ScriptLoader.add(urlString).then(done);\n        }\n      };\n      const waitFor = (name, state = 'added') => {\n        if (state === 'added' && isAdded(name)) {\n          return Promise.resolve();\n        } else if (state === 'loaded' && isLoaded(name)) {\n          return Promise.resolve();\n        } else {\n          return new Promise(resolve => {\n            _listeners.push({\n              name,\n              state,\n              resolve\n            });\n          });\n        }\n      };\n      return {\n        items,\n        urls,\n        lookup,\n        get,\n        requireLangPack,\n        add,\n        remove,\n        createUrl,\n        load,\n        waitFor\n      };\n    };\n    AddOnManager.languageLoad = true;\n    AddOnManager.baseURL = '';\n    AddOnManager.PluginManager = AddOnManager();\n    AddOnManager.ThemeManager = AddOnManager();\n    AddOnManager.ModelManager = AddOnManager();\n\n    const singleton = doRevoke => {\n      const subject = Cell(Optional.none());\n      const revoke = () => subject.get().each(doRevoke);\n      const clear = () => {\n        revoke();\n        subject.set(Optional.none());\n      };\n      const isSet = () => subject.get().isSome();\n      const get = () => subject.get();\n      const set = s => {\n        revoke();\n        subject.set(Optional.some(s));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const repeatable = delay => {\n      const intervalId = Cell(Optional.none());\n      const revoke = () => intervalId.get().each(id => clearInterval(id));\n      const clear = () => {\n        revoke();\n        intervalId.set(Optional.none());\n      };\n      const isSet = () => intervalId.get().isSome();\n      const get = () => intervalId.get();\n      const set = functionToRepeat => {\n        revoke();\n        intervalId.set(Optional.some(setInterval(functionToRepeat, delay)));\n      };\n      return {\n        clear,\n        isSet,\n        get,\n        set\n      };\n    };\n    const value$2 = () => {\n      const subject = singleton(noop);\n      const on = f => subject.get().each(f);\n      return {\n        ...subject,\n        on\n      };\n    };\n\n    const first$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        if (isNull(timer)) {\n          timer = setTimeout(() => {\n            timer = null;\n            fn.apply(null, args);\n          }, rate);\n        }\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n    const last$1 = (fn, rate) => {\n      let timer = null;\n      const cancel = () => {\n        if (!isNull(timer)) {\n          clearTimeout(timer);\n          timer = null;\n        }\n      };\n      const throttle = (...args) => {\n        cancel();\n        timer = setTimeout(() => {\n          timer = null;\n          fn.apply(null, args);\n        }, rate);\n      };\n      return {\n        cancel,\n        throttle\n      };\n    };\n\n    const annotation = constant('mce-annotation');\n    const dataAnnotation = constant('data-mce-annotation');\n    const dataAnnotationId = constant('data-mce-annotation-uid');\n    const dataAnnotationActive = constant('data-mce-annotation-active');\n    const dataAnnotationClasses = constant('data-mce-annotation-classes');\n    const dataAnnotationAttributes = constant('data-mce-annotation-attrs');\n\n    const isRoot$1 = root => node => eq(node, root);\n    const identify = (editor, annotationName) => {\n      const rng = editor.selection.getRng();\n      const start = SugarElement.fromDom(rng.startContainer);\n      const root = SugarElement.fromDom(editor.getBody());\n      const selector = annotationName.fold(() => '.' + annotation(), an => `[${ dataAnnotation() }=\"${ an }\"]`);\n      const newStart = child$1(start, rng.startOffset).getOr(start);\n      const closest = closest$3(newStart, selector, isRoot$1(root));\n      return closest.bind(c => getOpt(c, `${ dataAnnotationId() }`).bind(uid => getOpt(c, `${ dataAnnotation() }`).map(name => {\n        const elements = findMarkers(editor, uid);\n        return {\n          uid,\n          name,\n          elements\n        };\n      })));\n    };\n    const isAnnotation = elem => isElement$7(elem) && has(elem, annotation());\n    const isBogusElement = (elem, root) => has$1(elem, 'data-mce-bogus') || ancestor$1(elem, '[data-mce-bogus=\"all\"]', isRoot$1(root));\n    const findMarkers = (editor, uid) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const descendants$1 = descendants(body, `[${ dataAnnotationId() }=\"${ uid }\"]`);\n      return filter$5(descendants$1, descendant => !isBogusElement(descendant, body));\n    };\n    const findAll = (editor, name) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const markers = descendants(body, `[${ dataAnnotation() }=\"${ name }\"]`);\n      const directory = {};\n      each$e(markers, m => {\n        if (!isBogusElement(m, body)) {\n          const uid = get$9(m, dataAnnotationId());\n          const nodesAlready = get$a(directory, uid).getOr([]);\n          directory[uid] = nodesAlready.concat([m]);\n        }\n      });\n      return directory;\n    };\n\n    const setup$x = (editor, registry) => {\n      const changeCallbacks = Cell({});\n      const initData = () => ({\n        listeners: [],\n        previous: value$2()\n      });\n      const withCallbacks = (name, f) => {\n        updateCallbacks(name, data => {\n          f(data);\n          return data;\n        });\n      };\n      const updateCallbacks = (name, f) => {\n        const callbackMap = changeCallbacks.get();\n        const data = get$a(callbackMap, name).getOrThunk(initData);\n        const outputData = f(data);\n        callbackMap[name] = outputData;\n        changeCallbacks.set(callbackMap);\n      };\n      const fireCallbacks = (name, uid, elements) => {\n        withCallbacks(name, data => {\n          each$e(data.listeners, f => f(true, name, {\n            uid,\n            nodes: map$3(elements, elem => elem.dom)\n          }));\n        });\n      };\n      const fireNoAnnotation = name => {\n        withCallbacks(name, data => {\n          each$e(data.listeners, f => f(false, name));\n        });\n      };\n      const toggleActiveAttr = (uid, state) => {\n        each$e(findMarkers(editor, uid), elem => {\n          if (state) {\n            set$2(elem, dataAnnotationActive(), 'true');\n          } else {\n            remove$b(elem, dataAnnotationActive());\n          }\n        });\n      };\n      const onNodeChange = last$1(() => {\n        const annotations = sort(registry.getNames());\n        each$e(annotations, name => {\n          updateCallbacks(name, data => {\n            const prev = data.previous.get();\n            identify(editor, Optional.some(name)).fold(() => {\n              prev.each(uid => {\n                fireNoAnnotation(name);\n                data.previous.clear();\n                toggleActiveAttr(uid, false);\n              });\n            }, ({uid, name, elements}) => {\n              if (!is$2(prev, uid)) {\n                prev.each(uid => toggleActiveAttr(uid, false));\n                fireCallbacks(name, uid, elements);\n                data.previous.set(uid);\n                toggleActiveAttr(uid, true);\n              }\n            });\n            return {\n              previous: data.previous,\n              listeners: data.listeners\n            };\n          });\n        });\n      }, 30);\n      editor.on('remove', () => {\n        onNodeChange.cancel();\n      });\n      editor.on('NodeChange', () => {\n        onNodeChange.throttle();\n      });\n      const addListener = (name, f) => {\n        updateCallbacks(name, data => ({\n          previous: data.previous,\n          listeners: data.listeners.concat([f])\n        }));\n      };\n      return { addListener };\n    };\n\n    const setup$w = (editor, registry) => {\n      const dataAnnotation$1 = dataAnnotation();\n      const identifyParserNode = node => Optional.from(node.attr(dataAnnotation$1)).bind(registry.lookup);\n      const removeDirectAnnotation = node => {\n        var _a, _b;\n        node.attr(dataAnnotationId(), null);\n        node.attr(dataAnnotation(), null);\n        node.attr(dataAnnotationActive(), null);\n        const customAttrNames = Optional.from(node.attr(dataAnnotationAttributes())).map(names => names.split(',')).getOr([]);\n        const customClasses = Optional.from(node.attr(dataAnnotationClasses())).map(names => names.split(',')).getOr([]);\n        each$e(customAttrNames, name => node.attr(name, null));\n        const classList = (_b = (_a = node.attr('class')) === null || _a === void 0 ? void 0 : _a.split(' ')) !== null && _b !== void 0 ? _b : [];\n        const newClassList = difference(classList, [annotation()].concat(customClasses));\n        node.attr('class', newClassList.length > 0 ? newClassList.join(' ') : null);\n        node.attr(dataAnnotationClasses(), null);\n        node.attr(dataAnnotationAttributes(), null);\n      };\n      editor.serializer.addTempAttr(dataAnnotationActive());\n      editor.serializer.addAttributeFilter(dataAnnotation$1, nodes => {\n        for (const node of nodes) {\n          identifyParserNode(node).each(settings => {\n            if (settings.persistent === false) {\n              if (node.name === 'span') {\n                node.unwrap();\n              } else {\n                removeDirectAnnotation(node);\n              }\n            }\n          });\n        }\n      });\n    };\n\n    const create$c = () => {\n      const annotations = {};\n      const register = (name, settings) => {\n        annotations[name] = {\n          name,\n          settings\n        };\n      };\n      const lookup = name => get$a(annotations, name).map(a => a.settings);\n      const getNames = () => keys(annotations);\n      return {\n        register,\n        lookup,\n        getNames\n      };\n    };\n\n    let unique = 0;\n    const generate$1 = prefix => {\n      const date = new Date();\n      const time = date.getTime();\n      const random = Math.floor(Math.random() * 1000000000);\n      unique++;\n      return prefix + '_' + random + unique + String(time);\n    };\n\n    const add = (element, classes) => {\n      each$e(classes, x => {\n        add$2(element, x);\n      });\n    };\n    const remove$5 = (element, classes) => {\n      each$e(classes, x => {\n        remove$8(element, x);\n      });\n    };\n\n    const clone$2 = (original, isDeep) => SugarElement.fromDom(original.dom.cloneNode(isDeep));\n    const shallow$1 = original => clone$2(original, false);\n    const deep$1 = original => clone$2(original, true);\n    const shallowAs = (original, tag) => {\n      const nu = SugarElement.fromTag(tag);\n      const attributes = clone$4(original);\n      setAll$1(nu, attributes);\n      return nu;\n    };\n    const mutate = (original, tag) => {\n      const nu = shallowAs(original, tag);\n      after$4(original, nu);\n      const children = children$1(original);\n      append(nu, children);\n      remove$6(original);\n      return nu;\n    };\n\n    const TextWalker = (startNode, rootNode, isBoundary = never) => {\n      const walker = new DomTreeWalker(startNode, rootNode);\n      const walk = direction => {\n        let next;\n        do {\n          next = walker[direction]();\n        } while (next && !isText$a(next) && !isBoundary(next));\n        return Optional.from(next).filter(isText$a);\n      };\n      return {\n        current: () => Optional.from(walker.current()).filter(isText$a),\n        next: () => walk('next'),\n        prev: () => walk('prev'),\n        prev2: () => walk('prev2')\n      };\n    };\n\n    const TextSeeker = (dom, isBoundary) => {\n      const isBlockBoundary = isBoundary ? isBoundary : node => dom.isBlock(node) || isBr$6(node) || isContentEditableFalse$a(node);\n      const walk = (node, offset, walker, process) => {\n        if (isText$a(node)) {\n          const newOffset = process(node, offset, node.data);\n          if (newOffset !== -1) {\n            return Optional.some({\n              container: node,\n              offset: newOffset\n            });\n          }\n        }\n        return walker().bind(next => walk(next.container, next.offset, walker, process));\n      };\n      const backwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root !== null && root !== void 0 ? root : dom.getRoot(), isBlockBoundary);\n        return walk(node, offset, () => walker.prev().map(prev => ({\n          container: prev,\n          offset: prev.length\n        })), process).getOrNull();\n      };\n      const forwards = (node, offset, process, root) => {\n        const walker = TextWalker(node, root !== null && root !== void 0 ? root : dom.getRoot(), isBlockBoundary);\n        return walk(node, offset, () => walker.next().map(next => ({\n          container: next,\n          offset: 0\n        })), process).getOrNull();\n      };\n      return {\n        backwards,\n        forwards\n      };\n    };\n\n    const round$2 = Math.round;\n    const clone$1 = rect => {\n      if (!rect) {\n        return {\n          left: 0,\n          top: 0,\n          bottom: 0,\n          right: 0,\n          width: 0,\n          height: 0\n        };\n      }\n      return {\n        left: round$2(rect.left),\n        top: round$2(rect.top),\n        bottom: round$2(rect.bottom),\n        right: round$2(rect.right),\n        width: round$2(rect.width),\n        height: round$2(rect.height)\n      };\n    };\n    const collapse = (rect, toStart) => {\n      rect = clone$1(rect);\n      if (toStart) {\n        rect.right = rect.left;\n      } else {\n        rect.left = rect.left + rect.width;\n        rect.right = rect.left;\n      }\n      rect.width = 0;\n      return rect;\n    };\n    const isEqual = (rect1, rect2) => rect1.left === rect2.left && rect1.top === rect2.top && rect1.bottom === rect2.bottom && rect1.right === rect2.right;\n    const isValidOverflow = (overflowY, rect1, rect2) => overflowY >= 0 && overflowY <= Math.min(rect1.height, rect2.height) / 2;\n    const isAbove$1 = (rect1, rect2) => {\n      const halfHeight = Math.min(rect2.height / 2, rect1.height / 2);\n      if (rect1.bottom - halfHeight < rect2.top) {\n        return true;\n      }\n      if (rect1.top > rect2.bottom) {\n        return false;\n      }\n      return isValidOverflow(rect2.top - rect1.bottom, rect1, rect2);\n    };\n    const isBelow$1 = (rect1, rect2) => {\n      if (rect1.top > rect2.bottom) {\n        return true;\n      }\n      if (rect1.bottom < rect2.top) {\n        return false;\n      }\n      return isValidOverflow(rect2.bottom - rect1.top, rect1, rect2);\n    };\n    const containsXY = (rect, clientX, clientY) => clientX >= rect.left && clientX <= rect.right && clientY >= rect.top && clientY <= rect.bottom;\n    const boundingClientRectFromRects = rects => {\n      return foldl(rects, (acc, rect) => {\n        return acc.fold(() => Optional.some(rect), prevRect => {\n          const left = Math.min(rect.left, prevRect.left);\n          const top = Math.min(rect.top, prevRect.top);\n          const right = Math.max(rect.right, prevRect.right);\n          const bottom = Math.max(rect.bottom, prevRect.bottom);\n          return Optional.some({\n            top,\n            right,\n            bottom,\n            left,\n            width: right - left,\n            height: bottom - top\n          });\n        });\n      }, Optional.none());\n    };\n    const distanceToRectEdgeFromXY = (rect, x, y) => {\n      const cx = Math.max(Math.min(x, rect.left + rect.width), rect.left);\n      const cy = Math.max(Math.min(y, rect.top + rect.height), rect.top);\n      return Math.sqrt((x - cx) * (x - cx) + (y - cy) * (y - cy));\n    };\n    const overlapY = (r1, r2) => Math.max(0, Math.min(r1.bottom, r2.bottom) - Math.max(r1.top, r2.top));\n\n    const clamp$2 = (value, min, max) => Math.min(Math.max(value, min), max);\n\n    const getSelectedNode = range => {\n      const startContainer = range.startContainer, startOffset = range.startOffset;\n      if (startContainer === range.endContainer && startContainer.hasChildNodes() && range.endOffset === startOffset + 1) {\n        return startContainer.childNodes[startOffset];\n      }\n      return null;\n    };\n    const getNode$1 = (container, offset) => {\n      if (isElement$6(container) && container.hasChildNodes()) {\n        const childNodes = container.childNodes;\n        const safeOffset = clamp$2(offset, 0, childNodes.length - 1);\n        return childNodes[safeOffset];\n      } else {\n        return container;\n      }\n    };\n    const getNodeUnsafe = (container, offset) => {\n      if (offset < 0 && isElement$6(container) && container.hasChildNodes()) {\n        return undefined;\n      } else {\n        return getNode$1(container, offset);\n      }\n    };\n\n    const extendingChars = new RegExp('[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a' + '\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0' + '\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c' + '\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3' + '\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc' + '\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57' + '\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56' + '\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44' + '\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9' + '\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97' + '\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074' + '\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5' + '\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18' + '\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1ABE\\u1b00-\\u1b03\\u1b34' + '\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9' + '\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9' + '\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20DD-\\u20E0\\u20e1\\u20E2-\\u20E4\\u20e5-\\u20f0\\u2cef-\\u2cf1' + '\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\uA670-\\uA672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1' + '\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc' + '\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1' + '\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]');\n    const isExtendingChar = ch => isString(ch) && ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n\n    const or = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (args[i](x)) {\n            return true;\n          }\n        }\n        return false;\n      };\n    };\n    const and = (...args) => {\n      return x => {\n        for (let i = 0; i < args.length; i++) {\n          if (!args[i](x)) {\n            return false;\n          }\n        }\n        return true;\n      };\n    };\n\n    const isElement$4 = isElement$6;\n    const isCaretCandidate$2 = isCaretCandidate$3;\n    const isBlock$1 = matchStyleValues('display', 'block table');\n    const isFloated = matchStyleValues('float', 'left right');\n    const isValidElementCaretCandidate = and(isElement$4, isCaretCandidate$2, not(isFloated));\n    const isNotPre = not(matchStyleValues('white-space', 'pre pre-line pre-wrap'));\n    const isText$7 = isText$a;\n    const isBr$3 = isBr$6;\n    const nodeIndex$1 = DOMUtils.nodeIndex;\n    const resolveIndex$1 = getNodeUnsafe;\n    const createRange$1 = doc => doc ? doc.createRange() : DOMUtils.DOM.createRng();\n    const isWhiteSpace$1 = chr => isString(chr) && /[\\r\\n\\t ]/.test(chr);\n    const isRange = rng => !!rng.setStart && !!rng.setEnd;\n    const isHiddenWhiteSpaceRange = range => {\n      const container = range.startContainer;\n      const offset = range.startOffset;\n      if (isWhiteSpace$1(range.toString()) && isNotPre(container.parentNode) && isText$a(container)) {\n        const text = container.data;\n        if (isWhiteSpace$1(text[offset - 1]) || isWhiteSpace$1(text[offset + 1])) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const getBrClientRect = brNode => {\n      const doc = brNode.ownerDocument;\n      const rng = createRange$1(doc);\n      const nbsp$1 = doc.createTextNode(nbsp);\n      const parentNode = brNode.parentNode;\n      parentNode.insertBefore(nbsp$1, brNode);\n      rng.setStart(nbsp$1, 0);\n      rng.setEnd(nbsp$1, 1);\n      const clientRect = clone$1(rng.getBoundingClientRect());\n      parentNode.removeChild(nbsp$1);\n      return clientRect;\n    };\n    const getBoundingClientRectWebKitText = rng => {\n      const sc = rng.startContainer;\n      const ec = rng.endContainer;\n      const so = rng.startOffset;\n      const eo = rng.endOffset;\n      if (sc === ec && isText$a(ec) && so === 0 && eo === 1) {\n        const newRng = rng.cloneRange();\n        newRng.setEndAfter(ec);\n        return getBoundingClientRect$1(newRng);\n      } else {\n        return null;\n      }\n    };\n    const isZeroRect = r => r.left === 0 && r.right === 0 && r.top === 0 && r.bottom === 0;\n    const getBoundingClientRect$1 = item => {\n      var _a;\n      let clientRect;\n      const clientRects = item.getClientRects();\n      if (clientRects.length > 0) {\n        clientRect = clone$1(clientRects[0]);\n      } else {\n        clientRect = clone$1(item.getBoundingClientRect());\n      }\n      if (!isRange(item) && isBr$3(item) && isZeroRect(clientRect)) {\n        return getBrClientRect(item);\n      }\n      if (isZeroRect(clientRect) && isRange(item)) {\n        return (_a = getBoundingClientRectWebKitText(item)) !== null && _a !== void 0 ? _a : clientRect;\n      }\n      return clientRect;\n    };\n    const collapseAndInflateWidth = (clientRect, toStart) => {\n      const newClientRect = collapse(clientRect, toStart);\n      newClientRect.width = 1;\n      newClientRect.right = newClientRect.left + 1;\n      return newClientRect;\n    };\n    const getCaretPositionClientRects = caretPosition => {\n      const clientRects = [];\n      const addUniqueAndValidRect = clientRect => {\n        if (clientRect.height === 0) {\n          return;\n        }\n        if (clientRects.length > 0) {\n          if (isEqual(clientRect, clientRects[clientRects.length - 1])) {\n            return;\n          }\n        }\n        clientRects.push(clientRect);\n      };\n      const addCharacterOffset = (container, offset) => {\n        const range = createRange$1(container.ownerDocument);\n        if (offset < container.data.length) {\n          if (isExtendingChar(container.data[offset])) {\n            return;\n          }\n          if (isExtendingChar(container.data[offset - 1])) {\n            range.setStart(container, offset);\n            range.setEnd(container, offset + 1);\n            if (!isHiddenWhiteSpaceRange(range)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n              return;\n            }\n          }\n        }\n        if (offset > 0) {\n          range.setStart(container, offset - 1);\n          range.setEnd(container, offset);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), false));\n          }\n        }\n        if (offset < container.data.length) {\n          range.setStart(container, offset);\n          range.setEnd(container, offset + 1);\n          if (!isHiddenWhiteSpaceRange(range)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(range), true));\n          }\n        }\n      };\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (isText$7(container)) {\n        addCharacterOffset(container, offset);\n        return clientRects;\n      }\n      if (isElement$4(container)) {\n        if (caretPosition.isAtEnd()) {\n          const node = resolveIndex$1(container, offset);\n          if (isText$7(node)) {\n            addCharacterOffset(node, node.data.length);\n          }\n          if (isValidElementCaretCandidate(node) && !isBr$3(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n          }\n        } else {\n          const node = resolveIndex$1(container, offset);\n          if (isText$7(node)) {\n            addCharacterOffset(node, 0);\n          }\n          if (isValidElementCaretCandidate(node) && caretPosition.isAtEnd()) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), false));\n            return clientRects;\n          }\n          const beforeNode = resolveIndex$1(caretPosition.container(), caretPosition.offset() - 1);\n          if (isValidElementCaretCandidate(beforeNode) && !isBr$3(beforeNode)) {\n            if (isBlock$1(beforeNode) || isBlock$1(node) || !isValidElementCaretCandidate(node)) {\n              addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(beforeNode), false));\n            }\n          }\n          if (isValidElementCaretCandidate(node)) {\n            addUniqueAndValidRect(collapseAndInflateWidth(getBoundingClientRect$1(node), true));\n          }\n        }\n      }\n      return clientRects;\n    };\n    const CaretPosition = (container, offset, clientRects) => {\n      const isAtStart = () => {\n        if (isText$7(container)) {\n          return offset === 0;\n        }\n        return offset === 0;\n      };\n      const isAtEnd = () => {\n        if (isText$7(container)) {\n          return offset >= container.data.length;\n        }\n        return offset >= container.childNodes.length;\n      };\n      const toRange = () => {\n        const range = createRange$1(container.ownerDocument);\n        range.setStart(container, offset);\n        range.setEnd(container, offset);\n        return range;\n      };\n      const getClientRects = () => {\n        if (!clientRects) {\n          clientRects = getCaretPositionClientRects(CaretPosition(container, offset));\n        }\n        return clientRects;\n      };\n      const isVisible = () => getClientRects().length > 0;\n      const isEqual = caretPosition => caretPosition && container === caretPosition.container() && offset === caretPosition.offset();\n      const getNode = before => resolveIndex$1(container, before ? offset - 1 : offset);\n      return {\n        container: constant(container),\n        offset: constant(offset),\n        toRange,\n        getClientRects,\n        isVisible,\n        isAtStart,\n        isAtEnd,\n        isEqual,\n        getNode\n      };\n    };\n    CaretPosition.fromRangeStart = range => CaretPosition(range.startContainer, range.startOffset);\n    CaretPosition.fromRangeEnd = range => CaretPosition(range.endContainer, range.endOffset);\n    CaretPosition.after = node => CaretPosition(node.parentNode, nodeIndex$1(node) + 1);\n    CaretPosition.before = node => CaretPosition(node.parentNode, nodeIndex$1(node));\n    CaretPosition.isAbove = (pos1, pos2) => lift2(head(pos2.getClientRects()), last$3(pos1.getClientRects()), isAbove$1).getOr(false);\n    CaretPosition.isBelow = (pos1, pos2) => lift2(last$3(pos2.getClientRects()), head(pos1.getClientRects()), isBelow$1).getOr(false);\n    CaretPosition.isAtStart = pos => pos ? pos.isAtStart() : false;\n    CaretPosition.isAtEnd = pos => pos ? pos.isAtEnd() : false;\n    CaretPosition.isTextPosition = pos => pos ? isText$a(pos.container()) : false;\n    CaretPosition.isElementPosition = pos => !CaretPosition.isTextPosition(pos);\n\n    const trimEmptyTextNode$1 = (dom, node) => {\n      if (isText$a(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const insertNode = (dom, rng, node) => {\n      rng.insertNode(node);\n      trimEmptyTextNode$1(dom, node.previousSibling);\n      trimEmptyTextNode$1(dom, node.nextSibling);\n    };\n    const insertFragment = (dom, rng, frag) => {\n      const firstChild = Optional.from(frag.firstChild);\n      const lastChild = Optional.from(frag.lastChild);\n      rng.insertNode(frag);\n      firstChild.each(child => trimEmptyTextNode$1(dom, child.previousSibling));\n      lastChild.each(child => trimEmptyTextNode$1(dom, child.nextSibling));\n    };\n    const rangeInsertNode = (dom, rng, node) => {\n      if (isDocumentFragment(node)) {\n        insertFragment(dom, rng, node);\n      } else {\n        insertNode(dom, rng, node);\n      }\n    };\n\n    const isText$6 = isText$a;\n    const isBogus = isBogus$2;\n    const nodeIndex = DOMUtils.nodeIndex;\n    const normalizedParent = node => {\n      const parentNode = node.parentNode;\n      if (isBogus(parentNode)) {\n        return normalizedParent(parentNode);\n      }\n      return parentNode;\n    };\n    const getChildNodes = node => {\n      if (!node) {\n        return [];\n      }\n      return reduce(node.childNodes, (result, node) => {\n        if (isBogus(node) && node.nodeName !== 'BR') {\n          result = result.concat(getChildNodes(node));\n        } else {\n          result.push(node);\n        }\n        return result;\n      }, []);\n    };\n    const normalizedTextOffset = (node, offset) => {\n      let tempNode = node;\n      while (tempNode = tempNode.previousSibling) {\n        if (!isText$6(tempNode)) {\n          break;\n        }\n        offset += tempNode.data.length;\n      }\n      return offset;\n    };\n    const equal = a => b => a === b;\n    const normalizedNodeIndex = node => {\n      let nodes, index;\n      nodes = getChildNodes(normalizedParent(node));\n      index = findIndex$1(nodes, equal(node), node);\n      nodes = nodes.slice(0, index + 1);\n      const numTextFragments = reduce(nodes, (result, node, i) => {\n        if (isText$6(node) && isText$6(nodes[i - 1])) {\n          result++;\n        }\n        return result;\n      }, 0);\n      nodes = filter$3(nodes, matchNodeNames([node.nodeName]));\n      index = findIndex$1(nodes, equal(node), node);\n      return index - numTextFragments;\n    };\n    const createPathItem = node => {\n      const name = isText$6(node) ? 'text()' : node.nodeName.toLowerCase();\n      return name + '[' + normalizedNodeIndex(node) + ']';\n    };\n    const parentsUntil$1 = (root, node, predicate) => {\n      const parents = [];\n      for (let tempNode = node.parentNode; tempNode && tempNode !== root; tempNode = tempNode.parentNode) {\n        if (predicate && predicate(tempNode)) {\n          break;\n        }\n        parents.push(tempNode);\n      }\n      return parents;\n    };\n    const create$b = (root, caretPosition) => {\n      let path = [];\n      let container = caretPosition.container();\n      let offset = caretPosition.offset();\n      let outputOffset;\n      if (isText$6(container)) {\n        outputOffset = normalizedTextOffset(container, offset);\n      } else {\n        const childNodes = container.childNodes;\n        if (offset >= childNodes.length) {\n          outputOffset = 'after';\n          offset = childNodes.length - 1;\n        } else {\n          outputOffset = 'before';\n        }\n        container = childNodes[offset];\n      }\n      path.push(createPathItem(container));\n      let parents = parentsUntil$1(root, container);\n      parents = filter$3(parents, not(isBogus$2));\n      path = path.concat(map$1(parents, node => {\n        return createPathItem(node);\n      }));\n      return path.reverse().join('/') + ',' + outputOffset;\n    };\n    const resolvePathItem = (node, name, index) => {\n      let nodes = getChildNodes(node);\n      nodes = filter$3(nodes, (node, index) => {\n        return !isText$6(node) || !isText$6(nodes[index - 1]);\n      });\n      nodes = filter$3(nodes, matchNodeNames([name]));\n      return nodes[index];\n    };\n    const findTextPosition = (container, offset) => {\n      let node = container;\n      let targetOffset = 0;\n      while (isText$6(node)) {\n        const dataLen = node.data.length;\n        if (offset >= targetOffset && offset <= targetOffset + dataLen) {\n          container = node;\n          offset = offset - targetOffset;\n          break;\n        }\n        if (!isText$6(node.nextSibling)) {\n          container = node;\n          offset = dataLen;\n          break;\n        }\n        targetOffset += dataLen;\n        node = node.nextSibling;\n      }\n      if (isText$6(container) && offset > container.data.length) {\n        offset = container.data.length;\n      }\n      return CaretPosition(container, offset);\n    };\n    const resolve$1 = (root, path) => {\n      if (!path) {\n        return null;\n      }\n      const parts = path.split(',');\n      const paths = parts[0].split('/');\n      const offset = parts.length > 1 ? parts[1] : 'before';\n      const container = reduce(paths, (result, value) => {\n        const match = /([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(value);\n        if (!match) {\n          return null;\n        }\n        if (match[1] === 'text()') {\n          match[1] = '#text';\n        }\n        return resolvePathItem(result, match[1], parseInt(match[2], 10));\n      }, root);\n      if (!container) {\n        return null;\n      }\n      if (!isText$6(container) && container.parentNode) {\n        let nodeOffset;\n        if (offset === 'after') {\n          nodeOffset = nodeIndex(container) + 1;\n        } else {\n          nodeOffset = nodeIndex(container);\n        }\n        return CaretPosition(container.parentNode, nodeOffset);\n      }\n      return findTextPosition(container, parseInt(offset, 10));\n    };\n\n    const isContentEditableFalse$8 = isContentEditableFalse$a;\n    const getNormalizedTextOffset$1 = (trim, container, offset) => {\n      let trimmedOffset = trim(container.data.slice(0, offset)).length;\n      for (let node = container.previousSibling; node && isText$a(node); node = node.previousSibling) {\n        trimmedOffset += trim(node.data).length;\n      }\n      return trimmedOffset;\n    };\n    const getPoint = (dom, trim, normalized, rng, start) => {\n      const container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      const point = [];\n      const root = dom.getRoot();\n      if (isText$a(container)) {\n        point.push(normalized ? getNormalizedTextOffset$1(trim, container, offset) : offset);\n      } else {\n        let after = 0;\n        const childNodes = container.childNodes;\n        if (offset >= childNodes.length && childNodes.length) {\n          after = 1;\n          offset = Math.max(0, childNodes.length - 1);\n        }\n        point.push(dom.nodeIndex(childNodes[offset], normalized) + after);\n      }\n      for (let node = container; node && node !== root; node = node.parentNode) {\n        point.push(dom.nodeIndex(node, normalized));\n      }\n      return point;\n    };\n    const getLocation = (trim, selection, normalized, rng) => {\n      const dom = selection.dom;\n      const start = getPoint(dom, trim, normalized, rng, true);\n      const forward = selection.isForward();\n      const fakeCaret = isRangeInCaretContainerBlock(rng) ? { isFakeCaret: true } : {};\n      if (!selection.isCollapsed()) {\n        const end = getPoint(dom, trim, normalized, rng, false);\n        return {\n          start,\n          end,\n          forward,\n          ...fakeCaret\n        };\n      } else {\n        return {\n          start,\n          forward,\n          ...fakeCaret\n        };\n      }\n    };\n    const findIndex = (dom, name, element) => {\n      let count = 0;\n      Tools.each(dom.select(name), node => {\n        if (node.getAttribute('data-mce-bogus') === 'all') {\n          return;\n        } else if (node === element) {\n          return false;\n        } else {\n          count++;\n          return;\n        }\n      });\n      return count;\n    };\n    const moveEndPoint$1 = (rng, start) => {\n      let container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      if (isElement$6(container) && container.nodeName === 'TR') {\n        const childNodes = container.childNodes;\n        container = childNodes[Math.min(start ? offset : offset - 1, childNodes.length - 1)];\n        if (container) {\n          offset = start ? 0 : container.childNodes.length;\n          if (start) {\n            rng.setStart(container, offset);\n          } else {\n            rng.setEnd(container, offset);\n          }\n        }\n      }\n    };\n    const normalizeTableCellSelection = rng => {\n      moveEndPoint$1(rng, true);\n      moveEndPoint$1(rng, false);\n      return rng;\n    };\n    const findSibling = (node, offset) => {\n      if (isElement$6(node)) {\n        node = getNode$1(node, offset);\n        if (isContentEditableFalse$8(node)) {\n          return node;\n        }\n      }\n      if (isCaretContainer$2(node)) {\n        if (isText$a(node) && isCaretContainerBlock$1(node)) {\n          node = node.parentNode;\n        }\n        let sibling = node.previousSibling;\n        if (isContentEditableFalse$8(sibling)) {\n          return sibling;\n        }\n        sibling = node.nextSibling;\n        if (isContentEditableFalse$8(sibling)) {\n          return sibling;\n        }\n      }\n      return undefined;\n    };\n    const findAdjacentContentEditableFalseElm = rng => {\n      return findSibling(rng.startContainer, rng.startOffset) || findSibling(rng.endContainer, rng.endOffset);\n    };\n    const getOffsetBookmark = (trim, normalized, selection) => {\n      const element = selection.getNode();\n      const rng = selection.getRng();\n      if (element.nodeName === 'IMG' || isContentEditableFalse$8(element)) {\n        const name = element.nodeName;\n        return {\n          name,\n          index: findIndex(selection.dom, name, element)\n        };\n      }\n      const sibling = findAdjacentContentEditableFalseElm(rng);\n      if (sibling) {\n        const name = sibling.tagName;\n        return {\n          name,\n          index: findIndex(selection.dom, name, sibling)\n        };\n      }\n      return getLocation(trim, selection, normalized, rng);\n    };\n    const getCaretBookmark = selection => {\n      const rng = selection.getRng();\n      return {\n        start: create$b(selection.dom.getRoot(), CaretPosition.fromRangeStart(rng)),\n        end: create$b(selection.dom.getRoot(), CaretPosition.fromRangeEnd(rng)),\n        forward: selection.isForward()\n      };\n    };\n    const getRangeBookmark = selection => {\n      return {\n        rng: selection.getRng(),\n        forward: selection.isForward()\n      };\n    };\n    const createBookmarkSpan = (dom, id, filled) => {\n      const args = {\n        'data-mce-type': 'bookmark',\n        id,\n        'style': 'overflow:hidden;line-height:0px'\n      };\n      return filled ? dom.create('span', args, '&#xFEFF;') : dom.create('span', args);\n    };\n    const getPersistentBookmark = (selection, filled) => {\n      const dom = selection.dom;\n      let rng = selection.getRng();\n      const id = dom.uniqueId();\n      const collapsed = selection.isCollapsed();\n      const element = selection.getNode();\n      const name = element.nodeName;\n      const forward = selection.isForward();\n      if (name === 'IMG') {\n        return {\n          name,\n          index: findIndex(dom, name, element)\n        };\n      }\n      const rng2 = normalizeTableCellSelection(rng.cloneRange());\n      if (!collapsed) {\n        rng2.collapse(false);\n        const endBookmarkNode = createBookmarkSpan(dom, id + '_end', filled);\n        rangeInsertNode(dom, rng2, endBookmarkNode);\n      }\n      rng = normalizeTableCellSelection(rng);\n      rng.collapse(true);\n      const startBookmarkNode = createBookmarkSpan(dom, id + '_start', filled);\n      rangeInsertNode(dom, rng, startBookmarkNode);\n      selection.moveToBookmark({\n        id,\n        keep: true,\n        forward\n      });\n      return {\n        id,\n        forward\n      };\n    };\n    const getBookmark$2 = (selection, type, normalized = false) => {\n      if (type === 2) {\n        return getOffsetBookmark(trim$1, normalized, selection);\n      } else if (type === 3) {\n        return getCaretBookmark(selection);\n      } else if (type) {\n        return getRangeBookmark(selection);\n      } else {\n        return getPersistentBookmark(selection, false);\n      }\n    };\n    const getUndoBookmark = curry(getOffsetBookmark, identity, true);\n\n    const value$1 = value => {\n      const applyHelper = fn => fn(value);\n      const constHelper = constant(value);\n      const outputHelper = () => output;\n      const output = {\n        tag: true,\n        inner: value,\n        fold: (_onError, onValue) => onValue(value),\n        isValue: always,\n        isError: never,\n        map: mapper => Result.value(mapper(value)),\n        mapError: outputHelper,\n        bind: applyHelper,\n        exists: applyHelper,\n        forall: applyHelper,\n        getOr: constHelper,\n        or: outputHelper,\n        getOrThunk: constHelper,\n        orThunk: outputHelper,\n        getOrDie: constHelper,\n        each: fn => {\n          fn(value);\n        },\n        toOptional: () => Optional.some(value)\n      };\n      return output;\n    };\n    const error = error => {\n      const outputHelper = () => output;\n      const output = {\n        tag: false,\n        inner: error,\n        fold: (onError, _onValue) => onError(error),\n        isValue: never,\n        isError: always,\n        map: outputHelper,\n        mapError: mapper => Result.error(mapper(error)),\n        bind: outputHelper,\n        exists: never,\n        forall: always,\n        getOr: identity,\n        or: identity,\n        getOrThunk: apply$1,\n        orThunk: apply$1,\n        getOrDie: die(String(error)),\n        each: noop,\n        toOptional: Optional.none\n      };\n      return output;\n    };\n    const fromOption = (optional, err) => optional.fold(() => error(err), value$1);\n    const Result = {\n      value: value$1,\n      error,\n      fromOption\n    };\n\n    const generate = cases => {\n      if (!isArray$1(cases)) {\n        throw new Error('cases must be an array');\n      }\n      if (cases.length === 0) {\n        throw new Error('there must be at least one case');\n      }\n      const constructors = [];\n      const adt = {};\n      each$e(cases, (acase, count) => {\n        const keys$1 = keys(acase);\n        if (keys$1.length !== 1) {\n          throw new Error('one and only one name per case');\n        }\n        const key = keys$1[0];\n        const value = acase[key];\n        if (adt[key] !== undefined) {\n          throw new Error('duplicate key detected:' + key);\n        } else if (key === 'cata') {\n          throw new Error('cannot have a case named cata (sorry)');\n        } else if (!isArray$1(value)) {\n          throw new Error('case arguments must be an array');\n        }\n        constructors.push(key);\n        adt[key] = (...args) => {\n          const argLength = args.length;\n          if (argLength !== value.length) {\n            throw new Error('Wrong number of arguments to case ' + key + '. Expected ' + value.length + ' (' + value + '), got ' + argLength);\n          }\n          const match = branches => {\n            const branchKeys = keys(branches);\n            if (constructors.length !== branchKeys.length) {\n              throw new Error('Wrong number of arguments to match. Expected: ' + constructors.join(',') + '\\nActual: ' + branchKeys.join(','));\n            }\n            const allReqd = forall(constructors, reqKey => {\n              return contains$2(branchKeys, reqKey);\n            });\n            if (!allReqd) {\n              throw new Error('Not all branches were specified when using match. Specified: ' + branchKeys.join(', ') + '\\nRequired: ' + constructors.join(', '));\n            }\n            return branches[key].apply(null, args);\n          };\n          return {\n            fold: (...foldArgs) => {\n              if (foldArgs.length !== cases.length) {\n                throw new Error('Wrong number of arguments to fold. Expected ' + cases.length + ', got ' + foldArgs.length);\n              }\n              const target = foldArgs[count];\n              return target.apply(null, args);\n            },\n            match,\n            log: label => {\n              console.log(label, {\n                constructors,\n                constructor: key,\n                params: args\n              });\n            }\n          };\n        };\n      });\n      return adt;\n    };\n    const Adt = { generate };\n\n    Adt.generate([\n      {\n        bothErrors: [\n          'error1',\n          'error2'\n        ]\n      },\n      {\n        firstError: [\n          'error1',\n          'value2'\n        ]\n      },\n      {\n        secondError: [\n          'value1',\n          'error2'\n        ]\n      },\n      {\n        bothValues: [\n          'value1',\n          'value2'\n        ]\n      }\n    ]);\n    const partition$1 = results => {\n      const errors = [];\n      const values = [];\n      each$e(results, result => {\n        result.fold(err => {\n          errors.push(err);\n        }, value => {\n          values.push(value);\n        });\n      });\n      return {\n        errors,\n        values\n      };\n    };\n\n    const isInlinePattern = pattern => pattern.type === 'inline-command' || pattern.type === 'inline-format';\n    const isBlockPattern = pattern => pattern.type === 'block-command' || pattern.type === 'block-format';\n    const normalizePattern = pattern => {\n      const err = message => Result.error({\n        message,\n        pattern\n      });\n      const formatOrCmd = (name, onFormat, onCommand) => {\n        if (pattern.format !== undefined) {\n          let formats;\n          if (isArray$1(pattern.format)) {\n            if (!forall(pattern.format, isString)) {\n              return err(name + ' pattern has non-string items in the `format` array');\n            }\n            formats = pattern.format;\n          } else if (isString(pattern.format)) {\n            formats = [pattern.format];\n          } else {\n            return err(name + ' pattern has non-string `format` parameter');\n          }\n          return Result.value(onFormat(formats));\n        } else if (pattern.cmd !== undefined) {\n          if (!isString(pattern.cmd)) {\n            return err(name + ' pattern has non-string `cmd` parameter');\n          }\n          return Result.value(onCommand(pattern.cmd, pattern.value));\n        } else {\n          return err(name + ' pattern is missing both `format` and `cmd` parameters');\n        }\n      };\n      if (!isObject(pattern)) {\n        return err('Raw pattern is not an object');\n      }\n      if (!isString(pattern.start)) {\n        return err('Raw pattern is missing `start` parameter');\n      }\n      if (pattern.end !== undefined) {\n        if (!isString(pattern.end)) {\n          return err('Inline pattern has non-string `end` parameter');\n        }\n        if (pattern.start.length === 0 && pattern.end.length === 0) {\n          return err('Inline pattern has empty `start` and `end` parameters');\n        }\n        let start = pattern.start;\n        let end = pattern.end;\n        if (end.length === 0) {\n          end = start;\n          start = '';\n        }\n        return formatOrCmd('Inline', format => ({\n          type: 'inline-format',\n          start,\n          end,\n          format\n        }), (cmd, value) => ({\n          type: 'inline-command',\n          start,\n          end,\n          cmd,\n          value\n        }));\n      } else if (pattern.replacement !== undefined) {\n        if (!isString(pattern.replacement)) {\n          return err('Replacement pattern has non-string `replacement` parameter');\n        }\n        if (pattern.start.length === 0) {\n          return err('Replacement pattern has empty `start` parameter');\n        }\n        return Result.value({\n          type: 'inline-command',\n          start: '',\n          end: pattern.start,\n          cmd: 'mceInsertContent',\n          value: pattern.replacement\n        });\n      } else {\n        if (pattern.start.length === 0) {\n          return err('Block pattern has empty `start` parameter');\n        }\n        return formatOrCmd('Block', formats => ({\n          type: 'block-format',\n          start: pattern.start,\n          format: formats[0]\n        }), (command, commandValue) => ({\n          type: 'block-command',\n          start: pattern.start,\n          cmd: command,\n          value: commandValue\n        }));\n      }\n    };\n    const getBlockPatterns = patterns => filter$5(patterns, isBlockPattern);\n    const getInlinePatterns = patterns => filter$5(patterns, isInlinePattern);\n    const createPatternSet = (patterns, dynamicPatternsLookup) => ({\n      inlinePatterns: getInlinePatterns(patterns),\n      blockPatterns: getBlockPatterns(patterns),\n      dynamicPatternsLookup\n    });\n    const fromRawPatterns = patterns => {\n      const normalized = partition$1(map$3(patterns, normalizePattern));\n      each$e(normalized.errors, err => console.error(err.message, err.pattern));\n      return normalized.values;\n    };\n    const fromRawPatternsLookup = lookupFn => {\n      return ctx => {\n        const rawPatterns = lookupFn(ctx);\n        return fromRawPatterns(rawPatterns);\n      };\n    };\n\n    const deviceDetection$1 = detect$2().deviceType;\n    const isTouch = deviceDetection$1.isTouch();\n    const DOM$a = DOMUtils.DOM;\n    const getHash = value => {\n      const items = value.indexOf('=') > 0 ? value.split(/[;,](?![^=;,]*(?:[;,]|$))/) : value.split(',');\n      return foldl(items, (output, item) => {\n        const arr = item.split('=');\n        const key = arr[0];\n        const val = arr.length > 1 ? arr[1] : key;\n        output[trim$3(key)] = trim$3(val);\n        return output;\n      }, {});\n    };\n    const isRegExp = x => is$4(x, RegExp);\n    const option = name => editor => editor.options.get(name);\n    const stringOrObjectProcessor = value => isString(value) || isObject(value);\n    const bodyOptionProcessor = (editor, defaultValue = '') => value => {\n      const valid = isString(value);\n      if (valid) {\n        if (value.indexOf('=') !== -1) {\n          const bodyObj = getHash(value);\n          return {\n            value: get$a(bodyObj, editor.id).getOr(defaultValue),\n            valid\n          };\n        } else {\n          return {\n            value,\n            valid\n          };\n        }\n      } else {\n        return {\n          valid: false,\n          message: 'Must be a string.'\n        };\n      }\n    };\n    const register$7 = editor => {\n      const registerOption = editor.options.register;\n      registerOption('id', {\n        processor: 'string',\n        default: editor.id\n      });\n      registerOption('selector', { processor: 'string' });\n      registerOption('target', { processor: 'object' });\n      registerOption('suffix', { processor: 'string' });\n      registerOption('cache_suffix', { processor: 'string' });\n      registerOption('base_url', { processor: 'string' });\n      registerOption('referrer_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('language_load', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('inline', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('iframe_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('doctype', {\n        processor: 'string',\n        default: '<!DOCTYPE html>'\n      });\n      registerOption('document_base_url', {\n        processor: 'string',\n        default: editor.documentBaseUrl\n      });\n      registerOption('body_id', {\n        processor: bodyOptionProcessor(editor, 'tinymce'),\n        default: 'tinymce'\n      });\n      registerOption('body_class', {\n        processor: bodyOptionProcessor(editor),\n        default: ''\n      });\n      registerOption('content_security_policy', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('br_in_pre', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('forced_root_block', {\n        processor: value => {\n          const valid = isString(value) && isNotEmpty(value);\n          if (valid) {\n            return {\n              value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a non-empty string.'\n            };\n          }\n        },\n        default: 'p'\n      });\n      registerOption('forced_root_block_attrs', {\n        processor: 'object',\n        default: {}\n      });\n      registerOption('newline_behavior', {\n        processor: value => {\n          const valid = contains$2([\n            'block',\n            'linebreak',\n            'invert',\n            'default'\n          ], value);\n          return valid ? {\n            value,\n            valid\n          } : {\n            valid: false,\n            message: 'Must be one of: block, linebreak, invert or default.'\n          };\n        },\n        default: 'default'\n      });\n      registerOption('br_newline_selector', {\n        processor: 'string',\n        default: '.mce-toc h2,figcaption,caption'\n      });\n      registerOption('no_newline_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('keep_styles', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('end_container_on_empty_block', {\n        processor: value => {\n          if (isBoolean(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else if (isString(value)) {\n            return {\n              valid: true,\n              value\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: 'blockquote'\n      });\n      registerOption('font_size_style_values', {\n        processor: 'string',\n        default: 'xx-small,x-small,small,medium,large,x-large,xx-large'\n      });\n      registerOption('font_size_legacy_values', {\n        processor: 'string',\n        default: 'xx-small,small,medium,large,x-large,xx-large,300%'\n      });\n      registerOption('font_size_classes', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('automatic_uploads', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('images_reuse_filename', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_replace_blob_uris', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('icons', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('icons_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_base_path', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('images_upload_credentials', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('images_upload_handler', { processor: 'function' });\n      registerOption('language', {\n        processor: 'string',\n        default: 'en'\n      });\n      registerOption('language_url', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('entity_encoding', {\n        processor: 'string',\n        default: 'named'\n      });\n      registerOption('indent', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('indent_before', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_after', {\n        processor: 'string',\n        default: 'p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,' + 'tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist'\n      });\n      registerOption('indent_use_margin', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('indentation', {\n        processor: 'string',\n        default: '40px'\n      });\n      registerOption('content_css', {\n        processor: value => {\n          const valid = value === false || isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            if (isString(value)) {\n              return {\n                value: map$3(value.split(','), trim$3),\n                valid\n              };\n            } else if (isArray$1(value)) {\n              return {\n                value,\n                valid\n              };\n            } else if (value === false) {\n              return {\n                value: [],\n                valid\n              };\n            } else {\n              return {\n                value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false, a string or an array of strings.'\n            };\n          }\n        },\n        default: isInline(editor) ? [] : ['default']\n      });\n      registerOption('content_style', { processor: 'string' });\n      registerOption('content_css_cors', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('font_css', {\n        processor: value => {\n          const valid = isString(value) || isArrayOf(value, isString);\n          if (valid) {\n            const newValue = isArray$1(value) ? value : map$3(value.split(','), trim$3);\n            return {\n              value: newValue,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a string or an array of strings.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('inline_boundaries', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('inline_boundaries_selector', {\n        processor: 'string',\n        default: 'a[href],code,span.mce-annotation'\n      });\n      registerOption('object_resizing', {\n        processor: value => {\n          const valid = isBoolean(value) || isString(value);\n          if (valid) {\n            if (value === false || deviceDetection$1.isiPhone() || deviceDetection$1.isiPad()) {\n              return {\n                value: '',\n                valid\n              };\n            } else {\n              return {\n                value: value === true ? 'table,img,figure.image,div,video,iframe' : value,\n                valid\n              };\n            }\n          } else {\n            return {\n              valid: false,\n              message: 'Must be boolean or a string'\n            };\n          }\n        },\n        default: !isTouch\n      });\n      registerOption('resize_img_proportional', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('event_root', { processor: 'object' });\n      registerOption('service_message', { processor: 'string' });\n      registerOption('theme', {\n        processor: value => value === false || isString(value) || isFunction(value),\n        default: 'silver'\n      });\n      registerOption('theme_url', { processor: 'string' });\n      registerOption('formats', { processor: 'object' });\n      registerOption('format_empty_lines', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('format_noneditable_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('preview_styles', {\n        processor: value => {\n          const valid = value === false || isString(value);\n          if (valid) {\n            return {\n              value: value === false ? '' : value,\n              valid\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be false or a string'\n            };\n          }\n        },\n        default: 'font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow'\n      });\n      registerOption('custom_ui_selector', {\n        processor: 'string',\n        default: ''\n      });\n      registerOption('hidden_input', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('submit_patch', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('encoding', { processor: 'string' });\n      registerOption('add_form_submit_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('add_unload_trigger', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_undo_redo_levels', {\n        processor: 'number',\n        default: 0\n      });\n      registerOption('disable_nodechange', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('readonly', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('plugins', {\n        processor: 'string[]',\n        default: []\n      });\n      registerOption('external_plugins', { processor: 'object' });\n      registerOption('forced_plugins', { processor: 'string[]' });\n      registerOption('model', {\n        processor: 'string',\n        default: editor.hasPlugin('rtc') ? 'plugin' : 'dom'\n      });\n      registerOption('model_url', { processor: 'string' });\n      registerOption('block_unsupported_drop', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('visual_table_class', {\n        processor: 'string',\n        default: 'mce-item-table'\n      });\n      registerOption('visual_anchor_class', {\n        processor: 'string',\n        default: 'mce-item-anchor'\n      });\n      registerOption('iframe_aria_text', {\n        processor: 'string',\n        default: 'Rich Text Area. Press ALT-0 for help.'\n      });\n      registerOption('setup', { processor: 'function' });\n      registerOption('init_instance_callback', { processor: 'function' });\n      registerOption('url_converter', {\n        processor: 'function',\n        default: editor.convertURL\n      });\n      registerOption('url_converter_scope', {\n        processor: 'object',\n        default: editor\n      });\n      registerOption('urlconverter_callback', { processor: 'function' });\n      registerOption('allow_conditional_comments', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_html_data_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_svg_data_urls', { processor: 'boolean' });\n      registerOption('allow_html_in_named_anchor', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_script_urls', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('allow_unsafe_link_target', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('convert_fonts_to_spans', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('fix_list_elements', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('preserve_cdata', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('remove_trailing_brs', { processor: 'boolean' });\n      registerOption('inline_styles', {\n        processor: 'boolean',\n        default: true,\n        deprecated: true\n      });\n      registerOption('element_format', {\n        processor: 'string',\n        default: 'html'\n      });\n      registerOption('entities', { processor: 'string' });\n      registerOption('schema', {\n        processor: 'string',\n        default: 'html5'\n      });\n      registerOption('convert_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('relative_urls', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('remove_script_host', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('custom_elements', { processor: 'string' });\n      registerOption('extended_valid_elements', { processor: 'string' });\n      registerOption('invalid_elements', { processor: 'string' });\n      registerOption('invalid_styles', { processor: stringOrObjectProcessor });\n      registerOption('valid_children', { processor: 'string' });\n      registerOption('valid_classes', { processor: stringOrObjectProcessor });\n      registerOption('valid_elements', { processor: 'string' });\n      registerOption('valid_styles', { processor: stringOrObjectProcessor });\n      registerOption('verify_html', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('auto_focus', { processor: value => isString(value) || value === true });\n      registerOption('browser_spellcheck', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('protect', { processor: 'array' });\n      registerOption('images_file_types', {\n        processor: 'string',\n        default: 'jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp'\n      });\n      registerOption('deprecation_warnings', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('a11y_advanced_options', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('api_key', { processor: 'string' });\n      registerOption('paste_block_drop', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_data_images', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_preprocess', { processor: 'function' });\n      registerOption('paste_postprocess', { processor: 'function' });\n      registerOption('paste_webkit_styles', {\n        processor: 'string',\n        default: 'none'\n      });\n      registerOption('paste_remove_styles_if_webkit', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_merge_formats', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('smart_paste', {\n        processor: 'boolean',\n        default: true\n      });\n      registerOption('paste_as_text', {\n        processor: 'boolean',\n        default: false\n      });\n      registerOption('paste_tab_spaces', {\n        processor: 'number',\n        default: 4\n      });\n      registerOption('text_patterns', {\n        processor: value => {\n          if (isArrayOf(value, isObject) || value === false) {\n            const patterns = value === false ? [] : value;\n            return {\n              value: fromRawPatterns(patterns),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be an array of objects or false.'\n            };\n          }\n        },\n        default: [\n          {\n            start: '*',\n            end: '*',\n            format: 'italic'\n          },\n          {\n            start: '**',\n            end: '**',\n            format: 'bold'\n          },\n          {\n            start: '#',\n            format: 'h1'\n          },\n          {\n            start: '##',\n            format: 'h2'\n          },\n          {\n            start: '###',\n            format: 'h3'\n          },\n          {\n            start: '####',\n            format: 'h4'\n          },\n          {\n            start: '#####',\n            format: 'h5'\n          },\n          {\n            start: '######',\n            format: 'h6'\n          },\n          {\n            start: '1. ',\n            cmd: 'InsertOrderedList'\n          },\n          {\n            start: '* ',\n            cmd: 'InsertUnorderedList'\n          },\n          {\n            start: '- ',\n            cmd: 'InsertUnorderedList'\n          }\n        ]\n      });\n      registerOption('text_patterns_lookup', {\n        processor: value => {\n          if (isFunction(value)) {\n            return {\n              value: fromRawPatternsLookup(value),\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a single function'\n            };\n          }\n        },\n        default: _ctx => []\n      });\n      registerOption('noneditable_class', {\n        processor: 'string',\n        default: 'mceNonEditable'\n      });\n      registerOption('editable_class', {\n        processor: 'string',\n        default: 'mceEditable'\n      });\n      registerOption('noneditable_regexp', {\n        processor: value => {\n          if (isArrayOf(value, isRegExp)) {\n            return {\n              value,\n              valid: true\n            };\n          } else if (isRegExp(value)) {\n            return {\n              value: [value],\n              valid: true\n            };\n          } else {\n            return {\n              valid: false,\n              message: 'Must be a RegExp or an array of RegExp.'\n            };\n          }\n        },\n        default: []\n      });\n      registerOption('table_tab_navigation', {\n        processor: 'boolean',\n        default: true\n      });\n      editor.on('ScriptsLoaded', () => {\n        registerOption('directionality', {\n          processor: 'string',\n          default: I18n.isRtl() ? 'rtl' : undefined\n        });\n        registerOption('placeholder', {\n          processor: 'string',\n          default: DOM$a.getAttrib(editor.getElement(), 'placeholder')\n        });\n      });\n    };\n    const getIframeAttrs = option('iframe_attrs');\n    const getDocType = option('doctype');\n    const getDocumentBaseUrl = option('document_base_url');\n    const getBodyId = option('body_id');\n    const getBodyClass = option('body_class');\n    const getContentSecurityPolicy = option('content_security_policy');\n    const shouldPutBrInPre$1 = option('br_in_pre');\n    const getForcedRootBlock = option('forced_root_block');\n    const getForcedRootBlockAttrs = option('forced_root_block_attrs');\n    const getNewlineBehavior = option('newline_behavior');\n    const getBrNewLineSelector = option('br_newline_selector');\n    const getNoNewLineSelector = option('no_newline_selector');\n    const shouldKeepStyles = option('keep_styles');\n    const shouldEndContainerOnEmptyBlock = option('end_container_on_empty_block');\n    const isAutomaticUploadsEnabled = option('automatic_uploads');\n    const shouldReuseFileName = option('images_reuse_filename');\n    const shouldReplaceBlobUris = option('images_replace_blob_uris');\n    const getIconPackName = option('icons');\n    const getIconsUrl = option('icons_url');\n    const getImageUploadUrl = option('images_upload_url');\n    const getImageUploadBasePath = option('images_upload_base_path');\n    const getImagesUploadCredentials = option('images_upload_credentials');\n    const getImagesUploadHandler = option('images_upload_handler');\n    const shouldUseContentCssCors = option('content_css_cors');\n    const getReferrerPolicy = option('referrer_policy');\n    const getLanguageCode = option('language');\n    const getLanguageUrl = option('language_url');\n    const shouldIndentUseMargin = option('indent_use_margin');\n    const getIndentation = option('indentation');\n    const getContentCss = option('content_css');\n    const getContentStyle = option('content_style');\n    const getFontCss = option('font_css');\n    const getDirectionality = option('directionality');\n    const getInlineBoundarySelector = option('inline_boundaries_selector');\n    const getObjectResizing = option('object_resizing');\n    const getResizeImgProportional = option('resize_img_proportional');\n    const getPlaceholder = option('placeholder');\n    const getEventRoot = option('event_root');\n    const getServiceMessage = option('service_message');\n    const getTheme = option('theme');\n    const getThemeUrl = option('theme_url');\n    const getModel = option('model');\n    const getModelUrl = option('model_url');\n    const isInlineBoundariesEnabled = option('inline_boundaries');\n    const getFormats = option('formats');\n    const getPreviewStyles = option('preview_styles');\n    const canFormatEmptyLines = option('format_empty_lines');\n    const getFormatNoneditableSelector = option('format_noneditable_selector');\n    const getCustomUiSelector = option('custom_ui_selector');\n    const isInline = option('inline');\n    const hasHiddenInput = option('hidden_input');\n    const shouldPatchSubmit = option('submit_patch');\n    const shouldAddFormSubmitTrigger = option('add_form_submit_trigger');\n    const shouldAddUnloadTrigger = option('add_unload_trigger');\n    const getCustomUndoRedoLevels = option('custom_undo_redo_levels');\n    const shouldDisableNodeChange = option('disable_nodechange');\n    const isReadOnly$1 = option('readonly');\n    const hasContentCssCors = option('content_css_cors');\n    const getPlugins = option('plugins');\n    const getExternalPlugins$1 = option('external_plugins');\n    const shouldBlockUnsupportedDrop = option('block_unsupported_drop');\n    const isVisualAidsEnabled = option('visual');\n    const getVisualAidsTableClass = option('visual_table_class');\n    const getVisualAidsAnchorClass = option('visual_anchor_class');\n    const getIframeAriaText = option('iframe_aria_text');\n    const getSetupCallback = option('setup');\n    const getInitInstanceCallback = option('init_instance_callback');\n    const getUrlConverterCallback = option('urlconverter_callback');\n    const getAutoFocus = option('auto_focus');\n    const shouldBrowserSpellcheck = option('browser_spellcheck');\n    const getProtect = option('protect');\n    const shouldPasteBlockDrop = option('paste_block_drop');\n    const shouldPasteDataImages = option('paste_data_images');\n    const getPastePreProcess = option('paste_preprocess');\n    const getPastePostProcess = option('paste_postprocess');\n    const getPasteWebkitStyles = option('paste_webkit_styles');\n    const shouldPasteRemoveWebKitStyles = option('paste_remove_styles_if_webkit');\n    const shouldPasteMergeFormats = option('paste_merge_formats');\n    const isSmartPasteEnabled = option('smart_paste');\n    const isPasteAsTextEnabled = option('paste_as_text');\n    const getPasteTabSpaces = option('paste_tab_spaces');\n    const shouldAllowHtmlDataUrls = option('allow_html_data_urls');\n    const getTextPatterns = option('text_patterns');\n    const getTextPatternsLookup = option('text_patterns_lookup');\n    const getNonEditableClass = option('noneditable_class');\n    const getEditableClass = option('editable_class');\n    const getNonEditableRegExps = option('noneditable_regexp');\n    const shouldPreserveCData = option('preserve_cdata');\n    const hasTextPatternsLookup = editor => editor.options.isSet('text_patterns_lookup');\n    const getFontStyleValues = editor => Tools.explode(editor.options.get('font_size_style_values'));\n    const getFontSizeClasses = editor => Tools.explode(editor.options.get('font_size_classes'));\n    const isEncodingXml = editor => editor.options.get('encoding') === 'xml';\n    const getAllowedImageFileTypes = editor => Tools.explode(editor.options.get('images_file_types'));\n    const hasTableTabNavigation = option('table_tab_navigation');\n\n    const isElement$3 = isElement$6;\n    const isText$5 = isText$a;\n    const removeNode$1 = node => {\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        parentNode.removeChild(node);\n      }\n    };\n    const trimCount = text => {\n      const trimmedText = trim$1(text);\n      return {\n        count: text.length - trimmedText.length,\n        text: trimmedText\n      };\n    };\n    const deleteZwspChars = caretContainer => {\n      let idx;\n      while ((idx = caretContainer.data.lastIndexOf(ZWSP$1)) !== -1) {\n        caretContainer.deleteData(idx, 1);\n      }\n    };\n    const removeUnchanged = (caretContainer, pos) => {\n      remove$4(caretContainer);\n      return pos;\n    };\n    const removeTextAndReposition = (caretContainer, pos) => {\n      const before = trimCount(caretContainer.data.substr(0, pos.offset()));\n      const after = trimCount(caretContainer.data.substr(pos.offset()));\n      const text = before.text + after.text;\n      if (text.length > 0) {\n        deleteZwspChars(caretContainer);\n        return CaretPosition(caretContainer, pos.offset() - before.count);\n      } else {\n        return pos;\n      }\n    };\n    const removeElementAndReposition = (caretContainer, pos) => {\n      const parentNode = pos.container();\n      const newPosition = indexOf$1(from(parentNode.childNodes), caretContainer).map(index => {\n        return index < pos.offset() ? CaretPosition(parentNode, pos.offset() - 1) : pos;\n      }).getOr(pos);\n      remove$4(caretContainer);\n      return newPosition;\n    };\n    const removeTextCaretContainer = (caretContainer, pos) => isText$5(caretContainer) && pos.container() === caretContainer ? removeTextAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeElementCaretContainer = (caretContainer, pos) => pos.container() === caretContainer.parentNode ? removeElementAndReposition(caretContainer, pos) : removeUnchanged(caretContainer, pos);\n    const removeAndReposition = (container, pos) => CaretPosition.isTextPosition(pos) ? removeTextCaretContainer(container, pos) : removeElementCaretContainer(container, pos);\n    const remove$4 = caretContainerNode => {\n      if (isElement$3(caretContainerNode) && isCaretContainer$2(caretContainerNode)) {\n        if (hasContent(caretContainerNode)) {\n          caretContainerNode.removeAttribute('data-mce-caret');\n        } else {\n          removeNode$1(caretContainerNode);\n        }\n      }\n      if (isText$5(caretContainerNode)) {\n        deleteZwspChars(caretContainerNode);\n        if (caretContainerNode.data.length === 0) {\n          removeNode$1(caretContainerNode);\n        }\n      }\n    };\n\n    const isContentEditableFalse$7 = isContentEditableFalse$a;\n    const isMedia$1 = isMedia$2;\n    const isTableCell$1 = isTableCell$3;\n    const inlineFakeCaretSelector = '*[contentEditable=false],video,audio,embed,object';\n    const getAbsoluteClientRect = (root, element, before) => {\n      const clientRect = collapse(element.getBoundingClientRect(), before);\n      let scrollX;\n      let scrollY;\n      if (root.tagName === 'BODY') {\n        const docElm = root.ownerDocument.documentElement;\n        scrollX = root.scrollLeft || docElm.scrollLeft;\n        scrollY = root.scrollTop || docElm.scrollTop;\n      } else {\n        const rootRect = root.getBoundingClientRect();\n        scrollX = root.scrollLeft - rootRect.left;\n        scrollY = root.scrollTop - rootRect.top;\n      }\n      clientRect.left += scrollX;\n      clientRect.right += scrollX;\n      clientRect.top += scrollY;\n      clientRect.bottom += scrollY;\n      clientRect.width = 1;\n      let margin = element.offsetWidth - element.clientWidth;\n      if (margin > 0) {\n        if (before) {\n          margin *= -1;\n        }\n        clientRect.left += margin;\n        clientRect.right += margin;\n      }\n      return clientRect;\n    };\n    const trimInlineCaretContainers = root => {\n      var _a, _b;\n      const fakeCaretTargetNodes = descendants(SugarElement.fromDom(root), inlineFakeCaretSelector);\n      for (let i = 0; i < fakeCaretTargetNodes.length; i++) {\n        const node = fakeCaretTargetNodes[i].dom;\n        let sibling = node.previousSibling;\n        if (endsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            (_a = sibling.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(sibling);\n          } else {\n            sibling.deleteData(data.length - 1, 1);\n          }\n        }\n        sibling = node.nextSibling;\n        if (startsWithCaretContainer$1(sibling)) {\n          const data = sibling.data;\n          if (data.length === 1) {\n            (_b = sibling.parentNode) === null || _b === void 0 ? void 0 : _b.removeChild(sibling);\n          } else {\n            sibling.deleteData(0, 1);\n          }\n        }\n      }\n    };\n    const FakeCaret = (editor, root, isBlock, hasFocus) => {\n      const lastVisualCaret = value$2();\n      let cursorInterval;\n      let caretContainerNode;\n      const caretBlock = getForcedRootBlock(editor);\n      const dom = editor.dom;\n      const show = (before, element) => {\n        let rng;\n        hide();\n        if (isTableCell$1(element)) {\n          return null;\n        }\n        if (isBlock(element)) {\n          const caretContainer = insertBlock(caretBlock, element, before);\n          const clientRect = getAbsoluteClientRect(root, element, before);\n          dom.setStyle(caretContainer, 'top', clientRect.top);\n          caretContainerNode = caretContainer;\n          const caret = dom.create('div', {\n            'class': 'mce-visual-caret',\n            'data-mce-bogus': 'all'\n          });\n          dom.setStyles(caret, { ...clientRect });\n          dom.add(root, caret);\n          lastVisualCaret.set({\n            caret,\n            element,\n            before\n          });\n          if (before) {\n            dom.addClass(caret, 'mce-visual-caret-before');\n          }\n          startBlink();\n          rng = element.ownerDocument.createRange();\n          rng.setStart(caretContainer, 0);\n          rng.setEnd(caretContainer, 0);\n        } else {\n          caretContainerNode = insertInline$1(element, before);\n          rng = element.ownerDocument.createRange();\n          if (isInlineFakeCaretTarget(caretContainerNode.nextSibling)) {\n            rng.setStart(caretContainerNode, 0);\n            rng.setEnd(caretContainerNode, 0);\n          } else {\n            rng.setStart(caretContainerNode, 1);\n            rng.setEnd(caretContainerNode, 1);\n          }\n          return rng;\n        }\n        return rng;\n      };\n      const hide = () => {\n        trimInlineCaretContainers(root);\n        if (caretContainerNode) {\n          remove$4(caretContainerNode);\n          caretContainerNode = null;\n        }\n        lastVisualCaret.on(caretState => {\n          dom.remove(caretState.caret);\n          lastVisualCaret.clear();\n        });\n        if (cursorInterval) {\n          clearInterval(cursorInterval);\n          cursorInterval = undefined;\n        }\n      };\n      const startBlink = () => {\n        cursorInterval = setInterval(() => {\n          lastVisualCaret.on(caretState => {\n            if (hasFocus()) {\n              dom.toggleClass(caretState.caret, 'mce-visual-caret-hidden');\n            } else {\n              dom.addClass(caretState.caret, 'mce-visual-caret-hidden');\n            }\n          });\n        }, 500);\n      };\n      const reposition = () => {\n        lastVisualCaret.on(caretState => {\n          const clientRect = getAbsoluteClientRect(root, caretState.element, caretState.before);\n          dom.setStyles(caretState.caret, { ...clientRect });\n        });\n      };\n      const destroy = () => clearInterval(cursorInterval);\n      const getCss = () => '.mce-visual-caret {' + 'position: absolute;' + 'background-color: black;' + 'background-color: currentcolor;' + '}' + '.mce-visual-caret-hidden {' + 'display: none;' + '}' + '*[data-mce-caret] {' + 'position: absolute;' + 'left: -1000px;' + 'right: auto;' + 'top: 0;' + 'margin: 0;' + 'padding: 0;' + '}';\n      return {\n        show,\n        hide,\n        getCss,\n        reposition,\n        destroy\n      };\n    };\n    const isFakeCaretTableBrowser = () => Env.browser.isFirefox();\n    const isInlineFakeCaretTarget = node => isContentEditableFalse$7(node) || isMedia$1(node);\n    const isFakeCaretTarget = node => isInlineFakeCaretTarget(node) || isTable$2(node) && isFakeCaretTableBrowser();\n\n    const isContentEditableTrue$1 = isContentEditableTrue$3;\n    const isContentEditableFalse$6 = isContentEditableFalse$a;\n    const isMedia = isMedia$2;\n    const isBlockLike = matchStyleValues('display', 'block table table-cell table-caption list-item');\n    const isCaretContainer = isCaretContainer$2;\n    const isCaretContainerBlock = isCaretContainerBlock$1;\n    const isElement$2 = isElement$6;\n    const isText$4 = isText$a;\n    const isCaretCandidate$1 = isCaretCandidate$3;\n    const isForwards = direction => direction > 0;\n    const isBackwards = direction => direction < 0;\n    const skipCaretContainers = (walk, shallow) => {\n      let node;\n      while (node = walk(shallow)) {\n        if (!isCaretContainerBlock(node)) {\n          return node;\n        }\n      }\n      return null;\n    };\n    const findNode = (node, direction, predicateFn, rootNode, shallow) => {\n      const walker = new DomTreeWalker(node, rootNode);\n      const isCefOrCaretContainer = isContentEditableFalse$6(node) || isCaretContainerBlock(node);\n      let tempNode;\n      if (isBackwards(direction)) {\n        if (isCefOrCaretContainer) {\n          tempNode = skipCaretContainers(walker.prev.bind(walker), true);\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n        while (tempNode = skipCaretContainers(walker.prev.bind(walker), shallow)) {\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      if (isForwards(direction)) {\n        if (isCefOrCaretContainer) {\n          tempNode = skipCaretContainers(walker.next.bind(walker), true);\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n        while (tempNode = skipCaretContainers(walker.next.bind(walker), shallow)) {\n          if (predicateFn(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      return null;\n    };\n    const getEditingHost = (node, rootNode) => {\n      const isCETrue = node => isContentEditableTrue$1(node.dom);\n      const isRoot = node => node.dom === rootNode;\n      return ancestor$3(SugarElement.fromDom(node), isCETrue, isRoot).map(elm => elm.dom).getOr(rootNode);\n    };\n    const getParentBlock$3 = (node, rootNode) => {\n      while (node && node !== rootNode) {\n        if (isBlockLike(node)) {\n          return node;\n        }\n        node = node.parentNode;\n      }\n      return null;\n    };\n    const isInSameBlock = (caretPosition1, caretPosition2, rootNode) => getParentBlock$3(caretPosition1.container(), rootNode) === getParentBlock$3(caretPosition2.container(), rootNode);\n    const getChildNodeAtRelativeOffset = (relativeOffset, caretPosition) => {\n      if (!caretPosition) {\n        return Optional.none();\n      }\n      const container = caretPosition.container();\n      const offset = caretPosition.offset();\n      if (!isElement$2(container)) {\n        return Optional.none();\n      }\n      return Optional.from(container.childNodes[offset + relativeOffset]);\n    };\n    const beforeAfter = (before, node) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const range = doc.createRange();\n      if (before) {\n        range.setStartBefore(node);\n        range.setEndBefore(node);\n      } else {\n        range.setStartAfter(node);\n        range.setEndAfter(node);\n      }\n      return range;\n    };\n    const isNodesInSameBlock = (root, node1, node2) => getParentBlock$3(node1, root) === getParentBlock$3(node2, root);\n    const lean = (left, root, node) => {\n      const siblingName = left ? 'previousSibling' : 'nextSibling';\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        let sibling = tempNode[siblingName];\n        if (sibling && isCaretContainer(sibling)) {\n          sibling = sibling[siblingName];\n        }\n        if (isContentEditableFalse$6(sibling) || isMedia(sibling)) {\n          if (isNodesInSameBlock(root, sibling, tempNode)) {\n            return sibling;\n          }\n          break;\n        }\n        if (isCaretCandidate$1(sibling)) {\n          break;\n        }\n        tempNode = tempNode.parentNode;\n      }\n      return null;\n    };\n    const before$2 = curry(beforeAfter, true);\n    const after$2 = curry(beforeAfter, false);\n    const normalizeRange = (direction, root, range) => {\n      let node;\n      const leanLeft = curry(lean, true, root);\n      const leanRight = curry(lean, false, root);\n      const container = range.startContainer;\n      const offset = range.startOffset;\n      if (isCaretContainerBlock$1(container)) {\n        const block = isText$4(container) ? container.parentNode : container;\n        const location = block.getAttribute('data-mce-caret');\n        if (location === 'before') {\n          node = block.nextSibling;\n          if (isFakeCaretTarget(node)) {\n            return before$2(node);\n          }\n        }\n        if (location === 'after') {\n          node = block.previousSibling;\n          if (isFakeCaretTarget(node)) {\n            return after$2(node);\n          }\n        }\n      }\n      if (!range.collapsed) {\n        return range;\n      }\n      if (isText$a(container)) {\n        if (isCaretContainer(container)) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (endsWithCaretContainer$1(container) && offset >= container.data.length - 1) {\n          if (direction === 1) {\n            node = leanRight(container);\n            if (node) {\n              return before$2(node);\n            }\n          }\n          return range;\n        }\n        if (startsWithCaretContainer$1(container) && offset <= 1) {\n          if (direction === -1) {\n            node = leanLeft(container);\n            if (node) {\n              return after$2(node);\n            }\n          }\n          return range;\n        }\n        if (offset === container.data.length) {\n          node = leanRight(container);\n          if (node) {\n            return before$2(node);\n          }\n          return range;\n        }\n        if (offset === 0) {\n          node = leanLeft(container);\n          if (node) {\n            return after$2(node);\n          }\n          return range;\n        }\n      }\n      return range;\n    };\n    const getRelativeCefElm = (forward, caretPosition) => getChildNodeAtRelativeOffset(forward ? 0 : -1, caretPosition).filter(isContentEditableFalse$6);\n    const getNormalizedRangeEndPoint = (direction, root, range) => {\n      const normalizedRange = normalizeRange(direction, root, range);\n      return direction === -1 ? CaretPosition.fromRangeStart(normalizedRange) : CaretPosition.fromRangeEnd(normalizedRange);\n    };\n    const getElementFromPosition = pos => Optional.from(pos.getNode()).map(SugarElement.fromDom);\n    const getElementFromPrevPosition = pos => Optional.from(pos.getNode(true)).map(SugarElement.fromDom);\n    const getVisualCaretPosition = (walkFn, caretPosition) => {\n      let pos = caretPosition;\n      while (pos = walkFn(pos)) {\n        if (pos.isVisible()) {\n          return pos;\n        }\n      }\n      return pos;\n    };\n    const isMoveInsideSameBlock = (from, to) => {\n      const inSameBlock = isInSameBlock(from, to);\n      if (!inSameBlock && isBr$6(from.getNode())) {\n        return true;\n      }\n      return inSameBlock;\n    };\n\n    var HDirection;\n    (function (HDirection) {\n      HDirection[HDirection['Backwards'] = -1] = 'Backwards';\n      HDirection[HDirection['Forwards'] = 1] = 'Forwards';\n    }(HDirection || (HDirection = {})));\n    const isContentEditableFalse$5 = isContentEditableFalse$a;\n    const isText$3 = isText$a;\n    const isElement$1 = isElement$6;\n    const isBr$2 = isBr$6;\n    const isCaretCandidate = isCaretCandidate$3;\n    const isAtomic = isAtomic$1;\n    const isEditableCaretCandidate = isEditableCaretCandidate$1;\n    const getParents$3 = (node, root) => {\n      const parents = [];\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        parents.push(tempNode);\n        tempNode = tempNode.parentNode;\n      }\n      return parents;\n    };\n    const nodeAtIndex = (container, offset) => {\n      if (container.hasChildNodes() && offset < container.childNodes.length) {\n        return container.childNodes[offset];\n      }\n      return null;\n    };\n    const getCaretCandidatePosition = (direction, node) => {\n      if (isForwards(direction)) {\n        if (isCaretCandidate(node.previousSibling) && !isText$3(node.previousSibling)) {\n          return CaretPosition.before(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, 0);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isCaretCandidate(node.nextSibling) && !isText$3(node.nextSibling)) {\n          return CaretPosition.after(node);\n        }\n        if (isText$3(node)) {\n          return CaretPosition(node, node.data.length);\n        }\n      }\n      if (isBackwards(direction)) {\n        if (isBr$2(node)) {\n          return CaretPosition.before(node);\n        }\n        return CaretPosition.after(node);\n      }\n      return CaretPosition.before(node);\n    };\n    const moveForwardFromBr = (root, nextNode) => {\n      const nextSibling = nextNode.nextSibling;\n      if (nextSibling && isCaretCandidate(nextSibling)) {\n        if (isText$3(nextSibling)) {\n          return CaretPosition(nextSibling, 0);\n        } else {\n          return CaretPosition.before(nextSibling);\n        }\n      } else {\n        return findCaretPosition$1(HDirection.Forwards, CaretPosition.after(nextNode), root);\n      }\n    };\n    const findCaretPosition$1 = (direction, startPos, root) => {\n      let node;\n      let nextNode;\n      let innerNode;\n      let caretPosition;\n      if (!isElement$1(root) || !startPos) {\n        return null;\n      }\n      if (startPos.isEqual(CaretPosition.after(root)) && root.lastChild) {\n        caretPosition = CaretPosition.after(root.lastChild);\n        if (isBackwards(direction) && isCaretCandidate(root.lastChild) && isElement$1(root.lastChild)) {\n          return isBr$2(root.lastChild) ? CaretPosition.before(root.lastChild) : caretPosition;\n        }\n      } else {\n        caretPosition = startPos;\n      }\n      const container = caretPosition.container();\n      let offset = caretPosition.offset();\n      if (isText$3(container)) {\n        if (isBackwards(direction) && offset > 0) {\n          return CaretPosition(container, --offset);\n        }\n        if (isForwards(direction) && offset < container.length) {\n          return CaretPosition(container, ++offset);\n        }\n        node = container;\n      } else {\n        if (isBackwards(direction) && offset > 0) {\n          nextNode = nodeAtIndex(container, offset - 1);\n          if (isCaretCandidate(nextNode)) {\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, innerNode.data.length);\n                }\n                return CaretPosition.after(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, nextNode.data.length);\n            }\n            return CaretPosition.before(nextNode);\n          }\n        }\n        if (isForwards(direction) && offset < container.childNodes.length) {\n          nextNode = nodeAtIndex(container, offset);\n          if (isCaretCandidate(nextNode)) {\n            if (isBr$2(nextNode)) {\n              return moveForwardFromBr(root, nextNode);\n            }\n            if (!isAtomic(nextNode)) {\n              innerNode = findNode(nextNode, direction, isEditableCaretCandidate, nextNode);\n              if (innerNode) {\n                if (isText$3(innerNode)) {\n                  return CaretPosition(innerNode, 0);\n                }\n                return CaretPosition.before(innerNode);\n              }\n            }\n            if (isText$3(nextNode)) {\n              return CaretPosition(nextNode, 0);\n            }\n            return CaretPosition.after(nextNode);\n          }\n        }\n        node = nextNode ? nextNode : caretPosition.getNode();\n      }\n      if (node && (isForwards(direction) && caretPosition.isAtEnd() || isBackwards(direction) && caretPosition.isAtStart())) {\n        node = findNode(node, direction, always, root, true);\n        if (isEditableCaretCandidate(node, root)) {\n          return getCaretCandidatePosition(direction, node);\n        }\n      }\n      nextNode = node ? findNode(node, direction, isEditableCaretCandidate, root) : node;\n      const rootContentEditableFalseElm = last$2(filter$5(getParents$3(container, root), isContentEditableFalse$5));\n      if (rootContentEditableFalseElm && (!nextNode || !rootContentEditableFalseElm.contains(nextNode))) {\n        if (isForwards(direction)) {\n          caretPosition = CaretPosition.after(rootContentEditableFalseElm);\n        } else {\n          caretPosition = CaretPosition.before(rootContentEditableFalseElm);\n        }\n        return caretPosition;\n      }\n      if (nextNode) {\n        return getCaretCandidatePosition(direction, nextNode);\n      }\n      return null;\n    };\n    const CaretWalker = root => ({\n      next: caretPosition => {\n        return findCaretPosition$1(HDirection.Forwards, caretPosition, root);\n      },\n      prev: caretPosition => {\n        return findCaretPosition$1(HDirection.Backwards, caretPosition, root);\n      }\n    });\n\n    const walkToPositionIn = (forward, root, start) => {\n      const position = forward ? CaretPosition.before(start) : CaretPosition.after(start);\n      return fromPosition(forward, root, position);\n    };\n    const afterElement = node => isBr$6(node) ? CaretPosition.before(node) : CaretPosition.after(node);\n    const isBeforeOrStart = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        return position.offset() === 0;\n      } else {\n        return isCaretCandidate$3(position.getNode());\n      }\n    };\n    const isAfterOrEnd = position => {\n      if (CaretPosition.isTextPosition(position)) {\n        const container = position.container();\n        return position.offset() === container.data.length;\n      } else {\n        return isCaretCandidate$3(position.getNode(true));\n      }\n    };\n    const isBeforeAfterSameElement = (from, to) => !CaretPosition.isTextPosition(from) && !CaretPosition.isTextPosition(to) && from.getNode() === to.getNode(true);\n    const isAtBr = position => !CaretPosition.isTextPosition(position) && isBr$6(position.getNode());\n    const shouldSkipPosition = (forward, from, to) => {\n      if (forward) {\n        return !isBeforeAfterSameElement(from, to) && !isAtBr(from) && isAfterOrEnd(from) && isBeforeOrStart(to);\n      } else {\n        return !isBeforeAfterSameElement(to, from) && isBeforeOrStart(from) && isAfterOrEnd(to);\n      }\n    };\n    const fromPosition = (forward, root, pos) => {\n      const walker = CaretWalker(root);\n      return Optional.from(forward ? walker.next(pos) : walker.prev(pos));\n    };\n    const navigate = (forward, root, from) => fromPosition(forward, root, from).bind(to => {\n      if (isInSameBlock(from, to, root) && shouldSkipPosition(forward, from, to)) {\n        return fromPosition(forward, root, to);\n      } else {\n        return Optional.some(to);\n      }\n    });\n    const navigateIgnore = (forward, root, from, ignoreFilter) => navigate(forward, root, from).bind(pos => ignoreFilter(pos) ? navigateIgnore(forward, root, pos, ignoreFilter) : Optional.some(pos));\n    const positionIn = (forward, element) => {\n      const startNode = forward ? element.firstChild : element.lastChild;\n      if (isText$a(startNode)) {\n        return Optional.some(CaretPosition(startNode, forward ? 0 : startNode.data.length));\n      } else if (startNode) {\n        if (isCaretCandidate$3(startNode)) {\n          return Optional.some(forward ? CaretPosition.before(startNode) : afterElement(startNode));\n        } else {\n          return walkToPositionIn(forward, element, startNode);\n        }\n      } else {\n        return Optional.none();\n      }\n    };\n    const nextPosition = curry(fromPosition, true);\n    const prevPosition = curry(fromPosition, false);\n    const firstPositionIn = curry(positionIn, true);\n    const lastPositionIn = curry(positionIn, false);\n\n    const CARET_ID = '_mce_caret';\n    const isCaretNode = node => isElement$6(node) && node.id === CARET_ID;\n    const getParentCaretContainer = (body, node) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== body) {\n        if (isCaretNode(currentNode)) {\n          return currentNode;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return null;\n    };\n\n    const isStringPathBookmark = bookmark => isString(bookmark.start);\n    const isRangeBookmark = bookmark => has$2(bookmark, 'rng');\n    const isIdBookmark = bookmark => has$2(bookmark, 'id');\n    const isIndexBookmark = bookmark => has$2(bookmark, 'name');\n    const isPathBookmark = bookmark => Tools.isArray(bookmark.start);\n\n    const isForwardBookmark = bookmark => !isIndexBookmark(bookmark) && isBoolean(bookmark.forward) ? bookmark.forward : true;\n    const addBogus = (dom, node) => {\n      if (isElement$6(node) && dom.isBlock(node) && !node.innerHTML) {\n        node.innerHTML = '<br data-mce-bogus=\"1\" />';\n      }\n      return node;\n    };\n    const resolveCaretPositionBookmark = (dom, bookmark) => {\n      const startPos = Optional.from(resolve$1(dom.getRoot(), bookmark.start));\n      const endPos = Optional.from(resolve$1(dom.getRoot(), bookmark.end));\n      return lift2(startPos, endPos, (start, end) => {\n        const range = dom.createRng();\n        range.setStart(start.container(), start.offset());\n        range.setEnd(end.container(), end.offset());\n        return {\n          range,\n          forward: isForwardBookmark(bookmark)\n        };\n      });\n    };\n    const insertZwsp = (node, rng) => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      const textNode = doc.createTextNode(ZWSP$1);\n      node.appendChild(textNode);\n      rng.setStart(textNode, 0);\n      rng.setEnd(textNode, 0);\n    };\n    const isEmpty$1 = node => !node.hasChildNodes();\n    const tryFindRangePosition = (node, rng) => lastPositionIn(node).fold(never, pos => {\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      return true;\n    });\n    const padEmptyCaretContainer = (root, node, rng) => {\n      if (isEmpty$1(node) && getParentCaretContainer(root, node)) {\n        insertZwsp(node, rng);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const setEndPoint = (dom, start, bookmark, rng) => {\n      const point = bookmark[start ? 'start' : 'end'];\n      const root = dom.getRoot();\n      if (point) {\n        let node = root;\n        let offset = point[0];\n        for (let i = point.length - 1; node && i >= 1; i--) {\n          const children = node.childNodes;\n          if (padEmptyCaretContainer(root, node, rng)) {\n            return true;\n          }\n          if (point[i] > children.length - 1) {\n            if (padEmptyCaretContainer(root, node, rng)) {\n              return true;\n            }\n            return tryFindRangePosition(node, rng);\n          }\n          node = children[point[i]];\n        }\n        if (isText$a(node)) {\n          offset = Math.min(point[0], node.data.length);\n        }\n        if (isElement$6(node)) {\n          offset = Math.min(point[0], node.childNodes.length);\n        }\n        if (start) {\n          rng.setStart(node, offset);\n        } else {\n          rng.setEnd(node, offset);\n        }\n      }\n      return true;\n    };\n    const isValidTextNode = node => isText$a(node) && node.data.length > 0;\n    const restoreEndPoint = (dom, suffix, bookmark) => {\n      const marker = dom.get(bookmark.id + '_' + suffix);\n      const markerParent = marker === null || marker === void 0 ? void 0 : marker.parentNode;\n      const keep = bookmark.keep;\n      if (marker && markerParent) {\n        let container;\n        let offset;\n        if (suffix === 'start') {\n          if (!keep) {\n            container = markerParent;\n            offset = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              container = marker.firstChild;\n              offset = 1;\n            } else if (isValidTextNode(marker.nextSibling)) {\n              container = marker.nextSibling;\n              offset = 0;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              container = marker.previousSibling;\n              offset = marker.previousSibling.data.length;\n            } else {\n              container = markerParent;\n              offset = dom.nodeIndex(marker) + 1;\n            }\n          }\n        } else {\n          if (!keep) {\n            container = markerParent;\n            offset = dom.nodeIndex(marker);\n          } else {\n            if (marker.hasChildNodes()) {\n              container = marker.firstChild;\n              offset = 1;\n            } else if (isValidTextNode(marker.previousSibling)) {\n              container = marker.previousSibling;\n              offset = marker.previousSibling.data.length;\n            } else {\n              container = markerParent;\n              offset = dom.nodeIndex(marker);\n            }\n          }\n        }\n        if (!keep) {\n          const prev = marker.previousSibling;\n          const next = marker.nextSibling;\n          Tools.each(Tools.grep(marker.childNodes), node => {\n            if (isText$a(node)) {\n              node.data = node.data.replace(/\\uFEFF/g, '');\n            }\n          });\n          let otherMarker;\n          while (otherMarker = dom.get(bookmark.id + '_' + suffix)) {\n            dom.remove(otherMarker, true);\n          }\n          if (isText$a(next) && isText$a(prev) && !Env.browser.isOpera()) {\n            const idx = prev.data.length;\n            prev.appendData(next.data);\n            dom.remove(next);\n            container = prev;\n            offset = idx;\n          }\n        }\n        return Optional.some(CaretPosition(container, offset));\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolvePaths = (dom, bookmark) => {\n      const range = dom.createRng();\n      if (setEndPoint(dom, true, bookmark, range) && setEndPoint(dom, false, bookmark, range)) {\n        return Optional.some({\n          range,\n          forward: isForwardBookmark(bookmark)\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const resolveId = (dom, bookmark) => {\n      const startPos = restoreEndPoint(dom, 'start', bookmark);\n      const endPos = restoreEndPoint(dom, 'end', bookmark);\n      return lift2(startPos, endPos.or(startPos), (spos, epos) => {\n        const range = dom.createRng();\n        range.setStart(addBogus(dom, spos.container()), spos.offset());\n        range.setEnd(addBogus(dom, epos.container()), epos.offset());\n        return {\n          range,\n          forward: isForwardBookmark(bookmark)\n        };\n      });\n    };\n    const resolveIndex = (dom, bookmark) => Optional.from(dom.select(bookmark.name)[bookmark.index]).map(elm => {\n      const range = dom.createRng();\n      range.selectNode(elm);\n      return {\n        range,\n        forward: true\n      };\n    });\n    const resolve = (selection, bookmark) => {\n      const dom = selection.dom;\n      if (bookmark) {\n        if (isPathBookmark(bookmark)) {\n          return resolvePaths(dom, bookmark);\n        } else if (isStringPathBookmark(bookmark)) {\n          return resolveCaretPositionBookmark(dom, bookmark);\n        } else if (isIdBookmark(bookmark)) {\n          return resolveId(dom, bookmark);\n        } else if (isIndexBookmark(bookmark)) {\n          return resolveIndex(dom, bookmark);\n        } else if (isRangeBookmark(bookmark)) {\n          return Optional.some({\n            range: bookmark.rng,\n            forward: isForwardBookmark(bookmark)\n          });\n        }\n      }\n      return Optional.none();\n    };\n\n    const getBookmark$1 = (selection, type, normalized) => {\n      return getBookmark$2(selection, type, normalized);\n    };\n    const moveToBookmark = (selection, bookmark) => {\n      resolve(selection, bookmark).each(({range, forward}) => {\n        selection.setRng(range, forward);\n      });\n    };\n    const isBookmarkNode$1 = node => {\n      return isElement$6(node) && node.tagName === 'SPAN' && node.getAttribute('data-mce-type') === 'bookmark';\n    };\n\n    const is = expected => actual => expected === actual;\n    const isNbsp = is(nbsp);\n    const isWhiteSpace = chr => chr !== '' && ' \\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n    const isContent = chr => !isWhiteSpace(chr) && !isNbsp(chr) && !isZwsp$1(chr);\n\n    const hexColour = value => ({ value });\n    const toHex = component => {\n      const hex = component.toString(16);\n      return (hex.length === 1 ? '0' + hex : hex).toUpperCase();\n    };\n    const fromRgba = rgbaColour => {\n      const value = toHex(rgbaColour.red) + toHex(rgbaColour.green) + toHex(rgbaColour.blue);\n      return hexColour(value);\n    };\n\n    const rgbRegex = /^\\s*rgb\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)\\s*$/i;\n    const rgbaRegex = /^\\s*rgba\\s*\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d?(?:\\.\\d+)?)\\s*\\)\\s*$/i;\n    const rgbaColour = (red, green, blue, alpha) => ({\n      red,\n      green,\n      blue,\n      alpha\n    });\n    const fromStringValues = (red, green, blue, alpha) => {\n      const r = parseInt(red, 10);\n      const g = parseInt(green, 10);\n      const b = parseInt(blue, 10);\n      const a = parseFloat(alpha);\n      return rgbaColour(r, g, b, a);\n    };\n    const fromString = rgbaString => {\n      if (rgbaString === 'transparent') {\n        return Optional.some(rgbaColour(0, 0, 0, 0));\n      }\n      const rgbMatch = rgbRegex.exec(rgbaString);\n      if (rgbMatch !== null) {\n        return Optional.some(fromStringValues(rgbMatch[1], rgbMatch[2], rgbMatch[3], '1'));\n      }\n      const rgbaMatch = rgbaRegex.exec(rgbaString);\n      if (rgbaMatch !== null) {\n        return Optional.some(fromStringValues(rgbaMatch[1], rgbaMatch[2], rgbaMatch[3], rgbaMatch[4]));\n      }\n      return Optional.none();\n    };\n\n    const rgbaToHexString = color => fromString(color).map(fromRgba).map(h => '#' + h.value).getOr(color);\n\n    const getRanges$1 = selection => {\n      const ranges = [];\n      if (selection) {\n        for (let i = 0; i < selection.rangeCount; i++) {\n          ranges.push(selection.getRangeAt(i));\n        }\n      }\n      return ranges;\n    };\n    const getSelectedNodes = ranges => {\n      return bind$3(ranges, range => {\n        const node = getSelectedNode(range);\n        return node ? [SugarElement.fromDom(node)] : [];\n      });\n    };\n    const hasMultipleRanges = selection => {\n      return getRanges$1(selection).length > 1;\n    };\n\n    const getCellsFromRanges = ranges => filter$5(getSelectedNodes(ranges), isTableCell$2);\n    const getCellsFromElement = elm => descendants(elm, 'td[data-mce-selected],th[data-mce-selected]');\n    const getCellsFromElementOrRanges = (ranges, element) => {\n      const selectedCells = getCellsFromElement(element);\n      return selectedCells.length > 0 ? selectedCells : getCellsFromRanges(ranges);\n    };\n    const getCellsFromEditor = editor => getCellsFromElementOrRanges(getRanges$1(editor.selection.getSel()), SugarElement.fromDom(editor.getBody()));\n    const getClosestTable = (cell, isRoot) => ancestor$2(cell, 'table', isRoot);\n\n    const getStartNode = rng => {\n      const sc = rng.startContainer, so = rng.startOffset;\n      if (isText$a(sc)) {\n        return so === 0 ? Optional.some(SugarElement.fromDom(sc)) : Optional.none();\n      } else {\n        return Optional.from(sc.childNodes[so]).map(SugarElement.fromDom);\n      }\n    };\n    const getEndNode = rng => {\n      const ec = rng.endContainer, eo = rng.endOffset;\n      if (isText$a(ec)) {\n        return eo === ec.data.length ? Optional.some(SugarElement.fromDom(ec)) : Optional.none();\n      } else {\n        return Optional.from(ec.childNodes[eo - 1]).map(SugarElement.fromDom);\n      }\n    };\n    const getFirstChildren = node => {\n      return firstChild(node).fold(constant([node]), child => {\n        return [node].concat(getFirstChildren(child));\n      });\n    };\n    const getLastChildren = node => {\n      return lastChild(node).fold(constant([node]), child => {\n        if (name(child) === 'br') {\n          return prevSibling(child).map(sibling => {\n            return [node].concat(getLastChildren(sibling));\n          }).getOr([]);\n        } else {\n          return [node].concat(getLastChildren(child));\n        }\n      });\n    };\n    const hasAllContentsSelected = (elm, rng) => {\n      return lift2(getStartNode(rng), getEndNode(rng), (startNode, endNode) => {\n        const start = find$2(getFirstChildren(elm), curry(eq, startNode));\n        const end = find$2(getLastChildren(elm), curry(eq, endNode));\n        return start.isSome() && end.isSome();\n      }).getOr(false);\n    };\n    const moveEndPoint = (dom, rng, node, start) => {\n      const root = node;\n      const walker = new DomTreeWalker(node, root);\n      const moveCaretBeforeOnEnterElementsMap = filter$4(dom.schema.getMoveCaretBeforeOnEnterElements(), (_, name) => !contains$2([\n        'td',\n        'th',\n        'table'\n      ], name.toLowerCase()));\n      let currentNode = node;\n      do {\n        if (isText$a(currentNode) && Tools.trim(currentNode.data).length !== 0) {\n          if (start) {\n            rng.setStart(currentNode, 0);\n          } else {\n            rng.setEnd(currentNode, currentNode.data.length);\n          }\n          return;\n        }\n        if (moveCaretBeforeOnEnterElementsMap[currentNode.nodeName]) {\n          if (start) {\n            rng.setStartBefore(currentNode);\n          } else {\n            if (currentNode.nodeName === 'BR') {\n              rng.setEndBefore(currentNode);\n            } else {\n              rng.setEndAfter(currentNode);\n            }\n          }\n          return;\n        }\n      } while (currentNode = start ? walker.next() : walker.prev());\n      if (root.nodeName === 'BODY') {\n        if (start) {\n          rng.setStart(root, 0);\n        } else {\n          rng.setEnd(root, root.childNodes.length);\n        }\n      }\n    };\n    const hasAnyRanges = editor => {\n      const sel = editor.selection.getSel();\n      return isNonNullable(sel) && sel.rangeCount > 0;\n    };\n    const runOnRanges = (editor, executor) => {\n      const fakeSelectionNodes = getCellsFromEditor(editor);\n      if (fakeSelectionNodes.length > 0) {\n        each$e(fakeSelectionNodes, elem => {\n          const node = elem.dom;\n          const fakeNodeRng = editor.dom.createRng();\n          fakeNodeRng.setStartBefore(node);\n          fakeNodeRng.setEndAfter(node);\n          executor(fakeNodeRng, true);\n        });\n      } else {\n        executor(editor.selection.getRng(), false);\n      }\n    };\n    const preserve = (selection, fillBookmark, executor) => {\n      const bookmark = getPersistentBookmark(selection, fillBookmark);\n      executor(bookmark);\n      selection.moveToBookmark(bookmark);\n    };\n\n    const isNode = node => isNumber(node === null || node === void 0 ? void 0 : node.nodeType);\n    const isElementNode$1 = node => isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    const isElementDirectlySelected = (dom, node) => {\n      if (isElementNode$1(node) && !/^(TD|TH)$/.test(node.nodeName)) {\n        const selectedAttr = dom.getAttrib(node, 'data-mce-selected');\n        const value = parseInt(selectedAttr, 10);\n        return !isNaN(value) && value > 0;\n      } else {\n        return false;\n      }\n    };\n    const isEditable$3 = elm => elm.isContentEditable === true;\n    const preserveSelection = (editor, action, shouldMoveStart) => {\n      const {selection, dom} = editor;\n      const selectedNodeBeforeAction = selection.getNode();\n      const isSelectedBeforeNodeNoneditable = isContentEditableFalse$a(selectedNodeBeforeAction);\n      preserve(selection, true, () => {\n        action();\n      });\n      const isBeforeNodeStillNoneditable = isSelectedBeforeNodeNoneditable && isContentEditableFalse$a(selectedNodeBeforeAction);\n      if (isBeforeNodeStillNoneditable && dom.isChildOf(selectedNodeBeforeAction, editor.getBody())) {\n        editor.selection.select(selectedNodeBeforeAction);\n      } else if (shouldMoveStart(selection.getStart())) {\n        moveStartToNearestText(dom, selection);\n      }\n    };\n    const moveStartToNearestText = (dom, selection) => {\n      var _a, _b;\n      const rng = selection.getRng();\n      const {startContainer, startOffset} = rng;\n      const selectedNode = selection.getNode();\n      if (isElementDirectlySelected(dom, selectedNode)) {\n        return;\n      }\n      if (isElement$6(startContainer)) {\n        const nodes = startContainer.childNodes;\n        const root = dom.getRoot();\n        let walker;\n        if (startOffset < nodes.length) {\n          const startNode = nodes[startOffset];\n          walker = new DomTreeWalker(startNode, (_a = dom.getParent(startNode, dom.isBlock)) !== null && _a !== void 0 ? _a : root);\n        } else {\n          const startNode = nodes[nodes.length - 1];\n          walker = new DomTreeWalker(startNode, (_b = dom.getParent(startNode, dom.isBlock)) !== null && _b !== void 0 ? _b : root);\n          walker.next(true);\n        }\n        for (let node = walker.current(); node; node = walker.next()) {\n          if (dom.getContentEditable(node) === 'false') {\n            return;\n          } else if (isText$a(node) && !isWhiteSpaceNode$1(node)) {\n            rng.setStart(node, 0);\n            selection.setRng(rng);\n            return;\n          }\n        }\n      }\n    };\n    const getNonWhiteSpaceSibling = (node, next, inc) => {\n      if (node) {\n        const nextName = next ? 'nextSibling' : 'previousSibling';\n        for (node = inc ? node : node[nextName]; node; node = node[nextName]) {\n          if (isElement$6(node) || !isWhiteSpaceNode$1(node)) {\n            return node;\n          }\n        }\n      }\n      return undefined;\n    };\n    const isTextBlock$1 = (schema, node) => !!schema.getTextBlockElements()[node.nodeName.toLowerCase()] || isTransparentBlock(schema, node);\n    const isValid = (ed, parent, child) => {\n      return ed.schema.isValidChild(parent, child);\n    };\n    const isWhiteSpaceNode$1 = (node, allowSpaces = false) => {\n      if (isNonNullable(node) && isText$a(node)) {\n        const data = allowSpaces ? node.data.replace(/ /g, '\\xA0') : node.data;\n        return isWhitespaceText(data);\n      } else {\n        return false;\n      }\n    };\n    const isEmptyTextNode$1 = node => {\n      return isNonNullable(node) && isText$a(node) && node.length === 0;\n    };\n    const isWrapNoneditableTarget = (editor, node) => {\n      const baseDataSelector = '[data-mce-cef-wrappable]';\n      const formatNoneditableSelector = getFormatNoneditableSelector(editor);\n      const selector = isEmpty$3(formatNoneditableSelector) ? baseDataSelector : `${ baseDataSelector },${ formatNoneditableSelector }`;\n      return is$1(SugarElement.fromDom(node), selector);\n    };\n    const isWrappableNoneditable = (editor, node) => {\n      const dom = editor.dom;\n      return isElementNode$1(node) && dom.getContentEditable(node) === 'false' && isWrapNoneditableTarget(editor, node) && dom.select('[contenteditable=\"true\"]', node).length === 0;\n    };\n    const replaceVars = (value, vars) => {\n      if (isFunction(value)) {\n        return value(vars);\n      } else if (isNonNullable(vars)) {\n        value = value.replace(/%(\\w+)/g, (str, name) => {\n          return vars[name] || str;\n        });\n      }\n      return value;\n    };\n    const isEq$5 = (str1, str2) => {\n      str1 = str1 || '';\n      str2 = str2 || '';\n      str1 = '' + (str1.nodeName || str1);\n      str2 = '' + (str2.nodeName || str2);\n      return str1.toLowerCase() === str2.toLowerCase();\n    };\n    const normalizeStyleValue = (value, name) => {\n      if (isNullable(value)) {\n        return null;\n      } else {\n        let strValue = String(value);\n        if (name === 'color' || name === 'backgroundColor') {\n          strValue = rgbaToHexString(strValue);\n        }\n        if (name === 'fontWeight' && value === 700) {\n          strValue = 'bold';\n        }\n        if (name === 'fontFamily') {\n          strValue = strValue.replace(/[\\'\\\"]/g, '').replace(/,\\s+/g, ',');\n        }\n        return strValue;\n      }\n    };\n    const getStyle = (dom, node, name) => {\n      const style = dom.getStyle(node, name);\n      return normalizeStyleValue(style, name);\n    };\n    const getTextDecoration = (dom, node) => {\n      let decoration;\n      dom.getParent(node, n => {\n        if (isElement$6(n)) {\n          decoration = dom.getStyle(n, 'text-decoration');\n          return !!decoration && decoration !== 'none';\n        } else {\n          return false;\n        }\n      });\n      return decoration;\n    };\n    const getParents$2 = (dom, node, selector) => {\n      return dom.getParents(node, selector, dom.getRoot());\n    };\n    const isFormatPredicate = (editor, formatName, predicate) => {\n      const formats = editor.formatter.get(formatName);\n      return isNonNullable(formats) && exists(formats, predicate);\n    };\n    const isVariableFormatName = (editor, formatName) => {\n      const hasVariableValues = format => {\n        const isVariableValue = val => isFunction(val) || val.length > 1 && val.charAt(0) === '%';\n        return exists([\n          'styles',\n          'attributes'\n        ], key => get$a(format, key).exists(field => {\n          const fieldValues = isArray$1(field) ? field : values(field);\n          return exists(fieldValues, isVariableValue);\n        }));\n      };\n      return isFormatPredicate(editor, formatName, hasVariableValues);\n    };\n    const areSimilarFormats = (editor, formatName, otherFormatName) => {\n      const validKeys = [\n        'inline',\n        'block',\n        'selector',\n        'attributes',\n        'styles',\n        'classes'\n      ];\n      const filterObj = format => filter$4(format, (_, key) => exists(validKeys, validKey => validKey === key));\n      return isFormatPredicate(editor, formatName, fmt1 => {\n        const filteredFmt1 = filterObj(fmt1);\n        return isFormatPredicate(editor, otherFormatName, fmt2 => {\n          const filteredFmt2 = filterObj(fmt2);\n          return equal$1(filteredFmt1, filteredFmt2);\n        });\n      });\n    };\n    const isBlockFormat = format => hasNonNullableKey(format, 'block');\n    const isWrappingBlockFormat = format => isBlockFormat(format) && format.wrapper === true;\n    const isNonWrappingBlockFormat = format => isBlockFormat(format) && format.wrapper !== true;\n    const isSelectorFormat = format => hasNonNullableKey(format, 'selector');\n    const isInlineFormat = format => hasNonNullableKey(format, 'inline');\n    const isMixedFormat = format => isSelectorFormat(format) && isInlineFormat(format) && is$2(get$a(format, 'mixed'), true);\n    const shouldExpandToSelector = format => isSelectorFormat(format) && format.expand !== false && !isInlineFormat(format);\n\n    const isBookmarkNode = isBookmarkNode$1;\n    const getParents$1 = getParents$2;\n    const isWhiteSpaceNode = isWhiteSpaceNode$1;\n    const isTextBlock = isTextBlock$1;\n    const isBogusBr = node => {\n      return isBr$6(node) && node.getAttribute('data-mce-bogus') && !node.nextSibling;\n    };\n    const findParentContentEditable = (dom, node) => {\n      let parent = node;\n      while (parent) {\n        if (isElement$6(parent) && dom.getContentEditable(parent)) {\n          return dom.getContentEditable(parent) === 'false' ? parent : node;\n        }\n        parent = parent.parentNode;\n      }\n      return node;\n    };\n    const walkText = (start, node, offset, predicate) => {\n      const str = node.data;\n      if (start) {\n        for (let i = offset; i > 0; i--) {\n          if (predicate(str.charAt(i - 1))) {\n            return i;\n          }\n        }\n      } else {\n        for (let i = offset; i < str.length; i++) {\n          if (predicate(str.charAt(i))) {\n            return i;\n          }\n        }\n      }\n      return -1;\n    };\n    const findSpace = (start, node, offset) => walkText(start, node, offset, c => isNbsp(c) || isWhiteSpace(c));\n    const findContent = (start, node, offset) => walkText(start, node, offset, isContent);\n    const findWordEndPoint = (dom, body, container, offset, start, includeTrailingSpaces) => {\n      let lastTextNode;\n      const rootNode = dom.getParent(container, dom.isBlock) || body;\n      const walk = (container, offset, pred) => {\n        const textSeeker = TextSeeker(dom);\n        const walker = start ? textSeeker.backwards : textSeeker.forwards;\n        return Optional.from(walker(container, offset, (text, textOffset) => {\n          if (isBookmarkNode(text.parentNode)) {\n            return -1;\n          } else {\n            lastTextNode = text;\n            return pred(start, text, textOffset);\n          }\n        }, rootNode));\n      };\n      const spaceResult = walk(container, offset, findSpace);\n      return spaceResult.bind(result => includeTrailingSpaces ? walk(result.container, result.offset + (start ? -1 : 0), findContent) : Optional.some(result)).orThunk(() => lastTextNode ? Optional.some({\n        container: lastTextNode,\n        offset: start ? 0 : lastTextNode.length\n      }) : Optional.none());\n    };\n    const findSelectorEndPoint = (dom, formatList, rng, container, siblingName) => {\n      const sibling = container[siblingName];\n      if (isText$a(container) && isEmpty$3(container.data) && sibling) {\n        container = sibling;\n      }\n      const parents = getParents$1(dom, container);\n      for (let i = 0; i < parents.length; i++) {\n        for (let y = 0; y < formatList.length; y++) {\n          const curFormat = formatList[y];\n          if (isNonNullable(curFormat.collapsed) && curFormat.collapsed !== rng.collapsed) {\n            continue;\n          }\n          if (isSelectorFormat(curFormat) && dom.is(parents[i], curFormat.selector)) {\n            return parents[i];\n          }\n        }\n      }\n      return container;\n    };\n    const findBlockEndPoint = (dom, formatList, container, siblingName) => {\n      var _a;\n      let node = container;\n      const root = dom.getRoot();\n      const format = formatList[0];\n      if (isBlockFormat(format)) {\n        node = format.wrapper ? null : dom.getParent(container, format.block, root);\n      }\n      if (!node) {\n        const scopeRoot = (_a = dom.getParent(container, 'LI,TD,TH')) !== null && _a !== void 0 ? _a : root;\n        node = dom.getParent(isText$a(container) ? container.parentNode : container, node => node !== root && isTextBlock(dom.schema, node), scopeRoot);\n      }\n      if (node && isBlockFormat(format) && format.wrapper) {\n        node = getParents$1(dom, node, 'ul,ol').reverse()[0] || node;\n      }\n      if (!node) {\n        node = container;\n        while (node && node[siblingName] && !dom.isBlock(node[siblingName])) {\n          node = node[siblingName];\n          if (isEq$5(node, 'br')) {\n            break;\n          }\n        }\n      }\n      return node || container;\n    };\n    const isAtBlockBoundary$1 = (dom, root, container, siblingName) => {\n      const parent = container.parentNode;\n      if (isNonNullable(container[siblingName])) {\n        return false;\n      } else if (parent === root || isNullable(parent) || dom.isBlock(parent)) {\n        return true;\n      } else {\n        return isAtBlockBoundary$1(dom, root, parent, siblingName);\n      }\n    };\n    const findParentContainer = (dom, formatList, container, offset, start) => {\n      let parent = container;\n      const siblingName = start ? 'previousSibling' : 'nextSibling';\n      const root = dom.getRoot();\n      if (isText$a(container) && !isWhiteSpaceNode(container)) {\n        if (start ? offset > 0 : offset < container.data.length) {\n          return container;\n        }\n      }\n      while (parent) {\n        if (!formatList[0].block_expand && dom.isBlock(parent)) {\n          return parent;\n        }\n        for (let sibling = parent[siblingName]; sibling; sibling = sibling[siblingName]) {\n          const allowSpaces = isText$a(sibling) && !isAtBlockBoundary$1(dom, root, sibling, siblingName);\n          if (!isBookmarkNode(sibling) && !isBogusBr(sibling) && !isWhiteSpaceNode(sibling, allowSpaces)) {\n            return parent;\n          }\n        }\n        if (parent === root || parent.parentNode === root) {\n          container = parent;\n          break;\n        }\n        parent = parent.parentNode;\n      }\n      return container;\n    };\n    const isSelfOrParentBookmark = container => isBookmarkNode(container.parentNode) || isBookmarkNode(container);\n    const expandRng = (dom, rng, formatList, includeTrailingSpace = false) => {\n      let {startContainer, startOffset, endContainer, endOffset} = rng;\n      const format = formatList[0];\n      if (isElement$6(startContainer) && startContainer.hasChildNodes()) {\n        startContainer = getNode$1(startContainer, startOffset);\n        if (isText$a(startContainer)) {\n          startOffset = 0;\n        }\n      }\n      if (isElement$6(endContainer) && endContainer.hasChildNodes()) {\n        endContainer = getNode$1(endContainer, rng.collapsed ? endOffset : endOffset - 1);\n        if (isText$a(endContainer)) {\n          endOffset = endContainer.data.length;\n        }\n      }\n      startContainer = findParentContentEditable(dom, startContainer);\n      endContainer = findParentContentEditable(dom, endContainer);\n      if (isSelfOrParentBookmark(startContainer)) {\n        startContainer = isBookmarkNode(startContainer) ? startContainer : startContainer.parentNode;\n        if (rng.collapsed) {\n          startContainer = startContainer.previousSibling || startContainer;\n        } else {\n          startContainer = startContainer.nextSibling || startContainer;\n        }\n        if (isText$a(startContainer)) {\n          startOffset = rng.collapsed ? startContainer.length : 0;\n        }\n      }\n      if (isSelfOrParentBookmark(endContainer)) {\n        endContainer = isBookmarkNode(endContainer) ? endContainer : endContainer.parentNode;\n        if (rng.collapsed) {\n          endContainer = endContainer.nextSibling || endContainer;\n        } else {\n          endContainer = endContainer.previousSibling || endContainer;\n        }\n        if (isText$a(endContainer)) {\n          endOffset = rng.collapsed ? 0 : endContainer.length;\n        }\n      }\n      if (rng.collapsed) {\n        const startPoint = findWordEndPoint(dom, dom.getRoot(), startContainer, startOffset, true, includeTrailingSpace);\n        startPoint.each(({container, offset}) => {\n          startContainer = container;\n          startOffset = offset;\n        });\n        const endPoint = findWordEndPoint(dom, dom.getRoot(), endContainer, endOffset, false, includeTrailingSpace);\n        endPoint.each(({container, offset}) => {\n          endContainer = container;\n          endOffset = offset;\n        });\n      }\n      if (isInlineFormat(format) || format.block_expand) {\n        if (!isInlineFormat(format) || (!isText$a(startContainer) || startOffset === 0)) {\n          startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n        }\n        if (!isInlineFormat(format) || (!isText$a(endContainer) || endOffset === endContainer.data.length)) {\n          endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n        }\n      }\n      if (shouldExpandToSelector(format)) {\n        startContainer = findSelectorEndPoint(dom, formatList, rng, startContainer, 'previousSibling');\n        endContainer = findSelectorEndPoint(dom, formatList, rng, endContainer, 'nextSibling');\n      }\n      if (isBlockFormat(format) || isSelectorFormat(format)) {\n        startContainer = findBlockEndPoint(dom, formatList, startContainer, 'previousSibling');\n        endContainer = findBlockEndPoint(dom, formatList, endContainer, 'nextSibling');\n        if (isBlockFormat(format)) {\n          if (!dom.isBlock(startContainer)) {\n            startContainer = findParentContainer(dom, formatList, startContainer, startOffset, true);\n          }\n          if (!dom.isBlock(endContainer)) {\n            endContainer = findParentContainer(dom, formatList, endContainer, endOffset, false);\n          }\n        }\n      }\n      if (isElement$6(startContainer) && startContainer.parentNode) {\n        startOffset = dom.nodeIndex(startContainer);\n        startContainer = startContainer.parentNode;\n      }\n      if (isElement$6(endContainer) && endContainer.parentNode) {\n        endOffset = dom.nodeIndex(endContainer) + 1;\n        endContainer = endContainer.parentNode;\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const walk$3 = (dom, rng, callback) => {\n      var _a;\n      const startOffset = rng.startOffset;\n      const startContainer = getNode$1(rng.startContainer, startOffset);\n      const endOffset = rng.endOffset;\n      const endContainer = getNode$1(rng.endContainer, endOffset - 1);\n      const exclude = nodes => {\n        const firstNode = nodes[0];\n        if (isText$a(firstNode) && firstNode === startContainer && startOffset >= firstNode.data.length) {\n          nodes.splice(0, 1);\n        }\n        const lastNode = nodes[nodes.length - 1];\n        if (endOffset === 0 && nodes.length > 0 && lastNode === endContainer && isText$a(lastNode)) {\n          nodes.splice(nodes.length - 1, 1);\n        }\n        return nodes;\n      };\n      const collectSiblings = (node, name, endNode) => {\n        const siblings = [];\n        for (; node && node !== endNode; node = node[name]) {\n          siblings.push(node);\n        }\n        return siblings;\n      };\n      const findEndPoint = (node, root) => dom.getParent(node, node => node.parentNode === root, root);\n      const walkBoundary = (startNode, endNode, next) => {\n        const siblingName = next ? 'nextSibling' : 'previousSibling';\n        for (let node = startNode, parent = node.parentNode; node && node !== endNode; node = parent) {\n          parent = node.parentNode;\n          const siblings = collectSiblings(node === startNode ? node : node[siblingName], siblingName);\n          if (siblings.length) {\n            if (!next) {\n              siblings.reverse();\n            }\n            callback(exclude(siblings));\n          }\n        }\n      };\n      if (startContainer === endContainer) {\n        return callback(exclude([startContainer]));\n      }\n      const ancestor = (_a = dom.findCommonAncestor(startContainer, endContainer)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      if (dom.isChildOf(startContainer, endContainer)) {\n        return walkBoundary(startContainer, ancestor, true);\n      }\n      if (dom.isChildOf(endContainer, startContainer)) {\n        return walkBoundary(endContainer, ancestor);\n      }\n      const startPoint = findEndPoint(startContainer, ancestor) || startContainer;\n      const endPoint = findEndPoint(endContainer, ancestor) || endContainer;\n      walkBoundary(startContainer, startPoint, true);\n      const siblings = collectSiblings(startPoint === startContainer ? startPoint : startPoint.nextSibling, 'nextSibling', endPoint === endContainer ? endPoint.nextSibling : endPoint);\n      if (siblings.length) {\n        callback(exclude(siblings));\n      }\n      walkBoundary(endContainer, endPoint);\n    };\n\n    const validBlocks = [\n      'pre[class*=language-][contenteditable=\"false\"]',\n      'figure.image',\n      'div[data-ephox-embed-iri]',\n      'div.tiny-pageembed',\n      'div.mce-toc',\n      'div[data-mce-toc]'\n    ];\n    const isZeroWidth = elem => isText$b(elem) && get$3(elem) === ZWSP$1;\n    const context = (editor, elem, wrapName, nodeName) => parent(elem).fold(() => 'skipping', parent => {\n      if (nodeName === 'br' || isZeroWidth(elem)) {\n        return 'valid';\n      } else if (isAnnotation(elem)) {\n        return 'existing';\n      } else if (isCaretNode(elem.dom)) {\n        return 'caret';\n      } else if (exists(validBlocks, selector => is$1(elem, selector))) {\n        return 'valid-block';\n      } else if (!isValid(editor, wrapName, nodeName) || !isValid(editor, name(parent), wrapName)) {\n        return 'invalid-child';\n      } else {\n        return 'valid';\n      }\n    });\n\n    const applyWordGrab = (editor, rng) => {\n      const r = expandRng(editor.dom, rng, [{ inline: 'span' }]);\n      rng.setStart(r.startContainer, r.startOffset);\n      rng.setEnd(r.endContainer, r.endOffset);\n      editor.selection.setRng(rng);\n    };\n    const applyAnnotation = (elem, masterUId, data, annotationName, decorate, directAnnotation) => {\n      const {uid = masterUId, ...otherData} = data;\n      add$2(elem, annotation());\n      set$2(elem, `${ dataAnnotationId() }`, uid);\n      set$2(elem, `${ dataAnnotation() }`, annotationName);\n      const {attributes = {}, classes = []} = decorate(uid, otherData);\n      setAll$1(elem, attributes);\n      add(elem, classes);\n      if (directAnnotation) {\n        if (classes.length > 0) {\n          set$2(elem, `${ dataAnnotationClasses() }`, classes.join(','));\n        }\n        const attributeNames = keys(attributes);\n        if (attributeNames.length > 0) {\n          set$2(elem, `${ dataAnnotationAttributes() }`, attributeNames.join(','));\n        }\n      }\n    };\n    const removeDirectAnnotation = elem => {\n      remove$8(elem, annotation());\n      remove$b(elem, `${ dataAnnotationId() }`);\n      remove$b(elem, `${ dataAnnotation() }`);\n      remove$b(elem, `${ dataAnnotationActive() }`);\n      const customAttrNames = getOpt(elem, `${ dataAnnotationAttributes() }`).map(names => names.split(',')).getOr([]);\n      const customClasses = getOpt(elem, `${ dataAnnotationClasses() }`).map(names => names.split(',')).getOr([]);\n      each$e(customAttrNames, name => remove$b(elem, name));\n      remove$5(elem, customClasses);\n      remove$b(elem, `${ dataAnnotationClasses() }`);\n      remove$b(elem, `${ dataAnnotationAttributes() }`);\n    };\n    const makeAnnotation = (eDoc, uid, data, annotationName, decorate) => {\n      const master = SugarElement.fromTag('span', eDoc);\n      applyAnnotation(master, uid, data, annotationName, decorate, false);\n      return master;\n    };\n    const annotate = (editor, rng, uid, annotationName, decorate, data) => {\n      const newWrappers = [];\n      const master = makeAnnotation(editor.getDoc(), uid, data, annotationName, decorate);\n      const wrapper = value$2();\n      const finishWrapper = () => {\n        wrapper.clear();\n      };\n      const getOrOpenWrapper = () => wrapper.get().getOrThunk(() => {\n        const nu = shallow$1(master);\n        newWrappers.push(nu);\n        wrapper.set(nu);\n        return nu;\n      });\n      const processElements = elems => {\n        each$e(elems, processElement);\n      };\n      const processElement = elem => {\n        const ctx = context(editor, elem, 'span', name(elem));\n        switch (ctx) {\n        case 'invalid-child': {\n            finishWrapper();\n            const children = children$1(elem);\n            processElements(children);\n            finishWrapper();\n            break;\n          }\n        case 'valid-block': {\n            finishWrapper();\n            applyAnnotation(elem, uid, data, annotationName, decorate, true);\n            break;\n          }\n        case 'valid': {\n            const w = getOrOpenWrapper();\n            wrap$2(elem, w);\n            break;\n          }\n        }\n      };\n      const processNodes = nodes => {\n        const elems = map$3(nodes, SugarElement.fromDom);\n        processElements(elems);\n      };\n      walk$3(editor.dom, rng, nodes => {\n        finishWrapper();\n        processNodes(nodes);\n      });\n      return newWrappers;\n    };\n    const annotateWithBookmark = (editor, name, settings, data) => {\n      editor.undoManager.transact(() => {\n        const selection = editor.selection;\n        const initialRng = selection.getRng();\n        const hasFakeSelection = getCellsFromEditor(editor).length > 0;\n        const masterUid = generate$1('mce-annotation');\n        if (initialRng.collapsed && !hasFakeSelection) {\n          applyWordGrab(editor, initialRng);\n        }\n        if (selection.getRng().collapsed && !hasFakeSelection) {\n          const wrapper = makeAnnotation(editor.getDoc(), masterUid, data, name, settings.decorate);\n          set(wrapper, nbsp);\n          selection.getRng().insertNode(wrapper.dom);\n          selection.select(wrapper.dom);\n        } else {\n          preserve(selection, false, () => {\n            runOnRanges(editor, selectionRng => {\n              annotate(editor, selectionRng, masterUid, name, settings.decorate, data);\n            });\n          });\n        }\n      });\n    };\n\n    const Annotator = editor => {\n      const registry = create$c();\n      setup$w(editor, registry);\n      const changes = setup$x(editor, registry);\n      const isSpan = isTag('span');\n      const removeAnnotations = elements => {\n        each$e(elements, element => {\n          if (isSpan(element)) {\n            unwrap(element);\n          } else {\n            removeDirectAnnotation(element);\n          }\n        });\n      };\n      return {\n        register: (name, settings) => {\n          registry.register(name, settings);\n        },\n        annotate: (name, data) => {\n          registry.lookup(name).each(settings => {\n            annotateWithBookmark(editor, name, settings, data);\n          });\n        },\n        annotationChanged: (name, callback) => {\n          changes.addListener(name, callback);\n        },\n        remove: name => {\n          const bookmark = editor.selection.getBookmark();\n          identify(editor, Optional.some(name)).each(({elements}) => {\n            removeAnnotations(elements);\n          });\n          editor.selection.moveToBookmark(bookmark);\n        },\n        removeAll: name => {\n          const bookmark = editor.selection.getBookmark();\n          each$d(findAll(editor, name), (elements, _) => {\n            removeAnnotations(elements);\n          });\n          editor.selection.moveToBookmark(bookmark);\n        },\n        getAll: name => {\n          const directory = findAll(editor, name);\n          return map$2(directory, elems => map$3(elems, elem => elem.dom));\n        }\n      };\n    };\n\n    const BookmarkManager = selection => {\n      return {\n        getBookmark: curry(getBookmark$1, selection),\n        moveToBookmark: curry(moveToBookmark, selection)\n      };\n    };\n    BookmarkManager.isBookmarkNode = isBookmarkNode$1;\n\n    const isXYWithinRange = (clientX, clientY, range) => {\n      if (range.collapsed) {\n        return false;\n      } else {\n        return exists(range.getClientRects(), rect => containsXY(rect, clientX, clientY));\n      }\n    };\n\n    const firePreProcess = (editor, args) => editor.dispatch('PreProcess', args);\n    const firePostProcess = (editor, args) => editor.dispatch('PostProcess', args);\n    const fireRemove = editor => {\n      editor.dispatch('remove');\n    };\n    const fireDetach = editor => {\n      editor.dispatch('detach');\n    };\n    const fireSwitchMode = (editor, mode) => {\n      editor.dispatch('SwitchMode', { mode });\n    };\n    const fireObjectResizeStart = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResizeStart', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const fireObjectResized = (editor, target, width, height, origin) => {\n      editor.dispatch('ObjectResized', {\n        target,\n        width,\n        height,\n        origin\n      });\n    };\n    const firePreInit = editor => {\n      editor.dispatch('PreInit');\n    };\n    const firePostRender = editor => {\n      editor.dispatch('PostRender');\n    };\n    const fireInit = editor => {\n      editor.dispatch('Init');\n    };\n    const firePlaceholderToggle = (editor, state) => {\n      editor.dispatch('PlaceholderToggle', { state });\n    };\n    const fireError = (editor, errorType, error) => {\n      editor.dispatch(errorType, error);\n    };\n    const fireFormatApply = (editor, format, node, vars) => {\n      editor.dispatch('FormatApply', {\n        format,\n        node,\n        vars\n      });\n    };\n    const fireFormatRemove = (editor, format, node, vars) => {\n      editor.dispatch('FormatRemove', {\n        format,\n        node,\n        vars\n      });\n    };\n    const fireBeforeSetContent = (editor, args) => editor.dispatch('BeforeSetContent', args);\n    const fireSetContent = (editor, args) => editor.dispatch('SetContent', args);\n    const fireBeforeGetContent = (editor, args) => editor.dispatch('BeforeGetContent', args);\n    const fireGetContent = (editor, args) => editor.dispatch('GetContent', args);\n    const fireAutocompleterStart = (editor, args) => {\n      editor.dispatch('AutocompleterStart', args);\n    };\n    const fireAutocompleterUpdate = (editor, args) => {\n      editor.dispatch('AutocompleterUpdate', args);\n    };\n    const fireAutocompleterEnd = editor => {\n      editor.dispatch('AutocompleterEnd');\n    };\n    const firePastePreProcess = (editor, html, internal) => editor.dispatch('PastePreProcess', {\n      content: html,\n      internal\n    });\n    const firePastePostProcess = (editor, node, internal) => editor.dispatch('PastePostProcess', {\n      node,\n      internal\n    });\n    const firePastePlainTextToggle = (editor, state) => editor.dispatch('PastePlainTextToggle', { state });\n\n    const VK = {\n      BACKSPACE: 8,\n      DELETE: 46,\n      DOWN: 40,\n      ENTER: 13,\n      ESC: 27,\n      LEFT: 37,\n      RIGHT: 39,\n      SPACEBAR: 32,\n      TAB: 9,\n      UP: 38,\n      PAGE_UP: 33,\n      PAGE_DOWN: 34,\n      END: 35,\n      HOME: 36,\n      modifierPressed: e => {\n        return e.shiftKey || e.ctrlKey || e.altKey || VK.metaKeyPressed(e);\n      },\n      metaKeyPressed: e => {\n        return Env.os.isMacOS() || Env.os.isiOS() ? e.metaKey : e.ctrlKey && !e.altKey;\n      }\n    };\n\n    const elementSelectionAttr = 'data-mce-selected';\n    const controlElmSelector = 'table,img,figure.image,hr,video,span.mce-preview-object';\n    const abs = Math.abs;\n    const round$1 = Math.round;\n    const resizeHandles = {\n      nw: [\n        0,\n        0,\n        -1,\n        -1\n      ],\n      ne: [\n        1,\n        0,\n        1,\n        -1\n      ],\n      se: [\n        1,\n        1,\n        1,\n        1\n      ],\n      sw: [\n        0,\n        1,\n        -1,\n        1\n      ]\n    };\n    const isTouchEvent = evt => evt.type === 'longpress' || evt.type.indexOf('touch') === 0;\n    const ControlSelection = (selection, editor) => {\n      const dom = editor.dom;\n      const editableDoc = editor.getDoc();\n      const rootDocument = document;\n      const rootElement = editor.getBody();\n      let selectedElm, selectedElmGhost, resizeHelper, selectedHandle, resizeBackdrop;\n      let startX, startY, selectedElmX, selectedElmY, startW, startH, ratio, resizeStarted;\n      let width;\n      let height;\n      let startScrollWidth;\n      let startScrollHeight;\n      const isImage = elm => isNonNullable(elm) && (isImg(elm) || dom.is(elm, 'figure.image'));\n      const isMedia = elm => isMedia$2(elm) || dom.hasClass(elm, 'mce-preview-object');\n      const isEventOnImageOutsideRange = (evt, range) => {\n        if (isTouchEvent(evt)) {\n          const touch = evt.touches[0];\n          return isImage(evt.target) && !isXYWithinRange(touch.clientX, touch.clientY, range);\n        } else {\n          return isImage(evt.target) && !isXYWithinRange(evt.clientX, evt.clientY, range);\n        }\n      };\n      const contextMenuSelectImage = evt => {\n        const target = evt.target;\n        if (isEventOnImageOutsideRange(evt, editor.selection.getRng()) && !evt.isDefaultPrevented()) {\n          editor.selection.select(target);\n        }\n      };\n      const getResizeTargets = elm => {\n        if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return [\n            elm,\n            elm.firstElementChild\n          ];\n        } else if (dom.is(elm, 'figure.image')) {\n          return [elm.querySelector('img')];\n        } else {\n          return [elm];\n        }\n      };\n      const isResizable = elm => {\n        const selector = getObjectResizing(editor);\n        if (!selector) {\n          return false;\n        }\n        if (elm.getAttribute('data-mce-resize') === 'false') {\n          return false;\n        }\n        if (elm === editor.getBody()) {\n          return false;\n        }\n        if (dom.hasClass(elm, 'mce-preview-object') && isNonNullable(elm.firstElementChild)) {\n          return is$1(SugarElement.fromDom(elm.firstElementChild), selector);\n        } else {\n          return is$1(SugarElement.fromDom(elm), selector);\n        }\n      };\n      const createGhostElement = elm => {\n        if (isMedia(elm)) {\n          return dom.create('img', { src: Env.transparentSrc });\n        } else {\n          return elm.cloneNode(true);\n        }\n      };\n      const setSizeProp = (element, name, value) => {\n        if (isNonNullable(value)) {\n          const targets = getResizeTargets(element);\n          each$e(targets, target => {\n            if (target.style[name] || !editor.schema.isValid(target.nodeName.toLowerCase(), name)) {\n              dom.setStyle(target, name, value);\n            } else {\n              dom.setAttrib(target, name, '' + value);\n            }\n          });\n        }\n      };\n      const setGhostElmSize = (ghostElm, width, height) => {\n        setSizeProp(ghostElm, 'width', width);\n        setSizeProp(ghostElm, 'height', height);\n      };\n      const resizeGhostElement = e => {\n        let deltaX, deltaY, proportional;\n        let resizeHelperX, resizeHelperY;\n        deltaX = e.screenX - startX;\n        deltaY = e.screenY - startY;\n        width = deltaX * selectedHandle[2] + startW;\n        height = deltaY * selectedHandle[3] + startH;\n        width = width < 5 ? 5 : width;\n        height = height < 5 ? 5 : height;\n        if ((isImage(selectedElm) || isMedia(selectedElm)) && getResizeImgProportional(editor) !== false) {\n          proportional = !VK.modifierPressed(e);\n        } else {\n          proportional = VK.modifierPressed(e);\n        }\n        if (proportional) {\n          if (abs(deltaX) > abs(deltaY)) {\n            height = round$1(width * ratio);\n            width = round$1(height / ratio);\n          } else {\n            width = round$1(height / ratio);\n            height = round$1(width * ratio);\n          }\n        }\n        setGhostElmSize(selectedElmGhost, width, height);\n        resizeHelperX = selectedHandle.startPos.x + deltaX;\n        resizeHelperY = selectedHandle.startPos.y + deltaY;\n        resizeHelperX = resizeHelperX > 0 ? resizeHelperX : 0;\n        resizeHelperY = resizeHelperY > 0 ? resizeHelperY : 0;\n        dom.setStyles(resizeHelper, {\n          left: resizeHelperX,\n          top: resizeHelperY,\n          display: 'block'\n        });\n        resizeHelper.innerHTML = width + ' &times; ' + height;\n        if (selectedHandle[2] < 0 && selectedElmGhost.clientWidth <= width) {\n          dom.setStyle(selectedElmGhost, 'left', selectedElmX + (startW - width));\n        }\n        if (selectedHandle[3] < 0 && selectedElmGhost.clientHeight <= height) {\n          dom.setStyle(selectedElmGhost, 'top', selectedElmY + (startH - height));\n        }\n        deltaX = rootElement.scrollWidth - startScrollWidth;\n        deltaY = rootElement.scrollHeight - startScrollHeight;\n        if (deltaX + deltaY !== 0) {\n          dom.setStyles(resizeHelper, {\n            left: resizeHelperX - deltaX,\n            top: resizeHelperY - deltaY\n          });\n        }\n        if (!resizeStarted) {\n          fireObjectResizeStart(editor, selectedElm, startW, startH, 'corner-' + selectedHandle.name);\n          resizeStarted = true;\n        }\n      };\n      const endGhostResize = () => {\n        const wasResizeStarted = resizeStarted;\n        resizeStarted = false;\n        if (wasResizeStarted) {\n          setSizeProp(selectedElm, 'width', width);\n          setSizeProp(selectedElm, 'height', height);\n        }\n        dom.unbind(editableDoc, 'mousemove', resizeGhostElement);\n        dom.unbind(editableDoc, 'mouseup', endGhostResize);\n        if (rootDocument !== editableDoc) {\n          dom.unbind(rootDocument, 'mousemove', resizeGhostElement);\n          dom.unbind(rootDocument, 'mouseup', endGhostResize);\n        }\n        dom.remove(selectedElmGhost);\n        dom.remove(resizeHelper);\n        dom.remove(resizeBackdrop);\n        showResizeRect(selectedElm);\n        if (wasResizeStarted) {\n          fireObjectResized(editor, selectedElm, width, height, 'corner-' + selectedHandle.name);\n          dom.setAttrib(selectedElm, 'style', dom.getAttrib(selectedElm, 'style'));\n        }\n        editor.nodeChanged();\n      };\n      const showResizeRect = targetElm => {\n        unbindResizeHandleEvents();\n        const position = dom.getPos(targetElm, rootElement);\n        const selectedElmX = position.x;\n        const selectedElmY = position.y;\n        const rect = targetElm.getBoundingClientRect();\n        const targetWidth = rect.width || rect.right - rect.left;\n        const targetHeight = rect.height || rect.bottom - rect.top;\n        if (selectedElm !== targetElm) {\n          hideResizeRect();\n          selectedElm = targetElm;\n          width = height = 0;\n        }\n        const e = editor.dispatch('ObjectSelected', { target: targetElm });\n        if (isResizable(targetElm) && !e.isDefaultPrevented()) {\n          each$d(resizeHandles, (handle, name) => {\n            const startDrag = e => {\n              const target = getResizeTargets(selectedElm)[0];\n              startX = e.screenX;\n              startY = e.screenY;\n              startW = target.clientWidth;\n              startH = target.clientHeight;\n              ratio = startH / startW;\n              selectedHandle = handle;\n              selectedHandle.name = name;\n              selectedHandle.startPos = {\n                x: targetWidth * handle[0] + selectedElmX,\n                y: targetHeight * handle[1] + selectedElmY\n              };\n              startScrollWidth = rootElement.scrollWidth;\n              startScrollHeight = rootElement.scrollHeight;\n              resizeBackdrop = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-backdrop',\n                'data-mce-bogus': 'all'\n              });\n              dom.setStyles(resizeBackdrop, {\n                position: 'fixed',\n                left: '0',\n                top: '0',\n                width: '100%',\n                height: '100%'\n              });\n              selectedElmGhost = createGhostElement(selectedElm);\n              dom.addClass(selectedElmGhost, 'mce-clonedresizable');\n              dom.setAttrib(selectedElmGhost, 'data-mce-bogus', 'all');\n              selectedElmGhost.contentEditable = 'false';\n              dom.setStyles(selectedElmGhost, {\n                left: selectedElmX,\n                top: selectedElmY,\n                margin: 0\n              });\n              setGhostElmSize(selectedElmGhost, targetWidth, targetHeight);\n              selectedElmGhost.removeAttribute(elementSelectionAttr);\n              rootElement.appendChild(selectedElmGhost);\n              dom.bind(editableDoc, 'mousemove', resizeGhostElement);\n              dom.bind(editableDoc, 'mouseup', endGhostResize);\n              if (rootDocument !== editableDoc) {\n                dom.bind(rootDocument, 'mousemove', resizeGhostElement);\n                dom.bind(rootDocument, 'mouseup', endGhostResize);\n              }\n              resizeHelper = dom.add(rootElement, 'div', {\n                'class': 'mce-resize-helper',\n                'data-mce-bogus': 'all'\n              }, startW + ' &times; ' + startH);\n            };\n            let handleElm = dom.get('mceResizeHandle' + name);\n            if (handleElm) {\n              dom.remove(handleElm);\n            }\n            handleElm = dom.add(rootElement, 'div', {\n              'id': 'mceResizeHandle' + name,\n              'data-mce-bogus': 'all',\n              'class': 'mce-resizehandle',\n              'unselectable': true,\n              'style': 'cursor:' + name + '-resize; margin:0; padding:0'\n            });\n            dom.bind(handleElm, 'mousedown', e => {\n              e.stopImmediatePropagation();\n              e.preventDefault();\n              startDrag(e);\n            });\n            handle.elm = handleElm;\n            dom.setStyles(handleElm, {\n              left: targetWidth * handle[0] + selectedElmX - handleElm.offsetWidth / 2,\n              top: targetHeight * handle[1] + selectedElmY - handleElm.offsetHeight / 2\n            });\n          });\n        } else {\n          hideResizeRect(false);\n        }\n      };\n      const throttledShowResizeRect = first$1(showResizeRect, 0);\n      const hideResizeRect = (removeSelected = true) => {\n        throttledShowResizeRect.cancel();\n        unbindResizeHandleEvents();\n        if (selectedElm && removeSelected) {\n          selectedElm.removeAttribute(elementSelectionAttr);\n        }\n        each$d(resizeHandles, (value, name) => {\n          const handleElm = dom.get('mceResizeHandle' + name);\n          if (handleElm) {\n            dom.unbind(handleElm);\n            dom.remove(handleElm);\n          }\n        });\n      };\n      const isChildOrEqual = (node, parent) => dom.isChildOf(node, parent);\n      const updateResizeRect = e => {\n        if (resizeStarted || editor.removed || editor.composing) {\n          return;\n        }\n        const targetElm = e.type === 'mousedown' ? e.target : selection.getNode();\n        const controlElm = closest$3(SugarElement.fromDom(targetElm), controlElmSelector).map(e => e.dom).getOrUndefined();\n        const selectedValue = isNonNullable(controlElm) ? dom.getAttrib(controlElm, elementSelectionAttr, '1') : '1';\n        each$e(dom.select(`img[${ elementSelectionAttr }],hr[${ elementSelectionAttr }]`), img => {\n          img.removeAttribute(elementSelectionAttr);\n        });\n        if (isNonNullable(controlElm) && isChildOrEqual(controlElm, rootElement)) {\n          disableGeckoResize();\n          const startElm = selection.getStart(true);\n          if (isChildOrEqual(startElm, controlElm) && isChildOrEqual(selection.getEnd(true), controlElm)) {\n            dom.setAttrib(controlElm, elementSelectionAttr, selectedValue);\n            throttledShowResizeRect.throttle(controlElm);\n            return;\n          }\n        }\n        hideResizeRect();\n      };\n      const unbindResizeHandleEvents = () => {\n        each$d(resizeHandles, handle => {\n          if (handle.elm) {\n            dom.unbind(handle.elm);\n            delete handle.elm;\n          }\n        });\n      };\n      const disableGeckoResize = () => {\n        try {\n          editor.getDoc().execCommand('enableObjectResizing', false, 'false');\n        } catch (ex) {\n        }\n      };\n      editor.on('init', () => {\n        disableGeckoResize();\n        editor.on('NodeChange ResizeEditor ResizeWindow ResizeContent drop', updateResizeRect);\n        editor.on('keyup compositionend', e => {\n          if (selectedElm && selectedElm.nodeName === 'TABLE') {\n            updateResizeRect(e);\n          }\n        });\n        editor.on('hide blur', hideResizeRect);\n        editor.on('contextmenu longpress', contextMenuSelectImage, true);\n      });\n      editor.on('remove', unbindResizeHandleEvents);\n      const destroy = () => {\n        throttledShowResizeRect.cancel();\n        selectedElm = selectedElmGhost = resizeBackdrop = null;\n      };\n      return {\n        isResizable,\n        showResizeRect,\n        hideResizeRect,\n        updateResizeRect,\n        destroy\n      };\n    };\n\n    const setStart = (rng, situ) => {\n      situ.fold(e => {\n        rng.setStartBefore(e.dom);\n      }, (e, o) => {\n        rng.setStart(e.dom, o);\n      }, e => {\n        rng.setStartAfter(e.dom);\n      });\n    };\n    const setFinish = (rng, situ) => {\n      situ.fold(e => {\n        rng.setEndBefore(e.dom);\n      }, (e, o) => {\n        rng.setEnd(e.dom, o);\n      }, e => {\n        rng.setEndAfter(e.dom);\n      });\n    };\n    const relativeToNative = (win, startSitu, finishSitu) => {\n      const range = win.document.createRange();\n      setStart(range, startSitu);\n      setFinish(range, finishSitu);\n      return range;\n    };\n    const exactToNative = (win, start, soffset, finish, foffset) => {\n      const rng = win.document.createRange();\n      rng.setStart(start.dom, soffset);\n      rng.setEnd(finish.dom, foffset);\n      return rng;\n    };\n\n    const adt$3 = Adt.generate([\n      {\n        ltr: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      },\n      {\n        rtl: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const fromRange = (win, type, range) => type(SugarElement.fromDom(range.startContainer), range.startOffset, SugarElement.fromDom(range.endContainer), range.endOffset);\n    const getRanges = (win, selection) => selection.match({\n      domRange: rng => {\n        return {\n          ltr: constant(rng),\n          rtl: Optional.none\n        };\n      },\n      relative: (startSitu, finishSitu) => {\n        return {\n          ltr: cached(() => relativeToNative(win, startSitu, finishSitu)),\n          rtl: cached(() => Optional.some(relativeToNative(win, finishSitu, startSitu)))\n        };\n      },\n      exact: (start, soffset, finish, foffset) => {\n        return {\n          ltr: cached(() => exactToNative(win, start, soffset, finish, foffset)),\n          rtl: cached(() => Optional.some(exactToNative(win, finish, foffset, start, soffset)))\n        };\n      }\n    });\n    const doDiagnose = (win, ranges) => {\n      const rng = ranges.ltr();\n      if (rng.collapsed) {\n        const reversed = ranges.rtl().filter(rev => rev.collapsed === false);\n        return reversed.map(rev => adt$3.rtl(SugarElement.fromDom(rev.endContainer), rev.endOffset, SugarElement.fromDom(rev.startContainer), rev.startOffset)).getOrThunk(() => fromRange(win, adt$3.ltr, rng));\n      } else {\n        return fromRange(win, adt$3.ltr, rng);\n      }\n    };\n    const diagnose = (win, selection) => {\n      const ranges = getRanges(win, selection);\n      return doDiagnose(win, ranges);\n    };\n    adt$3.ltr;\n    adt$3.rtl;\n\n    const create$a = (start, soffset, finish, foffset) => ({\n      start,\n      soffset,\n      finish,\n      foffset\n    });\n    const SimRange = { create: create$a };\n\n    const caretPositionFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretPositionFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y)).bind(pos => {\n        if (pos.offsetNode === null) {\n          return Optional.none();\n        }\n        const r = doc.dom.createRange();\n        r.setStart(pos.offsetNode, pos.offset);\n        r.collapse();\n        return Optional.some(r);\n      });\n    };\n    const caretRangeFromPoint = (doc, x, y) => {\n      var _a, _b;\n      return Optional.from((_b = (_a = doc.dom).caretRangeFromPoint) === null || _b === void 0 ? void 0 : _b.call(_a, x, y));\n    };\n    const availableSearch = (() => {\n      if (document.caretPositionFromPoint) {\n        return caretPositionFromPoint;\n      } else if (document.caretRangeFromPoint) {\n        return caretRangeFromPoint;\n      } else {\n        return Optional.none;\n      }\n    })();\n    const fromPoint$1 = (win, x, y) => {\n      const doc = SugarElement.fromDom(win.document);\n      return availableSearch(doc, x, y).map(rng => SimRange.create(SugarElement.fromDom(rng.startContainer), rng.startOffset, SugarElement.fromDom(rng.endContainer), rng.endOffset));\n    };\n\n    const adt$2 = Adt.generate([\n      { before: ['element'] },\n      {\n        on: [\n          'element',\n          'offset'\n        ]\n      },\n      { after: ['element'] }\n    ]);\n    const cata = (subject, onBefore, onOn, onAfter) => subject.fold(onBefore, onOn, onAfter);\n    const getStart$2 = situ => situ.fold(identity, identity, identity);\n    const before$1 = adt$2.before;\n    const on = adt$2.on;\n    const after$1 = adt$2.after;\n    const Situ = {\n      before: before$1,\n      on,\n      after: after$1,\n      cata,\n      getStart: getStart$2\n    };\n\n    const adt$1 = Adt.generate([\n      { domRange: ['rng'] },\n      {\n        relative: [\n          'startSitu',\n          'finishSitu'\n        ]\n      },\n      {\n        exact: [\n          'start',\n          'soffset',\n          'finish',\n          'foffset'\n        ]\n      }\n    ]);\n    const exactFromRange = simRange => adt$1.exact(simRange.start, simRange.soffset, simRange.finish, simRange.foffset);\n    const getStart$1 = selection => selection.match({\n      domRange: rng => SugarElement.fromDom(rng.startContainer),\n      relative: (startSitu, _finishSitu) => Situ.getStart(startSitu),\n      exact: (start, _soffset, _finish, _foffset) => start\n    });\n    const domRange = adt$1.domRange;\n    const relative = adt$1.relative;\n    const exact = adt$1.exact;\n    const getWin = selection => {\n      const start = getStart$1(selection);\n      return defaultView(start);\n    };\n    const range = SimRange.create;\n    const SimSelection = {\n      domRange,\n      relative,\n      exact,\n      exactFromRange,\n      getWin,\n      range\n    };\n\n    const beforeSpecial = (element, offset) => {\n      const name$1 = name(element);\n      if ('input' === name$1) {\n        return Situ.after(element);\n      } else if (!contains$2([\n          'br',\n          'img'\n        ], name$1)) {\n        return Situ.on(element, offset);\n      } else {\n        return offset === 0 ? Situ.before(element) : Situ.after(element);\n      }\n    };\n    const preprocessRelative = (startSitu, finishSitu) => {\n      const start = startSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      const finish = finishSitu.fold(Situ.before, beforeSpecial, Situ.after);\n      return SimSelection.relative(start, finish);\n    };\n    const preprocessExact = (start, soffset, finish, foffset) => {\n      const startSitu = beforeSpecial(start, soffset);\n      const finishSitu = beforeSpecial(finish, foffset);\n      return SimSelection.relative(startSitu, finishSitu);\n    };\n    const preprocess = selection => selection.match({\n      domRange: rng => {\n        const start = SugarElement.fromDom(rng.startContainer);\n        const finish = SugarElement.fromDom(rng.endContainer);\n        return preprocessExact(start, rng.startOffset, finish, rng.endOffset);\n      },\n      relative: preprocessRelative,\n      exact: preprocessExact\n    });\n\n    const fromElements = (elements, scope) => {\n      const doc = scope || document;\n      const fragment = doc.createDocumentFragment();\n      each$e(elements, element => {\n        fragment.appendChild(element.dom);\n      });\n      return SugarElement.fromDom(fragment);\n    };\n\n    const toNative = selection => {\n      const win = SimSelection.getWin(selection).dom;\n      const getDomRange = (start, soffset, finish, foffset) => exactToNative(win, start, soffset, finish, foffset);\n      const filtered = preprocess(selection);\n      return diagnose(win, filtered).match({\n        ltr: getDomRange,\n        rtl: getDomRange\n      });\n    };\n    const getAtPoint = (win, x, y) => fromPoint$1(win, x, y);\n\n    const fromPoint = (clientX, clientY, doc) => {\n      const win = defaultView(SugarElement.fromDom(doc));\n      return getAtPoint(win.dom, clientX, clientY).map(simRange => {\n        const rng = doc.createRange();\n        rng.setStart(simRange.start.dom, simRange.soffset);\n        rng.setEnd(simRange.finish.dom, simRange.foffset);\n        return rng;\n      }).getOrUndefined();\n    };\n\n    const isEq$4 = (rng1, rng2) => {\n      return isNonNullable(rng1) && isNonNullable(rng2) && (rng1.startContainer === rng2.startContainer && rng1.startOffset === rng2.startOffset) && (rng1.endContainer === rng2.endContainer && rng1.endOffset === rng2.endOffset);\n    };\n\n    const findParent = (node, rootNode, predicate) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== rootNode) {\n        if (predicate(currentNode)) {\n          return currentNode;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return null;\n    };\n    const hasParent$1 = (node, rootNode, predicate) => findParent(node, rootNode, predicate) !== null;\n    const hasParentWithName = (node, rootNode, name) => hasParent$1(node, rootNode, node => node.nodeName === name);\n    const isCeFalseCaretContainer = (node, rootNode) => isCaretContainer$2(node) && !hasParent$1(node, rootNode, isCaretNode);\n    const hasBrBeforeAfter = (dom, node, left) => {\n      const parentNode = node.parentNode;\n      if (parentNode) {\n        const walker = new DomTreeWalker(node, dom.getParent(parentNode, dom.isBlock) || dom.getRoot());\n        let currentNode;\n        while (currentNode = walker[left ? 'prev' : 'next']()) {\n          if (isBr$6(currentNode)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const isPrevNode = (node, name) => {\n      var _a;\n      return ((_a = node.previousSibling) === null || _a === void 0 ? void 0 : _a.nodeName) === name;\n    };\n    const hasContentEditableFalseParent = (root, node) => {\n      let currentNode = node;\n      while (currentNode && currentNode !== root) {\n        if (isContentEditableFalse$a(currentNode)) {\n          return true;\n        }\n        currentNode = currentNode.parentNode;\n      }\n      return false;\n    };\n    const findTextNodeRelative = (dom, isAfterNode, collapsed, left, startNode) => {\n      const body = dom.getRoot();\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      const parentNode = startNode.parentNode;\n      let lastInlineElement;\n      let node;\n      if (!parentNode) {\n        return Optional.none();\n      }\n      const parentBlockContainer = dom.getParent(parentNode, dom.isBlock) || body;\n      if (left && isBr$6(startNode) && isAfterNode && dom.isEmpty(parentBlockContainer)) {\n        return Optional.some(CaretPosition(parentNode, dom.nodeIndex(startNode)));\n      }\n      const walker = new DomTreeWalker(startNode, parentBlockContainer);\n      while (node = walker[left ? 'prev' : 'next']()) {\n        if (dom.getContentEditableParent(node) === 'false' || isCeFalseCaretContainer(node, body)) {\n          return Optional.none();\n        }\n        if (isText$a(node) && node.data.length > 0) {\n          if (!hasParentWithName(node, body, 'A')) {\n            return Optional.some(CaretPosition(node, left ? node.data.length : 0));\n          }\n          return Optional.none();\n        }\n        if (dom.isBlock(node) || nonEmptyElementsMap[node.nodeName.toLowerCase()]) {\n          return Optional.none();\n        }\n        lastInlineElement = node;\n      }\n      if (isComment(lastInlineElement)) {\n        return Optional.none();\n      }\n      if (collapsed && lastInlineElement) {\n        return Optional.some(CaretPosition(lastInlineElement, 0));\n      }\n      return Optional.none();\n    };\n    const normalizeEndPoint = (dom, collapsed, start, rng) => {\n      const body = dom.getRoot();\n      let node;\n      let normalized = false;\n      let container = start ? rng.startContainer : rng.endContainer;\n      let offset = start ? rng.startOffset : rng.endOffset;\n      const isAfterNode = isElement$6(container) && offset === container.childNodes.length;\n      const nonEmptyElementsMap = dom.schema.getNonEmptyElements();\n      let directionLeft = start;\n      if (isCaretContainer$2(container)) {\n        return Optional.none();\n      }\n      if (isElement$6(container) && offset > container.childNodes.length - 1) {\n        directionLeft = false;\n      }\n      if (isDocument$1(container)) {\n        container = body;\n        offset = 0;\n      }\n      if (container === body) {\n        if (directionLeft) {\n          node = container.childNodes[offset > 0 ? offset - 1 : 0];\n          if (node) {\n            if (isCaretContainer$2(node)) {\n              return Optional.none();\n            }\n            if (nonEmptyElementsMap[node.nodeName] || isTable$2(node)) {\n              return Optional.none();\n            }\n          }\n        }\n        if (container.hasChildNodes()) {\n          offset = Math.min(!directionLeft && offset > 0 ? offset - 1 : offset, container.childNodes.length - 1);\n          container = container.childNodes[offset];\n          offset = isText$a(container) && isAfterNode ? container.data.length : 0;\n          if (!collapsed && container === body.lastChild && isTable$2(container)) {\n            return Optional.none();\n          }\n          if (hasContentEditableFalseParent(body, container) || isCaretContainer$2(container)) {\n            return Optional.none();\n          }\n          if (container.hasChildNodes() && !isTable$2(container)) {\n            node = container;\n            const walker = new DomTreeWalker(container, body);\n            do {\n              if (isContentEditableFalse$a(node) || isCaretContainer$2(node)) {\n                normalized = false;\n                break;\n              }\n              if (isText$a(node) && node.data.length > 0) {\n                offset = directionLeft ? 0 : node.data.length;\n                container = node;\n                normalized = true;\n                break;\n              }\n              if (nonEmptyElementsMap[node.nodeName.toLowerCase()] && !isTableCellOrCaption(node)) {\n                offset = dom.nodeIndex(node);\n                container = node.parentNode;\n                if (!directionLeft) {\n                  offset++;\n                }\n                normalized = true;\n                break;\n              }\n            } while (node = directionLeft ? walker.next() : walker.prev());\n          }\n        }\n      }\n      if (collapsed) {\n        if (isText$a(container) && offset === 0) {\n          findTextNodeRelative(dom, isAfterNode, collapsed, true, container).each(pos => {\n            container = pos.container();\n            offset = pos.offset();\n            normalized = true;\n          });\n        }\n        if (isElement$6(container)) {\n          node = container.childNodes[offset];\n          if (!node) {\n            node = container.childNodes[offset - 1];\n          }\n          if (node && isBr$6(node) && !isPrevNode(node, 'A') && !hasBrBeforeAfter(dom, node, false) && !hasBrBeforeAfter(dom, node, true)) {\n            findTextNodeRelative(dom, isAfterNode, collapsed, true, node).each(pos => {\n              container = pos.container();\n              offset = pos.offset();\n              normalized = true;\n            });\n          }\n        }\n      }\n      if (directionLeft && !collapsed && isText$a(container) && offset === container.data.length) {\n        findTextNodeRelative(dom, isAfterNode, collapsed, false, container).each(pos => {\n          container = pos.container();\n          offset = pos.offset();\n          normalized = true;\n        });\n      }\n      return normalized && container ? Optional.some(CaretPosition(container, offset)) : Optional.none();\n    };\n    const normalize$2 = (dom, rng) => {\n      const collapsed = rng.collapsed, normRng = rng.cloneRange();\n      const startPos = CaretPosition.fromRangeStart(rng);\n      normalizeEndPoint(dom, collapsed, true, normRng).each(pos => {\n        if (!collapsed || !CaretPosition.isAbove(startPos, pos)) {\n          normRng.setStart(pos.container(), pos.offset());\n        }\n      });\n      if (!collapsed) {\n        normalizeEndPoint(dom, collapsed, false, normRng).each(pos => {\n          normRng.setEnd(pos.container(), pos.offset());\n        });\n      }\n      if (collapsed) {\n        normRng.collapse(true);\n      }\n      return isEq$4(rng, normRng) ? Optional.none() : Optional.some(normRng);\n    };\n\n    const splitText = (node, offset) => {\n      return node.splitText(offset);\n    };\n    const split = rng => {\n      let startContainer = rng.startContainer, startOffset = rng.startOffset, endContainer = rng.endContainer, endOffset = rng.endOffset;\n      if (startContainer === endContainer && isText$a(startContainer)) {\n        if (startOffset > 0 && startOffset < startContainer.data.length) {\n          endContainer = splitText(startContainer, startOffset);\n          startContainer = endContainer.previousSibling;\n          if (endOffset > startOffset) {\n            endOffset = endOffset - startOffset;\n            const newContainer = splitText(endContainer, endOffset).previousSibling;\n            startContainer = endContainer = newContainer;\n            endOffset = newContainer.data.length;\n            startOffset = 0;\n          } else {\n            endOffset = 0;\n          }\n        }\n      } else {\n        if (isText$a(startContainer) && startOffset > 0 && startOffset < startContainer.data.length) {\n          startContainer = splitText(startContainer, startOffset);\n          startOffset = 0;\n        }\n        if (isText$a(endContainer) && endOffset > 0 && endOffset < endContainer.data.length) {\n          const newContainer = splitText(endContainer, endOffset).previousSibling;\n          endContainer = newContainer;\n          endOffset = newContainer.data.length;\n        }\n      }\n      return {\n        startContainer,\n        startOffset,\n        endContainer,\n        endOffset\n      };\n    };\n\n    const RangeUtils = dom => {\n      const walk = (rng, callback) => {\n        return walk$3(dom, rng, callback);\n      };\n      const split$1 = split;\n      const normalize = rng => {\n        return normalize$2(dom, rng).fold(never, normalizedRng => {\n          rng.setStart(normalizedRng.startContainer, normalizedRng.startOffset);\n          rng.setEnd(normalizedRng.endContainer, normalizedRng.endOffset);\n          return true;\n        });\n      };\n      const expand = (rng, options = { type: 'word' }) => {\n        if (options.type === 'word') {\n          const rangeLike = expandRng(dom, rng, [{ inline: 'span' }]);\n          const newRange = dom.createRng();\n          newRange.setStart(rangeLike.startContainer, rangeLike.startOffset);\n          newRange.setEnd(rangeLike.endContainer, rangeLike.endOffset);\n          return newRange;\n        }\n        return rng;\n      };\n      return {\n        walk,\n        split: split$1,\n        expand,\n        normalize\n      };\n    };\n    RangeUtils.compareRanges = isEq$4;\n    RangeUtils.getCaretRangeFromPoint = fromPoint;\n    RangeUtils.getSelectedNode = getSelectedNode;\n    RangeUtils.getNode = getNode$1;\n\n    const Dimension = (name, getOffset) => {\n      const set = (element, h) => {\n        if (!isNumber(h) && !h.match(/^[0-9]+$/)) {\n          throw new Error(name + '.set accepts only positive integer values. Value was ' + h);\n        }\n        const dom = element.dom;\n        if (isSupported$1(dom)) {\n          dom.style[name] = h + 'px';\n        }\n      };\n      const get = element => {\n        const r = getOffset(element);\n        if (r <= 0 || r === null) {\n          const css = get$7(element, name);\n          return parseFloat(css) || 0;\n        }\n        return r;\n      };\n      const getOuter = get;\n      const aggregate = (element, properties) => foldl(properties, (acc, property) => {\n        const val = get$7(element, property);\n        const value = val === undefined ? 0 : parseInt(val, 10);\n        return isNaN(value) ? acc : acc + value;\n      }, 0);\n      const max = (element, value, properties) => {\n        const cumulativeInclusions = aggregate(element, properties);\n        const absoluteMax = value > cumulativeInclusions ? value - cumulativeInclusions : 0;\n        return absoluteMax;\n      };\n      return {\n        set,\n        get,\n        getOuter,\n        aggregate,\n        max\n      };\n    };\n\n    const api = Dimension('height', element => {\n      const dom = element.dom;\n      return inBody(element) ? dom.getBoundingClientRect().height : dom.offsetHeight;\n    });\n    const get$2 = element => api.get(element);\n\n    const getDocument = () => SugarElement.fromDom(document);\n\n    const walkUp = (navigation, doc) => {\n      const frame = navigation.view(doc);\n      return frame.fold(constant([]), f => {\n        const parent = navigation.owner(f);\n        const rest = walkUp(navigation, parent);\n        return [f].concat(rest);\n      });\n    };\n    const pathTo = (element, navigation) => {\n      const d = navigation.owner(element);\n      return walkUp(navigation, d);\n    };\n\n    const view = doc => {\n      var _a;\n      const element = doc.dom === document ? Optional.none() : Optional.from((_a = doc.dom.defaultView) === null || _a === void 0 ? void 0 : _a.frameElement);\n      return element.map(SugarElement.fromDom);\n    };\n    const owner = element => documentOrOwner(element);\n\n    var Navigation = /*#__PURE__*/Object.freeze({\n        __proto__: null,\n        view: view,\n        owner: owner\n    });\n\n    const find = element => {\n      const doc = getDocument();\n      const scroll = get$5(doc);\n      const frames = pathTo(element, Navigation);\n      const offset = viewport(element);\n      const r = foldr(frames, (b, a) => {\n        const loc = viewport(a);\n        return {\n          left: b.left + loc.left,\n          top: b.top + loc.top\n        };\n      }, {\n        left: 0,\n        top: 0\n      });\n      return SugarPosition(r.left + offset.left + scroll.left, r.top + offset.top + scroll.top);\n    };\n\n    const excludeFromDescend = element => name(element) === 'textarea';\n    const fireScrollIntoViewEvent = (editor, data) => {\n      const scrollEvent = editor.dispatch('ScrollIntoView', data);\n      return scrollEvent.isDefaultPrevented();\n    };\n    const fireAfterScrollIntoViewEvent = (editor, data) => {\n      editor.dispatch('AfterScrollIntoView', data);\n    };\n    const descend = (element, offset) => {\n      const children = children$1(element);\n      if (children.length === 0 || excludeFromDescend(element)) {\n        return {\n          element,\n          offset\n        };\n      } else if (offset < children.length && !excludeFromDescend(children[offset])) {\n        return {\n          element: children[offset],\n          offset: 0\n        };\n      } else {\n        const last = children[children.length - 1];\n        if (excludeFromDescend(last)) {\n          return {\n            element,\n            offset\n          };\n        } else {\n          if (name(last) === 'img') {\n            return {\n              element: last,\n              offset: 1\n            };\n          } else if (isText$b(last)) {\n            return {\n              element: last,\n              offset: get$3(last).length\n            };\n          } else {\n            return {\n              element: last,\n              offset: children$1(last).length\n            };\n          }\n        }\n      }\n    };\n    const markerInfo = (element, cleanupFun) => {\n      const pos = absolute(element);\n      const height = get$2(element);\n      return {\n        element,\n        bottom: pos.top + height,\n        height,\n        pos,\n        cleanup: cleanupFun\n      };\n    };\n    const createMarker$1 = (element, offset) => {\n      const startPoint = descend(element, offset);\n      const span = SugarElement.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">' + ZWSP$1 + '</span>');\n      before$3(startPoint.element, span);\n      return markerInfo(span, () => remove$6(span));\n    };\n    const elementMarker = element => markerInfo(SugarElement.fromDom(element), noop);\n    const withMarker = (editor, f, rng, alignToTop) => {\n      preserveWith(editor, (_s, _e) => applyWithMarker(editor, f, rng, alignToTop), rng);\n    };\n    const withScrollEvents = (editor, doc, f, marker, alignToTop) => {\n      const data = {\n        elm: marker.element.dom,\n        alignToTop\n      };\n      if (fireScrollIntoViewEvent(editor, data)) {\n        return;\n      }\n      const scrollTop = get$5(doc).top;\n      f(doc, scrollTop, marker, alignToTop);\n      fireAfterScrollIntoViewEvent(editor, data);\n    };\n    const applyWithMarker = (editor, f, rng, alignToTop) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const doc = SugarElement.fromDom(editor.getDoc());\n      reflow(body);\n      const marker = createMarker$1(SugarElement.fromDom(rng.startContainer), rng.startOffset);\n      withScrollEvents(editor, doc, f, marker, alignToTop);\n      marker.cleanup();\n    };\n    const withElement = (editor, element, f, alignToTop) => {\n      const doc = SugarElement.fromDom(editor.getDoc());\n      withScrollEvents(editor, doc, f, elementMarker(element), alignToTop);\n    };\n    const preserveWith = (editor, f, rng) => {\n      const startElement = rng.startContainer;\n      const startOffset = rng.startOffset;\n      const endElement = rng.endContainer;\n      const endOffset = rng.endOffset;\n      f(SugarElement.fromDom(startElement), SugarElement.fromDom(endElement));\n      const newRng = editor.dom.createRng();\n      newRng.setStart(startElement, startOffset);\n      newRng.setEnd(endElement, endOffset);\n      editor.selection.setRng(rng);\n    };\n    const scrollToMarker = (marker, viewHeight, alignToTop, doc) => {\n      const pos = marker.pos;\n      if (alignToTop) {\n        to(pos.left, pos.top, doc);\n      } else {\n        const y = pos.top - viewHeight + marker.height;\n        to(pos.left, y, doc);\n      }\n    };\n    const intoWindowIfNeeded = (doc, scrollTop, viewHeight, marker, alignToTop) => {\n      const viewportBottom = viewHeight + scrollTop;\n      const markerTop = marker.pos.top;\n      const markerBottom = marker.bottom;\n      const largerThanViewport = markerBottom - markerTop >= viewHeight;\n      if (markerTop < scrollTop) {\n        scrollToMarker(marker, viewHeight, alignToTop !== false, doc);\n      } else if (markerTop > viewportBottom) {\n        const align = largerThanViewport ? alignToTop !== false : alignToTop === true;\n        scrollToMarker(marker, viewHeight, align, doc);\n      } else if (markerBottom > viewportBottom && !largerThanViewport) {\n        scrollToMarker(marker, viewHeight, alignToTop === true, doc);\n      }\n    };\n    const intoWindow = (doc, scrollTop, marker, alignToTop) => {\n      const viewHeight = defaultView(doc).dom.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, viewHeight, marker, alignToTop);\n    };\n    const intoFrame = (doc, scrollTop, marker, alignToTop) => {\n      const frameViewHeight = defaultView(doc).dom.innerHeight;\n      intoWindowIfNeeded(doc, scrollTop, frameViewHeight, marker, alignToTop);\n      const op = find(marker.element);\n      const viewportBounds = getBounds(window);\n      if (op.top < viewportBounds.y) {\n        intoView(marker.element, alignToTop !== false);\n      } else if (op.top > viewportBounds.bottom) {\n        intoView(marker.element, alignToTop === true);\n      }\n    };\n    const rangeIntoWindow = (editor, rng, alignToTop) => withMarker(editor, intoWindow, rng, alignToTop);\n    const elementIntoWindow = (editor, element, alignToTop) => withElement(editor, element, intoWindow, alignToTop);\n    const rangeIntoFrame = (editor, rng, alignToTop) => withMarker(editor, intoFrame, rng, alignToTop);\n    const elementIntoFrame = (editor, element, alignToTop) => withElement(editor, element, intoFrame, alignToTop);\n    const scrollElementIntoView = (editor, element, alignToTop) => {\n      const scroller = editor.inline ? elementIntoWindow : elementIntoFrame;\n      scroller(editor, element, alignToTop);\n    };\n    const scrollRangeIntoView = (editor, rng, alignToTop) => {\n      const scroller = editor.inline ? rangeIntoWindow : rangeIntoFrame;\n      scroller(editor, rng, alignToTop);\n    };\n\n    const focus$1 = element => element.dom.focus();\n    const hasFocus$1 = element => {\n      const root = getRootNode(element).dom;\n      return element.dom === root.activeElement;\n    };\n    const active$1 = (root = getDocument()) => Optional.from(root.dom.activeElement).map(SugarElement.fromDom);\n    const search = element => active$1(getRootNode(element)).filter(e => element.dom.contains(e.dom));\n\n    const clamp$1 = (offset, element) => {\n      const max = isText$b(element) ? get$3(element).length : children$1(element).length + 1;\n      if (offset > max) {\n        return max;\n      } else if (offset < 0) {\n        return 0;\n      }\n      return offset;\n    };\n    const normalizeRng = rng => SimSelection.range(rng.start, clamp$1(rng.soffset, rng.start), rng.finish, clamp$1(rng.foffset, rng.finish));\n    const isOrContains = (root, elm) => !isRestrictedNode(elm.dom) && (contains(root, elm) || eq(root, elm));\n    const isRngInRoot = root => rng => isOrContains(root, rng.start) && isOrContains(root, rng.finish);\n    const shouldStore = editor => editor.inline || Env.browser.isFirefox();\n    const nativeRangeToSelectionRange = r => SimSelection.range(SugarElement.fromDom(r.startContainer), r.startOffset, SugarElement.fromDom(r.endContainer), r.endOffset);\n    const readRange = win => {\n      const selection = win.getSelection();\n      const rng = !selection || selection.rangeCount === 0 ? Optional.none() : Optional.from(selection.getRangeAt(0));\n      return rng.map(nativeRangeToSelectionRange);\n    };\n    const getBookmark = root => {\n      const win = defaultView(root);\n      return readRange(win.dom).filter(isRngInRoot(root));\n    };\n    const validate = (root, bookmark) => Optional.from(bookmark).filter(isRngInRoot(root)).map(normalizeRng);\n    const bookmarkToNativeRng = bookmark => {\n      const rng = document.createRange();\n      try {\n        rng.setStart(bookmark.start.dom, bookmark.soffset);\n        rng.setEnd(bookmark.finish.dom, bookmark.foffset);\n        return Optional.some(rng);\n      } catch (_) {\n        return Optional.none();\n      }\n    };\n    const store = editor => {\n      const newBookmark = shouldStore(editor) ? getBookmark(SugarElement.fromDom(editor.getBody())) : Optional.none();\n      editor.bookmark = newBookmark.isSome() ? newBookmark : editor.bookmark;\n    };\n    const getRng = editor => {\n      const bookmark = editor.bookmark ? editor.bookmark : Optional.none();\n      return bookmark.bind(x => validate(SugarElement.fromDom(editor.getBody()), x)).bind(bookmarkToNativeRng);\n    };\n    const restore = editor => {\n      getRng(editor).each(rng => editor.selection.setRng(rng));\n    };\n\n    const isEditorUIElement$1 = elm => {\n      const className = elm.className.toString();\n      return className.indexOf('tox-') !== -1 || className.indexOf('mce-') !== -1;\n    };\n    const FocusManager = { isEditorUIElement: isEditorUIElement$1 };\n\n    const wrappedSetTimeout = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setTimeout(callback, time);\n    };\n    const wrappedSetInterval = (callback, time) => {\n      if (!isNumber(time)) {\n        time = 0;\n      }\n      return setInterval(callback, time);\n    };\n    const Delay = {\n      setEditorTimeout: (editor, callback, time) => {\n        return wrappedSetTimeout(() => {\n          if (!editor.removed) {\n            callback();\n          }\n        }, time);\n      },\n      setEditorInterval: (editor, callback, time) => {\n        const timer = wrappedSetInterval(() => {\n          if (!editor.removed) {\n            callback();\n          } else {\n            clearInterval(timer);\n          }\n        }, time);\n        return timer;\n      }\n    };\n\n    const isManualNodeChange = e => {\n      return e.type === 'nodechange' && e.selectionChange;\n    };\n    const registerPageMouseUp = (editor, throttledStore) => {\n      const mouseUpPage = () => {\n        throttledStore.throttle();\n      };\n      DOMUtils.DOM.bind(document, 'mouseup', mouseUpPage);\n      editor.on('remove', () => {\n        DOMUtils.DOM.unbind(document, 'mouseup', mouseUpPage);\n      });\n    };\n    const registerMouseUp = (editor, throttledStore) => {\n      editor.on('mouseup touchend', _e => {\n        throttledStore.throttle();\n      });\n    };\n    const registerEditorEvents = (editor, throttledStore) => {\n      registerMouseUp(editor, throttledStore);\n      editor.on('keyup NodeChange AfterSetSelectionRange', e => {\n        if (!isManualNodeChange(e)) {\n          store(editor);\n        }\n      });\n    };\n    const register$6 = editor => {\n      const throttledStore = first$1(() => {\n        store(editor);\n      }, 0);\n      editor.on('init', () => {\n        if (editor.inline) {\n          registerPageMouseUp(editor, throttledStore);\n        }\n        registerEditorEvents(editor, throttledStore);\n      });\n      editor.on('remove', () => {\n        throttledStore.cancel();\n      });\n    };\n\n    let documentFocusInHandler;\n    const DOM$9 = DOMUtils.DOM;\n    const isEditorUIElement = elm => {\n      return isElement$6(elm) && FocusManager.isEditorUIElement(elm);\n    };\n    const isEditorContentAreaElement = elm => {\n      const classList = elm.classList;\n      if (classList !== undefined) {\n        return classList.contains('tox-edit-area') || classList.contains('tox-edit-area__iframe') || classList.contains('mce-content-body');\n      } else {\n        return false;\n      }\n    };\n    const isUIElement = (editor, elm) => {\n      const customSelector = getCustomUiSelector(editor);\n      const parent = DOM$9.getParent(elm, elm => {\n        return isEditorUIElement(elm) || (customSelector ? editor.dom.is(elm, customSelector) : false);\n      });\n      return parent !== null;\n    };\n    const getActiveElement = editor => {\n      try {\n        const root = getRootNode(SugarElement.fromDom(editor.getElement()));\n        return active$1(root).fold(() => document.body, x => x.dom);\n      } catch (ex) {\n        return document.body;\n      }\n    };\n    const registerEvents$1 = (editorManager, e) => {\n      const editor = e.editor;\n      register$6(editor);\n      editor.on('focusin', () => {\n        const focusedEditor = editorManager.focusedEditor;\n        if (focusedEditor !== editor) {\n          if (focusedEditor) {\n            focusedEditor.dispatch('blur', { focusedEditor: editor });\n          }\n          editorManager.setActive(editor);\n          editorManager.focusedEditor = editor;\n          editor.dispatch('focus', { blurredEditor: focusedEditor });\n          editor.focus(true);\n        }\n      });\n      editor.on('focusout', () => {\n        Delay.setEditorTimeout(editor, () => {\n          const focusedEditor = editorManager.focusedEditor;\n          if (!isUIElement(editor, getActiveElement(editor)) && focusedEditor === editor) {\n            editor.dispatch('blur', { focusedEditor: null });\n            editorManager.focusedEditor = null;\n          }\n        });\n      });\n      if (!documentFocusInHandler) {\n        documentFocusInHandler = e => {\n          const activeEditor = editorManager.activeEditor;\n          if (activeEditor) {\n            getOriginalEventTarget(e).each(target => {\n              const elem = target;\n              if (elem.ownerDocument === document) {\n                if (elem !== document.body && !isUIElement(activeEditor, elem) && editorManager.focusedEditor === activeEditor) {\n                  activeEditor.dispatch('blur', { focusedEditor: null });\n                  editorManager.focusedEditor = null;\n                }\n              }\n            });\n          }\n        };\n        DOM$9.bind(document, 'focusin', documentFocusInHandler);\n      }\n    };\n    const unregisterDocumentEvents = (editorManager, e) => {\n      if (editorManager.focusedEditor === e.editor) {\n        editorManager.focusedEditor = null;\n      }\n      if (!editorManager.activeEditor && documentFocusInHandler) {\n        DOM$9.unbind(document, 'focusin', documentFocusInHandler);\n        documentFocusInHandler = null;\n      }\n    };\n    const setup$v = editorManager => {\n      editorManager.on('AddEditor', curry(registerEvents$1, editorManager));\n      editorManager.on('RemoveEditor', curry(unregisterDocumentEvents, editorManager));\n    };\n\n    const getContentEditableHost = (editor, node) => editor.dom.getParent(node, node => editor.dom.getContentEditable(node) === 'true');\n    const getCollapsedNode = rng => rng.collapsed ? Optional.from(getNode$1(rng.startContainer, rng.startOffset)).map(SugarElement.fromDom) : Optional.none();\n    const getFocusInElement = (root, rng) => getCollapsedNode(rng).bind(node => {\n      if (isTableSection(node)) {\n        return Optional.some(node);\n      } else if (!contains(root, node)) {\n        return Optional.some(root);\n      } else {\n        return Optional.none();\n      }\n    });\n    const normalizeSelection = (editor, rng) => {\n      getFocusInElement(SugarElement.fromDom(editor.getBody()), rng).bind(elm => {\n        return firstPositionIn(elm.dom);\n      }).fold(() => {\n        editor.selection.normalize();\n      }, caretPos => editor.selection.setRng(caretPos.toRange()));\n    };\n    const focusBody = body => {\n      if (body.setActive) {\n        try {\n          body.setActive();\n        } catch (ex) {\n          body.focus();\n        }\n      } else {\n        body.focus();\n      }\n    };\n    const hasElementFocus = elm => hasFocus$1(elm) || search(elm).isSome();\n    const hasIframeFocus = editor => isNonNullable(editor.iframeElement) && hasFocus$1(SugarElement.fromDom(editor.iframeElement));\n    const hasInlineFocus = editor => {\n      const rawBody = editor.getBody();\n      return rawBody && hasElementFocus(SugarElement.fromDom(rawBody));\n    };\n    const hasUiFocus = editor => {\n      const dos = getRootNode(SugarElement.fromDom(editor.getElement()));\n      return active$1(dos).filter(elem => !isEditorContentAreaElement(elem.dom) && isUIElement(editor, elem.dom)).isSome();\n    };\n    const hasFocus = editor => editor.inline ? hasInlineFocus(editor) : hasIframeFocus(editor);\n    const hasEditorOrUiFocus = editor => hasFocus(editor) || hasUiFocus(editor);\n    const focusEditor = editor => {\n      const selection = editor.selection;\n      const body = editor.getBody();\n      let rng = selection.getRng();\n      editor.quirks.refreshContentEditable();\n      if (isNonNullable(editor.bookmark) && !hasFocus(editor)) {\n        getRng(editor).each(bookmarkRng => {\n          editor.selection.setRng(bookmarkRng);\n          rng = bookmarkRng;\n        });\n      }\n      const contentEditableHost = getContentEditableHost(editor, selection.getNode());\n      if (contentEditableHost && editor.dom.isChildOf(contentEditableHost, body)) {\n        focusBody(contentEditableHost);\n        normalizeSelection(editor, rng);\n        activateEditor(editor);\n        return;\n      }\n      if (!editor.inline) {\n        if (!Env.browser.isOpera()) {\n          focusBody(body);\n        }\n        editor.getWin().focus();\n      }\n      if (Env.browser.isFirefox() || editor.inline) {\n        focusBody(body);\n        normalizeSelection(editor, rng);\n      }\n      activateEditor(editor);\n    };\n    const activateEditor = editor => editor.editorManager.setActive(editor);\n    const focus = (editor, skipFocus) => {\n      if (editor.removed) {\n        return;\n      }\n      if (skipFocus) {\n        activateEditor(editor);\n      } else {\n        focusEditor(editor);\n      }\n    };\n\n    const getEndpointElement = (root, rng, start, real, resolve) => {\n      const container = start ? rng.startContainer : rng.endContainer;\n      const offset = start ? rng.startOffset : rng.endOffset;\n      return Optional.from(container).map(SugarElement.fromDom).map(elm => !real || !rng.collapsed ? child$1(elm, resolve(elm, offset)).getOr(elm) : elm).bind(elm => isElement$7(elm) ? Optional.some(elm) : parent(elm).filter(isElement$7)).map(elm => elm.dom).getOr(root);\n    };\n    const getStart = (root, rng, real = false) => getEndpointElement(root, rng, true, real, (elm, offset) => Math.min(childNodesCount(elm), offset));\n    const getEnd$1 = (root, rng, real = false) => getEndpointElement(root, rng, false, real, (elm, offset) => offset > 0 ? offset - 1 : offset);\n    const skipEmptyTextNodes = (node, forwards) => {\n      const orig = node;\n      while (node && isText$a(node) && node.length === 0) {\n        node = forwards ? node.nextSibling : node.previousSibling;\n      }\n      return node || orig;\n    };\n    const getNode = (root, rng) => {\n      if (!rng) {\n        return root;\n      }\n      let startContainer = rng.startContainer;\n      let endContainer = rng.endContainer;\n      const startOffset = rng.startOffset;\n      const endOffset = rng.endOffset;\n      let node = rng.commonAncestorContainer;\n      if (!rng.collapsed) {\n        if (startContainer === endContainer) {\n          if (endOffset - startOffset < 2) {\n            if (startContainer.hasChildNodes()) {\n              node = startContainer.childNodes[startOffset];\n            }\n          }\n        }\n        if (isText$a(startContainer) && isText$a(endContainer)) {\n          if (startContainer.length === startOffset) {\n            startContainer = skipEmptyTextNodes(startContainer.nextSibling, true);\n          } else {\n            startContainer = startContainer.parentNode;\n          }\n          if (endOffset === 0) {\n            endContainer = skipEmptyTextNodes(endContainer.previousSibling, false);\n          } else {\n            endContainer = endContainer.parentNode;\n          }\n          if (startContainer && startContainer === endContainer) {\n            node = startContainer;\n          }\n        }\n      }\n      const elm = isText$a(node) ? node.parentNode : node;\n      return isElement$6(elm) ? elm : root;\n    };\n    const getSelectedBlocks = (dom, rng, startElm, endElm) => {\n      const selectedBlocks = [];\n      const root = dom.getRoot();\n      const start = dom.getParent(startElm || getStart(root, rng, rng.collapsed), dom.isBlock);\n      const end = dom.getParent(endElm || getEnd$1(root, rng, rng.collapsed), dom.isBlock);\n      if (start && start !== root) {\n        selectedBlocks.push(start);\n      }\n      if (start && end && start !== end) {\n        let node = start;\n        const walker = new DomTreeWalker(start, root);\n        while ((node = walker.next()) && node !== end) {\n          if (dom.isBlock(node)) {\n            selectedBlocks.push(node);\n          }\n        }\n      }\n      if (end && start !== end && end !== root) {\n        selectedBlocks.push(end);\n      }\n      return selectedBlocks;\n    };\n    const select = (dom, node, content) => Optional.from(node).bind(node => Optional.from(node.parentNode).map(parent => {\n      const idx = dom.nodeIndex(node);\n      const rng = dom.createRng();\n      rng.setStart(parent, idx);\n      rng.setEnd(parent, idx + 1);\n      if (content) {\n        moveEndPoint(dom, rng, node, true);\n        moveEndPoint(dom, rng, node, false);\n      }\n      return rng;\n    }));\n\n    const processRanges = (editor, ranges) => map$3(ranges, range => {\n      const evt = editor.dispatch('GetSelectionRange', { range });\n      return evt.range !== range ? evt.range : range;\n    });\n\n    const getEnd = element => name(element) === 'img' ? 1 : getOption(element).fold(() => children$1(element).length, v => v.length);\n    const isTextNodeWithCursorPosition = el => getOption(el).filter(text => text.trim().length !== 0 || text.indexOf(nbsp) > -1).isSome();\n    const elementsWithCursorPosition = [\n      'img',\n      'br'\n    ];\n    const isCursorPosition = elem => {\n      const hasCursorPosition = isTextNodeWithCursorPosition(elem);\n      return hasCursorPosition || contains$2(elementsWithCursorPosition, name(elem));\n    };\n\n    const first = element => descendant$1(element, isCursorPosition);\n    const last = element => descendantRtl(element, isCursorPosition);\n    const descendantRtl = (scope, predicate) => {\n      const descend = element => {\n        const children = children$1(element);\n        for (let i = children.length - 1; i >= 0; i--) {\n          const child = children[i];\n          if (predicate(child)) {\n            return Optional.some(child);\n          }\n          const res = descend(child);\n          if (res.isSome()) {\n            return res;\n          }\n        }\n        return Optional.none();\n      };\n      return descend(scope);\n    };\n\n    const autocompleteSelector = '[data-mce-autocompleter]';\n    const create$9 = (editor, range) => {\n      if (findIn(SugarElement.fromDom(editor.getBody())).isNone()) {\n        const wrapper = SugarElement.fromHtml('<span data-mce-autocompleter=\"1\" data-mce-bogus=\"1\"></span>', editor.getDoc());\n        append$1(wrapper, SugarElement.fromDom(range.extractContents()));\n        range.insertNode(wrapper.dom);\n        parent(wrapper).each(elm => elm.dom.normalize());\n        last(wrapper).map(last => {\n          editor.selection.setCursorLocation(last.dom, getEnd(last));\n        });\n      }\n    };\n    const detect$1 = elm => closest$3(elm, autocompleteSelector);\n    const findIn = elm => descendant(elm, autocompleteSelector);\n    const remove$3 = (editor, elm) => findIn(elm).each(wrapper => {\n      const bookmark = editor.selection.getBookmark();\n      unwrap(wrapper);\n      editor.selection.moveToBookmark(bookmark);\n    });\n\n    const typeLookup = {\n      '#text': 3,\n      '#comment': 8,\n      '#cdata': 4,\n      '#pi': 7,\n      '#doctype': 10,\n      '#document-fragment': 11\n    };\n    const walk$2 = (node, root, prev) => {\n      const startName = prev ? 'lastChild' : 'firstChild';\n      const siblingName = prev ? 'prev' : 'next';\n      if (node[startName]) {\n        return node[startName];\n      }\n      if (node !== root) {\n        let sibling = node[siblingName];\n        if (sibling) {\n          return sibling;\n        }\n        for (let parent = node.parent; parent && parent !== root; parent = parent.parent) {\n          sibling = parent[siblingName];\n          if (sibling) {\n            return sibling;\n          }\n        }\n      }\n      return undefined;\n    };\n    const isEmptyTextNode = node => {\n      var _a;\n      const text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n      if (!isWhitespaceText(text)) {\n        return false;\n      }\n      const parentNode = node.parent;\n      if (parentNode && (parentNode.name !== 'span' || parentNode.attr('style')) && /^[ ]+$/.test(text)) {\n        return false;\n      }\n      return true;\n    };\n    const isNonEmptyElement = node => {\n      const isNamedAnchor = node.name === 'a' && !node.attr('href') && node.attr('id');\n      return node.attr('name') || node.attr('id') && !node.firstChild || node.attr('data-mce-bookmark') || isNamedAnchor;\n    };\n    class AstNode {\n      constructor(name, type) {\n        this.name = name;\n        this.type = type;\n        if (type === 1) {\n          this.attributes = [];\n          this.attributes.map = {};\n        }\n      }\n      static create(name, attrs) {\n        const node = new AstNode(name, typeLookup[name] || 1);\n        if (attrs) {\n          each$d(attrs, (value, attrName) => {\n            node.attr(attrName, value);\n          });\n        }\n        return node;\n      }\n      replace(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        self.insert(node, self);\n        self.remove();\n        return self;\n      }\n      attr(name, value) {\n        const self = this;\n        if (!isString(name)) {\n          if (isNonNullable(name)) {\n            each$d(name, (value, key) => {\n              self.attr(key, value);\n            });\n          }\n          return self;\n        }\n        const attrs = self.attributes;\n        if (attrs) {\n          if (value !== undefined) {\n            if (value === null) {\n              if (name in attrs.map) {\n                delete attrs.map[name];\n                let i = attrs.length;\n                while (i--) {\n                  if (attrs[i].name === name) {\n                    attrs.splice(i, 1);\n                    return self;\n                  }\n                }\n              }\n              return self;\n            }\n            if (name in attrs.map) {\n              let i = attrs.length;\n              while (i--) {\n                if (attrs[i].name === name) {\n                  attrs[i].value = value;\n                  break;\n                }\n              }\n            } else {\n              attrs.push({\n                name,\n                value\n              });\n            }\n            attrs.map[name] = value;\n            return self;\n          }\n          return attrs.map[name];\n        }\n        return undefined;\n      }\n      clone() {\n        const self = this;\n        const clone = new AstNode(self.name, self.type);\n        const selfAttrs = self.attributes;\n        if (selfAttrs) {\n          const cloneAttrs = [];\n          cloneAttrs.map = {};\n          for (let i = 0, l = selfAttrs.length; i < l; i++) {\n            const selfAttr = selfAttrs[i];\n            if (selfAttr.name !== 'id') {\n              cloneAttrs[cloneAttrs.length] = {\n                name: selfAttr.name,\n                value: selfAttr.value\n              };\n              cloneAttrs.map[selfAttr.name] = selfAttr.value;\n            }\n          }\n          clone.attributes = cloneAttrs;\n        }\n        clone.value = self.value;\n        return clone;\n      }\n      wrap(wrapper) {\n        const self = this;\n        if (self.parent) {\n          self.parent.insert(wrapper, self);\n          wrapper.append(self);\n        }\n        return self;\n      }\n      unwrap() {\n        const self = this;\n        for (let node = self.firstChild; node;) {\n          const next = node.next;\n          self.insert(node, self, true);\n          node = next;\n        }\n        self.remove();\n      }\n      remove() {\n        const self = this, parent = self.parent, next = self.next, prev = self.prev;\n        if (parent) {\n          if (parent.firstChild === self) {\n            parent.firstChild = next;\n            if (next) {\n              next.prev = null;\n            }\n          } else if (prev) {\n            prev.next = next;\n          }\n          if (parent.lastChild === self) {\n            parent.lastChild = prev;\n            if (prev) {\n              prev.next = null;\n            }\n          } else if (next) {\n            next.prev = prev;\n          }\n          self.parent = self.next = self.prev = null;\n        }\n        return self;\n      }\n      append(node) {\n        const self = this;\n        if (node.parent) {\n          node.remove();\n        }\n        const last = self.lastChild;\n        if (last) {\n          last.next = node;\n          node.prev = last;\n          self.lastChild = node;\n        } else {\n          self.lastChild = self.firstChild = node;\n        }\n        node.parent = self;\n        return node;\n      }\n      insert(node, refNode, before) {\n        if (node.parent) {\n          node.remove();\n        }\n        const parent = refNode.parent || this;\n        if (before) {\n          if (refNode === parent.firstChild) {\n            parent.firstChild = node;\n          } else if (refNode.prev) {\n            refNode.prev.next = node;\n          }\n          node.prev = refNode.prev;\n          node.next = refNode;\n          refNode.prev = node;\n        } else {\n          if (refNode === parent.lastChild) {\n            parent.lastChild = node;\n          } else if (refNode.next) {\n            refNode.next.prev = node;\n          }\n          node.next = refNode.next;\n          node.prev = refNode;\n          refNode.next = node;\n        }\n        node.parent = parent;\n        return node;\n      }\n      getAll(name) {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = walk$2(node, self)) {\n          if (node.name === name) {\n            collection.push(node);\n          }\n        }\n        return collection;\n      }\n      children() {\n        const self = this;\n        const collection = [];\n        for (let node = self.firstChild; node; node = node.next) {\n          collection.push(node);\n        }\n        return collection;\n      }\n      empty() {\n        const self = this;\n        if (self.firstChild) {\n          const nodes = [];\n          for (let node = self.firstChild; node; node = walk$2(node, self)) {\n            nodes.push(node);\n          }\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n          }\n        }\n        self.firstChild = self.lastChild = null;\n        return self;\n      }\n      isEmpty(elements, whitespace = {}, predicate) {\n        var _a;\n        const self = this;\n        let node = self.firstChild;\n        if (isNonEmptyElement(self)) {\n          return false;\n        }\n        if (node) {\n          do {\n            if (node.type === 1) {\n              if (node.attr('data-mce-bogus')) {\n                continue;\n              }\n              if (elements[node.name]) {\n                return false;\n              }\n              if (isNonEmptyElement(node)) {\n                return false;\n              }\n            }\n            if (node.type === 8) {\n              return false;\n            }\n            if (node.type === 3 && !isEmptyTextNode(node)) {\n              return false;\n            }\n            if (node.type === 3 && node.parent && whitespace[node.parent.name] && isWhitespaceText((_a = node.value) !== null && _a !== void 0 ? _a : '')) {\n              return false;\n            }\n            if (predicate && predicate(node)) {\n              return false;\n            }\n          } while (node = walk$2(node, self));\n        }\n        return true;\n      }\n      walk(prev) {\n        return walk$2(this, null, prev);\n      }\n    }\n\n    const isConditionalComment = (html, startIndex) => /^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(html.substr(startIndex));\n    const findCommentEndIndex = (html, isBogus, startIndex = 0) => {\n      const lcHtml = html.toLowerCase();\n      if (lcHtml.indexOf('[if ', startIndex) !== -1 && isConditionalComment(lcHtml, startIndex)) {\n        const endIfIndex = lcHtml.indexOf('[endif]', startIndex);\n        return lcHtml.indexOf('>', endIfIndex);\n      } else {\n        if (isBogus) {\n          const endIndex = lcHtml.indexOf('>', startIndex);\n          return endIndex !== -1 ? endIndex : lcHtml.length;\n        } else {\n          const endCommentRegexp = /--!?>/g;\n          endCommentRegexp.lastIndex = startIndex;\n          const match = endCommentRegexp.exec(html);\n          return match ? match.index + match[0].length : lcHtml.length;\n        }\n      }\n    };\n    const findMatchingEndTagIndex = (schema, html, startIndex) => {\n      const startTagRegExp = /<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g;\n      const endTagRegExp = /(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g;\n      const voidElements = schema.getVoidElements();\n      let count = 1, index = startIndex;\n      while (count !== 0) {\n        startTagRegExp.lastIndex = index;\n        while (true) {\n          const startMatch = startTagRegExp.exec(html);\n          if (startMatch === null) {\n            return index;\n          } else if (startMatch[1] === '!') {\n            if (startsWith(startMatch[2], '--')) {\n              index = findCommentEndIndex(html, false, startMatch.index + '!--'.length);\n            } else {\n              index = findCommentEndIndex(html, true, startMatch.index + 1);\n            }\n            break;\n          } else {\n            endTagRegExp.lastIndex = startTagRegExp.lastIndex;\n            const endMatch = endTagRegExp.exec(html);\n            if (isNull(endMatch) || endMatch.index !== startTagRegExp.lastIndex) {\n              continue;\n            }\n            if (startMatch[1] === '/') {\n              count -= 1;\n            } else if (!has$2(voidElements, startMatch[2])) {\n              count += 1;\n            }\n            index = startTagRegExp.lastIndex + endMatch[0].length;\n            break;\n          }\n        }\n      }\n      return index;\n    };\n    const trimHtml$1 = (tempAttrs, html) => {\n      const trimContentRegExp = new RegExp(['\\\\s?(' + tempAttrs.join('|') + ')=\"[^\"]+\"'].join('|'), 'gi');\n      return html.replace(trimContentRegExp, '');\n    };\n    const trimInternal = (serializer, html) => {\n      const bogusAllRegExp = /<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g;\n      const schema = serializer.schema;\n      let content = trimHtml$1(serializer.getTempAttrs(), html);\n      const voidElements = schema.getVoidElements();\n      let matches;\n      while (matches = bogusAllRegExp.exec(content)) {\n        const index = bogusAllRegExp.lastIndex;\n        const matchLength = matches[0].length;\n        let endTagIndex;\n        if (voidElements[matches[1]]) {\n          endTagIndex = index;\n        } else {\n          endTagIndex = findMatchingEndTagIndex(schema, content, index);\n        }\n        content = content.substring(0, index - matchLength) + content.substring(endTagIndex);\n        bogusAllRegExp.lastIndex = index - matchLength;\n      }\n      return trim$1(content);\n    };\n    const trimExternal = trimInternal;\n\n    const cleanupBogusElements = parent => {\n      const bogusElements = descendants(parent, '[data-mce-bogus]');\n      each$e(bogusElements, elem => {\n        const bogusValue = get$9(elem, 'data-mce-bogus');\n        if (bogusValue === 'all') {\n          remove$6(elem);\n        } else if (isBr$5(elem)) {\n          before$3(elem, SugarElement.fromText(zeroWidth));\n          remove$6(elem);\n        } else {\n          unwrap(elem);\n        }\n      });\n    };\n    const cleanupInputNames = parent => {\n      const inputs = descendants(parent, 'input');\n      each$e(inputs, input => {\n        remove$b(input, 'name');\n      });\n    };\n\n    const trimEmptyContents = (editor, html) => {\n      const blockName = getForcedRootBlock(editor);\n      const emptyRegExp = new RegExp(`^(<${ blockName }[^>]*>(&nbsp;|&#160;|\\\\s|\\u00a0|<br \\\\/>|)<\\\\/${ blockName }>[\\r\\n]*|<br \\\\/>[\\r\\n]*)$`);\n      return html.replace(emptyRegExp, '');\n    };\n    const getPlainTextContent = (editor, body) => {\n      const doc = editor.getDoc();\n      const dos = getRootNode(SugarElement.fromDom(editor.getBody()));\n      const offscreenDiv = SugarElement.fromTag('div', doc);\n      set$2(offscreenDiv, 'data-mce-bogus', 'all');\n      setAll(offscreenDiv, {\n        position: 'fixed',\n        left: '-9999999px',\n        top: '0'\n      });\n      set(offscreenDiv, body.innerHTML);\n      cleanupBogusElements(offscreenDiv);\n      cleanupInputNames(offscreenDiv);\n      const root = getContentContainer(dos);\n      append$1(root, offscreenDiv);\n      const content = trim$1(offscreenDiv.dom.innerText);\n      remove$6(offscreenDiv);\n      return content;\n    };\n    const getContentFromBody = (editor, args, body) => {\n      let content;\n      if (args.format === 'raw') {\n        content = Tools.trim(trimExternal(editor.serializer, body.innerHTML));\n      } else if (args.format === 'text') {\n        content = getPlainTextContent(editor, body);\n      } else if (args.format === 'tree') {\n        content = editor.serializer.serialize(body, args);\n      } else {\n        content = trimEmptyContents(editor, editor.serializer.serialize(body, args));\n      }\n      const shouldTrim = args.format !== 'text' && !isWsPreserveElement(SugarElement.fromDom(body));\n      return shouldTrim && isString(content) ? Tools.trim(content) : content;\n    };\n    const getContentInternal = (editor, args) => Optional.from(editor.getBody()).fold(constant(args.format === 'tree' ? new AstNode('body', 11) : ''), body => getContentFromBody(editor, args, body));\n\n    const makeMap$1 = Tools.makeMap;\n    const Writer = settings => {\n      const html = [];\n      settings = settings || {};\n      const indent = settings.indent;\n      const indentBefore = makeMap$1(settings.indent_before || '');\n      const indentAfter = makeMap$1(settings.indent_after || '');\n      const encode = Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n      const htmlOutput = settings.element_format !== 'xhtml';\n      return {\n        start: (name, attrs, empty) => {\n          if (indent && indentBefore[name] && html.length > 0) {\n            const value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n          html.push('<', name);\n          if (attrs) {\n            for (let i = 0, l = attrs.length; i < l; i++) {\n              const attr = attrs[i];\n              html.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n            }\n          }\n          if (!empty || htmlOutput) {\n            html[html.length] = '>';\n          } else {\n            html[html.length] = ' />';\n          }\n          if (empty && indent && indentAfter[name] && html.length > 0) {\n            const value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        end: name => {\n          let value;\n          html.push('</', name, '>');\n          if (indent && indentAfter[name] && html.length > 0) {\n            value = html[html.length - 1];\n            if (value.length > 0 && value !== '\\n') {\n              html.push('\\n');\n            }\n          }\n        },\n        text: (text, raw) => {\n          if (text.length > 0) {\n            html[html.length] = raw ? text : encode(text);\n          }\n        },\n        cdata: text => {\n          html.push('<![CDATA[', text, ']]>');\n        },\n        comment: text => {\n          html.push('<!--', text, '-->');\n        },\n        pi: (name, text) => {\n          if (text) {\n            html.push('<?', name, ' ', encode(text), '?>');\n          } else {\n            html.push('<?', name, '?>');\n          }\n          if (indent) {\n            html.push('\\n');\n          }\n        },\n        doctype: text => {\n          html.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n        },\n        reset: () => {\n          html.length = 0;\n        },\n        getContent: () => {\n          return html.join('').replace(/\\n$/, '');\n        }\n      };\n    };\n\n    const HtmlSerializer = (settings = {}, schema = Schema()) => {\n      const writer = Writer(settings);\n      settings.validate = 'validate' in settings ? settings.validate : true;\n      const serialize = node => {\n        const validate = settings.validate;\n        const handlers = {\n          3: node => {\n            var _a;\n            writer.text((_a = node.value) !== null && _a !== void 0 ? _a : '', node.raw);\n          },\n          8: node => {\n            var _a;\n            writer.comment((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          7: node => {\n            writer.pi(node.name, node.value);\n          },\n          10: node => {\n            var _a;\n            writer.doctype((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          4: node => {\n            var _a;\n            writer.cdata((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          },\n          11: node => {\n            let tempNode = node;\n            if (tempNode = tempNode.firstChild) {\n              do {\n                walk(tempNode);\n              } while (tempNode = tempNode.next);\n            }\n          }\n        };\n        writer.reset();\n        const walk = node => {\n          var _a;\n          const handler = handlers[node.type];\n          if (!handler) {\n            const name = node.name;\n            const isEmpty = name in schema.getVoidElements();\n            let attrs = node.attributes;\n            if (validate && attrs && attrs.length > 1) {\n              const sortedAttrs = [];\n              sortedAttrs.map = {};\n              const elementRule = schema.getElementRule(node.name);\n              if (elementRule) {\n                for (let i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n                  const attrName = elementRule.attributesOrder[i];\n                  if (attrName in attrs.map) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                for (let i = 0, l = attrs.length; i < l; i++) {\n                  const attrName = attrs[i].name;\n                  if (!(attrName in sortedAttrs.map)) {\n                    const attrValue = attrs.map[attrName];\n                    sortedAttrs.map[attrName] = attrValue;\n                    sortedAttrs.push({\n                      name: attrName,\n                      value: attrValue\n                    });\n                  }\n                }\n                attrs = sortedAttrs;\n              }\n            }\n            writer.start(name, attrs, isEmpty);\n            if (!isEmpty) {\n              let child = node.firstChild;\n              if (child) {\n                if ((name === 'pre' || name === 'textarea') && child.type === 3 && ((_a = child.value) === null || _a === void 0 ? void 0 : _a[0]) === '\\n') {\n                  writer.text('\\n', true);\n                }\n                do {\n                  walk(child);\n                } while (child = child.next);\n              }\n              writer.end(name);\n            }\n          } else {\n            handler(node);\n          }\n        };\n        if (node.type === 1 && !settings.inner) {\n          walk(node);\n        } else if (node.type === 3) {\n          handlers[3](node);\n        } else {\n          handlers[11](node);\n        }\n        return writer.getContent();\n      };\n      return { serialize };\n    };\n\n    const nonInheritableStyles = new Set();\n    (() => {\n      const nonInheritableStylesArr = [\n        'margin',\n        'margin-left',\n        'margin-right',\n        'margin-top',\n        'margin-bottom',\n        'padding',\n        'padding-left',\n        'padding-right',\n        'padding-top',\n        'padding-bottom',\n        'border',\n        'border-width',\n        'border-style',\n        'border-color',\n        'background',\n        'background-attachment',\n        'background-clip',\n        'background-color',\n        'background-image',\n        'background-origin',\n        'background-position',\n        'background-repeat',\n        'background-size',\n        'float',\n        'position',\n        'left',\n        'right',\n        'top',\n        'bottom',\n        'z-index',\n        'display',\n        'transform',\n        'width',\n        'max-width',\n        'min-width',\n        'height',\n        'max-height',\n        'min-height',\n        'overflow',\n        'overflow-x',\n        'overflow-y',\n        'text-overflow',\n        'vertical-align',\n        'transition',\n        'transition-delay',\n        'transition-duration',\n        'transition-property',\n        'transition-timing-function'\n      ];\n      each$e(nonInheritableStylesArr, style => {\n        nonInheritableStyles.add(style);\n      });\n    })();\n    const shorthandStyleProps = [\n      'font',\n      'text-decoration',\n      'text-emphasis'\n    ];\n    const getStyleProps = (dom, node) => keys(dom.parseStyle(dom.getAttrib(node, 'style')));\n    const isNonInheritableStyle = style => nonInheritableStyles.has(style);\n    const hasInheritableStyles = (dom, node) => forall(getStyleProps(dom, node), style => !isNonInheritableStyle(style));\n    const getLonghandStyleProps = styles => filter$5(styles, style => exists(shorthandStyleProps, prop => startsWith(style, prop)));\n    const hasStyleConflict = (dom, node, parentNode) => {\n      const nodeStyleProps = getStyleProps(dom, node);\n      const parentNodeStyleProps = getStyleProps(dom, parentNode);\n      const valueMismatch = prop => {\n        var _a, _b;\n        const nodeValue = (_a = dom.getStyle(node, prop)) !== null && _a !== void 0 ? _a : '';\n        const parentValue = (_b = dom.getStyle(parentNode, prop)) !== null && _b !== void 0 ? _b : '';\n        return isNotEmpty(nodeValue) && isNotEmpty(parentValue) && nodeValue !== parentValue;\n      };\n      return exists(nodeStyleProps, nodeStyleProp => {\n        const propExists = props => exists(props, prop => prop === nodeStyleProp);\n        if (!propExists(parentNodeStyleProps) && propExists(shorthandStyleProps)) {\n          const longhandProps = getLonghandStyleProps(parentNodeStyleProps);\n          return exists(longhandProps, valueMismatch);\n        } else {\n          return valueMismatch(nodeStyleProp);\n        }\n      });\n    };\n\n    const isChar = (forward, predicate, pos) => Optional.from(pos.container()).filter(isText$a).exists(text => {\n      const delta = forward ? 0 : -1;\n      return predicate(text.data.charAt(pos.offset() + delta));\n    });\n    const isBeforeSpace = curry(isChar, true, isWhiteSpace);\n    const isAfterSpace = curry(isChar, false, isWhiteSpace);\n    const isEmptyText = pos => {\n      const container = pos.container();\n      return isText$a(container) && (container.data.length === 0 || isZwsp(container.data) && BookmarkManager.isBookmarkNode(container.parentNode));\n    };\n    const matchesElementPosition = (before, predicate) => pos => getChildNodeAtRelativeOffset(before ? 0 : -1, pos).filter(predicate).isSome();\n    const isImageBlock = node => isImg(node) && get$7(SugarElement.fromDom(node), 'display') === 'block';\n    const isCefNode = node => isContentEditableFalse$a(node) && !isBogusAll$1(node);\n    const isBeforeImageBlock = matchesElementPosition(true, isImageBlock);\n    const isAfterImageBlock = matchesElementPosition(false, isImageBlock);\n    const isBeforeMedia = matchesElementPosition(true, isMedia$2);\n    const isAfterMedia = matchesElementPosition(false, isMedia$2);\n    const isBeforeTable = matchesElementPosition(true, isTable$2);\n    const isAfterTable = matchesElementPosition(false, isTable$2);\n    const isBeforeContentEditableFalse = matchesElementPosition(true, isCefNode);\n    const isAfterContentEditableFalse = matchesElementPosition(false, isCefNode);\n\n    const dropLast = xs => xs.slice(0, -1);\n    const parentsUntil = (start, root, predicate) => {\n      if (contains(root, start)) {\n        return dropLast(parents$1(start, elm => {\n          return predicate(elm) || eq(elm, root);\n        }));\n      } else {\n        return [];\n      }\n    };\n    const parents = (start, root) => parentsUntil(start, root, never);\n    const parentsAndSelf = (start, root) => [start].concat(parents(start, root));\n\n    const navigateIgnoreEmptyTextNodes = (forward, root, from) => navigateIgnore(forward, root, from, isEmptyText);\n    const getClosestBlock$1 = (root, pos) => find$2(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n    const isAtBeforeAfterBlockBoundary = (forward, root, pos) => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => getClosestBlock$1(root, pos).fold(() => !isInSameBlock(newPos, pos, root.dom), fromBlock => !isInSameBlock(newPos, pos, root.dom) && contains(fromBlock, SugarElement.fromDom(newPos.container()))));\n    const isAtBlockBoundary = (forward, root, pos) => getClosestBlock$1(root, pos).fold(() => navigateIgnoreEmptyTextNodes(forward, root.dom, pos).forall(newPos => !isInSameBlock(newPos, pos, root.dom)), parent => navigateIgnoreEmptyTextNodes(forward, parent.dom, pos).isNone());\n    const isAtStartOfBlock = curry(isAtBlockBoundary, false);\n    const isAtEndOfBlock = curry(isAtBlockBoundary, true);\n    const isBeforeBlock = curry(isAtBeforeAfterBlockBoundary, false);\n    const isAfterBlock = curry(isAtBeforeAfterBlockBoundary, true);\n\n    const isBr$1 = pos => getElementFromPosition(pos).exists(isBr$5);\n    const findBr = (forward, root, pos) => {\n      const parentBlocks = filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      const scope = head(parentBlocks).getOr(root);\n      return fromPosition(forward, scope.dom, pos).filter(isBr$1);\n    };\n    const isBeforeBr$1 = (root, pos) => getElementFromPosition(pos).exists(isBr$5) || findBr(true, root, pos).isSome();\n    const isAfterBr = (root, pos) => getElementFromPrevPosition(pos).exists(isBr$5) || findBr(false, root, pos).isSome();\n    const findPreviousBr = curry(findBr, false);\n    const findNextBr = curry(findBr, true);\n\n    const isInMiddleOfText = pos => CaretPosition.isTextPosition(pos) && !pos.isAtStart() && !pos.isAtEnd();\n    const getClosestBlock = (root, pos) => {\n      const parentBlocks = filter$5(parentsAndSelf(SugarElement.fromDom(pos.container()), root), isBlock$2);\n      return head(parentBlocks).getOr(root);\n    };\n    const hasSpaceBefore = (root, pos) => {\n      if (isInMiddleOfText(pos)) {\n        return isAfterSpace(pos);\n      } else {\n        return isAfterSpace(pos) || prevPosition(getClosestBlock(root, pos).dom, pos).exists(isAfterSpace);\n      }\n    };\n    const hasSpaceAfter = (root, pos) => {\n      if (isInMiddleOfText(pos)) {\n        return isBeforeSpace(pos);\n      } else {\n        return isBeforeSpace(pos) || nextPosition(getClosestBlock(root, pos).dom, pos).exists(isBeforeSpace);\n      }\n    };\n    const isPreValue = value => contains$2([\n      'pre',\n      'pre-wrap'\n    ], value);\n    const isInPre = pos => getElementFromPosition(pos).bind(elm => closest$4(elm, isElement$7)).exists(elm => isPreValue(get$7(elm, 'white-space')));\n    const isAtBeginningOfBody = (root, pos) => prevPosition(root.dom, pos).isNone();\n    const isAtEndOfBody = (root, pos) => nextPosition(root.dom, pos).isNone();\n    const isAtLineBoundary = (root, pos) => isAtBeginningOfBody(root, pos) || isAtEndOfBody(root, pos) || isAtStartOfBlock(root, pos) || isAtEndOfBlock(root, pos) || isAfterBr(root, pos) || isBeforeBr$1(root, pos);\n    const isCefBlock = node => isNonNullable(node) && isContentEditableFalse$a(node) && isBlockLike(node);\n    const isSiblingCefBlock = (root, direction) => container => {\n      return isCefBlock(new DomTreeWalker(container, root)[direction]());\n    };\n    const isBeforeCefBlock = (root, pos) => {\n      const nextPos = nextPosition(root.dom, pos).getOr(pos);\n      const isNextCefBlock = isSiblingCefBlock(root.dom, 'next');\n      return pos.isAtEnd() && (isNextCefBlock(pos.container()) || isNextCefBlock(nextPos.container()));\n    };\n    const isAfterCefBlock = (root, pos) => {\n      const prevPos = prevPosition(root.dom, pos).getOr(pos);\n      const isPrevCefBlock = isSiblingCefBlock(root.dom, 'prev');\n      return pos.isAtStart() && (isPrevCefBlock(pos.container()) || isPrevCefBlock(prevPos.container()));\n    };\n    const needsToHaveNbsp = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtLineBoundary(root, pos) || hasSpaceBefore(root, pos) || hasSpaceAfter(root, pos);\n      }\n    };\n    const needsToBeNbspLeft = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtStartOfBlock(root, pos) || isBeforeBlock(root, pos) || isAfterBr(root, pos) || hasSpaceBefore(root, pos) || isAfterCefBlock(root, pos);\n      }\n    };\n    const leanRight = pos => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$a(container) && offset < container.data.length) {\n        return CaretPosition(container, offset + 1);\n      } else {\n        return pos;\n      }\n    };\n    const needsToBeNbspRight = (root, pos) => {\n      if (isInPre(pos)) {\n        return false;\n      } else {\n        return isAtEndOfBlock(root, pos) || isAfterBlock(root, pos) || isBeforeBr$1(root, pos) || hasSpaceAfter(root, pos) || isBeforeCefBlock(root, pos);\n      }\n    };\n    const needsToBeNbsp = (root, pos) => needsToBeNbspLeft(root, pos) || needsToBeNbspRight(root, leanRight(pos));\n    const isNbspAt = (text, offset) => isNbsp(text.charAt(offset));\n    const isWhiteSpaceAt = (text, offset) => isWhiteSpace(text.charAt(offset));\n    const hasNbsp = pos => {\n      const container = pos.container();\n      return isText$a(container) && contains$1(container.data, nbsp);\n    };\n    const normalizeNbspMiddle = text => {\n      const chars = text.split('');\n      return map$3(chars, (chr, i) => {\n        if (isNbsp(chr) && i > 0 && i < chars.length - 1 && isContent(chars[i - 1]) && isContent(chars[i + 1])) {\n          return ' ';\n        } else {\n          return chr;\n        }\n      }).join('');\n    };\n    const normalizeNbspAtStart = (root, node, makeNbsp) => {\n      const text = node.data;\n      const firstPos = CaretPosition(node, 0);\n      if (!makeNbsp && isNbspAt(text, 0) && !needsToBeNbsp(root, firstPos)) {\n        node.data = ' ' + text.slice(1);\n        return true;\n      } else if (makeNbsp && isWhiteSpaceAt(text, 0) && needsToBeNbspLeft(root, firstPos)) {\n        node.data = nbsp + text.slice(1);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspInMiddleOfTextNode = node => {\n      const text = node.data;\n      const newText = normalizeNbspMiddle(text);\n      if (newText !== text) {\n        node.data = newText;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbspAtEnd = (root, node, makeNbsp) => {\n      const text = node.data;\n      const lastPos = CaretPosition(node, text.length - 1);\n      if (!makeNbsp && isNbspAt(text, text.length - 1) && !needsToBeNbsp(root, lastPos)) {\n        node.data = text.slice(0, -1) + ' ';\n        return true;\n      } else if (makeNbsp && isWhiteSpaceAt(text, text.length - 1) && needsToBeNbspRight(root, lastPos)) {\n        node.data = text.slice(0, -1) + nbsp;\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const normalizeNbsps = (root, pos) => {\n      const container = pos.container();\n      if (!isText$a(container)) {\n        return Optional.none();\n      }\n      if (hasNbsp(pos)) {\n        const normalized = normalizeNbspAtStart(root, container, false) || normalizeNbspInMiddleOfTextNode(container) || normalizeNbspAtEnd(root, container, false);\n        return someIf(normalized, pos);\n      } else if (needsToBeNbsp(root, pos)) {\n        const normalized = normalizeNbspAtStart(root, container, true) || normalizeNbspAtEnd(root, container, true);\n        return someIf(normalized, pos);\n      } else {\n        return Optional.none();\n      }\n    };\n    const normalizeNbspsInEditor = editor => {\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        normalizeNbsps(root, CaretPosition.fromRangeStart(editor.selection.getRng())).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      }\n    };\n\n    const normalize$1 = (node, offset, count) => {\n      if (count === 0) {\n        return;\n      }\n      const elm = SugarElement.fromDom(node);\n      const root = ancestor$3(elm, isBlock$2).getOr(elm);\n      const whitespace = node.data.slice(offset, offset + count);\n      const isEndOfContent = offset + count >= node.data.length && needsToBeNbspRight(root, CaretPosition(node, node.data.length));\n      const isStartOfContent = offset === 0 && needsToBeNbspLeft(root, CaretPosition(node, 0));\n      node.replaceData(offset, count, normalize$4(whitespace, 4, isStartOfContent, isEndOfContent));\n    };\n    const normalizeWhitespaceAfter = (node, offset) => {\n      const content = node.data.slice(offset);\n      const whitespaceCount = content.length - lTrim(content).length;\n      normalize$1(node, offset, whitespaceCount);\n    };\n    const normalizeWhitespaceBefore = (node, offset) => {\n      const content = node.data.slice(0, offset);\n      const whitespaceCount = content.length - rTrim(content).length;\n      normalize$1(node, offset - whitespaceCount, whitespaceCount);\n    };\n    const mergeTextNodes = (prevNode, nextNode, normalizeWhitespace, mergeToPrev = true) => {\n      const whitespaceOffset = rTrim(prevNode.data).length;\n      const newNode = mergeToPrev ? prevNode : nextNode;\n      const removeNode = mergeToPrev ? nextNode : prevNode;\n      if (mergeToPrev) {\n        newNode.appendData(removeNode.data);\n      } else {\n        newNode.insertData(0, removeNode.data);\n      }\n      remove$6(SugarElement.fromDom(removeNode));\n      if (normalizeWhitespace) {\n        normalizeWhitespaceAfter(newNode, whitespaceOffset);\n      }\n      return newNode;\n    };\n\n    const needsReposition = (pos, elm) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      return !CaretPosition.isTextPosition(pos) && container === elm.parentNode && offset > CaretPosition.before(elm).offset();\n    };\n    const reposition = (elm, pos) => needsReposition(pos, elm) ? CaretPosition(pos.container(), pos.offset() - 1) : pos;\n    const beforeOrStartOf = node => isText$a(node) ? CaretPosition(node, 0) : CaretPosition.before(node);\n    const afterOrEndOf = node => isText$a(node) ? CaretPosition(node, node.data.length) : CaretPosition.after(node);\n    const getPreviousSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.previousSibling)) {\n        return Optional.some(afterOrEndOf(elm.previousSibling));\n      } else {\n        return elm.previousSibling ? lastPositionIn(elm.previousSibling) : Optional.none();\n      }\n    };\n    const getNextSiblingCaretPosition = elm => {\n      if (isCaretCandidate$3(elm.nextSibling)) {\n        return Optional.some(beforeOrStartOf(elm.nextSibling));\n      } else {\n        return elm.nextSibling ? firstPositionIn(elm.nextSibling) : Optional.none();\n      }\n    };\n    const findCaretPositionBackwardsFromElm = (rootElement, elm) => {\n      return Optional.from(elm.previousSibling ? elm.previousSibling : elm.parentNode).bind(node => prevPosition(rootElement, CaretPosition.before(node))).orThunk(() => nextPosition(rootElement, CaretPosition.after(elm)));\n    };\n    const findCaretPositionForwardsFromElm = (rootElement, elm) => nextPosition(rootElement, CaretPosition.after(elm)).orThunk(() => prevPosition(rootElement, CaretPosition.before(elm)));\n    const findCaretPositionBackwards = (rootElement, elm) => getPreviousSiblingCaretPosition(elm).orThunk(() => getNextSiblingCaretPosition(elm)).orThunk(() => findCaretPositionBackwardsFromElm(rootElement, elm));\n    const findCaretPositionForward = (rootElement, elm) => getNextSiblingCaretPosition(elm).orThunk(() => getPreviousSiblingCaretPosition(elm)).orThunk(() => findCaretPositionForwardsFromElm(rootElement, elm));\n    const findCaretPosition = (forward, rootElement, elm) => forward ? findCaretPositionForward(rootElement, elm) : findCaretPositionBackwards(rootElement, elm);\n    const findCaretPosOutsideElmAfterDelete = (forward, rootElement, elm) => findCaretPosition(forward, rootElement, elm).map(curry(reposition, elm));\n    const setSelection$1 = (editor, forward, pos) => {\n      pos.fold(() => {\n        editor.focus();\n      }, pos => {\n        editor.selection.setRng(pos.toRange(), forward);\n      });\n    };\n    const eqRawNode = rawNode => elm => elm.dom === rawNode;\n    const isBlock = (editor, elm) => elm && has$2(editor.schema.getBlockElements(), name(elm));\n    const paddEmptyBlock = elm => {\n      if (isEmpty$2(elm)) {\n        const br = SugarElement.fromHtml('<br data-mce-bogus=\"1\">');\n        empty(elm);\n        append$1(elm, br);\n        return Optional.some(CaretPosition.before(br.dom));\n      } else {\n        return Optional.none();\n      }\n    };\n    const deleteNormalized = (elm, afterDeletePosOpt, normalizeWhitespace) => {\n      const prevTextOpt = prevSibling(elm).filter(isText$b);\n      const nextTextOpt = nextSibling(elm).filter(isText$b);\n      remove$6(elm);\n      return lift3(prevTextOpt, nextTextOpt, afterDeletePosOpt, (prev, next, pos) => {\n        const prevNode = prev.dom, nextNode = next.dom;\n        const offset = prevNode.data.length;\n        mergeTextNodes(prevNode, nextNode, normalizeWhitespace);\n        return pos.container() === nextNode ? CaretPosition(prevNode, offset) : pos;\n      }).orThunk(() => {\n        if (normalizeWhitespace) {\n          prevTextOpt.each(elm => normalizeWhitespaceBefore(elm.dom, elm.dom.length));\n          nextTextOpt.each(elm => normalizeWhitespaceAfter(elm.dom, 0));\n        }\n        return afterDeletePosOpt;\n      });\n    };\n    const isInlineElement = (editor, element) => has$2(editor.schema.getTextInlineElements(), name(element));\n    const deleteElement$2 = (editor, forward, elm, moveCaret = true) => {\n      const afterDeletePos = findCaretPosOutsideElmAfterDelete(forward, editor.getBody(), elm.dom);\n      const parentBlock = ancestor$3(elm, curry(isBlock, editor), eqRawNode(editor.getBody()));\n      const normalizedAfterDeletePos = deleteNormalized(elm, afterDeletePos, isInlineElement(editor, elm));\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      } else {\n        parentBlock.bind(paddEmptyBlock).fold(() => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, normalizedAfterDeletePos);\n          }\n        }, paddPos => {\n          if (moveCaret) {\n            setSelection$1(editor, forward, Optional.some(paddPos));\n          }\n        });\n      }\n    };\n\n    const strongRtl = /[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/;\n    const hasStrongRtl = text => strongRtl.test(text);\n\n    const isInlineTarget = (editor, elm) => is$1(SugarElement.fromDom(elm), getInlineBoundarySelector(editor)) && !isTransparentBlock(editor.schema, elm);\n    const isRtl = element => {\n      var _a;\n      return DOMUtils.DOM.getStyle(element, 'direction', true) === 'rtl' || hasStrongRtl((_a = element.textContent) !== null && _a !== void 0 ? _a : '');\n    };\n    const findInlineParents = (isInlineTarget, rootNode, pos) => filter$5(DOMUtils.DOM.getParents(pos.container(), '*', rootNode), isInlineTarget);\n    const findRootInline = (isInlineTarget, rootNode, pos) => {\n      const parents = findInlineParents(isInlineTarget, rootNode, pos);\n      return Optional.from(parents[parents.length - 1]);\n    };\n    const hasSameParentBlock = (rootNode, node1, node2) => {\n      const block1 = getParentBlock$3(node1, rootNode);\n      const block2 = getParentBlock$3(node2, rootNode);\n      return isNonNullable(block1) && block1 === block2;\n    };\n    const isAtZwsp = pos => isBeforeInline(pos) || isAfterInline(pos);\n    const normalizePosition = (forward, pos) => {\n      const container = pos.container(), offset = pos.offset();\n      if (forward) {\n        if (isCaretContainerInline(container)) {\n          if (isText$a(container.nextSibling)) {\n            return CaretPosition(container.nextSibling, 0);\n          } else {\n            return CaretPosition.after(container);\n          }\n        } else {\n          return isBeforeInline(pos) ? CaretPosition(container, offset + 1) : pos;\n        }\n      } else {\n        if (isCaretContainerInline(container)) {\n          if (isText$a(container.previousSibling)) {\n            return CaretPosition(container.previousSibling, container.previousSibling.data.length);\n          } else {\n            return CaretPosition.before(container);\n          }\n        } else {\n          return isAfterInline(pos) ? CaretPosition(container, offset - 1) : pos;\n        }\n      }\n    };\n    const normalizeForwards = curry(normalizePosition, true);\n    const normalizeBackwards = curry(normalizePosition, false);\n\n    const execCommandIgnoreInputEvents = (editor, command) => {\n      const inputBlocker = e => e.stopImmediatePropagation();\n      editor.on('beforeinput input', inputBlocker, true);\n      editor.getDoc().execCommand(command);\n      editor.off('beforeinput input', inputBlocker);\n    };\n    const execEditorDeleteCommand = editor => {\n      editor.execCommand('delete');\n    };\n    const execNativeDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'Delete');\n    const execNativeForwardDeleteCommand = editor => execCommandIgnoreInputEvents(editor, 'ForwardDelete');\n    const isBeforeRoot = rootNode => elm => is$2(parent(elm), rootNode, eq);\n    const isTextBlockOrListItem = element => isTextBlock$2(element) || isListItem$1(element);\n    const getParentBlock$2 = (rootNode, elm) => {\n      if (contains(rootNode, elm)) {\n        return closest$4(elm, isTextBlockOrListItem, isBeforeRoot(rootNode));\n      } else {\n        return Optional.none();\n      }\n    };\n    const paddEmptyBody = (editor, moveSelection = true) => {\n      if (editor.dom.isEmpty(editor.getBody())) {\n        editor.setContent('', { no_selection: !moveSelection });\n      }\n    };\n    const willDeleteLastPositionInElement = (forward, fromPos, elm) => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      const normalizedFromPos = normalizePosition(false, fromPos);\n      if (forward) {\n        return nextPosition(elm, normalizedFromPos).exists(nextPos => nextPos.isEqual(normalizedLastPos) && fromPos.isEqual(normalizedFirstPos));\n      } else {\n        return prevPosition(elm, normalizedFromPos).exists(prevPos => prevPos.isEqual(normalizedFirstPos) && fromPos.isEqual(normalizedLastPos));\n      }\n    }).getOr(true);\n    const freefallRtl = root => {\n      const child = isComment$1(root) ? prevSibling(root) : lastChild(root);\n      return child.bind(freefallRtl).orThunk(() => Optional.some(root));\n    };\n    const deleteRangeContents = (editor, rng, root, moveSelection = true) => {\n      var _a;\n      rng.deleteContents();\n      const lastNode = freefallRtl(root).getOr(root);\n      const lastBlock = SugarElement.fromDom((_a = editor.dom.getParent(lastNode.dom, editor.dom.isBlock)) !== null && _a !== void 0 ? _a : root.dom);\n      if (lastBlock.dom === editor.getBody()) {\n        paddEmptyBody(editor, moveSelection);\n      } else if (isEmpty$2(lastBlock)) {\n        fillWithPaddingBr(lastBlock);\n        if (moveSelection) {\n          editor.selection.setCursorLocation(lastBlock.dom, 0);\n        }\n      }\n      if (!eq(root, lastBlock)) {\n        const additionalCleanupNodes = is$2(parent(lastBlock), root) ? [] : siblings(lastBlock);\n        each$e(additionalCleanupNodes.concat(children$1(root)), node => {\n          if (!eq(node, lastBlock) && !contains(node, lastBlock) && isEmpty$2(node)) {\n            remove$6(node);\n          }\n        });\n      }\n    };\n\n    const isRootFromElement = root => cur => eq(root, cur);\n    const getTableCells = table => descendants(table, 'td,th');\n    const getTableDetailsFromRange = (rng, isRoot) => {\n      const getTable = node => getClosestTable(SugarElement.fromDom(node), isRoot);\n      const startTable = getTable(rng.startContainer);\n      const endTable = getTable(rng.endContainer);\n      const isStartInTable = startTable.isSome();\n      const isEndInTable = endTable.isSome();\n      const isSameTable = lift2(startTable, endTable, eq).getOr(false);\n      const isMultiTable = !isSameTable && isStartInTable && isEndInTable;\n      return {\n        startTable,\n        endTable,\n        isStartInTable,\n        isEndInTable,\n        isSameTable,\n        isMultiTable\n      };\n    };\n\n    const tableCellRng = (start, end) => ({\n      start,\n      end\n    });\n    const tableSelection = (rng, table, cells) => ({\n      rng,\n      table,\n      cells\n    });\n    const deleteAction = Adt.generate([\n      {\n        singleCellTable: [\n          'rng',\n          'cell'\n        ]\n      },\n      { fullTable: ['table'] },\n      {\n        partialTable: [\n          'cells',\n          'outsideDetails'\n        ]\n      },\n      {\n        multiTable: [\n          'startTableCells',\n          'endTableCells',\n          'betweenRng'\n        ]\n      }\n    ]);\n    const getClosestCell$1 = (container, isRoot) => closest$3(SugarElement.fromDom(container), 'td,th', isRoot);\n    const isExpandedCellRng = cellRng => !eq(cellRng.start, cellRng.end);\n    const getTableFromCellRng = (cellRng, isRoot) => getClosestTable(cellRng.start, isRoot).bind(startParentTable => getClosestTable(cellRng.end, isRoot).bind(endParentTable => someIf(eq(startParentTable, endParentTable), startParentTable)));\n    const isSingleCellTable = (cellRng, isRoot) => !isExpandedCellRng(cellRng) && getTableFromCellRng(cellRng, isRoot).exists(table => {\n      const rows = table.dom.rows;\n      return rows.length === 1 && rows[0].cells.length === 1;\n    });\n    const getCellRng = (rng, isRoot) => {\n      const startCell = getClosestCell$1(rng.startContainer, isRoot);\n      const endCell = getClosestCell$1(rng.endContainer, isRoot);\n      return lift2(startCell, endCell, tableCellRng);\n    };\n    const getCellRangeFromStartTable = isRoot => startCell => getClosestTable(startCell, isRoot).bind(table => last$3(getTableCells(table)).map(endCell => tableCellRng(startCell, endCell)));\n    const getCellRangeFromEndTable = isRoot => endCell => getClosestTable(endCell, isRoot).bind(table => head(getTableCells(table)).map(startCell => tableCellRng(startCell, endCell)));\n    const getTableSelectionFromCellRng = isRoot => cellRng => getTableFromCellRng(cellRng, isRoot).map(table => tableSelection(cellRng, table, getTableCells(table)));\n    const getTableSelections = (cellRng, selectionDetails, rng, isRoot) => {\n      if (rng.collapsed || !cellRng.forall(isExpandedCellRng)) {\n        return Optional.none();\n      } else if (selectionDetails.isSameTable) {\n        const sameTableSelection = cellRng.bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: sameTableSelection,\n          end: sameTableSelection\n        });\n      } else {\n        const startCell = getClosestCell$1(rng.startContainer, isRoot);\n        const endCell = getClosestCell$1(rng.endContainer, isRoot);\n        const startTableSelection = startCell.bind(getCellRangeFromStartTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        const endTableSelection = endCell.bind(getCellRangeFromEndTable(isRoot)).bind(getTableSelectionFromCellRng(isRoot));\n        return Optional.some({\n          start: startTableSelection,\n          end: endTableSelection\n        });\n      }\n    };\n    const getCellIndex = (cells, cell) => findIndex$2(cells, x => eq(x, cell));\n    const getSelectedCells = tableSelection => lift2(getCellIndex(tableSelection.cells, tableSelection.rng.start), getCellIndex(tableSelection.cells, tableSelection.rng.end), (startIndex, endIndex) => tableSelection.cells.slice(startIndex, endIndex + 1));\n    const isSingleCellTableContentSelected = (optCellRng, rng, isRoot) => optCellRng.exists(cellRng => isSingleCellTable(cellRng, isRoot) && hasAllContentsSelected(cellRng.start, rng));\n    const unselectCells = (rng, selectionDetails) => {\n      const {startTable, endTable} = selectionDetails;\n      const otherContentRng = rng.cloneRange();\n      startTable.each(table => otherContentRng.setStartAfter(table.dom));\n      endTable.each(table => otherContentRng.setEndBefore(table.dom));\n      return otherContentRng;\n    };\n    const handleSingleTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => start.or(end)).bind(tableSelection => {\n      const {isSameTable} = selectionDetails;\n      const selectedCells = getSelectedCells(tableSelection).getOr([]);\n      if (isSameTable && tableSelection.cells.length === selectedCells.length) {\n        return Optional.some(deleteAction.fullTable(tableSelection.table));\n      } else if (selectedCells.length > 0) {\n        if (isSameTable) {\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.none()));\n        } else {\n          const otherContentRng = unselectCells(rng, selectionDetails);\n          return Optional.some(deleteAction.partialTable(selectedCells, Optional.some({\n            ...selectionDetails,\n            rng: otherContentRng\n          })));\n        }\n      } else {\n        return Optional.none();\n      }\n    });\n    const handleMultiTable = (cellRng, selectionDetails, rng, isRoot) => getTableSelections(cellRng, selectionDetails, rng, isRoot).bind(({start, end}) => {\n      const startTableSelectedCells = start.bind(getSelectedCells).getOr([]);\n      const endTableSelectedCells = end.bind(getSelectedCells).getOr([]);\n      if (startTableSelectedCells.length > 0 && endTableSelectedCells.length > 0) {\n        const otherContentRng = unselectCells(rng, selectionDetails);\n        return Optional.some(deleteAction.multiTable(startTableSelectedCells, endTableSelectedCells, otherContentRng));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getActionFromRange = (root, rng) => {\n      const isRoot = isRootFromElement(root);\n      const optCellRng = getCellRng(rng, isRoot);\n      const selectionDetails = getTableDetailsFromRange(rng, isRoot);\n      if (isSingleCellTableContentSelected(optCellRng, rng, isRoot)) {\n        return optCellRng.map(cellRng => deleteAction.singleCellTable(rng, cellRng.start));\n      } else if (selectionDetails.isMultiTable) {\n        return handleMultiTable(optCellRng, selectionDetails, rng, isRoot);\n      } else {\n        return handleSingleTable(optCellRng, selectionDetails, rng, isRoot);\n      }\n    };\n\n    const cleanCells = cells => each$e(cells, cell => {\n      remove$b(cell, 'contenteditable');\n      fillWithPaddingBr(cell);\n    });\n    const getOutsideBlock = (editor, container) => Optional.from(editor.dom.getParent(container, editor.dom.isBlock)).map(SugarElement.fromDom);\n    const handleEmptyBlock = (editor, startInTable, emptyBlock) => {\n      emptyBlock.each(block => {\n        if (startInTable) {\n          remove$6(block);\n        } else {\n          fillWithPaddingBr(block);\n          editor.selection.setCursorLocation(block.dom, 0);\n        }\n      });\n    };\n    const deleteContentInsideCell = (editor, cell, rng, isFirstCellInSelection) => {\n      const insideTableRng = rng.cloneRange();\n      if (isFirstCellInSelection) {\n        insideTableRng.setStart(rng.startContainer, rng.startOffset);\n        insideTableRng.setEndAfter(cell.dom.lastChild);\n      } else {\n        insideTableRng.setStartBefore(cell.dom.firstChild);\n        insideTableRng.setEnd(rng.endContainer, rng.endOffset);\n      }\n      deleteCellContents(editor, insideTableRng, cell, false).each(action => action());\n    };\n    const collapseAndRestoreCellSelection = editor => {\n      const selectedCells = getCellsFromEditor(editor);\n      const selectedNode = SugarElement.fromDom(editor.selection.getNode());\n      if (isTableCell$3(selectedNode.dom) && isEmpty$2(selectedNode)) {\n        editor.selection.setCursorLocation(selectedNode.dom, 0);\n      } else {\n        editor.selection.collapse(true);\n      }\n      if (selectedCells.length > 1 && exists(selectedCells, cell => eq(cell, selectedNode))) {\n        set$2(selectedNode, 'data-mce-selected', '1');\n      }\n    };\n    const emptySingleTableCells = (editor, cells, outsideDetails) => Optional.some(() => {\n      const editorRng = editor.selection.getRng();\n      const cellsToClean = outsideDetails.bind(({rng, isStartInTable}) => {\n        const outsideBlock = getOutsideBlock(editor, isStartInTable ? rng.endContainer : rng.startContainer);\n        rng.deleteContents();\n        handleEmptyBlock(editor, isStartInTable, outsideBlock.filter(isEmpty$2));\n        const endPointCell = isStartInTable ? cells[0] : cells[cells.length - 1];\n        deleteContentInsideCell(editor, endPointCell, editorRng, isStartInTable);\n        if (!isEmpty$2(endPointCell)) {\n          return Optional.some(isStartInTable ? cells.slice(1) : cells.slice(0, -1));\n        } else {\n          return Optional.none();\n        }\n      }).getOr(cells);\n      cleanCells(cellsToClean);\n      collapseAndRestoreCellSelection(editor);\n    });\n    const emptyMultiTableCells = (editor, startTableCells, endTableCells, betweenRng) => Optional.some(() => {\n      const rng = editor.selection.getRng();\n      const startCell = startTableCells[0];\n      const endCell = endTableCells[endTableCells.length - 1];\n      deleteContentInsideCell(editor, startCell, rng, true);\n      deleteContentInsideCell(editor, endCell, rng, false);\n      const startTableCellsToClean = isEmpty$2(startCell) ? startTableCells : startTableCells.slice(1);\n      const endTableCellsToClean = isEmpty$2(endCell) ? endTableCells : endTableCells.slice(0, -1);\n      cleanCells(startTableCellsToClean.concat(endTableCellsToClean));\n      betweenRng.deleteContents();\n      collapseAndRestoreCellSelection(editor);\n    });\n    const deleteCellContents = (editor, rng, cell, moveSelection = true) => Optional.some(() => {\n      deleteRangeContents(editor, rng, cell, moveSelection);\n    });\n    const deleteTableElement = (editor, table) => Optional.some(() => deleteElement$2(editor, false, table));\n    const deleteCellRange = (editor, rootElm, rng) => getActionFromRange(rootElm, rng).bind(action => action.fold(curry(deleteCellContents, editor), curry(deleteTableElement, editor), curry(emptySingleTableCells, editor), curry(emptyMultiTableCells, editor)));\n    const deleteCaptionRange = (editor, caption) => emptyElement(editor, caption);\n    const deleteTableRange = (editor, rootElm, rng, startElm) => getParentCaption(rootElm, startElm).fold(() => deleteCellRange(editor, rootElm, rng), caption => deleteCaptionRange(editor, caption));\n    const deleteRange$2 = (editor, startElm, selectedCells) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return selectedCells.length !== 0 ? emptySingleTableCells(editor, selectedCells, Optional.none()) : deleteTableRange(editor, rootNode, rng, startElm);\n    };\n    const getParentCell = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTableCell$2);\n    const getParentCaption = (rootElm, elm) => find$2(parentsAndSelf(elm, rootElm), isTag('caption'));\n    const deleteBetweenCells = (editor, rootElm, forward, fromCell, from) => navigate(forward, editor.getBody(), from).bind(to => getParentCell(rootElm, SugarElement.fromDom(to.getNode())).bind(toCell => eq(toCell, fromCell) ? Optional.none() : Optional.some(noop)));\n    const emptyElement = (editor, elm) => Optional.some(() => {\n      fillWithPaddingBr(elm);\n      editor.selection.setCursorLocation(elm.dom, 0);\n    });\n    const isDeleteOfLastCharPos = (fromCaption, forward, from, to) => firstPositionIn(fromCaption.dom).bind(first => lastPositionIn(fromCaption.dom).map(last => forward ? from.isEqual(first) && to.isEqual(last) : from.isEqual(last) && to.isEqual(first))).getOr(true);\n    const emptyCaretCaption = (editor, elm) => emptyElement(editor, elm);\n    const validateCaretCaption = (rootElm, fromCaption, to) => getParentCaption(rootElm, SugarElement.fromDom(to.getNode())).fold(() => Optional.some(noop), toCaption => someIf(!eq(toCaption, fromCaption), noop));\n    const deleteCaretInsideCaption = (editor, rootElm, forward, fromCaption, from) => navigate(forward, editor.getBody(), from).fold(() => Optional.some(noop), to => isDeleteOfLastCharPos(fromCaption, forward, from, to) ? emptyCaretCaption(editor, fromCaption) : validateCaretCaption(rootElm, fromCaption, to));\n    const deleteCaretCells = (editor, forward, rootElm, startElm) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getParentCell(rootElm, startElm).bind(fromCell => isEmpty$2(fromCell) ? emptyElement(editor, fromCell) : deleteBetweenCells(editor, rootElm, forward, fromCell, from));\n    };\n    const deleteCaretCaption = (editor, forward, rootElm, fromCaption) => {\n      const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isEmpty$2(fromCaption) ? emptyElement(editor, fromCaption) : deleteCaretInsideCaption(editor, rootElm, forward, fromCaption, from);\n    };\n    const isNearTable = (forward, pos) => forward ? isBeforeTable(pos) : isAfterTable(pos);\n    const isBeforeOrAfterTable = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return isNearTable(forward, fromPos) || fromPosition(forward, editor.getBody(), fromPos).exists(pos => isNearTable(forward, pos));\n    };\n    const deleteCaret$3 = (editor, forward, startElm) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      return getParentCaption(rootElm, startElm).fold(() => deleteCaretCells(editor, forward, rootElm, startElm).orThunk(() => someIf(isBeforeOrAfterTable(editor, forward), noop)), fromCaption => deleteCaretCaption(editor, forward, rootElm, fromCaption));\n    };\n    const backspaceDelete$9 = (editor, forward) => {\n      const startElm = SugarElement.fromDom(editor.selection.getStart(true));\n      const cells = getCellsFromEditor(editor);\n      return editor.selection.isCollapsed() && cells.length === 0 ? deleteCaret$3(editor, forward, startElm) : deleteRange$2(editor, startElm, cells);\n    };\n\n    const getContentEditableRoot$1 = (root, node) => {\n      let tempNode = node;\n      while (tempNode && tempNode !== root) {\n        if (isContentEditableTrue$3(tempNode) || isContentEditableFalse$a(tempNode)) {\n          return tempNode;\n        }\n        tempNode = tempNode.parentNode;\n      }\n      return null;\n    };\n\n    const internalAttributesPrefixes = [\n      'data-ephox-',\n      'data-mce-',\n      'data-alloy-',\n      'data-snooker-',\n      '_'\n    ];\n    const each$9 = Tools.each;\n    const ElementUtils = editor => {\n      const dom = editor.dom;\n      const internalAttributes = new Set(editor.serializer.getTempAttrs());\n      const compare = (node1, node2) => {\n        if (node1.nodeName !== node2.nodeName || node1.nodeType !== node2.nodeType) {\n          return false;\n        }\n        const getAttribs = node => {\n          const attribs = {};\n          each$9(dom.getAttribs(node), attr => {\n            const name = attr.nodeName.toLowerCase();\n            if (name !== 'style' && !isAttributeInternal(name)) {\n              attribs[name] = dom.getAttrib(node, name);\n            }\n          });\n          return attribs;\n        };\n        const compareObjects = (obj1, obj2) => {\n          for (const name in obj1) {\n            if (has$2(obj1, name)) {\n              const value = obj2[name];\n              if (isUndefined(value)) {\n                return false;\n              }\n              if (obj1[name] !== value) {\n                return false;\n              }\n              delete obj2[name];\n            }\n          }\n          for (const name in obj2) {\n            if (has$2(obj2, name)) {\n              return false;\n            }\n          }\n          return true;\n        };\n        if (isElement$6(node1) && isElement$6(node2)) {\n          if (!compareObjects(getAttribs(node1), getAttribs(node2))) {\n            return false;\n          }\n          if (!compareObjects(dom.parseStyle(dom.getAttrib(node1, 'style')), dom.parseStyle(dom.getAttrib(node2, 'style')))) {\n            return false;\n          }\n        }\n        return !isBookmarkNode$1(node1) && !isBookmarkNode$1(node2);\n      };\n      const isAttributeInternal = attributeName => exists(internalAttributesPrefixes, value => startsWith(attributeName, value)) || internalAttributes.has(attributeName);\n      return {\n        compare,\n        isAttributeInternal\n      };\n    };\n\n    const traverse = (root, fn) => {\n      let node = root;\n      while (node = node.walk()) {\n        fn(node);\n      }\n    };\n    const matchNode$1 = (nodeFilters, attributeFilters, node, matches) => {\n      const name = node.name;\n      for (let ni = 0, nl = nodeFilters.length; ni < nl; ni++) {\n        const filter = nodeFilters[ni];\n        if (filter.name === name) {\n          const match = matches.nodes[name];\n          if (match) {\n            match.nodes.push(node);\n          } else {\n            matches.nodes[name] = {\n              filter,\n              nodes: [node]\n            };\n          }\n        }\n      }\n      if (node.attributes) {\n        for (let ai = 0, al = attributeFilters.length; ai < al; ai++) {\n          const filter = attributeFilters[ai];\n          const attrName = filter.name;\n          if (attrName in node.attributes.map) {\n            const match = matches.attributes[attrName];\n            if (match) {\n              match.nodes.push(node);\n            } else {\n              matches.attributes[attrName] = {\n                filter,\n                nodes: [node]\n              };\n            }\n          }\n        }\n      }\n    };\n    const findMatchingNodes = (nodeFilters, attributeFilters, node) => {\n      const matches = {\n        nodes: {},\n        attributes: {}\n      };\n      if (node.firstChild) {\n        traverse(node, childNode => {\n          matchNode$1(nodeFilters, attributeFilters, childNode, matches);\n        });\n      }\n      return matches;\n    };\n    const runFilters = (matches, args) => {\n      const run = (matchRecord, filteringAttributes) => {\n        each$d(matchRecord, match => {\n          const nodes = from(match.nodes);\n          each$e(match.filter.callbacks, callback => {\n            for (let i = nodes.length - 1; i >= 0; i--) {\n              const node = nodes[i];\n              const valueMatches = filteringAttributes ? node.attr(match.filter.name) !== undefined : node.name === match.filter.name;\n              if (!valueMatches || isNullable(node.parent)) {\n                nodes.splice(i, 1);\n              }\n            }\n            if (nodes.length > 0) {\n              callback(nodes, match.filter.name, args);\n            }\n          });\n        });\n      };\n      run(matches.nodes, false);\n      run(matches.attributes, true);\n    };\n    const filter$2 = (nodeFilters, attributeFilters, node, args = {}) => {\n      const matches = findMatchingNodes(nodeFilters, attributeFilters, node);\n      runFilters(matches, args);\n    };\n\n    const paddEmptyNode = (args, isBlock, node) => {\n      if (args.insert && isBlock(node)) {\n        const astNode = new AstNode('br', 1);\n        astNode.attr('data-mce-bogus', '1');\n        node.empty().append(astNode);\n      } else {\n        node.empty().append(new AstNode('#text', 3)).value = nbsp;\n      }\n    };\n    const isPaddedWithNbsp = node => {\n      var _a;\n      return hasOnlyChild(node, '#text') && ((_a = node === null || node === void 0 ? void 0 : node.firstChild) === null || _a === void 0 ? void 0 : _a.value) === nbsp;\n    };\n    const hasOnlyChild = (node, name) => {\n      const firstChild = node === null || node === void 0 ? void 0 : node.firstChild;\n      return isNonNullable(firstChild) && firstChild === node.lastChild && firstChild.name === name;\n    };\n    const isPadded = (schema, node) => {\n      const rule = schema.getElementRule(node.name);\n      return (rule === null || rule === void 0 ? void 0 : rule.paddEmpty) === true;\n    };\n    const isEmpty = (schema, nonEmptyElements, whitespaceElements, node) => node.isEmpty(nonEmptyElements, whitespaceElements, node => isPadded(schema, node));\n    const isLineBreakNode = (node, isBlock) => isNonNullable(node) && (isBlock(node) || node.name === 'br');\n\n    const removeOrUnwrapInvalidNode = (node, schema, originalNodeParent = node.parent) => {\n      if (schema.getSpecialElements()[node.name]) {\n        node.empty().remove();\n      } else {\n        const children = node.children();\n        for (const childNode of children) {\n          if (originalNodeParent && !schema.isValidChild(originalNodeParent.name, childNode.name)) {\n            removeOrUnwrapInvalidNode(childNode, schema, originalNodeParent);\n          }\n        }\n        node.unwrap();\n      }\n    };\n    const cleanInvalidNodes = (nodes, schema, onCreate = noop) => {\n      const textBlockElements = schema.getTextBlockElements();\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const nonSplittableElements = Tools.makeMap('tr,td,th,tbody,thead,tfoot,table');\n      const fixed = new Set();\n      for (let ni = 0; ni < nodes.length; ni++) {\n        const node = nodes[ni];\n        let parent;\n        let newParent;\n        let tempNode;\n        if (!node.parent || fixed.has(node)) {\n          continue;\n        }\n        if (textBlockElements[node.name] && node.parent.name === 'li') {\n          let sibling = node.next;\n          while (sibling) {\n            if (textBlockElements[sibling.name]) {\n              sibling.name = 'li';\n              fixed.add(sibling);\n              node.parent.insert(sibling, node.parent);\n            } else {\n              break;\n            }\n            sibling = sibling.next;\n          }\n          node.unwrap();\n          continue;\n        }\n        const parents = [node];\n        for (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplittableElements[parent.name]; parent = parent.parent) {\n          parents.push(parent);\n        }\n        if (parent && parents.length > 1) {\n          if (schema.isValidChild(parent.name, node.name)) {\n            parents.reverse();\n            newParent = parents[0].clone();\n            onCreate(newParent);\n            let currentNode = newParent;\n            for (let i = 0; i < parents.length - 1; i++) {\n              if (schema.isValidChild(currentNode.name, parents[i].name)) {\n                tempNode = parents[i].clone();\n                onCreate(tempNode);\n                currentNode.append(tempNode);\n              } else {\n                tempNode = currentNode;\n              }\n              for (let childNode = parents[i].firstChild; childNode && childNode !== parents[i + 1];) {\n                const nextNode = childNode.next;\n                tempNode.append(childNode);\n                childNode = nextNode;\n              }\n              currentNode = tempNode;\n            }\n            if (!isEmpty(schema, nonEmptyElements, whitespaceElements, newParent)) {\n              parent.insert(newParent, parents[0], true);\n              parent.insert(node, newParent);\n            } else {\n              parent.insert(node, parents[0], true);\n            }\n            parent = parents[0];\n            if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent) || hasOnlyChild(parent, 'br')) {\n              parent.empty().remove();\n            }\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        } else if (node.parent) {\n          if (node.name === 'li') {\n            let sibling = node.prev;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol')) {\n              sibling.append(node);\n              continue;\n            }\n            sibling = node.next;\n            if (sibling && (sibling.name === 'ul' || sibling.name === 'ol') && sibling.firstChild) {\n              sibling.insert(node, sibling.firstChild, true);\n              continue;\n            }\n            const wrapper = new AstNode('ul', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n            continue;\n          }\n          if (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n            const wrapper = new AstNode('div', 1);\n            onCreate(wrapper);\n            node.wrap(wrapper);\n          } else {\n            removeOrUnwrapInvalidNode(node, schema);\n          }\n        }\n      }\n    };\n    const hasClosest = (node, parentName) => {\n      let tempNode = node;\n      while (tempNode) {\n        if (tempNode.name === parentName) {\n          return true;\n        }\n        tempNode = tempNode.parent;\n      }\n      return false;\n    };\n    const isInvalid = (schema, node, parent = node.parent) => {\n      if (parent && schema.children[node.name] && !schema.isValidChild(parent.name, node.name)) {\n        return true;\n      } else if (parent && node.name === 'a' && hasClosest(parent, 'a')) {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    const createRange = (sc, so, ec, eo) => {\n      const rng = document.createRange();\n      rng.setStart(sc, so);\n      rng.setEnd(ec, eo);\n      return rng;\n    };\n    const normalizeBlockSelectionRange = rng => {\n      const startPos = CaretPosition.fromRangeStart(rng);\n      const endPos = CaretPosition.fromRangeEnd(rng);\n      const rootNode = rng.commonAncestorContainer;\n      return fromPosition(false, rootNode, endPos).map(newEndPos => {\n        if (!isInSameBlock(startPos, endPos, rootNode) && isInSameBlock(startPos, newEndPos, rootNode)) {\n          return createRange(startPos.container(), startPos.offset(), newEndPos.container(), newEndPos.offset());\n        } else {\n          return rng;\n        }\n      }).getOr(rng);\n    };\n    const normalize = rng => rng.collapsed ? rng : normalizeBlockSelectionRange(rng);\n\n    const hasOnlyOneChild$1 = node => {\n      return isNonNullable(node.firstChild) && node.firstChild === node.lastChild;\n    };\n    const isPaddingNode = node => {\n      return node.name === 'br' || node.value === nbsp;\n    };\n    const isPaddedEmptyBlock = (schema, node) => {\n      const blockElements = schema.getBlockElements();\n      return blockElements[node.name] && hasOnlyOneChild$1(node) && isPaddingNode(node.firstChild);\n    };\n    const isEmptyFragmentElement = (schema, node) => {\n      const nonEmptyElements = schema.getNonEmptyElements();\n      return isNonNullable(node) && (node.isEmpty(nonEmptyElements) || isPaddedEmptyBlock(schema, node));\n    };\n    const isListFragment = (schema, fragment) => {\n      let firstChild = fragment.firstChild;\n      let lastChild = fragment.lastChild;\n      if (firstChild && firstChild.name === 'meta') {\n        firstChild = firstChild.next;\n      }\n      if (lastChild && lastChild.attr('id') === 'mce_marker') {\n        lastChild = lastChild.prev;\n      }\n      if (isEmptyFragmentElement(schema, lastChild)) {\n        lastChild = lastChild === null || lastChild === void 0 ? void 0 : lastChild.prev;\n      }\n      if (!firstChild || firstChild !== lastChild) {\n        return false;\n      }\n      return firstChild.name === 'ul' || firstChild.name === 'ol';\n    };\n    const cleanupDomFragment = domFragment => {\n      var _a, _b;\n      const firstChild = domFragment.firstChild;\n      const lastChild = domFragment.lastChild;\n      if (firstChild && firstChild.nodeName === 'META') {\n        (_a = firstChild.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(firstChild);\n      }\n      if (lastChild && lastChild.id === 'mce_marker') {\n        (_b = lastChild.parentNode) === null || _b === void 0 ? void 0 : _b.removeChild(lastChild);\n      }\n      return domFragment;\n    };\n    const toDomFragment = (dom, serializer, fragment) => {\n      const html = serializer.serialize(fragment);\n      const domFragment = dom.createFragment(html);\n      return cleanupDomFragment(domFragment);\n    };\n    const listItems = elm => {\n      var _a;\n      return filter$5((_a = elm === null || elm === void 0 ? void 0 : elm.childNodes) !== null && _a !== void 0 ? _a : [], child => {\n        return child.nodeName === 'LI';\n      });\n    };\n    const isPadding = node => {\n      return node.data === nbsp || isBr$6(node);\n    };\n    const isListItemPadded = node => {\n      return isNonNullable(node === null || node === void 0 ? void 0 : node.firstChild) && node.firstChild === node.lastChild && isPadding(node.firstChild);\n    };\n    const isEmptyOrPadded = elm => {\n      return !elm.firstChild || isListItemPadded(elm);\n    };\n    const trimListItems = elms => {\n      return elms.length > 0 && isEmptyOrPadded(elms[elms.length - 1]) ? elms.slice(0, -1) : elms;\n    };\n    const getParentLi = (dom, node) => {\n      const parentBlock = dom.getParent(node, dom.isBlock);\n      return parentBlock && parentBlock.nodeName === 'LI' ? parentBlock : null;\n    };\n    const isParentBlockLi = (dom, node) => {\n      return !!getParentLi(dom, node);\n    };\n    const getSplit = (parentNode, rng) => {\n      const beforeRng = rng.cloneRange();\n      const afterRng = rng.cloneRange();\n      beforeRng.setStartBefore(parentNode);\n      afterRng.setEndAfter(parentNode);\n      return [\n        beforeRng.cloneContents(),\n        afterRng.cloneContents()\n      ];\n    };\n    const findFirstIn = (node, rootNode) => {\n      const caretPos = CaretPosition.before(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.next(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const findLastOf = (node, rootNode) => {\n      const caretPos = CaretPosition.after(node);\n      const caretWalker = CaretWalker(rootNode);\n      const newCaretPos = caretWalker.prev(caretPos);\n      return newCaretPos ? newCaretPos.toRange() : null;\n    };\n    const insertMiddle = (target, elms, rootNode, rng) => {\n      const parts = getSplit(target, rng);\n      const parentElm = target.parentNode;\n      if (parentElm) {\n        parentElm.insertBefore(parts[0], target);\n        Tools.each(elms, li => {\n          parentElm.insertBefore(li, target);\n        });\n        parentElm.insertBefore(parts[1], target);\n        parentElm.removeChild(target);\n      }\n      return findLastOf(elms[elms.length - 1], rootNode);\n    };\n    const insertBefore$1 = (target, elms, rootNode) => {\n      const parentElm = target.parentNode;\n      if (parentElm) {\n        Tools.each(elms, elm => {\n          parentElm.insertBefore(elm, target);\n        });\n      }\n      return findFirstIn(target, rootNode);\n    };\n    const insertAfter$1 = (target, elms, rootNode, dom) => {\n      dom.insertAfter(elms.reverse(), target);\n      return findLastOf(elms[0], rootNode);\n    };\n    const insertAtCaret$1 = (serializer, dom, rng, fragment) => {\n      const domFragment = toDomFragment(dom, serializer, fragment);\n      const liTarget = getParentLi(dom, rng.startContainer);\n      const liElms = trimListItems(listItems(domFragment.firstChild));\n      const BEGINNING = 1, END = 2;\n      const rootNode = dom.getRoot();\n      const isAt = location => {\n        const caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(dom.getRoot());\n        const newPos = location === BEGINNING ? caretWalker.prev(caretPos) : caretWalker.next(caretPos);\n        const newPosNode = newPos === null || newPos === void 0 ? void 0 : newPos.getNode();\n        return newPosNode ? getParentLi(dom, newPosNode) !== liTarget : true;\n      };\n      if (!liTarget) {\n        return null;\n      } else if (isAt(BEGINNING)) {\n        return insertBefore$1(liTarget, liElms, rootNode);\n      } else if (isAt(END)) {\n        return insertAfter$1(liTarget, liElms, rootNode, dom);\n      } else {\n        return insertMiddle(liTarget, liElms, rootNode, rng);\n      }\n    };\n\n    const mergeableWrappedElements = ['pre'];\n    const shouldPasteContentOnly = (dom, fragment, parentNode, root) => {\n      var _a;\n      const firstNode = fragment.firstChild;\n      const lastNode = fragment.lastChild;\n      const last = lastNode.attr('data-mce-type') === 'bookmark' ? lastNode.prev : lastNode;\n      const isPastingSingleElement = firstNode === last;\n      const isWrappedElement = contains$2(mergeableWrappedElements, firstNode.name);\n      if (isPastingSingleElement && isWrappedElement) {\n        const isContentEditable = firstNode.attr('contenteditable') !== 'false';\n        const isPastingInTheSameBlockTag = ((_a = dom.getParent(parentNode, dom.isBlock)) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase()) === firstNode.name;\n        const isPastingInContentEditable = Optional.from(getContentEditableRoot$1(root, parentNode)).forall(isContentEditableTrue$3);\n        return isContentEditable && isPastingInTheSameBlockTag && isPastingInContentEditable;\n      } else {\n        return false;\n      }\n    };\n    const isTableCell = isTableCell$3;\n    const isTableCellContentSelected = (dom, rng, cell) => {\n      if (isNonNullable(cell)) {\n        const endCell = dom.getParent(rng.endContainer, isTableCell);\n        return cell === endCell && hasAllContentsSelected(SugarElement.fromDom(cell), rng);\n      } else {\n        return false;\n      }\n    };\n    const validInsertion = (editor, value, parentNode) => {\n      var _a;\n      if (parentNode.getAttribute('data-mce-bogus') === 'all') {\n        (_a = parentNode.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(editor.dom.createFragment(value), parentNode);\n      } else {\n        const node = parentNode.firstChild;\n        const node2 = parentNode.lastChild;\n        if (!node || node === node2 && node.nodeName === 'BR') {\n          editor.dom.setHTML(parentNode, value);\n        } else {\n          editor.selection.setContent(value, { no_events: true });\n        }\n      }\n    };\n    const trimBrsFromTableCell = (dom, elm) => {\n      Optional.from(dom.getParent(elm, 'td,th')).map(SugarElement.fromDom).each(trimBlockTrailingBr);\n    };\n    const reduceInlineTextElements = (editor, merge) => {\n      const textInlineElements = editor.schema.getTextInlineElements();\n      const dom = editor.dom;\n      if (merge) {\n        const root = editor.getBody();\n        const elementUtils = ElementUtils(editor);\n        Tools.each(dom.select('*[data-mce-fragment]'), node => {\n          const isInline = isNonNullable(textInlineElements[node.nodeName.toLowerCase()]);\n          if (isInline && hasInheritableStyles(dom, node)) {\n            for (let parentNode = node.parentElement; isNonNullable(parentNode) && parentNode !== root; parentNode = parentNode.parentElement) {\n              const styleConflict = hasStyleConflict(dom, node, parentNode);\n              if (styleConflict) {\n                break;\n              }\n              if (elementUtils.compare(parentNode, node)) {\n                dom.remove(node, true);\n                break;\n              }\n            }\n          }\n        });\n      }\n    };\n    const markFragmentElements = fragment => {\n      let node = fragment;\n      while (node = node.walk()) {\n        if (node.type === 1) {\n          node.attr('data-mce-fragment', '1');\n        }\n      }\n    };\n    const unmarkFragmentElements = elm => {\n      Tools.each(elm.getElementsByTagName('*'), elm => {\n        elm.removeAttribute('data-mce-fragment');\n      });\n    };\n    const isPartOfFragment = node => {\n      return !!node.getAttribute('data-mce-fragment');\n    };\n    const canHaveChildren = (editor, node) => {\n      return isNonNullable(node) && !editor.schema.getVoidElements()[node.nodeName];\n    };\n    const moveSelectionToMarker = (editor, marker) => {\n      var _a, _b, _c;\n      let nextRng;\n      const dom = editor.dom;\n      const selection = editor.selection;\n      if (!marker) {\n        return;\n      }\n      selection.scrollIntoView(marker);\n      const parentEditableElm = getContentEditableRoot$1(editor.getBody(), marker);\n      if (parentEditableElm && dom.getContentEditable(parentEditableElm) === 'false') {\n        dom.remove(marker);\n        selection.select(parentEditableElm);\n        return;\n      }\n      let rng = dom.createRng();\n      const node = marker.previousSibling;\n      if (isText$a(node)) {\n        rng.setStart(node, (_b = (_a = node.nodeValue) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0);\n        const node2 = marker.nextSibling;\n        if (isText$a(node2)) {\n          node.appendData(node2.data);\n          (_c = node2.parentNode) === null || _c === void 0 ? void 0 : _c.removeChild(node2);\n        }\n      } else {\n        rng.setStartBefore(marker);\n        rng.setEndBefore(marker);\n      }\n      const findNextCaretRng = rng => {\n        let caretPos = CaretPosition.fromRangeStart(rng);\n        const caretWalker = CaretWalker(editor.getBody());\n        caretPos = caretWalker.next(caretPos);\n        return caretPos === null || caretPos === void 0 ? void 0 : caretPos.toRange();\n      };\n      const parentBlock = dom.getParent(marker, dom.isBlock);\n      dom.remove(marker);\n      if (parentBlock && dom.isEmpty(parentBlock)) {\n        empty(SugarElement.fromDom(parentBlock));\n        rng.setStart(parentBlock, 0);\n        rng.setEnd(parentBlock, 0);\n        if (!isTableCell(parentBlock) && !isPartOfFragment(parentBlock) && (nextRng = findNextCaretRng(rng))) {\n          rng = nextRng;\n          dom.remove(parentBlock);\n        } else {\n          dom.add(parentBlock, dom.create('br', { 'data-mce-bogus': '1' }));\n        }\n      }\n      selection.setRng(rng);\n    };\n    const deleteSelectedContent = editor => {\n      const dom = editor.dom;\n      const rng = normalize(editor.selection.getRng());\n      editor.selection.setRng(rng);\n      const startCell = dom.getParent(rng.startContainer, isTableCell);\n      if (isTableCellContentSelected(dom, rng, startCell)) {\n        deleteCellContents(editor, rng, SugarElement.fromDom(startCell));\n      } else if (rng.startContainer === rng.endContainer && rng.endOffset - rng.startOffset === 1 && isText$a(rng.startContainer.childNodes[rng.startOffset])) {\n        rng.deleteContents();\n      } else {\n        editor.getDoc().execCommand('Delete', false);\n      }\n    };\n    const insertHtmlAtCaret = (editor, value, details) => {\n      var _a, _b;\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const parser = editor.parser;\n      const merge = details.merge;\n      const serializer = HtmlSerializer({ validate: true }, editor.schema);\n      const bookmarkHtml = '<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>';\n      if (value.indexOf('{$caret}') === -1) {\n        value += '{$caret}';\n      }\n      value = value.replace(/\\{\\$caret\\}/, bookmarkHtml);\n      let rng = selection.getRng();\n      const caretElement = rng.startContainer;\n      const body = editor.getBody();\n      if (caretElement === body && selection.isCollapsed()) {\n        if (dom.isBlock(body.firstChild) && canHaveChildren(editor, body.firstChild) && dom.isEmpty(body.firstChild)) {\n          rng = dom.createRng();\n          rng.setStart(body.firstChild, 0);\n          rng.setEnd(body.firstChild, 0);\n          selection.setRng(rng);\n        }\n      }\n      if (!selection.isCollapsed()) {\n        deleteSelectedContent(editor);\n      }\n      const parentNode = selection.getNode();\n      const parserArgs = {\n        context: parentNode.nodeName.toLowerCase(),\n        data: details.data,\n        insert: true\n      };\n      const fragment = parser.parse(value, parserArgs);\n      if (details.paste === true && isListFragment(editor.schema, fragment) && isParentBlockLi(dom, parentNode)) {\n        rng = insertAtCaret$1(serializer, dom, selection.getRng(), fragment);\n        if (rng) {\n          selection.setRng(rng);\n        }\n        return value;\n      }\n      if (details.paste === true && shouldPasteContentOnly(dom, fragment, parentNode, editor.getBody())) {\n        (_a = fragment.firstChild) === null || _a === void 0 ? void 0 : _a.unwrap();\n      }\n      markFragmentElements(fragment);\n      let node = fragment.lastChild;\n      if (node && node.attr('id') === 'mce_marker') {\n        const marker = node;\n        for (node = node.prev; node; node = node.walk(true)) {\n          if (node.type === 3 || !dom.isBlock(node.name)) {\n            if (node.parent && editor.schema.isValidChild(node.parent.name, 'span')) {\n              node.parent.insert(marker, node, node.name === 'br');\n            }\n            break;\n          }\n        }\n      }\n      editor._selectionOverrides.showBlockCaretContainer(parentNode);\n      if (!parserArgs.invalid) {\n        value = serializer.serialize(fragment);\n        validInsertion(editor, value, parentNode);\n      } else {\n        editor.selection.setContent(bookmarkHtml);\n        let parentNode = selection.getNode();\n        let tempNode;\n        const rootNode = editor.getBody();\n        if (isDocument$1(parentNode)) {\n          parentNode = tempNode = rootNode;\n        } else {\n          tempNode = parentNode;\n        }\n        while (tempNode && tempNode !== rootNode) {\n          parentNode = tempNode;\n          tempNode = tempNode.parentNode;\n        }\n        value = parentNode === rootNode ? rootNode.innerHTML : dom.getOuterHTML(parentNode);\n        const root = parser.parse(value);\n        for (let markerNode = root; markerNode; markerNode = markerNode.walk()) {\n          if (markerNode.attr('id') === 'mce_marker') {\n            markerNode.replace(fragment);\n            break;\n          }\n        }\n        const toExtract = fragment.children();\n        const parent = (_b = fragment.parent) !== null && _b !== void 0 ? _b : root;\n        fragment.unwrap();\n        const invalidChildren = filter$5(toExtract, node => isInvalid(editor.schema, node, parent));\n        cleanInvalidNodes(invalidChildren, editor.schema);\n        filter$2(parser.getNodeFilters(), parser.getAttributeFilters(), root);\n        value = serializer.serialize(root);\n        if (parentNode === rootNode) {\n          dom.setHTML(rootNode, value);\n        } else {\n          dom.setOuterHTML(parentNode, value);\n        }\n      }\n      reduceInlineTextElements(editor, merge);\n      moveSelectionToMarker(editor, dom.get('mce_marker'));\n      unmarkFragmentElements(editor.getBody());\n      trimBrsFromTableCell(dom, selection.getStart());\n      updateCaret(editor.schema, editor.getBody(), selection.getStart());\n      return value;\n    };\n\n    const isTreeNode = content => content instanceof AstNode;\n\n    const moveSelection = editor => {\n      if (hasFocus(editor)) {\n        firstPositionIn(editor.getBody()).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$2(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const setEditorHtml = (editor, html, noSelection) => {\n      editor.dom.setHTML(editor.getBody(), html);\n      if (noSelection !== true) {\n        moveSelection(editor);\n      }\n    };\n    const setContentString = (editor, body, content, args) => {\n      if (content.length === 0 || /^\\s+$/.test(content)) {\n        const padd = '<br data-mce-bogus=\"1\">';\n        if (body.nodeName === 'TABLE') {\n          content = '<tr><td>' + padd + '</td></tr>';\n        } else if (/^(UL|OL)$/.test(body.nodeName)) {\n          content = '<li>' + padd + '</li>';\n        }\n        const forcedRootBlockName = getForcedRootBlock(editor);\n        if (editor.schema.isValidChild(body.nodeName.toLowerCase(), forcedRootBlockName.toLowerCase())) {\n          content = padd;\n          content = editor.dom.createHTML(forcedRootBlockName, getForcedRootBlockAttrs(editor), content);\n        } else if (!content) {\n          content = padd;\n        }\n        setEditorHtml(editor, content, args.no_selection);\n        return {\n          content,\n          html: content\n        };\n      } else {\n        if (args.format !== 'raw') {\n          content = HtmlSerializer({ validate: false }, editor.schema).serialize(editor.parser.parse(content, {\n            isRootContent: true,\n            insert: true\n          }));\n        }\n        const trimmedHtml = isWsPreserveElement(SugarElement.fromDom(body)) ? content : Tools.trim(content);\n        setEditorHtml(editor, trimmedHtml, args.no_selection);\n        return {\n          content: trimmedHtml,\n          html: trimmedHtml\n        };\n      }\n    };\n    const setContentTree = (editor, body, content, args) => {\n      filter$2(editor.parser.getNodeFilters(), editor.parser.getAttributeFilters(), content);\n      const html = HtmlSerializer({ validate: false }, editor.schema).serialize(content);\n      const trimmedHtml = isWsPreserveElement(SugarElement.fromDom(body)) ? html : Tools.trim(html);\n      setEditorHtml(editor, trimmedHtml, args.no_selection);\n      return {\n        content,\n        html: trimmedHtml\n      };\n    };\n    const setContentInternal = (editor, content, args) => {\n      return Optional.from(editor.getBody()).map(body => {\n        if (isTreeNode(content)) {\n          return setContentTree(editor, body, content, args);\n        } else {\n          return setContentString(editor, body, content, args);\n        }\n      }).getOr({\n        content,\n        html: isTreeNode(args.content) ? '' : args.content\n      });\n    };\n\n    const sibling = (scope, predicate) => sibling$1(scope, predicate).isSome();\n\n    const ensureIsRoot = isRoot => isFunction(isRoot) ? isRoot : never;\n    const ancestor = (scope, transform, isRoot) => {\n      let element = scope.dom;\n      const stop = ensureIsRoot(isRoot);\n      while (element.parentNode) {\n        element = element.parentNode;\n        const el = SugarElement.fromDom(element);\n        const transformed = transform(el);\n        if (transformed.isSome()) {\n          return transformed;\n        } else if (stop(el)) {\n          break;\n        }\n      }\n      return Optional.none();\n    };\n    const closest$2 = (scope, transform, isRoot) => {\n      const current = transform(scope);\n      const stop = ensureIsRoot(isRoot);\n      return current.orThunk(() => stop(scope) ? Optional.none() : ancestor(scope, transform, stop));\n    };\n\n    const isEq$3 = isEq$5;\n    const matchesUnInheritedFormatSelector = (ed, node, name) => {\n      const formatList = ed.formatter.get(name);\n      if (formatList) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (isSelectorFormat(format) && format.inherit === false && ed.dom.is(node, format.selector)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    };\n    const matchParents = (editor, node, name, vars, similar) => {\n      const root = editor.dom.getRoot();\n      if (node === root) {\n        return false;\n      }\n      const matchedNode = editor.dom.getParent(node, elm => {\n        if (matchesUnInheritedFormatSelector(editor, elm, name)) {\n          return true;\n        }\n        return elm.parentNode === root || !!matchNode(editor, elm, name, vars, true);\n      });\n      return !!matchNode(editor, matchedNode, name, vars, similar);\n    };\n    const matchName = (dom, node, format) => {\n      if (isInlineFormat(format) && isEq$3(node, format.inline)) {\n        return true;\n      }\n      if (isBlockFormat(format) && isEq$3(node, format.block)) {\n        return true;\n      }\n      if (isSelectorFormat(format)) {\n        return isElement$6(node) && dom.is(node, format.selector);\n      }\n      return false;\n    };\n    const matchItems = (dom, node, format, itemName, similar, vars) => {\n      const items = format[itemName];\n      const matchAttributes = itemName === 'attributes';\n      if (isFunction(format.onmatch)) {\n        return format.onmatch(node, format, itemName);\n      }\n      if (items) {\n        if (!isArrayLike(items)) {\n          for (const key in items) {\n            if (has$2(items, key)) {\n              const value = matchAttributes ? dom.getAttrib(node, key) : getStyle(dom, node, key);\n              const expectedValue = replaceVars(items[key], vars);\n              const isEmptyValue = isNullable(value) || isEmpty$3(value);\n              if (isEmptyValue && isNullable(expectedValue)) {\n                continue;\n              }\n              if (similar && isEmptyValue && !format.exact) {\n                return false;\n              }\n              if ((!similar || format.exact) && !isEq$3(value, normalizeStyleValue(expectedValue, key))) {\n                return false;\n              }\n            }\n          }\n        } else {\n          for (let i = 0; i < items.length; i++) {\n            if (matchAttributes ? dom.getAttrib(node, items[i]) : getStyle(dom, node, items[i])) {\n              return true;\n            }\n          }\n        }\n      }\n      return true;\n    };\n    const matchNode = (ed, node, name, vars, similar) => {\n      const formatList = ed.formatter.get(name);\n      const dom = ed.dom;\n      if (formatList && isElement$6(node)) {\n        for (let i = 0; i < formatList.length; i++) {\n          const format = formatList[i];\n          if (matchName(ed.dom, node, format) && matchItems(dom, node, format, 'attributes', similar, vars) && matchItems(dom, node, format, 'styles', similar, vars)) {\n            const classes = format.classes;\n            if (classes) {\n              for (let x = 0; x < classes.length; x++) {\n                if (!ed.dom.hasClass(node, replaceVars(classes[x], vars))) {\n                  return;\n                }\n              }\n            }\n            return format;\n          }\n        }\n      }\n      return undefined;\n    };\n    const match$2 = (editor, name, vars, node, similar) => {\n      if (node) {\n        return matchParents(editor, node, name, vars, similar);\n      }\n      node = editor.selection.getNode();\n      if (matchParents(editor, node, name, vars, similar)) {\n        return true;\n      }\n      const startNode = editor.selection.getStart();\n      if (startNode !== node) {\n        if (matchParents(editor, startNode, name, vars, similar)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const matchAll = (editor, names, vars) => {\n      const matchedFormatNames = [];\n      const checkedMap = {};\n      const startElement = editor.selection.getStart();\n      editor.dom.getParent(startElement, node => {\n        for (let i = 0; i < names.length; i++) {\n          const name = names[i];\n          if (!checkedMap[name] && matchNode(editor, node, name, vars)) {\n            checkedMap[name] = true;\n            matchedFormatNames.push(name);\n          }\n        }\n      }, editor.dom.getRoot());\n      return matchedFormatNames;\n    };\n    const closest$1 = (editor, names) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      const match = (elm, name) => matchNode(editor, elm.dom, name) ? Optional.some(name) : Optional.none();\n      return Optional.from(editor.selection.getStart(true)).bind(rawElm => closest$2(SugarElement.fromDom(rawElm), elm => findMap(names, name => match(elm, name)), isRoot)).getOrNull();\n    };\n    const canApply = (editor, name) => {\n      const formatList = editor.formatter.get(name);\n      const dom = editor.dom;\n      if (formatList) {\n        const startNode = editor.selection.getStart();\n        const parents = getParents$2(dom, startNode);\n        for (let x = formatList.length - 1; x >= 0; x--) {\n          const format = formatList[x];\n          if (!isSelectorFormat(format)) {\n            return true;\n          }\n          for (let i = parents.length - 1; i >= 0; i--) {\n            if (dom.is(parents[i], format.selector)) {\n              return true;\n            }\n          }\n        }\n      }\n      return false;\n    };\n    const matchAllOnNode = (editor, node, formatNames) => foldl(formatNames, (acc, name) => {\n      const matchSimilar = isVariableFormatName(editor, name);\n      if (editor.formatter.matchNode(node, name, {}, matchSimilar)) {\n        return acc.concat([name]);\n      } else {\n        return acc;\n      }\n    }, []);\n\n    const ZWSP = ZWSP$1;\n    const importNode = (ownerDocument, node) => {\n      return ownerDocument.importNode(node, true);\n    };\n    const getEmptyCaretContainers = node => {\n      const nodes = [];\n      let tempNode = node;\n      while (tempNode) {\n        if (isText$a(tempNode) && tempNode.data !== ZWSP || tempNode.childNodes.length > 1) {\n          return [];\n        }\n        if (isElement$6(tempNode)) {\n          nodes.push(tempNode);\n        }\n        tempNode = tempNode.firstChild;\n      }\n      return nodes;\n    };\n    const isCaretContainerEmpty = node => {\n      return getEmptyCaretContainers(node).length > 0;\n    };\n    const findFirstTextNode = node => {\n      if (node) {\n        const walker = new DomTreeWalker(node, node);\n        for (let tempNode = walker.current(); tempNode; tempNode = walker.next()) {\n          if (isText$a(tempNode)) {\n            return tempNode;\n          }\n        }\n      }\n      return null;\n    };\n    const createCaretContainer = fill => {\n      const caretContainer = SugarElement.fromTag('span');\n      setAll$1(caretContainer, {\n        'id': CARET_ID,\n        'data-mce-bogus': '1',\n        'data-mce-type': 'format-caret'\n      });\n      if (fill) {\n        append$1(caretContainer, SugarElement.fromText(ZWSP));\n      }\n      return caretContainer;\n    };\n    const trimZwspFromCaretContainer = caretContainerNode => {\n      const textNode = findFirstTextNode(caretContainerNode);\n      if (textNode && textNode.data.charAt(0) === ZWSP) {\n        textNode.deleteData(0, 1);\n      }\n      return textNode;\n    };\n    const removeCaretContainerNode = (editor, node, moveCaret = true) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (isCaretContainerEmpty(node)) {\n        deleteElement$2(editor, false, SugarElement.fromDom(node), moveCaret);\n      } else {\n        const rng = selection.getRng();\n        const block = dom.getParent(node, dom.isBlock);\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        const textNode = trimZwspFromCaretContainer(node);\n        dom.remove(node, true);\n        if (startContainer === textNode && startOffset > 0) {\n          rng.setStart(textNode, startOffset - 1);\n        }\n        if (endContainer === textNode && endOffset > 0) {\n          rng.setEnd(textNode, endOffset - 1);\n        }\n        if (block && dom.isEmpty(block)) {\n          fillWithPaddingBr(SugarElement.fromDom(block));\n        }\n        selection.setRng(rng);\n      }\n    };\n    const removeCaretContainer = (editor, node, moveCaret = true) => {\n      const dom = editor.dom, selection = editor.selection;\n      if (!node) {\n        node = getParentCaretContainer(editor.getBody(), selection.getStart());\n        if (!node) {\n          while (node = dom.get(CARET_ID)) {\n            removeCaretContainerNode(editor, node, false);\n          }\n        }\n      } else {\n        removeCaretContainerNode(editor, node, moveCaret);\n      }\n    };\n    const insertCaretContainerNode = (editor, caretContainer, formatNode) => {\n      var _a, _b;\n      const dom = editor.dom;\n      const block = dom.getParent(formatNode, curry(isTextBlock$1, editor.schema));\n      if (block && dom.isEmpty(block)) {\n        (_a = formatNode.parentNode) === null || _a === void 0 ? void 0 : _a.replaceChild(caretContainer, formatNode);\n      } else {\n        removeTrailingBr(SugarElement.fromDom(formatNode));\n        if (dom.isEmpty(formatNode)) {\n          (_b = formatNode.parentNode) === null || _b === void 0 ? void 0 : _b.replaceChild(caretContainer, formatNode);\n        } else {\n          dom.insertAfter(caretContainer, formatNode);\n        }\n      }\n    };\n    const appendNode = (parentNode, node) => {\n      parentNode.appendChild(node);\n      return node;\n    };\n    const insertFormatNodesIntoCaretContainer = (formatNodes, caretContainer) => {\n      var _a;\n      const innerMostFormatNode = foldr(formatNodes, (parentNode, formatNode) => {\n        return appendNode(parentNode, formatNode.cloneNode(false));\n      }, caretContainer);\n      const doc = (_a = innerMostFormatNode.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      return appendNode(innerMostFormatNode, doc.createTextNode(ZWSP));\n    };\n    const cleanFormatNode = (editor, caretContainer, formatNode, name, vars, similar) => {\n      const formatter = editor.formatter;\n      const dom = editor.dom;\n      const validFormats = filter$5(keys(formatter.get()), formatName => formatName !== name && !contains$1(formatName, 'removeformat'));\n      const matchedFormats = matchAllOnNode(editor, formatNode, validFormats);\n      const uniqueFormats = filter$5(matchedFormats, fmtName => !areSimilarFormats(editor, fmtName, name));\n      if (uniqueFormats.length > 0) {\n        const clonedFormatNode = formatNode.cloneNode(false);\n        dom.add(caretContainer, clonedFormatNode);\n        formatter.remove(name, vars, clonedFormatNode, similar);\n        dom.remove(clonedFormatNode);\n        return Optional.some(clonedFormatNode);\n      } else {\n        return Optional.none();\n      }\n    };\n    const applyCaretFormat = (editor, name, vars) => {\n      let caretContainer;\n      const selection = editor.selection;\n      const formatList = editor.formatter.get(name);\n      if (!formatList) {\n        return;\n      }\n      const selectionRng = selection.getRng();\n      let offset = selectionRng.startOffset;\n      const container = selectionRng.startContainer;\n      const text = container.nodeValue;\n      caretContainer = getParentCaretContainer(editor.getBody(), selection.getStart());\n      const wordcharRegex = /[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;\n      if (text && offset > 0 && offset < text.length && wordcharRegex.test(text.charAt(offset)) && wordcharRegex.test(text.charAt(offset - 1))) {\n        const bookmark = selection.getBookmark();\n        selectionRng.collapse(true);\n        let rng = expandRng(editor.dom, selectionRng, formatList);\n        rng = split(rng);\n        editor.formatter.apply(name, vars, rng);\n        selection.moveToBookmark(bookmark);\n      } else {\n        let textNode = caretContainer ? findFirstTextNode(caretContainer) : null;\n        if (!caretContainer || (textNode === null || textNode === void 0 ? void 0 : textNode.data) !== ZWSP) {\n          caretContainer = importNode(editor.getDoc(), createCaretContainer(true).dom);\n          textNode = caretContainer.firstChild;\n          selectionRng.insertNode(caretContainer);\n          offset = 1;\n          editor.formatter.apply(name, vars, caretContainer);\n        } else {\n          editor.formatter.apply(name, vars, caretContainer);\n        }\n        selection.setCursorLocation(textNode, offset);\n      }\n    };\n    const removeCaretFormat = (editor, name, vars, similar) => {\n      const dom = editor.dom;\n      const selection = editor.selection;\n      let hasContentAfter = false;\n      const formatList = editor.formatter.get(name);\n      if (!formatList) {\n        return;\n      }\n      const rng = selection.getRng();\n      const container = rng.startContainer;\n      const offset = rng.startOffset;\n      let node = container;\n      if (isText$a(container)) {\n        if (offset !== container.data.length) {\n          hasContentAfter = true;\n        }\n        node = node.parentNode;\n      }\n      const parents = [];\n      let formatNode;\n      while (node) {\n        if (matchNode(editor, node, name, vars, similar)) {\n          formatNode = node;\n          break;\n        }\n        if (node.nextSibling) {\n          hasContentAfter = true;\n        }\n        parents.push(node);\n        node = node.parentNode;\n      }\n      if (!formatNode) {\n        return;\n      }\n      if (hasContentAfter) {\n        const bookmark = selection.getBookmark();\n        rng.collapse(true);\n        let expandedRng = expandRng(dom, rng, formatList, true);\n        expandedRng = split(expandedRng);\n        editor.formatter.remove(name, vars, expandedRng, similar);\n        selection.moveToBookmark(bookmark);\n      } else {\n        const caretContainer = getParentCaretContainer(editor.getBody(), formatNode);\n        const newCaretContainer = createCaretContainer(false).dom;\n        insertCaretContainerNode(editor, newCaretContainer, caretContainer !== null && caretContainer !== void 0 ? caretContainer : formatNode);\n        const cleanedFormatNode = cleanFormatNode(editor, newCaretContainer, formatNode, name, vars, similar);\n        const caretTextNode = insertFormatNodesIntoCaretContainer(parents.concat(cleanedFormatNode.toArray()), newCaretContainer);\n        if (caretContainer) {\n          removeCaretContainerNode(editor, caretContainer, false);\n        }\n        selection.setCursorLocation(caretTextNode, 1);\n        if (dom.isEmpty(formatNode)) {\n          dom.remove(formatNode);\n        }\n      }\n    };\n    const disableCaretContainer = (editor, keyCode) => {\n      const selection = editor.selection, body = editor.getBody();\n      removeCaretContainer(editor, null, false);\n      if ((keyCode === 8 || keyCode === 46) && selection.isCollapsed() && selection.getStart().innerHTML === ZWSP) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n      if (keyCode === 37 || keyCode === 39) {\n        removeCaretContainer(editor, getParentCaretContainer(body, selection.getStart()));\n      }\n    };\n    const setup$u = editor => {\n      editor.on('mouseup keydown', e => {\n        disableCaretContainer(editor, e.keyCode);\n      });\n    };\n    const replaceWithCaretFormat = (targetNode, formatNodes) => {\n      const caretContainer = createCaretContainer(false);\n      const innerMost = insertFormatNodesIntoCaretContainer(formatNodes, caretContainer.dom);\n      before$3(SugarElement.fromDom(targetNode), caretContainer);\n      remove$6(SugarElement.fromDom(targetNode));\n      return CaretPosition(innerMost, 0);\n    };\n    const isFormatElement = (editor, element) => {\n      const inlineElements = editor.schema.getTextInlineElements();\n      return has$2(inlineElements, name(element)) && !isCaretNode(element.dom) && !isBogus$2(element.dom);\n    };\n    const isEmptyCaretFormatElement = element => {\n      return isCaretNode(element.dom) && isCaretContainerEmpty(element.dom);\n    };\n\n    const postProcessHooks = {};\n    const isPre = matchNodeNames(['pre']);\n    const addPostProcessHook = (name, hook) => {\n      const hooks = postProcessHooks[name];\n      if (!hooks) {\n        postProcessHooks[name] = [];\n      }\n      postProcessHooks[name].push(hook);\n    };\n    const postProcess$1 = (name, editor) => {\n      if (has$2(postProcessHooks, name)) {\n        each$e(postProcessHooks[name], hook => {\n          hook(editor);\n        });\n      }\n    };\n    addPostProcessHook('pre', editor => {\n      const rng = editor.selection.getRng();\n      const hasPreSibling = blocks => pre => {\n        const prev = pre.previousSibling;\n        return isPre(prev) && contains$2(blocks, prev);\n      };\n      const joinPre = (pre1, pre2) => {\n        const sPre2 = SugarElement.fromDom(pre2);\n        const doc = documentOrOwner(sPre2).dom;\n        remove$6(sPre2);\n        append(SugarElement.fromDom(pre1), [\n          SugarElement.fromTag('br', doc),\n          SugarElement.fromTag('br', doc),\n          ...children$1(sPre2)\n        ]);\n      };\n      if (!rng.collapsed) {\n        const blocks = editor.selection.getSelectedBlocks();\n        const preBlocks = filter$5(filter$5(blocks, isPre), hasPreSibling(blocks));\n        each$e(preBlocks, pre => {\n          joinPre(pre.previousSibling, pre);\n        });\n      }\n    });\n\n    const listItemStyles = [\n      'fontWeight',\n      'fontStyle',\n      'color',\n      'fontSize',\n      'fontFamily'\n    ];\n    const hasListStyles = fmt => isObject(fmt.styles) && exists(keys(fmt.styles), name => contains$2(listItemStyles, name));\n    const findExpandedListItemFormat = formats => find$2(formats, fmt => isInlineFormat(fmt) && fmt.inline === 'span' && hasListStyles(fmt));\n    const getExpandedListItemFormat = (formatter, format) => {\n      const formatList = formatter.get(format);\n      return isArray$1(formatList) ? findExpandedListItemFormat(formatList) : Optional.none();\n    };\n    const isRngStartAtStartOfElement = (rng, elm) => prevPosition(elm, CaretPosition.fromRangeStart(rng)).isNone();\n    const isRngEndAtEndOfElement = (rng, elm) => {\n      return nextPosition(elm, CaretPosition.fromRangeEnd(rng)).exists(pos => !isBr$6(pos.getNode()) || nextPosition(elm, pos).isSome()) === false;\n    };\n    const isEditableListItem = dom => elm => isListItem$2(elm) && dom.getContentEditableParent(elm) !== 'false';\n    const getFullySelectedBlocks = selection => {\n      const blocks = selection.getSelectedBlocks();\n      const rng = selection.getRng();\n      if (selection.isCollapsed()) {\n        return [];\n      }\n      if (blocks.length === 1) {\n        return isRngStartAtStartOfElement(rng, blocks[0]) && isRngEndAtEndOfElement(rng, blocks[0]) ? blocks : [];\n      } else {\n        const first = head(blocks).filter(elm => isRngStartAtStartOfElement(rng, elm)).toArray();\n        const last = last$3(blocks).filter(elm => isRngEndAtEndOfElement(rng, elm)).toArray();\n        const middle = blocks.slice(1, -1);\n        return first.concat(middle).concat(last);\n      }\n    };\n    const getFullySelectedListItems = selection => filter$5(getFullySelectedBlocks(selection), isEditableListItem(selection.dom));\n    const getPartiallySelectedListItems = selection => filter$5(selection.getSelectedBlocks(), isEditableListItem(selection.dom));\n\n    const each$8 = Tools.each;\n    const isElementNode = node => isElement$6(node) && !isBookmarkNode$1(node) && !isCaretNode(node) && !isBogus$2(node);\n    const findElementSibling = (node, siblingName) => {\n      for (let sibling = node; sibling; sibling = sibling[siblingName]) {\n        if (isText$a(sibling) && isNotEmpty(sibling.data)) {\n          return node;\n        }\n        if (isElement$6(sibling) && !isBookmarkNode$1(sibling)) {\n          return sibling;\n        }\n      }\n      return node;\n    };\n    const mergeSiblingsNodes = (editor, prev, next) => {\n      const elementUtils = ElementUtils(editor);\n      const isPrevEditable = isElement$6(prev) && isEditable$3(prev);\n      const isNextEditable = isElement$6(next) && isEditable$3(next);\n      if (isPrevEditable && isNextEditable) {\n        const prevSibling = findElementSibling(prev, 'previousSibling');\n        const nextSibling = findElementSibling(next, 'nextSibling');\n        if (elementUtils.compare(prevSibling, nextSibling)) {\n          for (let sibling = prevSibling.nextSibling; sibling && sibling !== nextSibling;) {\n            const tmpSibling = sibling;\n            sibling = sibling.nextSibling;\n            prevSibling.appendChild(tmpSibling);\n          }\n          editor.dom.remove(nextSibling);\n          Tools.each(Tools.grep(nextSibling.childNodes), node => {\n            prevSibling.appendChild(node);\n          });\n          return prevSibling;\n        }\n      }\n      return next;\n    };\n    const mergeSiblings = (editor, format, vars, node) => {\n      var _a;\n      if (node && format.merge_siblings !== false) {\n        const newNode = (_a = mergeSiblingsNodes(editor, getNonWhiteSpaceSibling(node), node)) !== null && _a !== void 0 ? _a : node;\n        mergeSiblingsNodes(editor, newNode, getNonWhiteSpaceSibling(newNode, true));\n      }\n    };\n    const clearChildStyles = (dom, format, node) => {\n      if (format.clear_child_styles) {\n        const selector = format.links ? '*:not(a)' : '*';\n        each$8(dom.select(selector, node), childNode => {\n          if (isElementNode(childNode) && isEditable$3(childNode)) {\n            each$8(format.styles, (_value, name) => {\n              dom.setStyle(childNode, name, '');\n            });\n          }\n        });\n      }\n    };\n    const processChildElements = (node, filter, process) => {\n      each$8(node.childNodes, node => {\n        if (isElementNode(node)) {\n          if (filter(node)) {\n            process(node);\n          }\n          if (node.hasChildNodes()) {\n            processChildElements(node, filter, process);\n          }\n        }\n      });\n    };\n    const unwrapEmptySpan = (dom, node) => {\n      if (node.nodeName === 'SPAN' && dom.getAttribs(node).length === 0) {\n        dom.remove(node, true);\n      }\n    };\n    const hasStyle = (dom, name) => node => !!(node && getStyle(dom, node, name));\n    const applyStyle = (dom, name, value) => node => {\n      dom.setStyle(node, name, value);\n      if (node.getAttribute('style') === '') {\n        node.removeAttribute('style');\n      }\n      unwrapEmptySpan(dom, node);\n    };\n\n    const removeResult = Adt.generate([\n      { keep: [] },\n      { rename: ['name'] },\n      { removed: [] }\n    ]);\n    const MCE_ATTR_RE = /^(src|href|style)$/;\n    const each$7 = Tools.each;\n    const isEq$2 = isEq$5;\n    const isTableCellOrRow = node => /^(TR|TH|TD)$/.test(node.nodeName);\n    const isChildOfInlineParent = (dom, node, parent) => dom.isChildOf(node, parent) && node !== parent && !dom.isBlock(parent);\n    const getContainer = (ed, rng, start) => {\n      let container = rng[start ? 'startContainer' : 'endContainer'];\n      let offset = rng[start ? 'startOffset' : 'endOffset'];\n      if (isElement$6(container)) {\n        const lastIdx = container.childNodes.length - 1;\n        if (!start && offset) {\n          offset--;\n        }\n        container = container.childNodes[offset > lastIdx ? lastIdx : offset];\n      }\n      if (isText$a(container) && start && offset >= container.data.length) {\n        container = new DomTreeWalker(container, ed.getBody()).next() || container;\n      }\n      if (isText$a(container) && !start && offset === 0) {\n        container = new DomTreeWalker(container, ed.getBody()).prev() || container;\n      }\n      return container;\n    };\n    const normalizeTableSelection = (node, start) => {\n      const prop = start ? 'firstChild' : 'lastChild';\n      const childNode = node[prop];\n      if (isTableCellOrRow(node) && childNode) {\n        if (node.nodeName === 'TR') {\n          return childNode[prop] || childNode;\n        } else {\n          return childNode;\n        }\n      }\n      return node;\n    };\n    const wrap$1 = (dom, node, name, attrs) => {\n      var _a;\n      const wrapper = dom.create(name, attrs);\n      (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n    };\n    const wrapWithSiblings = (dom, node, next, name, attrs) => {\n      const start = SugarElement.fromDom(node);\n      const wrapper = SugarElement.fromDom(dom.create(name, attrs));\n      const siblings = next ? nextSiblings(start) : prevSiblings(start);\n      append(wrapper, siblings);\n      if (next) {\n        before$3(start, wrapper);\n        prepend(wrapper, start);\n      } else {\n        after$4(start, wrapper);\n        append$1(wrapper, start);\n      }\n      return wrapper.dom;\n    };\n    const isColorFormatAndAnchor = (node, format) => format.links && node.nodeName === 'A';\n    const removeNode = (ed, node, format) => {\n      const parentNode = node.parentNode;\n      let rootBlockElm;\n      const dom = ed.dom;\n      const forcedRootBlock = getForcedRootBlock(ed);\n      if (isBlockFormat(format)) {\n        if (parentNode === dom.getRoot()) {\n          if (!format.list_block || !isEq$2(node, format.list_block)) {\n            each$e(from(node.childNodes), node => {\n              if (isValid(ed, forcedRootBlock, node.nodeName.toLowerCase())) {\n                if (!rootBlockElm) {\n                  rootBlockElm = wrap$1(dom, node, forcedRootBlock);\n                  dom.setAttribs(rootBlockElm, getForcedRootBlockAttrs(ed));\n                } else {\n                  rootBlockElm.appendChild(node);\n                }\n              } else {\n                rootBlockElm = null;\n              }\n            });\n          }\n        }\n      }\n      if (isMixedFormat(format) && !isEq$2(format.inline, node)) {\n        return;\n      }\n      dom.remove(node, true);\n    };\n    const processFormatAttrOrStyle = (name, value, vars) => {\n      if (isNumber(name)) {\n        return {\n          name: value,\n          value: null\n        };\n      } else {\n        return {\n          name,\n          value: replaceVars(value, vars)\n        };\n      }\n    };\n    const removeEmptyStyleAttributeIfNeeded = (dom, elm) => {\n      if (dom.getAttrib(elm, 'style') === '') {\n        elm.removeAttribute('style');\n        elm.removeAttribute('data-mce-style');\n      }\n    };\n    const removeStyles = (dom, elm, format, vars, compareNode) => {\n      let stylesModified = false;\n      each$7(format.styles, (value, name) => {\n        const {\n          name: styleName,\n          value: styleValue\n        } = processFormatAttrOrStyle(name, value, vars);\n        const normalizedStyleValue = normalizeStyleValue(styleValue, styleName);\n        if (format.remove_similar || isNull(styleValue) || !isElement$6(compareNode) || isEq$2(getStyle(dom, compareNode, styleName), normalizedStyleValue)) {\n          dom.setStyle(elm, styleName, '');\n        }\n        stylesModified = true;\n      });\n      if (stylesModified) {\n        removeEmptyStyleAttributeIfNeeded(dom, elm);\n      }\n    };\n    const removeListStyleFormats = (editor, name, vars) => {\n      if (name === 'removeformat') {\n        each$e(getPartiallySelectedListItems(editor.selection), li => {\n          each$e(listItemStyles, name => editor.dom.setStyle(li, name, ''));\n          removeEmptyStyleAttributeIfNeeded(editor.dom, li);\n        });\n      } else {\n        getExpandedListItemFormat(editor.formatter, name).each(liFmt => {\n          each$e(getPartiallySelectedListItems(editor.selection), li => removeStyles(editor.dom, li, liFmt, vars, null));\n        });\n      }\n    };\n    const removeFormatInternal = (ed, format, vars, node, compareNode) => {\n      const dom = ed.dom;\n      const elementUtils = ElementUtils(ed);\n      const schema = ed.schema;\n      if (isInlineFormat(format) && isTransparentElementName(schema, format.inline) && isTransparentBlock(schema, node) && node.parentElement === ed.getBody()) {\n        removeNode(ed, node, format);\n        return removeResult.removed();\n      }\n      if (!format.ceFalseOverride && node && dom.getContentEditableParent(node) === 'false') {\n        return removeResult.keep();\n      }\n      if (node && !matchName(dom, node, format) && !isColorFormatAndAnchor(node, format)) {\n        return removeResult.keep();\n      }\n      const elm = node;\n      const preserveAttributes = format.preserve_attributes;\n      if (isInlineFormat(format) && format.remove === 'all' && isArray$1(preserveAttributes)) {\n        const attrsToPreserve = filter$5(dom.getAttribs(elm), attr => contains$2(preserveAttributes, attr.name.toLowerCase()));\n        dom.removeAllAttribs(elm);\n        each$e(attrsToPreserve, attr => dom.setAttrib(elm, attr.name, attr.value));\n        if (attrsToPreserve.length > 0) {\n          return removeResult.rename('span');\n        }\n      }\n      if (format.remove !== 'all') {\n        removeStyles(dom, elm, format, vars, compareNode);\n        each$7(format.attributes, (value, name) => {\n          const {\n            name: attrName,\n            value: attrValue\n          } = processFormatAttrOrStyle(name, value, vars);\n          if (format.remove_similar || isNull(attrValue) || !isElement$6(compareNode) || isEq$2(dom.getAttrib(compareNode, attrName), attrValue)) {\n            if (attrName === 'class') {\n              const currentValue = dom.getAttrib(elm, attrName);\n              if (currentValue) {\n                let valueOut = '';\n                each$e(currentValue.split(/\\s+/), cls => {\n                  if (/mce\\-\\w+/.test(cls)) {\n                    valueOut += (valueOut ? ' ' : '') + cls;\n                  }\n                });\n                if (valueOut) {\n                  dom.setAttrib(elm, attrName, valueOut);\n                  return;\n                }\n              }\n            }\n            if (MCE_ATTR_RE.test(attrName)) {\n              elm.removeAttribute('data-mce-' + attrName);\n            }\n            if (attrName === 'style' && matchNodeNames(['li'])(elm) && dom.getStyle(elm, 'list-style-type') === 'none') {\n              elm.removeAttribute(attrName);\n              dom.setStyle(elm, 'list-style-type', 'none');\n              return;\n            }\n            if (attrName === 'class') {\n              elm.removeAttribute('className');\n            }\n            elm.removeAttribute(attrName);\n          }\n        });\n        each$7(format.classes, value => {\n          value = replaceVars(value, vars);\n          if (!isElement$6(compareNode) || dom.hasClass(compareNode, value)) {\n            dom.removeClass(elm, value);\n          }\n        });\n        const attrs = dom.getAttribs(elm);\n        for (let i = 0; i < attrs.length; i++) {\n          const attrName = attrs[i].nodeName;\n          if (!elementUtils.isAttributeInternal(attrName)) {\n            return removeResult.keep();\n          }\n        }\n      }\n      if (format.remove !== 'none') {\n        removeNode(ed, elm, format);\n        return removeResult.removed();\n      }\n      return removeResult.keep();\n    };\n    const removeFormat$1 = (ed, format, vars, node, compareNode) => removeFormatInternal(ed, format, vars, node, compareNode).fold(never, newName => {\n      ed.dom.rename(node, newName);\n      return true;\n    }, always);\n    const findFormatRoot = (editor, container, name, vars, similar) => {\n      let formatRoot;\n      if (container.parentNode) {\n        each$e(getParents$2(editor.dom, container.parentNode).reverse(), parent => {\n          if (!formatRoot && isElement$6(parent) && parent.id !== '_start' && parent.id !== '_end') {\n            const format = matchNode(editor, parent, name, vars, similar);\n            if (format && format.split !== false) {\n              formatRoot = parent;\n            }\n          }\n        });\n      }\n      return formatRoot;\n    };\n    const removeFormatFromClone = (editor, format, vars, clone) => removeFormatInternal(editor, format, vars, clone, clone).fold(constant(clone), newName => {\n      const fragment = editor.dom.createFragment();\n      fragment.appendChild(clone);\n      return editor.dom.rename(clone, newName);\n    }, constant(null));\n    const wrapAndSplit = (editor, formatList, formatRoot, container, target, split, format, vars) => {\n      var _a, _b;\n      let lastClone;\n      let firstClone;\n      const dom = editor.dom;\n      if (formatRoot) {\n        const formatRootParent = formatRoot.parentNode;\n        for (let parent = container.parentNode; parent && parent !== formatRootParent; parent = parent.parentNode) {\n          let clone = dom.clone(parent, false);\n          for (let i = 0; i < formatList.length; i++) {\n            clone = removeFormatFromClone(editor, formatList[i], vars, clone);\n            if (clone === null) {\n              break;\n            }\n          }\n          if (clone) {\n            if (lastClone) {\n              clone.appendChild(lastClone);\n            }\n            if (!firstClone) {\n              firstClone = clone;\n            }\n            lastClone = clone;\n          }\n        }\n        if (split && (!format.mixed || !dom.isBlock(formatRoot))) {\n          container = (_a = dom.split(formatRoot, container)) !== null && _a !== void 0 ? _a : container;\n        }\n        if (lastClone && firstClone) {\n          (_b = target.parentNode) === null || _b === void 0 ? void 0 : _b.insertBefore(lastClone, target);\n          firstClone.appendChild(target);\n          if (isInlineFormat(format)) {\n            mergeSiblings(editor, format, vars, lastClone);\n          }\n        }\n      }\n      return container;\n    };\n    const remove$2 = (ed, name, vars, node, similar) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const splitToFormatRoot = container => {\n        const formatRoot = findFormatRoot(ed, container, name, vars, similar);\n        return wrapAndSplit(ed, formatList, formatRoot, container, container, true, format, vars);\n      };\n      const isRemoveBookmarkNode = node => isBookmarkNode$1(node) && isElement$6(node) && (node.id === '_start' || node.id === '_end');\n      const removeNodeFormat = node => exists(formatList, fmt => removeFormat$1(ed, fmt, vars, node, node));\n      const process = node => {\n        const children = from(node.childNodes);\n        const removed = removeNodeFormat(node);\n        const currentNodeMatches = removed || exists(formatList, f => matchName(dom, node, f));\n        const parentNode = node.parentNode;\n        if (!currentNodeMatches && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n          removeNodeFormat(parentNode);\n        }\n        if (format.deep) {\n          if (children.length) {\n            for (let i = 0; i < children.length; i++) {\n              process(children[i]);\n            }\n          }\n        }\n        const textDecorations = [\n          'underline',\n          'line-through',\n          'overline'\n        ];\n        each$e(textDecorations, decoration => {\n          if (isElement$6(node) && ed.dom.getStyle(node, 'text-decoration') === decoration && node.parentNode && getTextDecoration(dom, node.parentNode) === decoration) {\n            removeFormat$1(ed, {\n              deep: false,\n              exact: true,\n              inline: 'span',\n              styles: { textDecoration: decoration }\n            }, undefined, node);\n          }\n        });\n      };\n      const unwrap = start => {\n        const node = dom.get(start ? '_start' : '_end');\n        if (node) {\n          let out = node[start ? 'firstChild' : 'lastChild'];\n          if (isRemoveBookmarkNode(out)) {\n            out = out[start ? 'firstChild' : 'lastChild'];\n          }\n          if (isText$a(out) && out.data.length === 0) {\n            out = start ? node.previousSibling || node.nextSibling : node.nextSibling || node.previousSibling;\n          }\n          dom.remove(node, true);\n          return out;\n        } else {\n          return null;\n        }\n      };\n      const removeRngStyle = rng => {\n        let startContainer;\n        let endContainer;\n        let expandedRng = expandRng(dom, rng, formatList, rng.collapsed);\n        if (format.split) {\n          expandedRng = split(expandedRng);\n          startContainer = getContainer(ed, expandedRng, true);\n          endContainer = getContainer(ed, expandedRng);\n          if (startContainer !== endContainer) {\n            startContainer = normalizeTableSelection(startContainer, true);\n            endContainer = normalizeTableSelection(endContainer, false);\n            if (isChildOfInlineParent(dom, startContainer, endContainer)) {\n              const marker = Optional.from(startContainer.firstChild).getOr(startContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, true, 'span', {\n                'id': '_start',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(true);\n              return;\n            }\n            if (isChildOfInlineParent(dom, endContainer, startContainer)) {\n              const marker = Optional.from(endContainer.lastChild).getOr(endContainer);\n              splitToFormatRoot(wrapWithSiblings(dom, marker, false, 'span', {\n                'id': '_end',\n                'data-mce-type': 'bookmark'\n              }));\n              unwrap(false);\n              return;\n            }\n            startContainer = wrap$1(dom, startContainer, 'span', {\n              'id': '_start',\n              'data-mce-type': 'bookmark'\n            });\n            endContainer = wrap$1(dom, endContainer, 'span', {\n              'id': '_end',\n              'data-mce-type': 'bookmark'\n            });\n            const newRng = dom.createRng();\n            newRng.setStartAfter(startContainer);\n            newRng.setEndBefore(endContainer);\n            walk$3(dom, newRng, nodes => {\n              each$e(nodes, n => {\n                if (!isBookmarkNode$1(n) && !isBookmarkNode$1(n.parentNode)) {\n                  splitToFormatRoot(n);\n                }\n              });\n            });\n            splitToFormatRoot(startContainer);\n            splitToFormatRoot(endContainer);\n            startContainer = unwrap(true);\n            endContainer = unwrap();\n          } else {\n            startContainer = endContainer = splitToFormatRoot(startContainer);\n          }\n          expandedRng.startContainer = startContainer.parentNode ? startContainer.parentNode : startContainer;\n          expandedRng.startOffset = dom.nodeIndex(startContainer);\n          expandedRng.endContainer = endContainer.parentNode ? endContainer.parentNode : endContainer;\n          expandedRng.endOffset = dom.nodeIndex(endContainer) + 1;\n        }\n        walk$3(dom, expandedRng, nodes => {\n          each$e(nodes, process);\n        });\n      };\n      if (node) {\n        if (isNode(node)) {\n          const rng = dom.createRng();\n          rng.setStartBefore(node);\n          rng.setEndAfter(node);\n          removeRngStyle(rng);\n        } else {\n          removeRngStyle(node);\n        }\n        fireFormatRemove(ed, name, node, vars);\n        return;\n      }\n      if (!selection.isCollapsed() || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n        preserveSelection(ed, () => runOnRanges(ed, removeRngStyle), startNode => isInlineFormat(format) && match$2(ed, name, vars, startNode));\n        ed.nodeChanged();\n      } else {\n        removeCaretFormat(ed, name, vars, similar);\n      }\n      removeListStyleFormats(ed, name, vars);\n      fireFormatRemove(ed, name, node, vars);\n    };\n\n    const each$6 = Tools.each;\n    const mergeTextDecorationsAndColor = (dom, format, vars, node) => {\n      const processTextDecorationsAndColor = n => {\n        if (isElement$6(n) && isElement$6(n.parentNode) && isEditable$3(n)) {\n          const parentTextDecoration = getTextDecoration(dom, n.parentNode);\n          if (dom.getStyle(n, 'color') && parentTextDecoration) {\n            dom.setStyle(n, 'text-decoration', parentTextDecoration);\n          } else if (dom.getStyle(n, 'text-decoration') === parentTextDecoration) {\n            dom.setStyle(n, 'text-decoration', null);\n          }\n        }\n      };\n      if (format.styles && (format.styles.color || format.styles.textDecoration)) {\n        Tools.walk(node, processTextDecorationsAndColor, 'childNodes');\n        processTextDecorationsAndColor(node);\n      }\n    };\n    const mergeBackgroundColorAndFontSize = (dom, format, vars, node) => {\n      if (format.styles && format.styles.backgroundColor) {\n        const hasFontSize = hasStyle(dom, 'fontSize');\n        processChildElements(node, elm => hasFontSize(elm) && isEditable$3(elm), applyStyle(dom, 'backgroundColor', replaceVars(format.styles.backgroundColor, vars)));\n      }\n    };\n    const mergeSubSup = (dom, format, vars, node) => {\n      if (isInlineFormat(format) && (format.inline === 'sub' || format.inline === 'sup')) {\n        const hasFontSize = hasStyle(dom, 'fontSize');\n        processChildElements(node, elm => hasFontSize(elm) && isEditable$3(elm), applyStyle(dom, 'fontSize', ''));\n        const inverseTagDescendants = filter$5(dom.select(format.inline === 'sup' ? 'sub' : 'sup', node), isEditable$3);\n        dom.remove(inverseTagDescendants, true);\n      }\n    };\n    const mergeWithChildren = (editor, formatList, vars, node) => {\n      each$6(formatList, format => {\n        if (isInlineFormat(format)) {\n          each$6(editor.dom.select(format.inline, node), child => {\n            if (isElementNode(child)) {\n              removeFormat$1(editor, format, vars, child, format.exact ? child : null);\n            }\n          });\n        }\n        clearChildStyles(editor.dom, format, node);\n      });\n    };\n    const mergeWithParents = (editor, format, name, vars, node) => {\n      const parentNode = node.parentNode;\n      if (matchNode(editor, parentNode, name, vars)) {\n        if (removeFormat$1(editor, format, vars, node)) {\n          return;\n        }\n      }\n      if (format.merge_with_parents && parentNode) {\n        editor.dom.getParent(parentNode, parent => {\n          if (matchNode(editor, parent, name, vars)) {\n            removeFormat$1(editor, format, vars, node);\n            return true;\n          } else {\n            return false;\n          }\n        });\n      }\n    };\n\n    const each$5 = Tools.each;\n    const canFormatBR = (editor, format, node, parentName) => {\n      if (canFormatEmptyLines(editor) && isInlineFormat(format) && node.parentNode) {\n        const validBRParentElements = getTextRootBlockElements(editor.schema);\n        const hasCaretNodeSibling = sibling(SugarElement.fromDom(node), sibling => isCaretNode(sibling.dom));\n        return hasNonNullableKey(validBRParentElements, parentName) && isEmpty$2(SugarElement.fromDom(node.parentNode), false) && !hasCaretNodeSibling;\n      } else {\n        return false;\n      }\n    };\n    const applyStyles = (dom, elm, format, vars) => {\n      each$5(format.styles, (value, name) => {\n        dom.setStyle(elm, name, replaceVars(value, vars));\n      });\n      if (format.styles) {\n        const styleVal = dom.getAttrib(elm, 'style');\n        if (styleVal) {\n          dom.setAttrib(elm, 'data-mce-style', styleVal);\n        }\n      }\n    };\n    const applyFormat$1 = (ed, name, vars, node) => {\n      const formatList = ed.formatter.get(name);\n      const format = formatList[0];\n      const isCollapsed = !node && ed.selection.isCollapsed();\n      const dom = ed.dom;\n      const selection = ed.selection;\n      const setElementFormat = (elm, fmt = format) => {\n        if (isFunction(fmt.onformat)) {\n          fmt.onformat(elm, fmt, vars, node);\n        }\n        applyStyles(dom, elm, fmt, vars);\n        each$5(fmt.attributes, (value, name) => {\n          dom.setAttrib(elm, name, replaceVars(value, vars));\n        });\n        each$5(fmt.classes, value => {\n          const newValue = replaceVars(value, vars);\n          if (!dom.hasClass(elm, newValue)) {\n            dom.addClass(elm, newValue);\n          }\n        });\n      };\n      const applyNodeStyle = (formatList, node) => {\n        let found = false;\n        each$5(formatList, format => {\n          if (!isSelectorFormat(format)) {\n            return false;\n          }\n          if (dom.getContentEditable(node) === 'false' && !format.ceFalseOverride) {\n            return true;\n          }\n          if (isNonNullable(format.collapsed) && format.collapsed !== isCollapsed) {\n            return true;\n          }\n          if (dom.is(node, format.selector) && !isCaretNode(node)) {\n            setElementFormat(node, format);\n            found = true;\n            return false;\n          }\n          return true;\n        });\n        return found;\n      };\n      const createWrapElement = wrapName => {\n        if (isString(wrapName)) {\n          const wrapElm = dom.create(wrapName);\n          setElementFormat(wrapElm);\n          return wrapElm;\n        } else {\n          return null;\n        }\n      };\n      const applyRngStyle = (dom, rng, nodeSpecific) => {\n        const newWrappers = [];\n        let contentEditable = true;\n        const wrapName = format.inline || format.block;\n        const wrapElm = createWrapElement(wrapName);\n        const isMatchingWrappingBlock = node => isWrappingBlockFormat(format) && matchNode(ed, node, name, vars);\n        const canRenameBlock = (node, parentName, isEditableDescendant) => {\n          const isValidBlockFormatForNode = isNonWrappingBlockFormat(format) && isTextBlock$1(ed.schema, node) && isValid(ed, parentName, wrapName);\n          return isEditableDescendant && isValidBlockFormatForNode;\n        };\n        const canWrapNode = (node, parentName, isEditableDescendant, isWrappableNoneditableElm) => {\n          const nodeName = node.nodeName.toLowerCase();\n          const isValidWrapNode = isValid(ed, wrapName, nodeName) && isValid(ed, parentName, wrapName);\n          const isZwsp$1 = !nodeSpecific && isText$a(node) && isZwsp(node.data);\n          const isCaret = isCaretNode(node);\n          const isCorrectFormatForNode = !isInlineFormat(format) || !dom.isBlock(node);\n          return (isEditableDescendant || isWrappableNoneditableElm) && isValidWrapNode && !isZwsp$1 && !isCaret && isCorrectFormatForNode;\n        };\n        walk$3(dom, rng, nodes => {\n          let currentWrapElm;\n          const process = node => {\n            let hasContentEditableState = false;\n            let lastContentEditable = contentEditable;\n            let isWrappableNoneditableElm = false;\n            const parentNode = node.parentNode;\n            const parentName = parentNode.nodeName.toLowerCase();\n            const contentEditableValue = dom.getContentEditable(node);\n            if (isNonNullable(contentEditableValue)) {\n              lastContentEditable = contentEditable;\n              contentEditable = contentEditableValue === 'true';\n              hasContentEditableState = true;\n              isWrappableNoneditableElm = isWrappableNoneditable(ed, node);\n            }\n            const isEditableDescendant = contentEditable && !hasContentEditableState;\n            if (isBr$6(node) && !canFormatBR(ed, format, node, parentName)) {\n              currentWrapElm = null;\n              if (isBlockFormat(format)) {\n                dom.remove(node);\n              }\n              return;\n            }\n            if (isMatchingWrappingBlock(node)) {\n              currentWrapElm = null;\n              return;\n            }\n            if (canRenameBlock(node, parentName, isEditableDescendant)) {\n              const elm = dom.rename(node, wrapName);\n              setElementFormat(elm);\n              newWrappers.push(elm);\n              currentWrapElm = null;\n              return;\n            }\n            if (isSelectorFormat(format)) {\n              let found = applyNodeStyle(formatList, node);\n              if (!found && isNonNullable(parentNode) && shouldExpandToSelector(format)) {\n                found = applyNodeStyle(formatList, parentNode);\n              }\n              if (!isInlineFormat(format) || found) {\n                currentWrapElm = null;\n                return;\n              }\n            }\n            if (isNonNullable(wrapElm) && canWrapNode(node, parentName, isEditableDescendant, isWrappableNoneditableElm)) {\n              if (!currentWrapElm) {\n                currentWrapElm = dom.clone(wrapElm, false);\n                parentNode.insertBefore(currentWrapElm, node);\n                newWrappers.push(currentWrapElm);\n              }\n              if (isWrappableNoneditableElm && hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm.appendChild(node);\n            } else {\n              currentWrapElm = null;\n              each$e(from(node.childNodes), process);\n              if (hasContentEditableState) {\n                contentEditable = lastContentEditable;\n              }\n              currentWrapElm = null;\n            }\n          };\n          each$e(nodes, process);\n        });\n        if (format.links === true) {\n          each$e(newWrappers, node => {\n            const process = node => {\n              if (node.nodeName === 'A') {\n                setElementFormat(node, format);\n              }\n              each$e(from(node.childNodes), process);\n            };\n            process(node);\n          });\n        }\n        each$e(newWrappers, node => {\n          const getChildCount = node => {\n            let count = 0;\n            each$e(node.childNodes, node => {\n              if (!isEmptyTextNode$1(node) && !isBookmarkNode$1(node)) {\n                count++;\n              }\n            });\n            return count;\n          };\n          const mergeStyles = node => {\n            const childElement = find$2(node.childNodes, isElementNode$1).filter(child => dom.getContentEditable(child) !== 'false' && matchName(dom, child, format));\n            return childElement.map(child => {\n              const clone = dom.clone(child, false);\n              setElementFormat(clone);\n              dom.replace(clone, node, true);\n              dom.remove(child, true);\n              return clone;\n            }).getOr(node);\n          };\n          const childCount = getChildCount(node);\n          if ((newWrappers.length > 1 || !dom.isBlock(node)) && childCount === 0) {\n            dom.remove(node, true);\n            return;\n          }\n          if (isInlineFormat(format) || isBlockFormat(format) && format.wrapper) {\n            if (!format.exact && childCount === 1) {\n              node = mergeStyles(node);\n            }\n            mergeWithChildren(ed, formatList, vars, node);\n            mergeWithParents(ed, format, name, vars, node);\n            mergeBackgroundColorAndFontSize(dom, format, vars, node);\n            mergeTextDecorationsAndColor(dom, format, vars, node);\n            mergeSubSup(dom, format, vars, node);\n            mergeSiblings(ed, format, vars, node);\n          }\n        });\n      };\n      const targetNode = isNode(node) ? node : selection.getNode();\n      if (dom.getContentEditable(targetNode) === 'false' && !isWrappableNoneditable(ed, targetNode)) {\n        node = targetNode;\n        applyNodeStyle(formatList, node);\n        fireFormatApply(ed, name, node, vars);\n        return;\n      }\n      if (format) {\n        if (node) {\n          if (isNode(node)) {\n            if (!applyNodeStyle(formatList, node)) {\n              const rng = dom.createRng();\n              rng.setStartBefore(node);\n              rng.setEndAfter(node);\n              applyRngStyle(dom, expandRng(dom, rng, formatList), true);\n            }\n          } else {\n            applyRngStyle(dom, node, true);\n          }\n        } else {\n          if (!isCollapsed || !isInlineFormat(format) || getCellsFromEditor(ed).length) {\n            selection.setRng(normalize(selection.getRng()));\n            preserveSelection(ed, () => {\n              runOnRanges(ed, (selectionRng, fake) => {\n                const expandedRng = fake ? selectionRng : expandRng(dom, selectionRng, formatList);\n                applyRngStyle(dom, expandedRng, false);\n              });\n            }, always);\n            ed.nodeChanged();\n          } else {\n            applyCaretFormat(ed, name, vars);\n          }\n          getExpandedListItemFormat(ed.formatter, name).each(liFmt => {\n            each$e(getFullySelectedListItems(ed.selection), li => applyStyles(dom, li, liFmt, vars));\n          });\n        }\n        postProcess$1(name, ed);\n      }\n      fireFormatApply(ed, name, node, vars);\n    };\n\n    const hasVars = value => has$2(value, 'vars');\n    const setup$t = (registeredFormatListeners, editor) => {\n      registeredFormatListeners.set({});\n      editor.on('NodeChange', e => {\n        updateAndFireChangeCallbacks(editor, e.element, registeredFormatListeners.get());\n      });\n      editor.on('FormatApply FormatRemove', e => {\n        const element = Optional.from(e.node).map(nodeOrRange => isNode(nodeOrRange) ? nodeOrRange : nodeOrRange.startContainer).bind(node => isElement$6(node) ? Optional.some(node) : Optional.from(node.parentElement)).getOrThunk(() => fallbackElement(editor));\n        updateAndFireChangeCallbacks(editor, element, registeredFormatListeners.get());\n      });\n    };\n    const fallbackElement = editor => editor.selection.getStart();\n    const matchingNode = (editor, parents, format, similar, vars) => {\n      const isMatchingNode = node => {\n        const matchingFormat = editor.formatter.matchNode(node, format, vars !== null && vars !== void 0 ? vars : {}, similar);\n        return !isUndefined(matchingFormat);\n      };\n      const isUnableToMatch = node => {\n        if (matchesUnInheritedFormatSelector(editor, node, format)) {\n          return true;\n        } else {\n          if (!similar) {\n            return isNonNullable(editor.formatter.matchNode(node, format, vars, true));\n          } else {\n            return false;\n          }\n        }\n      };\n      return findUntil$1(parents, isMatchingNode, isUnableToMatch);\n    };\n    const getParents = (editor, elm) => {\n      const element = elm !== null && elm !== void 0 ? elm : fallbackElement(editor);\n      return filter$5(getParents$2(editor.dom, element), node => isElement$6(node) && !isBogus$2(node));\n    };\n    const updateAndFireChangeCallbacks = (editor, elm, registeredCallbacks) => {\n      const parents = getParents(editor, elm);\n      each$d(registeredCallbacks, (data, format) => {\n        const runIfChanged = spec => {\n          const match = matchingNode(editor, parents, format, spec.similar, hasVars(spec) ? spec.vars : undefined);\n          const isSet = match.isSome();\n          if (spec.state.get() !== isSet) {\n            spec.state.set(isSet);\n            const node = match.getOr(elm);\n            if (hasVars(spec)) {\n              spec.callback(isSet, {\n                node,\n                format,\n                parents\n              });\n            } else {\n              each$e(spec.callbacks, callback => callback(isSet, {\n                node,\n                format,\n                parents\n              }));\n            }\n          }\n        };\n        each$e([\n          data.withSimilar,\n          data.withoutSimilar\n        ], runIfChanged);\n        each$e(data.withVars, runIfChanged);\n      });\n    };\n    const addListeners = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$e(formats.split(','), format => {\n        const group = get$a(formatChangeItems, format).getOrThunk(() => {\n          const base = {\n            withSimilar: {\n              state: Cell(false),\n              similar: true,\n              callbacks: []\n            },\n            withoutSimilar: {\n              state: Cell(false),\n              similar: false,\n              callbacks: []\n            },\n            withVars: []\n          };\n          formatChangeItems[format] = base;\n          return base;\n        });\n        const getCurrent = () => {\n          const parents = getParents(editor);\n          return matchingNode(editor, parents, format, similar, vars).isSome();\n        };\n        if (isUndefined(vars)) {\n          const toAppendTo = similar ? group.withSimilar : group.withoutSimilar;\n          toAppendTo.callbacks.push(callback);\n          if (toAppendTo.callbacks.length === 1) {\n            toAppendTo.state.set(getCurrent());\n          }\n        } else {\n          group.withVars.push({\n            state: Cell(getCurrent()),\n            similar,\n            vars,\n            callback\n          });\n        }\n      });\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const removeListeners = (registeredFormatListeners, formats, callback) => {\n      const formatChangeItems = registeredFormatListeners.get();\n      each$e(formats.split(','), format => get$a(formatChangeItems, format).each(group => {\n        formatChangeItems[format] = {\n          withSimilar: {\n            ...group.withSimilar,\n            callbacks: filter$5(group.withSimilar.callbacks, cb => cb !== callback)\n          },\n          withoutSimilar: {\n            ...group.withoutSimilar,\n            callbacks: filter$5(group.withoutSimilar.callbacks, cb => cb !== callback)\n          },\n          withVars: filter$5(group.withVars, item => item.callback !== callback)\n        };\n      }));\n      registeredFormatListeners.set(formatChangeItems);\n    };\n    const formatChangedInternal = (editor, registeredFormatListeners, formats, callback, similar, vars) => {\n      addListeners(editor, registeredFormatListeners, formats, callback, similar, vars);\n      return { unbind: () => removeListeners(registeredFormatListeners, formats, callback) };\n    };\n\n    const toggle = (editor, name, vars, node) => {\n      const fmt = editor.formatter.get(name);\n      if (fmt) {\n        if (match$2(editor, name, vars, node) && (!('toggle' in fmt[0]) || fmt[0].toggle)) {\n          remove$2(editor, name, vars, node);\n        } else {\n          applyFormat$1(editor, name, vars, node);\n        }\n      }\n    };\n\n    function _typeof(obj) {\n      '@babel/helpers - typeof';\n      return _typeof = 'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator ? function (obj) {\n        return typeof obj;\n      } : function (obj) {\n        return obj && 'function' == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n      }, _typeof(obj);\n    }\n    function _setPrototypeOf(o, p) {\n      _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n      return _setPrototypeOf(o, p);\n    }\n    function _isNativeReflectConstruct() {\n      if (typeof Reflect === 'undefined' || !Reflect.construct)\n        return false;\n      if (Reflect.construct.sham)\n        return false;\n      if (typeof Proxy === 'function')\n        return true;\n      try {\n        Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {\n        }));\n        return true;\n      } catch (e) {\n        return false;\n      }\n    }\n    function _construct(Parent, args, Class) {\n      if (_isNativeReflectConstruct()) {\n        _construct = Reflect.construct;\n      } else {\n        _construct = function _construct(Parent, args, Class) {\n          var a = [null];\n          a.push.apply(a, args);\n          var Constructor = Function.bind.apply(Parent, a);\n          var instance = new Constructor();\n          if (Class)\n            _setPrototypeOf(instance, Class.prototype);\n          return instance;\n        };\n      }\n      return _construct.apply(null, arguments);\n    }\n    function _toConsumableArray(arr) {\n      return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n    }\n    function _arrayWithoutHoles(arr) {\n      if (Array.isArray(arr))\n        return _arrayLikeToArray(arr);\n    }\n    function _iterableToArray(iter) {\n      if (typeof Symbol !== 'undefined' && iter[Symbol.iterator] != null || iter['@@iterator'] != null)\n        return Array.from(iter);\n    }\n    function _unsupportedIterableToArray(o, minLen) {\n      if (!o)\n        return;\n      if (typeof o === 'string')\n        return _arrayLikeToArray(o, minLen);\n      var n = Object.prototype.toString.call(o).slice(8, -1);\n      if (n === 'Object' && o.constructor)\n        n = o.constructor.name;\n      if (n === 'Map' || n === 'Set')\n        return Array.from(o);\n      if (n === 'Arguments' || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))\n        return _arrayLikeToArray(o, minLen);\n    }\n    function _arrayLikeToArray(arr, len) {\n      if (len == null || len > arr.length)\n        len = arr.length;\n      for (var i = 0, arr2 = new Array(len); i < len; i++)\n        arr2[i] = arr[i];\n      return arr2;\n    }\n    function _nonIterableSpread() {\n      throw new TypeError('Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.');\n    }\n    var hasOwnProperty = Object.hasOwnProperty, setPrototypeOf = Object.setPrototypeOf, isFrozen = Object.isFrozen, getPrototypeOf = Object.getPrototypeOf, getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\n    var freeze = Object.freeze, seal = Object.seal, create$8 = Object.create;\n    var _ref = typeof Reflect !== 'undefined' && Reflect, apply = _ref.apply, construct = _ref.construct;\n    if (!apply) {\n      apply = function apply(fun, thisValue, args) {\n        return fun.apply(thisValue, args);\n      };\n    }\n    if (!freeze) {\n      freeze = function freeze(x) {\n        return x;\n      };\n    }\n    if (!seal) {\n      seal = function seal(x) {\n        return x;\n      };\n    }\n    if (!construct) {\n      construct = function construct(Func, args) {\n        return _construct(Func, _toConsumableArray(args));\n      };\n    }\n    var arrayForEach = unapply(Array.prototype.forEach);\n    var arrayPop = unapply(Array.prototype.pop);\n    var arrayPush = unapply(Array.prototype.push);\n    var stringToLowerCase = unapply(String.prototype.toLowerCase);\n    var stringMatch = unapply(String.prototype.match);\n    var stringReplace = unapply(String.prototype.replace);\n    var stringIndexOf = unapply(String.prototype.indexOf);\n    var stringTrim = unapply(String.prototype.trim);\n    var regExpTest = unapply(RegExp.prototype.test);\n    var typeErrorCreate = unconstruct(TypeError);\n    function unapply(func) {\n      return function (thisArg) {\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        return apply(func, thisArg, args);\n      };\n    }\n    function unconstruct(func) {\n      return function () {\n        for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n          args[_key2] = arguments[_key2];\n        }\n        return construct(func, args);\n      };\n    }\n    function addToSet(set, array) {\n      if (setPrototypeOf) {\n        setPrototypeOf(set, null);\n      }\n      var l = array.length;\n      while (l--) {\n        var element = array[l];\n        if (typeof element === 'string') {\n          var lcElement = stringToLowerCase(element);\n          if (lcElement !== element) {\n            if (!isFrozen(array)) {\n              array[l] = lcElement;\n            }\n            element = lcElement;\n          }\n        }\n        set[element] = true;\n      }\n      return set;\n    }\n    function clone(object) {\n      var newObject = create$8(null);\n      var property;\n      for (property in object) {\n        if (apply(hasOwnProperty, object, [property])) {\n          newObject[property] = object[property];\n        }\n      }\n      return newObject;\n    }\n    function lookupGetter(object, prop) {\n      while (object !== null) {\n        var desc = getOwnPropertyDescriptor(object, prop);\n        if (desc) {\n          if (desc.get) {\n            return unapply(desc.get);\n          }\n          if (typeof desc.value === 'function') {\n            return unapply(desc.value);\n          }\n        }\n        object = getPrototypeOf(object);\n      }\n      function fallbackValue(element) {\n        console.warn('fallback value for', element);\n        return null;\n      }\n      return fallbackValue;\n    }\n    var html$1 = freeze([\n      'a',\n      'abbr',\n      'acronym',\n      'address',\n      'area',\n      'article',\n      'aside',\n      'audio',\n      'b',\n      'bdi',\n      'bdo',\n      'big',\n      'blink',\n      'blockquote',\n      'body',\n      'br',\n      'button',\n      'canvas',\n      'caption',\n      'center',\n      'cite',\n      'code',\n      'col',\n      'colgroup',\n      'content',\n      'data',\n      'datalist',\n      'dd',\n      'decorator',\n      'del',\n      'details',\n      'dfn',\n      'dialog',\n      'dir',\n      'div',\n      'dl',\n      'dt',\n      'element',\n      'em',\n      'fieldset',\n      'figcaption',\n      'figure',\n      'font',\n      'footer',\n      'form',\n      'h1',\n      'h2',\n      'h3',\n      'h4',\n      'h5',\n      'h6',\n      'head',\n      'header',\n      'hgroup',\n      'hr',\n      'html',\n      'i',\n      'img',\n      'input',\n      'ins',\n      'kbd',\n      'label',\n      'legend',\n      'li',\n      'main',\n      'map',\n      'mark',\n      'marquee',\n      'menu',\n      'menuitem',\n      'meter',\n      'nav',\n      'nobr',\n      'ol',\n      'optgroup',\n      'option',\n      'output',\n      'p',\n      'picture',\n      'pre',\n      'progress',\n      'q',\n      'rp',\n      'rt',\n      'ruby',\n      's',\n      'samp',\n      'section',\n      'select',\n      'shadow',\n      'small',\n      'source',\n      'spacer',\n      'span',\n      'strike',\n      'strong',\n      'style',\n      'sub',\n      'summary',\n      'sup',\n      'table',\n      'tbody',\n      'td',\n      'template',\n      'textarea',\n      'tfoot',\n      'th',\n      'thead',\n      'time',\n      'tr',\n      'track',\n      'tt',\n      'u',\n      'ul',\n      'var',\n      'video',\n      'wbr'\n    ]);\n    var svg$1 = freeze([\n      'svg',\n      'a',\n      'altglyph',\n      'altglyphdef',\n      'altglyphitem',\n      'animatecolor',\n      'animatemotion',\n      'animatetransform',\n      'circle',\n      'clippath',\n      'defs',\n      'desc',\n      'ellipse',\n      'filter',\n      'font',\n      'g',\n      'glyph',\n      'glyphref',\n      'hkern',\n      'image',\n      'line',\n      'lineargradient',\n      'marker',\n      'mask',\n      'metadata',\n      'mpath',\n      'path',\n      'pattern',\n      'polygon',\n      'polyline',\n      'radialgradient',\n      'rect',\n      'stop',\n      'style',\n      'switch',\n      'symbol',\n      'text',\n      'textpath',\n      'title',\n      'tref',\n      'tspan',\n      'view',\n      'vkern'\n    ]);\n    var svgFilters = freeze([\n      'feBlend',\n      'feColorMatrix',\n      'feComponentTransfer',\n      'feComposite',\n      'feConvolveMatrix',\n      'feDiffuseLighting',\n      'feDisplacementMap',\n      'feDistantLight',\n      'feFlood',\n      'feFuncA',\n      'feFuncB',\n      'feFuncG',\n      'feFuncR',\n      'feGaussianBlur',\n      'feImage',\n      'feMerge',\n      'feMergeNode',\n      'feMorphology',\n      'feOffset',\n      'fePointLight',\n      'feSpecularLighting',\n      'feSpotLight',\n      'feTile',\n      'feTurbulence'\n    ]);\n    var svgDisallowed = freeze([\n      'animate',\n      'color-profile',\n      'cursor',\n      'discard',\n      'fedropshadow',\n      'font-face',\n      'font-face-format',\n      'font-face-name',\n      'font-face-src',\n      'font-face-uri',\n      'foreignobject',\n      'hatch',\n      'hatchpath',\n      'mesh',\n      'meshgradient',\n      'meshpatch',\n      'meshrow',\n      'missing-glyph',\n      'script',\n      'set',\n      'solidcolor',\n      'unknown',\n      'use'\n    ]);\n    var mathMl$1 = freeze([\n      'math',\n      'menclose',\n      'merror',\n      'mfenced',\n      'mfrac',\n      'mglyph',\n      'mi',\n      'mlabeledtr',\n      'mmultiscripts',\n      'mn',\n      'mo',\n      'mover',\n      'mpadded',\n      'mphantom',\n      'mroot',\n      'mrow',\n      'ms',\n      'mspace',\n      'msqrt',\n      'mstyle',\n      'msub',\n      'msup',\n      'msubsup',\n      'mtable',\n      'mtd',\n      'mtext',\n      'mtr',\n      'munder',\n      'munderover'\n    ]);\n    var mathMlDisallowed = freeze([\n      'maction',\n      'maligngroup',\n      'malignmark',\n      'mlongdiv',\n      'mscarries',\n      'mscarry',\n      'msgroup',\n      'mstack',\n      'msline',\n      'msrow',\n      'semantics',\n      'annotation',\n      'annotation-xml',\n      'mprescripts',\n      'none'\n    ]);\n    var text = freeze(['#text']);\n    var html = freeze([\n      'accept',\n      'action',\n      'align',\n      'alt',\n      'autocapitalize',\n      'autocomplete',\n      'autopictureinpicture',\n      'autoplay',\n      'background',\n      'bgcolor',\n      'border',\n      'capture',\n      'cellpadding',\n      'cellspacing',\n      'checked',\n      'cite',\n      'class',\n      'clear',\n      'color',\n      'cols',\n      'colspan',\n      'controls',\n      'controlslist',\n      'coords',\n      'crossorigin',\n      'datetime',\n      'decoding',\n      'default',\n      'dir',\n      'disabled',\n      'disablepictureinpicture',\n      'disableremoteplayback',\n      'download',\n      'draggable',\n      'enctype',\n      'enterkeyhint',\n      'face',\n      'for',\n      'headers',\n      'height',\n      'hidden',\n      'high',\n      'href',\n      'hreflang',\n      'id',\n      'inputmode',\n      'integrity',\n      'ismap',\n      'kind',\n      'label',\n      'lang',\n      'list',\n      'loading',\n      'loop',\n      'low',\n      'max',\n      'maxlength',\n      'media',\n      'method',\n      'min',\n      'minlength',\n      'multiple',\n      'muted',\n      'name',\n      'nonce',\n      'noshade',\n      'novalidate',\n      'nowrap',\n      'open',\n      'optimum',\n      'pattern',\n      'placeholder',\n      'playsinline',\n      'poster',\n      'preload',\n      'pubdate',\n      'radiogroup',\n      'readonly',\n      'rel',\n      'required',\n      'rev',\n      'reversed',\n      'role',\n      'rows',\n      'rowspan',\n      'spellcheck',\n      'scope',\n      'selected',\n      'shape',\n      'size',\n      'sizes',\n      'span',\n      'srclang',\n      'start',\n      'src',\n      'srcset',\n      'step',\n      'style',\n      'summary',\n      'tabindex',\n      'title',\n      'translate',\n      'type',\n      'usemap',\n      'valign',\n      'value',\n      'width',\n      'xmlns',\n      'slot'\n    ]);\n    var svg = freeze([\n      'accent-height',\n      'accumulate',\n      'additive',\n      'alignment-baseline',\n      'ascent',\n      'attributename',\n      'attributetype',\n      'azimuth',\n      'basefrequency',\n      'baseline-shift',\n      'begin',\n      'bias',\n      'by',\n      'class',\n      'clip',\n      'clippathunits',\n      'clip-path',\n      'clip-rule',\n      'color',\n      'color-interpolation',\n      'color-interpolation-filters',\n      'color-profile',\n      'color-rendering',\n      'cx',\n      'cy',\n      'd',\n      'dx',\n      'dy',\n      'diffuseconstant',\n      'direction',\n      'display',\n      'divisor',\n      'dur',\n      'edgemode',\n      'elevation',\n      'end',\n      'fill',\n      'fill-opacity',\n      'fill-rule',\n      'filter',\n      'filterunits',\n      'flood-color',\n      'flood-opacity',\n      'font-family',\n      'font-size',\n      'font-size-adjust',\n      'font-stretch',\n      'font-style',\n      'font-variant',\n      'font-weight',\n      'fx',\n      'fy',\n      'g1',\n      'g2',\n      'glyph-name',\n      'glyphref',\n      'gradientunits',\n      'gradienttransform',\n      'height',\n      'href',\n      'id',\n      'image-rendering',\n      'in',\n      'in2',\n      'k',\n      'k1',\n      'k2',\n      'k3',\n      'k4',\n      'kerning',\n      'keypoints',\n      'keysplines',\n      'keytimes',\n      'lang',\n      'lengthadjust',\n      'letter-spacing',\n      'kernelmatrix',\n      'kernelunitlength',\n      'lighting-color',\n      'local',\n      'marker-end',\n      'marker-mid',\n      'marker-start',\n      'markerheight',\n      'markerunits',\n      'markerwidth',\n      'maskcontentunits',\n      'maskunits',\n      'max',\n      'mask',\n      'media',\n      'method',\n      'mode',\n      'min',\n      'name',\n      'numoctaves',\n      'offset',\n      'operator',\n      'opacity',\n      'order',\n      'orient',\n      'orientation',\n      'origin',\n      'overflow',\n      'paint-order',\n      'path',\n      'pathlength',\n      'patterncontentunits',\n      'patterntransform',\n      'patternunits',\n      'points',\n      'preservealpha',\n      'preserveaspectratio',\n      'primitiveunits',\n      'r',\n      'rx',\n      'ry',\n      'radius',\n      'refx',\n      'refy',\n      'repeatcount',\n      'repeatdur',\n      'restart',\n      'result',\n      'rotate',\n      'scale',\n      'seed',\n      'shape-rendering',\n      'specularconstant',\n      'specularexponent',\n      'spreadmethod',\n      'startoffset',\n      'stddeviation',\n      'stitchtiles',\n      'stop-color',\n      'stop-opacity',\n      'stroke-dasharray',\n      'stroke-dashoffset',\n      'stroke-linecap',\n      'stroke-linejoin',\n      'stroke-miterlimit',\n      'stroke-opacity',\n      'stroke',\n      'stroke-width',\n      'style',\n      'surfacescale',\n      'systemlanguage',\n      'tabindex',\n      'targetx',\n      'targety',\n      'transform',\n      'transform-origin',\n      'text-anchor',\n      'text-decoration',\n      'text-rendering',\n      'textlength',\n      'type',\n      'u1',\n      'u2',\n      'unicode',\n      'values',\n      'viewbox',\n      'visibility',\n      'version',\n      'vert-adv-y',\n      'vert-origin-x',\n      'vert-origin-y',\n      'width',\n      'word-spacing',\n      'wrap',\n      'writing-mode',\n      'xchannelselector',\n      'ychannelselector',\n      'x',\n      'x1',\n      'x2',\n      'xmlns',\n      'y',\n      'y1',\n      'y2',\n      'z',\n      'zoomandpan'\n    ]);\n    var mathMl = freeze([\n      'accent',\n      'accentunder',\n      'align',\n      'bevelled',\n      'close',\n      'columnsalign',\n      'columnlines',\n      'columnspan',\n      'denomalign',\n      'depth',\n      'dir',\n      'display',\n      'displaystyle',\n      'encoding',\n      'fence',\n      'frame',\n      'height',\n      'href',\n      'id',\n      'largeop',\n      'length',\n      'linethickness',\n      'lspace',\n      'lquote',\n      'mathbackground',\n      'mathcolor',\n      'mathsize',\n      'mathvariant',\n      'maxsize',\n      'minsize',\n      'movablelimits',\n      'notation',\n      'numalign',\n      'open',\n      'rowalign',\n      'rowlines',\n      'rowspacing',\n      'rowspan',\n      'rspace',\n      'rquote',\n      'scriptlevel',\n      'scriptminsize',\n      'scriptsizemultiplier',\n      'selection',\n      'separator',\n      'separators',\n      'stretchy',\n      'subscriptshift',\n      'supscriptshift',\n      'symmetric',\n      'voffset',\n      'width',\n      'xmlns'\n    ]);\n    var xml = freeze([\n      'xlink:href',\n      'xml:id',\n      'xlink:title',\n      'xml:space',\n      'xmlns:xlink'\n    ]);\n    var MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm);\n    var ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\n    var DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/);\n    var ARIA_ATTR = seal(/^aria-[\\-\\w]+$/);\n    var IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i);\n    var IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\n    var ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g);\n    var DOCTYPE_NAME = seal(/^html$/i);\n    var getGlobal = function getGlobal() {\n      return typeof window === 'undefined' ? null : window;\n    };\n    var _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, document) {\n      if (_typeof(trustedTypes) !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n        return null;\n      }\n      var suffix = null;\n      var ATTR_NAME = 'data-tt-policy-suffix';\n      if (document.currentScript && document.currentScript.hasAttribute(ATTR_NAME)) {\n        suffix = document.currentScript.getAttribute(ATTR_NAME);\n      }\n      var policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n      try {\n        return trustedTypes.createPolicy(policyName, {\n          createHTML: function createHTML(html) {\n            return html;\n          }\n        });\n      } catch (_) {\n        console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n        return null;\n      }\n    };\n    function createDOMPurify() {\n      var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n      var DOMPurify = function DOMPurify(root) {\n        return createDOMPurify(root);\n      };\n      DOMPurify.version = '2.3.8';\n      DOMPurify.removed = [];\n      if (!window || !window.document || window.document.nodeType !== 9) {\n        DOMPurify.isSupported = false;\n        return DOMPurify;\n      }\n      var originalDocument = window.document;\n      var document = window.document;\n      var DocumentFragment = window.DocumentFragment, HTMLTemplateElement = window.HTMLTemplateElement, Node = window.Node, Element = window.Element, NodeFilter = window.NodeFilter, _window$NamedNodeMap = window.NamedNodeMap, NamedNodeMap = _window$NamedNodeMap === void 0 ? window.NamedNodeMap || window.MozNamedAttrMap : _window$NamedNodeMap, HTMLFormElement = window.HTMLFormElement, DOMParser = window.DOMParser, trustedTypes = window.trustedTypes;\n      var ElementPrototype = Element.prototype;\n      var cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n      var getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n      var getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n      var getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n      if (typeof HTMLTemplateElement === 'function') {\n        var template = document.createElement('template');\n        if (template.content && template.content.ownerDocument) {\n          document = template.content.ownerDocument;\n        }\n      }\n      var trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, originalDocument);\n      var emptyHTML = trustedTypesPolicy ? trustedTypesPolicy.createHTML('') : '';\n      var _document = document, implementation = _document.implementation, createNodeIterator = _document.createNodeIterator, createDocumentFragment = _document.createDocumentFragment, getElementsByTagName = _document.getElementsByTagName;\n      var importNode = originalDocument.importNode;\n      var documentMode = {};\n      try {\n        documentMode = clone(document).documentMode ? document.documentMode : {};\n      } catch (_) {\n      }\n      var hooks = {};\n      DOMPurify.isSupported = typeof getParentNode === 'function' && implementation && typeof implementation.createHTMLDocument !== 'undefined' && documentMode !== 9;\n      var MUSTACHE_EXPR$1 = MUSTACHE_EXPR, ERB_EXPR$1 = ERB_EXPR, DATA_ATTR$1 = DATA_ATTR, ARIA_ATTR$1 = ARIA_ATTR, IS_SCRIPT_OR_DATA$1 = IS_SCRIPT_OR_DATA, ATTR_WHITESPACE$1 = ATTR_WHITESPACE;\n      var IS_ALLOWED_URI$1 = IS_ALLOWED_URI;\n      var ALLOWED_TAGS = null;\n      var DEFAULT_ALLOWED_TAGS = addToSet({}, [].concat(_toConsumableArray(html$1), _toConsumableArray(svg$1), _toConsumableArray(svgFilters), _toConsumableArray(mathMl$1), _toConsumableArray(text)));\n      var ALLOWED_ATTR = null;\n      var DEFAULT_ALLOWED_ATTR = addToSet({}, [].concat(_toConsumableArray(html), _toConsumableArray(svg), _toConsumableArray(mathMl), _toConsumableArray(xml)));\n      var CUSTOM_ELEMENT_HANDLING = Object.seal(Object.create(null, {\n        tagNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        attributeNameCheck: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: null\n        },\n        allowCustomizedBuiltInElements: {\n          writable: true,\n          configurable: false,\n          enumerable: true,\n          value: false\n        }\n      }));\n      var FORBID_TAGS = null;\n      var FORBID_ATTR = null;\n      var ALLOW_ARIA_ATTR = true;\n      var ALLOW_DATA_ATTR = true;\n      var ALLOW_UNKNOWN_PROTOCOLS = false;\n      var SAFE_FOR_TEMPLATES = false;\n      var WHOLE_DOCUMENT = false;\n      var SET_CONFIG = false;\n      var FORCE_BODY = false;\n      var RETURN_DOM = false;\n      var RETURN_DOM_FRAGMENT = false;\n      var RETURN_TRUSTED_TYPE = false;\n      var SANITIZE_DOM = true;\n      var KEEP_CONTENT = true;\n      var IN_PLACE = false;\n      var USE_PROFILES = {};\n      var FORBID_CONTENTS = null;\n      var DEFAULT_FORBID_CONTENTS = addToSet({}, [\n        'annotation-xml',\n        'audio',\n        'colgroup',\n        'desc',\n        'foreignobject',\n        'head',\n        'iframe',\n        'math',\n        'mi',\n        'mn',\n        'mo',\n        'ms',\n        'mtext',\n        'noembed',\n        'noframes',\n        'noscript',\n        'plaintext',\n        'script',\n        'style',\n        'svg',\n        'template',\n        'thead',\n        'title',\n        'video',\n        'xmp'\n      ]);\n      var DATA_URI_TAGS = null;\n      var DEFAULT_DATA_URI_TAGS = addToSet({}, [\n        'audio',\n        'video',\n        'img',\n        'source',\n        'image',\n        'track'\n      ]);\n      var URI_SAFE_ATTRIBUTES = null;\n      var DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n        'alt',\n        'class',\n        'for',\n        'id',\n        'label',\n        'name',\n        'pattern',\n        'placeholder',\n        'role',\n        'summary',\n        'title',\n        'value',\n        'style',\n        'xmlns'\n      ]);\n      var MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n      var SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n      var HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n      var NAMESPACE = HTML_NAMESPACE;\n      var IS_EMPTY_INPUT = false;\n      var PARSER_MEDIA_TYPE;\n      var SUPPORTED_PARSER_MEDIA_TYPES = [\n        'application/xhtml+xml',\n        'text/html'\n      ];\n      var DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n      var transformCaseFunc;\n      var CONFIG = null;\n      var formElement = document.createElement('form');\n      var isRegexOrFunction = function isRegexOrFunction(testValue) {\n        return testValue instanceof RegExp || testValue instanceof Function;\n      };\n      var _parseConfig = function _parseConfig(cfg) {\n        if (CONFIG && CONFIG === cfg) {\n          return;\n        }\n        if (!cfg || _typeof(cfg) !== 'object') {\n          cfg = {};\n        }\n        cfg = clone(cfg);\n        ALLOWED_TAGS = 'ALLOWED_TAGS' in cfg ? addToSet({}, cfg.ALLOWED_TAGS) : DEFAULT_ALLOWED_TAGS;\n        ALLOWED_ATTR = 'ALLOWED_ATTR' in cfg ? addToSet({}, cfg.ALLOWED_ATTR) : DEFAULT_ALLOWED_ATTR;\n        URI_SAFE_ATTRIBUTES = 'ADD_URI_SAFE_ATTR' in cfg ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR) : DEFAULT_URI_SAFE_ATTRIBUTES;\n        DATA_URI_TAGS = 'ADD_DATA_URI_TAGS' in cfg ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS) : DEFAULT_DATA_URI_TAGS;\n        FORBID_CONTENTS = 'FORBID_CONTENTS' in cfg ? addToSet({}, cfg.FORBID_CONTENTS) : DEFAULT_FORBID_CONTENTS;\n        FORBID_TAGS = 'FORBID_TAGS' in cfg ? addToSet({}, cfg.FORBID_TAGS) : {};\n        FORBID_ATTR = 'FORBID_ATTR' in cfg ? addToSet({}, cfg.FORBID_ATTR) : {};\n        USE_PROFILES = 'USE_PROFILES' in cfg ? cfg.USE_PROFILES : false;\n        ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false;\n        ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false;\n        ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false;\n        SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false;\n        WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false;\n        RETURN_DOM = cfg.RETURN_DOM || false;\n        RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false;\n        RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false;\n        FORCE_BODY = cfg.FORCE_BODY || false;\n        SANITIZE_DOM = cfg.SANITIZE_DOM !== false;\n        KEEP_CONTENT = cfg.KEEP_CONTENT !== false;\n        IN_PLACE = cfg.IN_PLACE || false;\n        IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI$1;\n        NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n          CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n        }\n        if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n        }\n        PARSER_MEDIA_TYPE = SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? PARSER_MEDIA_TYPE = DEFAULT_PARSER_MEDIA_TYPE : PARSER_MEDIA_TYPE = cfg.PARSER_MEDIA_TYPE;\n        transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? function (x) {\n          return x;\n        } : stringToLowerCase;\n        if (SAFE_FOR_TEMPLATES) {\n          ALLOW_DATA_ATTR = false;\n        }\n        if (RETURN_DOM_FRAGMENT) {\n          RETURN_DOM = true;\n        }\n        if (USE_PROFILES) {\n          ALLOWED_TAGS = addToSet({}, _toConsumableArray(text));\n          ALLOWED_ATTR = [];\n          if (USE_PROFILES.html === true) {\n            addToSet(ALLOWED_TAGS, html$1);\n            addToSet(ALLOWED_ATTR, html);\n          }\n          if (USE_PROFILES.svg === true) {\n            addToSet(ALLOWED_TAGS, svg$1);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.svgFilters === true) {\n            addToSet(ALLOWED_TAGS, svgFilters);\n            addToSet(ALLOWED_ATTR, svg);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n          if (USE_PROFILES.mathMl === true) {\n            addToSet(ALLOWED_TAGS, mathMl$1);\n            addToSet(ALLOWED_ATTR, mathMl);\n            addToSet(ALLOWED_ATTR, xml);\n          }\n        }\n        if (cfg.ADD_TAGS) {\n          if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n            ALLOWED_TAGS = clone(ALLOWED_TAGS);\n          }\n          addToSet(ALLOWED_TAGS, cfg.ADD_TAGS);\n        }\n        if (cfg.ADD_ATTR) {\n          if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n            ALLOWED_ATTR = clone(ALLOWED_ATTR);\n          }\n          addToSet(ALLOWED_ATTR, cfg.ADD_ATTR);\n        }\n        if (cfg.ADD_URI_SAFE_ATTR) {\n          addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR);\n        }\n        if (cfg.FORBID_CONTENTS) {\n          if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n            FORBID_CONTENTS = clone(FORBID_CONTENTS);\n          }\n          addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS);\n        }\n        if (KEEP_CONTENT) {\n          ALLOWED_TAGS['#text'] = true;\n        }\n        if (WHOLE_DOCUMENT) {\n          addToSet(ALLOWED_TAGS, [\n            'html',\n            'head',\n            'body'\n          ]);\n        }\n        if (ALLOWED_TAGS.table) {\n          addToSet(ALLOWED_TAGS, ['tbody']);\n          delete FORBID_TAGS.tbody;\n        }\n        if (freeze) {\n          freeze(cfg);\n        }\n        CONFIG = cfg;\n      };\n      var MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n        'mi',\n        'mo',\n        'mn',\n        'ms',\n        'mtext'\n      ]);\n      var HTML_INTEGRATION_POINTS = addToSet({}, [\n        'foreignobject',\n        'desc',\n        'title',\n        'annotation-xml'\n      ]);\n      var COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n        'title',\n        'style',\n        'font',\n        'a',\n        'script'\n      ]);\n      var ALL_SVG_TAGS = addToSet({}, svg$1);\n      addToSet(ALL_SVG_TAGS, svgFilters);\n      addToSet(ALL_SVG_TAGS, svgDisallowed);\n      var ALL_MATHML_TAGS = addToSet({}, mathMl$1);\n      addToSet(ALL_MATHML_TAGS, mathMlDisallowed);\n      var _checkValidNamespace = function _checkValidNamespace(element) {\n        var parent = getParentNode(element);\n        if (!parent || !parent.tagName) {\n          parent = {\n            namespaceURI: HTML_NAMESPACE,\n            tagName: 'template'\n          };\n        }\n        var tagName = stringToLowerCase(element.tagName);\n        var parentTagName = stringToLowerCase(parent.tagName);\n        if (element.namespaceURI === SVG_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'svg';\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE) {\n            return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n          }\n          return Boolean(ALL_SVG_TAGS[tagName]);\n        }\n        if (element.namespaceURI === MATHML_NAMESPACE) {\n          if (parent.namespaceURI === HTML_NAMESPACE) {\n            return tagName === 'math';\n          }\n          if (parent.namespaceURI === SVG_NAMESPACE) {\n            return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n          }\n          return Boolean(ALL_MATHML_TAGS[tagName]);\n        }\n        if (element.namespaceURI === HTML_NAMESPACE) {\n          if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n            return false;\n          }\n          return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n        }\n        return false;\n      };\n      var _forceRemove = function _forceRemove(node) {\n        arrayPush(DOMPurify.removed, { element: node });\n        try {\n          node.parentNode.removeChild(node);\n        } catch (_) {\n          try {\n            node.outerHTML = emptyHTML;\n          } catch (_) {\n            node.remove();\n          }\n        }\n      };\n      var _removeAttribute = function _removeAttribute(name, node) {\n        try {\n          arrayPush(DOMPurify.removed, {\n            attribute: node.getAttributeNode(name),\n            from: node\n          });\n        } catch (_) {\n          arrayPush(DOMPurify.removed, {\n            attribute: null,\n            from: node\n          });\n        }\n        node.removeAttribute(name);\n        if (name === 'is' && !ALLOWED_ATTR[name]) {\n          if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n            try {\n              _forceRemove(node);\n            } catch (_) {\n            }\n          } else {\n            try {\n              node.setAttribute(name, '');\n            } catch (_) {\n            }\n          }\n        }\n      };\n      var _initDocument = function _initDocument(dirty) {\n        var doc;\n        var leadingWhitespace;\n        if (FORCE_BODY) {\n          dirty = '<remove></remove>' + dirty;\n        } else {\n          var matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n          leadingWhitespace = matches && matches[0];\n        }\n        if (PARSER_MEDIA_TYPE === 'application/xhtml+xml') {\n          dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n        }\n        var dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n        if (NAMESPACE === HTML_NAMESPACE) {\n          try {\n            doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n          } catch (_) {\n          }\n        }\n        if (!doc || !doc.documentElement) {\n          doc = implementation.createDocument(NAMESPACE, 'template', null);\n          try {\n            doc.documentElement.innerHTML = IS_EMPTY_INPUT ? '' : dirtyPayload;\n          } catch (_) {\n          }\n        }\n        var body = doc.body || doc.documentElement;\n        if (dirty && leadingWhitespace) {\n          body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n        }\n        if (NAMESPACE === HTML_NAMESPACE) {\n          return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n        }\n        return WHOLE_DOCUMENT ? doc.documentElement : body;\n      };\n      var _createIterator = function _createIterator(root) {\n        return createNodeIterator.call(root.ownerDocument || root, root, NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT, null, false);\n      };\n      var _isClobbered = function _isClobbered(elm) {\n        return elm instanceof HTMLFormElement && (typeof elm.nodeName !== 'string' || typeof elm.textContent !== 'string' || typeof elm.removeChild !== 'function' || !(elm.attributes instanceof NamedNodeMap) || typeof elm.removeAttribute !== 'function' || typeof elm.setAttribute !== 'function' || typeof elm.namespaceURI !== 'string' || typeof elm.insertBefore !== 'function');\n      };\n      var _isNode = function _isNode(object) {\n        return _typeof(Node) === 'object' ? object instanceof Node : object && _typeof(object) === 'object' && typeof object.nodeType === 'number' && typeof object.nodeName === 'string';\n      };\n      var _executeHook = function _executeHook(entryPoint, currentNode, data) {\n        if (!hooks[entryPoint]) {\n          return;\n        }\n        arrayForEach(hooks[entryPoint], function (hook) {\n          hook.call(DOMPurify, currentNode, data, CONFIG);\n        });\n      };\n      var _sanitizeElements = function _sanitizeElements(currentNode) {\n        var content;\n        _executeHook('beforeSanitizeElements', currentNode, null);\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (regExpTest(/[\\u0080-\\uFFFF]/, currentNode.nodeName)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        var tagName = transformCaseFunc(currentNode.nodeName);\n        _executeHook('uponSanitizeElement', currentNode, {\n          tagName: tagName,\n          allowedTags: ALLOWED_TAGS\n        });\n        if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && (!_isNode(currentNode.content) || !_isNode(currentNode.content.firstElementChild)) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (tagName === 'select' && regExpTest(/<template/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          if (!FORBID_TAGS[tagName] && _basicCustomElementTest(tagName)) {\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName))\n              return false;\n            if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))\n              return false;\n          }\n          if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n            var parentNode = getParentNode(currentNode) || currentNode.parentNode;\n            var childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n            if (childNodes && parentNode) {\n              var childCount = childNodes.length;\n              for (var i = childCount - 1; i >= 0; --i) {\n                parentNode.insertBefore(cloneNode(childNodes[i], true), getNextSibling(currentNode));\n              }\n            }\n          }\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if ((tagName === 'noscript' || tagName === 'noembed') && regExpTest(/<\\/no(script|embed)/i, currentNode.innerHTML)) {\n          _forceRemove(currentNode);\n          return true;\n        }\n        if (SAFE_FOR_TEMPLATES && currentNode.nodeType === 3) {\n          content = currentNode.textContent;\n          content = stringReplace(content, MUSTACHE_EXPR$1, ' ');\n          content = stringReplace(content, ERB_EXPR$1, ' ');\n          if (currentNode.textContent !== content) {\n            arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n            currentNode.textContent = content;\n          }\n        }\n        _executeHook('afterSanitizeElements', currentNode, null);\n        return false;\n      };\n      var _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n        if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n          return false;\n        }\n        if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR$1, lcName));\n        else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR$1, lcName));\n        else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n          if (_basicCustomElementTest(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) || lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value)));\n          else {\n            return false;\n          }\n        } else if (URI_SAFE_ATTRIBUTES[lcName]);\n        else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]);\n        else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA$1, stringReplace(value, ATTR_WHITESPACE$1, '')));\n        else if (!value);\n        else {\n          return false;\n        }\n        return true;\n      };\n      var _basicCustomElementTest = function _basicCustomElementTest(tagName) {\n        return tagName.indexOf('-') > 0;\n      };\n      var _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n        var attr;\n        var value;\n        var lcName;\n        var l;\n        _executeHook('beforeSanitizeAttributes', currentNode, null);\n        var attributes = currentNode.attributes;\n        if (!attributes) {\n          return;\n        }\n        var hookEvent = {\n          attrName: '',\n          attrValue: '',\n          keepAttr: true,\n          allowedAttributes: ALLOWED_ATTR\n        };\n        l = attributes.length;\n        while (l--) {\n          attr = attributes[l];\n          var _attr = attr, name = _attr.name, namespaceURI = _attr.namespaceURI;\n          value = name === 'value' ? attr.value : stringTrim(attr.value);\n          lcName = transformCaseFunc(name);\n          var initValue = value;\n          hookEvent.attrName = lcName;\n          hookEvent.attrValue = value;\n          hookEvent.keepAttr = true;\n          hookEvent.forceKeepAttr = undefined;\n          _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n          value = hookEvent.attrValue;\n          if (hookEvent.forceKeepAttr) {\n            continue;\n          }\n          if (!hookEvent.keepAttr) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (regExpTest(/\\/>/i, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (SAFE_FOR_TEMPLATES) {\n            value = stringReplace(value, MUSTACHE_EXPR$1, ' ');\n            value = stringReplace(value, ERB_EXPR$1, ' ');\n          }\n          var lcTag = transformCaseFunc(currentNode.nodeName);\n          if (!_isValidAttribute(lcTag, lcName, value)) {\n            _removeAttribute(name, currentNode);\n            continue;\n          }\n          if (value !== initValue) {\n            try {\n              if (namespaceURI) {\n                currentNode.setAttributeNS(namespaceURI, name, value);\n              } else {\n                currentNode.setAttribute(name, value);\n              }\n            } catch (_) {\n              _removeAttribute(name, currentNode);\n            }\n          }\n        }\n        _executeHook('afterSanitizeAttributes', currentNode, null);\n      };\n      var _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n        var shadowNode;\n        var shadowIterator = _createIterator(fragment);\n        _executeHook('beforeSanitizeShadowDOM', fragment, null);\n        while (shadowNode = shadowIterator.nextNode()) {\n          _executeHook('uponSanitizeShadowNode', shadowNode, null);\n          if (_sanitizeElements(shadowNode)) {\n            continue;\n          }\n          if (shadowNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(shadowNode.content);\n          }\n          _sanitizeAttributes(shadowNode);\n        }\n        _executeHook('afterSanitizeShadowDOM', fragment, null);\n      };\n      DOMPurify.sanitize = function (dirty, cfg) {\n        var body;\n        var importedNode;\n        var currentNode;\n        var oldNode;\n        var returnNode;\n        IS_EMPTY_INPUT = !dirty;\n        if (IS_EMPTY_INPUT) {\n          dirty = '<!-->';\n        }\n        if (typeof dirty !== 'string' && !_isNode(dirty)) {\n          if (typeof dirty.toString !== 'function') {\n            throw typeErrorCreate('toString is not a function');\n          } else {\n            dirty = dirty.toString();\n            if (typeof dirty !== 'string') {\n              throw typeErrorCreate('dirty is not a string, aborting');\n            }\n          }\n        }\n        if (!DOMPurify.isSupported) {\n          if (_typeof(window.toStaticHTML) === 'object' || typeof window.toStaticHTML === 'function') {\n            if (typeof dirty === 'string') {\n              return window.toStaticHTML(dirty);\n            }\n            if (_isNode(dirty)) {\n              return window.toStaticHTML(dirty.outerHTML);\n            }\n          }\n          return dirty;\n        }\n        if (!SET_CONFIG) {\n          _parseConfig(cfg);\n        }\n        DOMPurify.removed = [];\n        if (typeof dirty === 'string') {\n          IN_PLACE = false;\n        }\n        if (IN_PLACE) {\n          if (dirty.nodeName) {\n            var tagName = transformCaseFunc(dirty.nodeName);\n            if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n              throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n            }\n          }\n        } else if (dirty instanceof Node) {\n          body = _initDocument('<!---->');\n          importedNode = body.ownerDocument.importNode(dirty, true);\n          if (importedNode.nodeType === 1 && importedNode.nodeName === 'BODY') {\n            body = importedNode;\n          } else if (importedNode.nodeName === 'HTML') {\n            body = importedNode;\n          } else {\n            body.appendChild(importedNode);\n          }\n        } else {\n          if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT && dirty.indexOf('<') === -1) {\n            return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n          }\n          body = _initDocument(dirty);\n          if (!body) {\n            return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n          }\n        }\n        if (body && FORCE_BODY) {\n          _forceRemove(body.firstChild);\n        }\n        var nodeIterator = _createIterator(IN_PLACE ? dirty : body);\n        while (currentNode = nodeIterator.nextNode()) {\n          if (currentNode.nodeType === 3 && currentNode === oldNode) {\n            continue;\n          }\n          if (_sanitizeElements(currentNode)) {\n            continue;\n          }\n          if (currentNode.content instanceof DocumentFragment) {\n            _sanitizeShadowDOM(currentNode.content);\n          }\n          _sanitizeAttributes(currentNode);\n          oldNode = currentNode;\n        }\n        oldNode = null;\n        if (IN_PLACE) {\n          return dirty;\n        }\n        if (RETURN_DOM) {\n          if (RETURN_DOM_FRAGMENT) {\n            returnNode = createDocumentFragment.call(body.ownerDocument);\n            while (body.firstChild) {\n              returnNode.appendChild(body.firstChild);\n            }\n          } else {\n            returnNode = body;\n          }\n          if (ALLOWED_ATTR.shadowroot) {\n            returnNode = importNode.call(originalDocument, returnNode, true);\n          }\n          return returnNode;\n        }\n        var serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n        if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n          serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n        }\n        if (SAFE_FOR_TEMPLATES) {\n          serializedHTML = stringReplace(serializedHTML, MUSTACHE_EXPR$1, ' ');\n          serializedHTML = stringReplace(serializedHTML, ERB_EXPR$1, ' ');\n        }\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n      };\n      DOMPurify.setConfig = function (cfg) {\n        _parseConfig(cfg);\n        SET_CONFIG = true;\n      };\n      DOMPurify.clearConfig = function () {\n        CONFIG = null;\n        SET_CONFIG = false;\n      };\n      DOMPurify.isValidAttribute = function (tag, attr, value) {\n        if (!CONFIG) {\n          _parseConfig({});\n        }\n        var lcTag = transformCaseFunc(tag);\n        var lcName = transformCaseFunc(attr);\n        return _isValidAttribute(lcTag, lcName, value);\n      };\n      DOMPurify.addHook = function (entryPoint, hookFunction) {\n        if (typeof hookFunction !== 'function') {\n          return;\n        }\n        hooks[entryPoint] = hooks[entryPoint] || [];\n        arrayPush(hooks[entryPoint], hookFunction);\n      };\n      DOMPurify.removeHook = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          return arrayPop(hooks[entryPoint]);\n        }\n      };\n      DOMPurify.removeHooks = function (entryPoint) {\n        if (hooks[entryPoint]) {\n          hooks[entryPoint] = [];\n        }\n      };\n      DOMPurify.removeAllHooks = function () {\n        hooks = {};\n      };\n      return DOMPurify;\n    }\n    var purify = createDOMPurify();\n\n    const explode$1 = Tools.explode;\n    const create$7 = () => {\n      const filters = {};\n      const addFilter = (name, callback) => {\n        each$e(explode$1(name), name => {\n          if (!has$2(filters, name)) {\n            filters[name] = {\n              name,\n              callbacks: []\n            };\n          }\n          filters[name].callbacks.push(callback);\n        });\n      };\n      const getFilters = () => values(filters);\n      const removeFilter = (name, callback) => {\n        each$e(explode$1(name), name => {\n          if (has$2(filters, name)) {\n            if (isNonNullable(callback)) {\n              const filter = filters[name];\n              const newCallbacks = filter$5(filter.callbacks, c => c !== callback);\n              if (newCallbacks.length > 0) {\n                filter.callbacks = newCallbacks;\n              } else {\n                delete filters[name];\n              }\n            } else {\n              delete filters[name];\n            }\n          }\n        });\n      };\n      return {\n        addFilter,\n        getFilters,\n        removeFilter\n      };\n    };\n\n    const removeAttrs = (node, names) => {\n      each$e(names, name => {\n        node.attr(name, null);\n      });\n    };\n    const addFontToSpansFilter = (domParser, styles, fontSizes) => {\n      domParser.addNodeFilter('font', nodes => {\n        each$e(nodes, node => {\n          const props = styles.parse(node.attr('style'));\n          const color = node.attr('color');\n          const face = node.attr('face');\n          const size = node.attr('size');\n          if (color) {\n            props.color = color;\n          }\n          if (face) {\n            props['font-family'] = face;\n          }\n          if (size) {\n            toInt(size).each(num => {\n              props['font-size'] = fontSizes[num - 1];\n            });\n          }\n          node.name = 'span';\n          node.attr('style', styles.serialize(props));\n          removeAttrs(node, [\n            'color',\n            'face',\n            'size'\n          ]);\n        });\n      });\n    };\n    const addStrikeFilter = (domParser, schema, styles) => {\n      domParser.addNodeFilter('strike', nodes => {\n        const convertToSTag = schema.type !== 'html4';\n        each$e(nodes, node => {\n          if (convertToSTag) {\n            node.name = 's';\n          } else {\n            const props = styles.parse(node.attr('style'));\n            props['text-decoration'] = 'line-through';\n            node.name = 'span';\n            node.attr('style', styles.serialize(props));\n          }\n        });\n      });\n    };\n    const addFilters = (domParser, settings, schema) => {\n      var _a;\n      const styles = Styles();\n      if (settings.convert_fonts_to_spans) {\n        addFontToSpansFilter(domParser, styles, Tools.explode((_a = settings.font_size_legacy_values) !== null && _a !== void 0 ? _a : ''));\n      }\n      addStrikeFilter(domParser, schema, styles);\n    };\n    const register$5 = (domParser, settings, schema) => {\n      if (settings.inline_styles) {\n        addFilters(domParser, settings, schema);\n      }\n    };\n\n    const blobUriToBlob = url => fetch(url).then(res => res.ok ? res.blob() : Promise.reject()).catch(() => Promise.reject(`Cannot convert ${ url } to Blob. Resource might not exist or is inaccessible.`));\n    const extractBase64Data = data => {\n      const matches = /([a-z0-9+\\/=\\s]+)/i.exec(data);\n      return matches ? matches[1] : '';\n    };\n    const parseDataUri = uri => {\n      const [type, ...rest] = uri.split(',');\n      const data = rest.join(',');\n      const matches = /data:([^/]+\\/[^;]+)(;.+)?/.exec(type);\n      if (matches) {\n        const base64Encoded = matches[2] === ';base64';\n        const extractedData = base64Encoded ? extractBase64Data(data) : decodeURIComponent(data);\n        return Optional.some({\n          type: matches[1],\n          data: extractedData,\n          base64Encoded\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const buildBlob = (type, data, base64Encoded = true) => {\n      let str = data;\n      if (base64Encoded) {\n        try {\n          str = atob(data);\n        } catch (e) {\n          return Optional.none();\n        }\n      }\n      const arr = new Uint8Array(str.length);\n      for (let i = 0; i < arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n      }\n      return Optional.some(new Blob([arr], { type }));\n    };\n    const dataUriToBlob = uri => {\n      return new Promise((resolve, reject) => {\n        parseDataUri(uri).bind(({type, data, base64Encoded}) => buildBlob(type, data, base64Encoded)).fold(() => reject('Invalid data URI'), resolve);\n      });\n    };\n    const uriToBlob = url => {\n      if (startsWith(url, 'blob:')) {\n        return blobUriToBlob(url);\n      } else if (startsWith(url, 'data:')) {\n        return dataUriToBlob(url);\n      } else {\n        return Promise.reject('Unknown URI format');\n      }\n    };\n    const blobToDataUri = blob => {\n      return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.onloadend = () => {\n          resolve(reader.result);\n        };\n        reader.onerror = () => {\n          var _a;\n          reject((_a = reader.error) === null || _a === void 0 ? void 0 : _a.message);\n        };\n        reader.readAsDataURL(blob);\n      });\n    };\n\n    let count$1 = 0;\n    const uniqueId$1 = prefix => {\n      return (prefix || 'blobid') + count$1++;\n    };\n    const processDataUri = (dataUri, base64Only, generateBlobInfo) => {\n      return parseDataUri(dataUri).bind(({data, type, base64Encoded}) => {\n        if (base64Only && !base64Encoded) {\n          return Optional.none();\n        } else {\n          const base64 = base64Encoded ? data : btoa(data);\n          return generateBlobInfo(base64, type);\n        }\n      });\n    };\n    const createBlobInfo$1 = (blobCache, blob, base64) => {\n      const blobInfo = blobCache.create(uniqueId$1(), blob, base64);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const dataUriToBlobInfo = (blobCache, dataUri, base64Only = false) => {\n      return processDataUri(dataUri, base64Only, (base64, type) => Optional.from(blobCache.getByData(base64, type)).orThunk(() => buildBlob(type, base64).map(blob => createBlobInfo$1(blobCache, blob, base64))));\n    };\n    const imageToBlobInfo = (blobCache, imageSrc) => {\n      const invalidDataUri = () => Promise.reject('Invalid data URI');\n      if (startsWith(imageSrc, 'blob:')) {\n        const blobInfo = blobCache.getByUri(imageSrc);\n        if (isNonNullable(blobInfo)) {\n          return Promise.resolve(blobInfo);\n        } else {\n          return uriToBlob(imageSrc).then(blob => {\n            return blobToDataUri(blob).then(dataUri => {\n              return processDataUri(dataUri, false, base64 => {\n                return Optional.some(createBlobInfo$1(blobCache, blob, base64));\n              }).getOrThunk(invalidDataUri);\n            });\n          });\n        }\n      } else if (startsWith(imageSrc, 'data:')) {\n        return dataUriToBlobInfo(blobCache, imageSrc).fold(invalidDataUri, blobInfo => Promise.resolve(blobInfo));\n      } else {\n        return Promise.reject('Unknown image data format');\n      }\n    };\n\n    const isBogusImage = img => isNonNullable(img.attr('data-mce-bogus'));\n    const isInternalImageSource = img => img.attr('src') === Env.transparentSrc || isNonNullable(img.attr('data-mce-placeholder'));\n    const registerBase64ImageFilter = (parser, settings) => {\n      const {blob_cache: blobCache} = settings;\n      if (blobCache) {\n        const processImage = img => {\n          const inputSrc = img.attr('src');\n          if (isInternalImageSource(img) || isBogusImage(img) || isNullable(inputSrc)) {\n            return;\n          }\n          dataUriToBlobInfo(blobCache, inputSrc, true).each(blobInfo => {\n            img.attr('src', blobInfo.blobUri());\n          });\n        };\n        parser.addAttributeFilter('src', nodes => each$e(nodes, processImage));\n      }\n    };\n    const register$4 = (parser, settings) => {\n      const schema = parser.schema;\n      if (settings.remove_trailing_brs) {\n        parser.addNodeFilter('br', (nodes, _, args) => {\n          const blockElements = Tools.extend({}, schema.getBlockElements());\n          const nonEmptyElements = schema.getNonEmptyElements();\n          const whitespaceElements = schema.getWhitespaceElements();\n          blockElements.body = 1;\n          const isBlock = node => node.name in blockElements && isTransparentAstInline(schema, node);\n          for (let i = 0, l = nodes.length; i < l; i++) {\n            let node = nodes[i];\n            let parent = node.parent;\n            if (parent && blockElements[parent.name] && node === parent.lastChild) {\n              let prev = node.prev;\n              while (prev) {\n                const prevName = prev.name;\n                if (prevName !== 'span' || prev.attr('data-mce-type') !== 'bookmark') {\n                  if (prevName === 'br') {\n                    node = null;\n                  }\n                  break;\n                }\n                prev = prev.prev;\n              }\n              if (node) {\n                node.remove();\n                if (isEmpty(schema, nonEmptyElements, whitespaceElements, parent)) {\n                  const elementRule = schema.getElementRule(parent.name);\n                  if (elementRule) {\n                    if (elementRule.removeEmpty) {\n                      parent.remove();\n                    } else if (elementRule.paddEmpty) {\n                      paddEmptyNode(args, isBlock, parent);\n                    }\n                  }\n                }\n              }\n            } else {\n              let lastParent = node;\n              while (parent && parent.firstChild === lastParent && parent.lastChild === lastParent) {\n                lastParent = parent;\n                if (blockElements[parent.name]) {\n                  break;\n                }\n                parent = parent.parent;\n              }\n              if (lastParent === parent) {\n                const textNode = new AstNode('#text', 3);\n                textNode.value = nbsp;\n                node.replace(textNode);\n              }\n            }\n          }\n        });\n      }\n      parser.addAttributeFilter('href', nodes => {\n        let i = nodes.length;\n        const appendRel = rel => {\n          const parts = rel.split(' ').filter(p => p.length > 0);\n          return parts.concat(['noopener']).sort().join(' ');\n        };\n        const addNoOpener = rel => {\n          const newRel = rel ? Tools.trim(rel) : '';\n          if (!/\\b(noopener)\\b/g.test(newRel)) {\n            return appendRel(newRel);\n          } else {\n            return newRel;\n          }\n        };\n        if (!settings.allow_unsafe_link_target) {\n          while (i--) {\n            const node = nodes[i];\n            if (node.name === 'a' && node.attr('target') === '_blank') {\n              node.attr('rel', addNoOpener(node.attr('rel')));\n            }\n          }\n        }\n      });\n      if (!settings.allow_html_in_named_anchor) {\n        parser.addAttributeFilter('id,name', nodes => {\n          let i = nodes.length, sibling, prevSibling, parent, node;\n          while (i--) {\n            node = nodes[i];\n            if (node.name === 'a' && node.firstChild && !node.attr('href')) {\n              parent = node.parent;\n              sibling = node.lastChild;\n              while (sibling && parent) {\n                prevSibling = sibling.prev;\n                parent.insert(sibling, node);\n                sibling = prevSibling;\n              }\n            }\n          }\n        });\n      }\n      if (settings.fix_list_elements) {\n        parser.addNodeFilter('ul,ol', nodes => {\n          let i = nodes.length, node, parentNode;\n          while (i--) {\n            node = nodes[i];\n            parentNode = node.parent;\n            if (parentNode && (parentNode.name === 'ul' || parentNode.name === 'ol')) {\n              if (node.prev && node.prev.name === 'li') {\n                node.prev.append(node);\n              } else {\n                const li = new AstNode('li', 1);\n                li.attr('style', 'list-style-type: none');\n                node.wrap(li);\n              }\n            }\n          }\n        });\n      }\n      const validClasses = schema.getValidClasses();\n      if (settings.validate && validClasses) {\n        parser.addAttributeFilter('class', nodes => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            const clazz = (_a = node.attr('class')) !== null && _a !== void 0 ? _a : '';\n            const classList = Tools.explode(clazz, ' ');\n            let classValue = '';\n            for (let ci = 0; ci < classList.length; ci++) {\n              const className = classList[ci];\n              let valid = false;\n              let validClassesMap = validClasses['*'];\n              if (validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              validClassesMap = validClasses[node.name];\n              if (!valid && validClassesMap && validClassesMap[className]) {\n                valid = true;\n              }\n              if (valid) {\n                if (classValue) {\n                  classValue += ' ';\n                }\n                classValue += className;\n              }\n            }\n            if (!classValue.length) {\n              classValue = null;\n            }\n            node.attr('class', classValue);\n          }\n        });\n      }\n      registerBase64ImageFilter(parser, settings);\n    };\n\n    const each$4 = Tools.each, trim = Tools.trim;\n    const queryParts = [\n      'source',\n      'protocol',\n      'authority',\n      'userInfo',\n      'user',\n      'password',\n      'host',\n      'port',\n      'relative',\n      'path',\n      'directory',\n      'file',\n      'query',\n      'anchor'\n    ];\n    const DEFAULT_PORTS = {\n      ftp: 21,\n      http: 80,\n      https: 443,\n      mailto: 25\n    };\n    const safeSvgDataUrlElements = [\n      'img',\n      'video'\n    ];\n    const blockSvgDataUris = (allowSvgDataUrls, tagName) => {\n      if (isNonNullable(allowSvgDataUrls)) {\n        return !allowSvgDataUrls;\n      } else {\n        return isNonNullable(tagName) ? !contains$2(safeSvgDataUrlElements, tagName) : true;\n      }\n    };\n    const decodeUri = encodedUri => {\n      try {\n        return decodeURIComponent(encodedUri);\n      } catch (ex) {\n        return unescape(encodedUri);\n      }\n    };\n    const isInvalidUri = (settings, uri, tagName) => {\n      const decodedUri = decodeUri(uri);\n      if (settings.allow_script_urls) {\n        return false;\n      } else if (/((java|vb)script|mhtml):/i.test(decodedUri)) {\n        return true;\n      } else if (settings.allow_html_data_urls) {\n        return false;\n      } else if (/^data:image\\//i.test(decodedUri)) {\n        return blockSvgDataUris(settings.allow_svg_data_urls, tagName) && /^data:image\\/svg\\+xml/i.test(decodedUri);\n      } else {\n        return /^data:/i.test(decodedUri);\n      }\n    };\n    class URI {\n      constructor(url, settings = {}) {\n        this.path = '';\n        this.directory = '';\n        url = trim(url);\n        this.settings = settings;\n        const baseUri = settings.base_uri;\n        const self = this;\n        if (/^([\\w\\-]+):([^\\/]{2})/i.test(url) || /^\\s*#/.test(url)) {\n          self.source = url;\n          return;\n        }\n        const isProtocolRelative = url.indexOf('//') === 0;\n        if (url.indexOf('/') === 0 && !isProtocolRelative) {\n          url = (baseUri ? baseUri.protocol || 'http' : 'http') + '://mce_host' + url;\n        }\n        if (!/^[\\w\\-]*:?\\/\\//.test(url)) {\n          const baseUrl = baseUri ? baseUri.path : new URI(document.location.href).directory;\n          if ((baseUri === null || baseUri === void 0 ? void 0 : baseUri.protocol) === '') {\n            url = '//mce_host' + self.toAbsPath(baseUrl, url);\n          } else {\n            const match = /([^#?]*)([#?]?.*)/.exec(url);\n            if (match) {\n              url = (baseUri && baseUri.protocol || 'http') + '://mce_host' + self.toAbsPath(baseUrl, match[1]) + match[2];\n            }\n          }\n        }\n        url = url.replace(/@@/g, '(mce_at)');\n        const urlMatch = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(url);\n        if (urlMatch) {\n          each$4(queryParts, (v, i) => {\n            let part = urlMatch[i];\n            if (part) {\n              part = part.replace(/\\(mce_at\\)/g, '@@');\n            }\n            self[v] = part;\n          });\n        }\n        if (baseUri) {\n          if (!self.protocol) {\n            self.protocol = baseUri.protocol;\n          }\n          if (!self.userInfo) {\n            self.userInfo = baseUri.userInfo;\n          }\n          if (!self.port && self.host === 'mce_host') {\n            self.port = baseUri.port;\n          }\n          if (!self.host || self.host === 'mce_host') {\n            self.host = baseUri.host;\n          }\n          self.source = '';\n        }\n        if (isProtocolRelative) {\n          self.protocol = '';\n        }\n      }\n      static parseDataUri(uri) {\n        let type;\n        const uriComponents = decodeURIComponent(uri).split(',');\n        const matches = /data:([^;]+)/.exec(uriComponents[0]);\n        if (matches) {\n          type = matches[1];\n        }\n        return {\n          type,\n          data: uriComponents[1]\n        };\n      }\n      static isDomSafe(uri, context, options = {}) {\n        if (options.allow_script_urls) {\n          return true;\n        } else {\n          const decodedUri = Entities.decode(uri).replace(/[\\s\\u0000-\\u001F]+/g, '');\n          return !isInvalidUri(options, decodedUri, context);\n        }\n      }\n      static getDocumentBaseUrl(loc) {\n        var _a;\n        let baseUrl;\n        if (loc.protocol.indexOf('http') !== 0 && loc.protocol !== 'file:') {\n          baseUrl = (_a = loc.href) !== null && _a !== void 0 ? _a : '';\n        } else {\n          baseUrl = loc.protocol + '//' + loc.host + loc.pathname;\n        }\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(baseUrl)) {\n          baseUrl = baseUrl.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(baseUrl)) {\n            baseUrl += '/';\n          }\n        }\n        return baseUrl;\n      }\n      setPath(path) {\n        const pathMatch = /^(.*?)\\/?(\\w+)?$/.exec(path);\n        if (pathMatch) {\n          this.path = pathMatch[0];\n          this.directory = pathMatch[1];\n          this.file = pathMatch[2];\n        }\n        this.source = '';\n        this.getURI();\n      }\n      toRelative(uri) {\n        if (uri === './') {\n          return uri;\n        }\n        const relativeUri = new URI(uri, { base_uri: this });\n        if (relativeUri.host !== 'mce_host' && this.host !== relativeUri.host && relativeUri.host || this.port !== relativeUri.port || this.protocol !== relativeUri.protocol && relativeUri.protocol !== '') {\n          return relativeUri.getURI();\n        }\n        const tu = this.getURI(), uu = relativeUri.getURI();\n        if (tu === uu || tu.charAt(tu.length - 1) === '/' && tu.substr(0, tu.length - 1) === uu) {\n          return tu;\n        }\n        let output = this.toRelPath(this.path, relativeUri.path);\n        if (relativeUri.query) {\n          output += '?' + relativeUri.query;\n        }\n        if (relativeUri.anchor) {\n          output += '#' + relativeUri.anchor;\n        }\n        return output;\n      }\n      toAbsolute(uri, noHost) {\n        const absoluteUri = new URI(uri, { base_uri: this });\n        return absoluteUri.getURI(noHost && this.isSameOrigin(absoluteUri));\n      }\n      isSameOrigin(uri) {\n        if (this.host == uri.host && this.protocol == uri.protocol) {\n          if (this.port == uri.port) {\n            return true;\n          }\n          const defaultPort = this.protocol ? DEFAULT_PORTS[this.protocol] : null;\n          if (defaultPort && (this.port || defaultPort) == (uri.port || defaultPort)) {\n            return true;\n          }\n        }\n        return false;\n      }\n      toRelPath(base, path) {\n        let breakPoint = 0, out = '', i, l;\n        const normalizedBase = base.substring(0, base.lastIndexOf('/')).split('/');\n        const items = path.split('/');\n        if (normalizedBase.length >= items.length) {\n          for (i = 0, l = normalizedBase.length; i < l; i++) {\n            if (i >= items.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (normalizedBase.length < items.length) {\n          for (i = 0, l = items.length; i < l; i++) {\n            if (i >= normalizedBase.length || normalizedBase[i] !== items[i]) {\n              breakPoint = i + 1;\n              break;\n            }\n          }\n        }\n        if (breakPoint === 1) {\n          return path;\n        }\n        for (i = 0, l = normalizedBase.length - (breakPoint - 1); i < l; i++) {\n          out += '../';\n        }\n        for (i = breakPoint - 1, l = items.length; i < l; i++) {\n          if (i !== breakPoint - 1) {\n            out += '/' + items[i];\n          } else {\n            out += items[i];\n          }\n        }\n        return out;\n      }\n      toAbsPath(base, path) {\n        let nb = 0;\n        const tr = /\\/$/.test(path) ? '/' : '';\n        const normalizedBase = base.split('/');\n        const normalizedPath = path.split('/');\n        const baseParts = [];\n        each$4(normalizedBase, k => {\n          if (k) {\n            baseParts.push(k);\n          }\n        });\n        const pathParts = [];\n        for (let i = normalizedPath.length - 1; i >= 0; i--) {\n          if (normalizedPath[i].length === 0 || normalizedPath[i] === '.') {\n            continue;\n          }\n          if (normalizedPath[i] === '..') {\n            nb++;\n            continue;\n          }\n          if (nb > 0) {\n            nb--;\n            continue;\n          }\n          pathParts.push(normalizedPath[i]);\n        }\n        const i = baseParts.length - nb;\n        let outPath;\n        if (i <= 0) {\n          outPath = reverse(pathParts).join('/');\n        } else {\n          outPath = baseParts.slice(0, i).join('/') + '/' + reverse(pathParts).join('/');\n        }\n        if (outPath.indexOf('/') !== 0) {\n          outPath = '/' + outPath;\n        }\n        if (tr && outPath.lastIndexOf('/') !== outPath.length - 1) {\n          outPath += tr;\n        }\n        return outPath;\n      }\n      getURI(noProtoHost = false) {\n        let s;\n        if (!this.source || noProtoHost) {\n          s = '';\n          if (!noProtoHost) {\n            if (this.protocol) {\n              s += this.protocol + '://';\n            } else {\n              s += '//';\n            }\n            if (this.userInfo) {\n              s += this.userInfo + '@';\n            }\n            if (this.host) {\n              s += this.host;\n            }\n            if (this.port) {\n              s += ':' + this.port;\n            }\n          }\n          if (this.path) {\n            s += this.path;\n          }\n          if (this.query) {\n            s += '?' + this.query;\n          }\n          if (this.anchor) {\n            s += '#' + this.anchor;\n          }\n          this.source = s;\n        }\n        return this.source;\n      }\n    }\n\n    const makeMap = Tools.makeMap, extend$1 = Tools.extend;\n    const basePurifyConfig = {\n      IN_PLACE: true,\n      ALLOW_UNKNOWN_PROTOCOLS: true,\n      ALLOWED_TAGS: [\n        '#comment',\n        '#cdata-section',\n        'body'\n      ],\n      ALLOWED_ATTR: []\n    };\n    const filteredUrlAttrs = Tools.makeMap('src,href,data,background,action,formaction,poster,xlink:href');\n    const internalElementAttr = 'data-mce-type';\n    const getPurifyConfig = (settings, mimeType) => {\n      const config = { ...basePurifyConfig };\n      config.PARSER_MEDIA_TYPE = mimeType;\n      if (settings.allow_script_urls) {\n        config.ALLOWED_URI_REGEXP = /.*/;\n      } else if (settings.allow_html_data_urls) {\n        config.ALLOWED_URI_REGEXP = /^(?!(\\w+script|mhtml):)/i;\n      }\n      return config;\n    };\n    const setupPurify = (settings, schema) => {\n      const purify$1 = purify();\n      const specialElements = schema.getSpecialElements();\n      const validate = settings.validate;\n      let uid = 0;\n      purify$1.addHook('uponSanitizeElement', (ele, evt) => {\n        var _a, _b, _c;\n        if (ele.nodeType === COMMENT && !settings.allow_conditional_comments && /^\\[if/i.test((_a = ele.nodeValue) !== null && _a !== void 0 ? _a : '')) {\n          ele.nodeValue = ' ' + ele.nodeValue;\n        }\n        const tagName = evt.tagName;\n        if (ele.nodeType !== ELEMENT || tagName === 'body') {\n          return;\n        }\n        const element = SugarElement.fromDom(ele);\n        const lcTagName = tagName.toLowerCase();\n        const isInternalElement = has$1(element, internalElementAttr);\n        const bogus = get$9(element, 'data-mce-bogus');\n        if (!isInternalElement && isString(bogus)) {\n          if (bogus === 'all') {\n            remove$6(element);\n          } else {\n            unwrap(element);\n          }\n          return;\n        }\n        const rule = schema.getElementRule(lcTagName);\n        if (validate && !rule) {\n          if (has$2(specialElements, lcTagName)) {\n            remove$6(element);\n          } else {\n            unwrap(element);\n          }\n          return;\n        } else {\n          evt.allowedTags[tagName] = true;\n        }\n        if (validate && rule && !isInternalElement) {\n          each$e((_b = rule.attributesForced) !== null && _b !== void 0 ? _b : [], attr => {\n            set$2(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n          });\n          each$e((_c = rule.attributesDefault) !== null && _c !== void 0 ? _c : [], attr => {\n            if (!has$1(element, attr.name)) {\n              set$2(element, attr.name, attr.value === '{$uid}' ? `mce_${ uid++ }` : attr.value);\n            }\n          });\n          if (rule.attributesRequired && !exists(rule.attributesRequired, attr => has$1(element, attr))) {\n            unwrap(element);\n            return;\n          }\n          if (rule.removeEmptyAttrs && hasNone(element)) {\n            unwrap(element);\n            return;\n          }\n          if (rule.outputName && rule.outputName !== lcTagName) {\n            mutate(element, rule.outputName);\n          }\n        }\n      });\n      purify$1.addHook('uponSanitizeAttribute', (ele, evt) => {\n        const tagName = ele.tagName.toLowerCase();\n        const {attrName, attrValue} = evt;\n        evt.keepAttr = !validate || schema.isValid(tagName, attrName) || startsWith(attrName, 'data-') || startsWith(attrName, 'aria-');\n        if (attrName in filteredUrlAttrs && isInvalidUri(settings, attrValue, tagName)) {\n          evt.keepAttr = false;\n        }\n        if (evt.keepAttr) {\n          evt.allowedAttributes[attrName] = true;\n          if (attrName in schema.getBoolAttrs()) {\n            evt.attrValue = attrName;\n          }\n          if (settings.allow_svg_data_urls && startsWith(attrValue, 'data:image/svg+xml')) {\n            evt.forceKeepAttr = true;\n          }\n        } else if (ele.hasAttribute(internalElementAttr) && (attrName === 'id' || attrName === 'class' || attrName === 'style')) {\n          evt.forceKeepAttr = true;\n        }\n      });\n      return purify$1;\n    };\n    const transferChildren = (parent, nativeParent, specialElements) => {\n      const parentName = parent.name;\n      const isSpecial = parentName in specialElements && parentName !== 'title' && parentName !== 'textarea';\n      const childNodes = nativeParent.childNodes;\n      for (let ni = 0, nl = childNodes.length; ni < nl; ni++) {\n        const nativeChild = childNodes[ni];\n        const child = new AstNode(nativeChild.nodeName.toLowerCase(), nativeChild.nodeType);\n        if (isElement$6(nativeChild)) {\n          const attributes = nativeChild.attributes;\n          for (let ai = 0, al = attributes.length; ai < al; ai++) {\n            const attr = attributes[ai];\n            child.attr(attr.name, attr.value);\n          }\n        } else if (isText$a(nativeChild)) {\n          child.value = nativeChild.data;\n          if (isSpecial) {\n            child.raw = true;\n          }\n        } else if (isComment(nativeChild) || isCData(nativeChild) || isPi(nativeChild)) {\n          child.value = nativeChild.data;\n        }\n        transferChildren(child, nativeChild, specialElements);\n        parent.append(child);\n      }\n    };\n    const walkTree = (root, preprocessors, postprocessors) => {\n      const traverseOrder = [];\n      for (let node = root, lastNode = node; node; lastNode = node, node = node.walk()) {\n        const tempNode = node;\n        each$e(preprocessors, preprocess => preprocess(tempNode));\n        if (isNullable(tempNode.parent) && tempNode !== root) {\n          node = lastNode;\n        } else {\n          traverseOrder.push(tempNode);\n        }\n      }\n      for (let i = traverseOrder.length - 1; i >= 0; i--) {\n        const node = traverseOrder[i];\n        each$e(postprocessors, postprocess => postprocess(node));\n      }\n    };\n    const whitespaceCleaner = (root, schema, settings, args) => {\n      const validate = settings.validate;\n      const nonEmptyElements = schema.getNonEmptyElements();\n      const whitespaceElements = schema.getWhitespaceElements();\n      const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n      const textRootBlockElements = getTextRootBlockElements(schema);\n      const allWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n      const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n      const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n      const hasWhitespaceParent = node => {\n        let tempNode = node.parent;\n        while (isNonNullable(tempNode)) {\n          if (tempNode.name in whitespaceElements) {\n            return true;\n          } else {\n            tempNode = tempNode.parent;\n          }\n        }\n        return false;\n      };\n      const isTextRootBlockEmpty = node => {\n        let tempNode = node;\n        while (isNonNullable(tempNode)) {\n          if (tempNode.name in textRootBlockElements) {\n            return isEmpty(schema, nonEmptyElements, whitespaceElements, tempNode);\n          } else {\n            tempNode = tempNode.parent;\n          }\n        }\n        return false;\n      };\n      const isBlock = node => node.name in blockElements && !isTransparentAstInline(schema, node);\n      const isAtEdgeOfBlock = (node, start) => {\n        const neighbour = start ? node.prev : node.next;\n        if (isNonNullable(neighbour) || isNullable(node.parent)) {\n          return false;\n        }\n        return isBlock(node.parent) && (node.parent !== root || args.isRootContent === true);\n      };\n      const preprocess = node => {\n        var _a;\n        if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n            text = text.replace(allWhiteSpaceRegExp, ' ');\n            if (isLineBreakNode(node.prev, isBlock) || isAtEdgeOfBlock(node, true)) {\n              text = text.replace(startWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      const postprocess = node => {\n        var _a;\n        if (node.type === 1) {\n          const elementRule = schema.getElementRule(node.name);\n          if (validate && elementRule) {\n            const isNodeEmpty = isEmpty(schema, nonEmptyElements, whitespaceElements, node);\n            if (elementRule.paddInEmptyBlock && isNodeEmpty && isTextRootBlockEmpty(node)) {\n              paddEmptyNode(args, isBlock, node);\n            } else if (elementRule.removeEmpty && isNodeEmpty) {\n              if (isBlock(node)) {\n                node.remove();\n              } else {\n                node.unwrap();\n              }\n            } else if (elementRule.paddEmpty && (isNodeEmpty || isPaddedWithNbsp(node))) {\n              paddEmptyNode(args, isBlock, node);\n            }\n          }\n        } else if (node.type === 3) {\n          if (!hasWhitespaceParent(node)) {\n            let text = (_a = node.value) !== null && _a !== void 0 ? _a : '';\n            if (node.next && isBlock(node.next) || isAtEdgeOfBlock(node, false)) {\n              text = text.replace(endWhiteSpaceRegExp, '');\n            }\n            if (text.length === 0) {\n              node.remove();\n            } else {\n              node.value = text;\n            }\n          }\n        }\n      };\n      return [\n        preprocess,\n        postprocess\n      ];\n    };\n    const getRootBlockName = (settings, args) => {\n      var _a;\n      const name = (_a = args.forced_root_block) !== null && _a !== void 0 ? _a : settings.forced_root_block;\n      if (name === false) {\n        return '';\n      } else if (name === true) {\n        return 'p';\n      } else {\n        return name;\n      }\n    };\n    const DomParser = (settings = {}, schema = Schema()) => {\n      const nodeFilterRegistry = create$7();\n      const attributeFilterRegistry = create$7();\n      const defaultedSettings = {\n        validate: true,\n        root_name: 'body',\n        ...settings\n      };\n      const parser = new DOMParser();\n      const purify = setupPurify(defaultedSettings, schema);\n      const parseAndSanitizeWithContext = (html, rootName, format = 'html') => {\n        const mimeType = format === 'xhtml' ? 'application/xhtml+xml' : 'text/html';\n        const isSpecialRoot = has$2(schema.getSpecialElements(), rootName.toLowerCase());\n        const content = isSpecialRoot ? `<${ rootName }>${ html }</${ rootName }>` : html;\n        const wrappedHtml = format === 'xhtml' ? `<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>${ content }</body></html>` : `<body>${ content }</body>`;\n        const body = parser.parseFromString(wrappedHtml, mimeType).body;\n        purify.sanitize(body, getPurifyConfig(defaultedSettings, mimeType));\n        purify.removed = [];\n        return isSpecialRoot ? body.firstChild : body;\n      };\n      const addNodeFilter = nodeFilterRegistry.addFilter;\n      const getNodeFilters = nodeFilterRegistry.getFilters;\n      const removeNodeFilter = nodeFilterRegistry.removeFilter;\n      const addAttributeFilter = attributeFilterRegistry.addFilter;\n      const getAttributeFilters = attributeFilterRegistry.getFilters;\n      const removeAttributeFilter = attributeFilterRegistry.removeFilter;\n      const findInvalidChildren = (node, invalidChildren) => {\n        if (isInvalid(schema, node)) {\n          invalidChildren.push(node);\n        }\n      };\n      const isWrappableNode = (blockElements, node) => {\n        const isInternalElement = isString(node.attr(internalElementAttr));\n        const isInlineElement = node.type === 1 && (!has$2(blockElements, node.name) && !isTransparentAstBlock(schema, node));\n        return node.type === 3 || isInlineElement && !isInternalElement;\n      };\n      const addRootBlocks = (rootNode, rootBlockName) => {\n        const blockElements = extend$1(makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n        const startWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n        const endWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n        let node = rootNode.firstChild, rootBlockNode = null;\n        const trim = rootBlock => {\n          var _a, _b;\n          if (rootBlock) {\n            node = rootBlock.firstChild;\n            if (node && node.type === 3) {\n              node.value = (_a = node.value) === null || _a === void 0 ? void 0 : _a.replace(startWhiteSpaceRegExp, '');\n            }\n            node = rootBlock.lastChild;\n            if (node && node.type === 3) {\n              node.value = (_b = node.value) === null || _b === void 0 ? void 0 : _b.replace(endWhiteSpaceRegExp, '');\n            }\n          }\n        };\n        if (!schema.isValidChild(rootNode.name, rootBlockName.toLowerCase())) {\n          return;\n        }\n        while (node) {\n          const next = node.next;\n          if (isWrappableNode(blockElements, node)) {\n            if (!rootBlockNode) {\n              rootBlockNode = new AstNode(rootBlockName, 1);\n              rootBlockNode.attr(defaultedSettings.forced_root_block_attrs);\n              rootNode.insert(rootBlockNode, node);\n              rootBlockNode.append(node);\n            } else {\n              rootBlockNode.append(node);\n            }\n          } else {\n            trim(rootBlockNode);\n            rootBlockNode = null;\n          }\n          node = next;\n        }\n        trim(rootBlockNode);\n      };\n      const parse = (html, args = {}) => {\n        var _a;\n        const validate = defaultedSettings.validate;\n        const rootName = (_a = args.context) !== null && _a !== void 0 ? _a : defaultedSettings.root_name;\n        const element = parseAndSanitizeWithContext(html, rootName, args.format);\n        updateChildren(schema, element);\n        const rootNode = new AstNode(rootName, 11);\n        transferChildren(rootNode, element, schema.getSpecialElements());\n        element.innerHTML = '';\n        const [whitespacePre, whitespacePost] = whitespaceCleaner(rootNode, schema, defaultedSettings, args);\n        const invalidChildren = [];\n        const invalidFinder = validate ? node => findInvalidChildren(node, invalidChildren) : noop;\n        const matches = {\n          nodes: {},\n          attributes: {}\n        };\n        const matchFinder = node => matchNode$1(getNodeFilters(), getAttributeFilters(), node, matches);\n        walkTree(rootNode, [\n          whitespacePre,\n          matchFinder\n        ], [\n          whitespacePost,\n          invalidFinder\n        ]);\n        invalidChildren.reverse();\n        if (validate && invalidChildren.length > 0) {\n          if (args.context) {\n            const {\n              pass: topLevelChildren,\n              fail: otherChildren\n            } = partition$2(invalidChildren, child => child.parent === rootNode);\n            cleanInvalidNodes(otherChildren, schema, matchFinder);\n            args.invalid = topLevelChildren.length > 0;\n          } else {\n            cleanInvalidNodes(invalidChildren, schema, matchFinder);\n          }\n        }\n        const rootBlockName = getRootBlockName(defaultedSettings, args);\n        if (rootBlockName && (rootNode.name === 'body' || args.isRootContent)) {\n          addRootBlocks(rootNode, rootBlockName);\n        }\n        if (!args.invalid) {\n          runFilters(matches, args);\n        }\n        return rootNode;\n      };\n      const exports = {\n        schema,\n        addAttributeFilter,\n        getAttributeFilters,\n        removeAttributeFilter,\n        addNodeFilter,\n        getNodeFilters,\n        removeNodeFilter,\n        parse\n      };\n      register$4(exports, defaultedSettings);\n      register$5(exports, defaultedSettings, schema);\n      return exports;\n    };\n\n    const serializeContent = content => isTreeNode(content) ? HtmlSerializer({ validate: false }).serialize(content) : content;\n    const withSerializedContent = (content, fireEvent) => {\n      const serializedContent = serializeContent(content);\n      const eventArgs = fireEvent(serializedContent);\n      if (eventArgs.isDefaultPrevented()) {\n        return eventArgs;\n      } else if (isTreeNode(content)) {\n        if (eventArgs.content !== serializedContent) {\n          const rootNode = DomParser({\n            validate: false,\n            forced_root_block: false\n          }).parse(eventArgs.content, { context: content.name });\n          return {\n            ...eventArgs,\n            content: rootNode\n          };\n        } else {\n          return {\n            ...eventArgs,\n            content\n          };\n        }\n      } else {\n        return eventArgs;\n      }\n    };\n    const preProcessGetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const eventArgs = fireBeforeGetContent(editor, args);\n        if (eventArgs.isDefaultPrevented()) {\n          return Result.error(fireGetContent(editor, {\n            content: '',\n            ...eventArgs\n          }).content);\n        } else {\n          return Result.value(eventArgs);\n        }\n      }\n    };\n    const postProcessGetContent = (editor, content, args) => {\n      if (args.no_events) {\n        return content;\n      } else {\n        const processedEventArgs = withSerializedContent(content, c => fireGetContent(editor, {\n          ...args,\n          content: c\n        }));\n        return processedEventArgs.content;\n      }\n    };\n    const preProcessSetContent = (editor, args) => {\n      if (args.no_events) {\n        return Result.value(args);\n      } else {\n        const processedEventArgs = withSerializedContent(args.content, content => fireBeforeSetContent(editor, {\n          ...args,\n          content\n        }));\n        if (processedEventArgs.isDefaultPrevented()) {\n          fireSetContent(editor, processedEventArgs);\n          return Result.error(undefined);\n        } else {\n          return Result.value(processedEventArgs);\n        }\n      }\n    };\n    const postProcessSetContent = (editor, content, args) => {\n      if (!args.no_events) {\n        fireSetContent(editor, {\n          ...args,\n          content\n        });\n      }\n    };\n\n    const tableModel = (element, width, rows) => ({\n      element,\n      width,\n      rows\n    });\n    const tableRow = (element, cells) => ({\n      element,\n      cells\n    });\n    const cellPosition = (x, y) => ({\n      x,\n      y\n    });\n    const getSpan = (td, key) => {\n      return getOpt(td, key).bind(toInt).getOr(1);\n    };\n    const fillout = (table, x, y, tr, td) => {\n      const rowspan = getSpan(td, 'rowspan');\n      const colspan = getSpan(td, 'colspan');\n      const rows = table.rows;\n      for (let y2 = y; y2 < y + rowspan; y2++) {\n        if (!rows[y2]) {\n          rows[y2] = tableRow(deep$1(tr), []);\n        }\n        for (let x2 = x; x2 < x + colspan; x2++) {\n          const cells = rows[y2].cells;\n          cells[x2] = y2 === y && x2 === x ? td : shallow$1(td);\n        }\n      }\n    };\n    const cellExists = (table, x, y) => {\n      const rows = table.rows;\n      const cells = rows[y] ? rows[y].cells : [];\n      return !!cells[x];\n    };\n    const skipCellsX = (table, x, y) => {\n      while (cellExists(table, x, y)) {\n        x++;\n      }\n      return x;\n    };\n    const getWidth = rows => {\n      return foldl(rows, (acc, row) => {\n        return row.cells.length > acc ? row.cells.length : acc;\n      }, 0);\n    };\n    const findElementPos = (table, element) => {\n      const rows = table.rows;\n      for (let y = 0; y < rows.length; y++) {\n        const cells = rows[y].cells;\n        for (let x = 0; x < cells.length; x++) {\n          if (eq(cells[x], element)) {\n            return Optional.some(cellPosition(x, y));\n          }\n        }\n      }\n      return Optional.none();\n    };\n    const extractRows = (table, sx, sy, ex, ey) => {\n      const newRows = [];\n      const rows = table.rows;\n      for (let y = sy; y <= ey; y++) {\n        const cells = rows[y].cells;\n        const slice = sx < ex ? cells.slice(sx, ex + 1) : cells.slice(ex, sx + 1);\n        newRows.push(tableRow(rows[y].element, slice));\n      }\n      return newRows;\n    };\n    const subTable = (table, startPos, endPos) => {\n      const sx = startPos.x, sy = startPos.y;\n      const ex = endPos.x, ey = endPos.y;\n      const newRows = sy < ey ? extractRows(table, sx, sy, ex, ey) : extractRows(table, sx, ey, ex, sy);\n      return tableModel(table.element, getWidth(newRows), newRows);\n    };\n    const createDomTable = (table, rows) => {\n      const tableElement = shallow$1(table.element);\n      const tableBody = SugarElement.fromTag('tbody');\n      append(tableBody, rows);\n      append$1(tableElement, tableBody);\n      return tableElement;\n    };\n    const modelRowsToDomRows = table => {\n      return map$3(table.rows, row => {\n        const cells = map$3(row.cells, cell => {\n          const td = deep$1(cell);\n          remove$b(td, 'colspan');\n          remove$b(td, 'rowspan');\n          return td;\n        });\n        const tr = shallow$1(row.element);\n        append(tr, cells);\n        return tr;\n      });\n    };\n    const fromDom = tableElm => {\n      const table = tableModel(shallow$1(tableElm), 0, []);\n      each$e(descendants(tableElm, 'tr'), (tr, y) => {\n        each$e(descendants(tr, 'td,th'), (td, x) => {\n          fillout(table, skipCellsX(table, x, y), y, tr, td);\n        });\n      });\n      return tableModel(table.element, getWidth(table.rows), table.rows);\n    };\n    const toDom = table => {\n      return createDomTable(table, modelRowsToDomRows(table));\n    };\n    const subsection = (table, startElement, endElement) => {\n      return findElementPos(table, startElement).bind(startPos => {\n        return findElementPos(table, endElement).map(endPos => {\n          return subTable(table, startPos, endPos);\n        });\n      });\n    };\n\n    const findParentListContainer = parents => find$2(parents, elm => name(elm) === 'ul' || name(elm) === 'ol');\n    const getFullySelectedListWrappers = (parents, rng) => find$2(parents, elm => name(elm) === 'li' && hasAllContentsSelected(elm, rng)).fold(constant([]), _li => findParentListContainer(parents).map(listCont => {\n      const listElm = SugarElement.fromTag(name(listCont));\n      const listStyles = filter$4(getAllRaw(listCont), (_style, name) => startsWith(name, 'list-style'));\n      setAll(listElm, listStyles);\n      return [\n        SugarElement.fromTag('li'),\n        listElm\n      ];\n    }).getOr([]));\n    const wrap = (innerElm, elms) => {\n      const wrapped = foldl(elms, (acc, elm) => {\n        append$1(elm, acc);\n        return elm;\n      }, innerElm);\n      return elms.length > 0 ? fromElements([wrapped]) : wrapped;\n    };\n    const directListWrappers = commonAnchorContainer => {\n      if (isListItem$1(commonAnchorContainer)) {\n        return parent(commonAnchorContainer).filter(isList).fold(constant([]), listElm => [\n          commonAnchorContainer,\n          listElm\n        ]);\n      } else {\n        return isList(commonAnchorContainer) ? [commonAnchorContainer] : [];\n      }\n    };\n    const getWrapElements = (rootNode, rng) => {\n      const commonAnchorContainer = SugarElement.fromDom(rng.commonAncestorContainer);\n      const parents = parentsAndSelf(commonAnchorContainer, rootNode);\n      const wrapElements = filter$5(parents, isWrapElement);\n      const listWrappers = getFullySelectedListWrappers(parents, rng);\n      const allWrappers = wrapElements.concat(listWrappers.length ? listWrappers : directListWrappers(commonAnchorContainer));\n      return map$3(allWrappers, shallow$1);\n    };\n    const emptyFragment = () => fromElements([]);\n    const getFragmentFromRange = (rootNode, rng) => wrap(SugarElement.fromDom(rng.cloneContents()), getWrapElements(rootNode, rng));\n    const getParentTable = (rootElm, cell) => ancestor$2(cell, 'table', curry(eq, rootElm));\n    const getTableFragment = (rootNode, selectedTableCells) => getParentTable(rootNode, selectedTableCells[0]).bind(tableElm => {\n      const firstCell = selectedTableCells[0];\n      const lastCell = selectedTableCells[selectedTableCells.length - 1];\n      const fullTableModel = fromDom(tableElm);\n      return subsection(fullTableModel, firstCell, lastCell).map(sectionedTableModel => fromElements([toDom(sectionedTableModel)]));\n    }).getOrThunk(emptyFragment);\n    const getSelectionFragment = (rootNode, ranges) => ranges.length > 0 && ranges[0].collapsed ? emptyFragment() : getFragmentFromRange(rootNode, ranges[0]);\n    const read$3 = (rootNode, ranges) => {\n      const selectedCells = getCellsFromElementOrRanges(ranges, rootNode);\n      return selectedCells.length > 0 ? getTableFragment(rootNode, selectedCells) : getSelectionFragment(rootNode, ranges);\n    };\n\n    const isCollapsibleWhitespace = (text, index) => index >= 0 && index < text.length && isWhiteSpace(text.charAt(index));\n    const getInnerText = bin => {\n      return trim$1(bin.innerText);\n    };\n    const getContextNodeName = parentBlockOpt => parentBlockOpt.map(block => block.nodeName).getOr('div').toLowerCase();\n    const getTextContent = editor => Optional.from(editor.selection.getRng()).map(rng => {\n      var _a;\n      const parentBlockOpt = Optional.from(editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock));\n      const body = editor.getBody();\n      const contextNodeName = getContextNodeName(parentBlockOpt);\n      const rangeContentClone = SugarElement.fromDom(rng.cloneContents());\n      cleanupBogusElements(rangeContentClone);\n      cleanupInputNames(rangeContentClone);\n      const bin = editor.dom.add(body, contextNodeName, {\n        'data-mce-bogus': 'all',\n        'style': 'overflow: hidden; opacity: 0;'\n      }, rangeContentClone.dom);\n      const text = getInnerText(bin);\n      const nonRenderedText = trim$1((_a = bin.textContent) !== null && _a !== void 0 ? _a : '');\n      editor.dom.remove(bin);\n      if (isCollapsibleWhitespace(nonRenderedText, 0) || isCollapsibleWhitespace(nonRenderedText, nonRenderedText.length - 1)) {\n        const parentBlock = parentBlockOpt.getOr(body);\n        const parentBlockText = getInnerText(parentBlock);\n        const textIndex = parentBlockText.indexOf(text);\n        if (textIndex === -1) {\n          return text;\n        } else {\n          const hasProceedingSpace = isCollapsibleWhitespace(parentBlockText, textIndex - 1);\n          const hasTrailingSpace = isCollapsibleWhitespace(parentBlockText, textIndex + text.length);\n          return (hasProceedingSpace ? ' ' : '') + text + (hasTrailingSpace ? ' ' : '');\n        }\n      } else {\n        return text;\n      }\n    }).getOr('');\n    const getSerializedContent = (editor, args) => {\n      const rng = editor.selection.getRng(), tmpElm = editor.dom.create('body');\n      const sel = editor.selection.getSel();\n      const ranges = processRanges(editor, getRanges$1(sel));\n      const fragment = args.contextual ? read$3(SugarElement.fromDom(editor.getBody()), ranges).dom : rng.cloneContents();\n      if (fragment) {\n        tmpElm.appendChild(fragment);\n      }\n      return editor.selection.serializer.serialize(tmpElm, args);\n    };\n    const extractSelectedContent = (editor, args) => {\n      if (args.format === 'text') {\n        return getTextContent(editor);\n      } else {\n        const content = getSerializedContent(editor, args);\n        if (args.format === 'tree') {\n          return content;\n        } else {\n          return editor.selection.isCollapsed() ? '' : content;\n        }\n      }\n    };\n    const setupArgs$3 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      selection: true,\n      getInner: true\n    });\n    const getSelectedContentInternal = (editor, format, args = {}) => {\n      const defaultedArgs = setupArgs$3(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = extractSelectedContent(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const KEEP = 0, INSERT = 1, DELETE = 2;\n    const diff = (left, right) => {\n      const size = left.length + right.length + 2;\n      const vDown = new Array(size);\n      const vUp = new Array(size);\n      const snake = (start, end, diag) => {\n        return {\n          start,\n          end,\n          diag\n        };\n      };\n      const buildScript = (start1, end1, start2, end2, script) => {\n        const middle = getMiddleSnake(start1, end1, start2, end2);\n        if (middle === null || middle.start === end1 && middle.diag === end1 - end2 || middle.end === start1 && middle.diag === start1 - start2) {\n          let i = start1;\n          let j = start2;\n          while (i < end1 || j < end2) {\n            if (i < end1 && j < end2 && left[i] === right[j]) {\n              script.push([\n                KEEP,\n                left[i]\n              ]);\n              ++i;\n              ++j;\n            } else {\n              if (end1 - start1 > end2 - start2) {\n                script.push([\n                  DELETE,\n                  left[i]\n                ]);\n                ++i;\n              } else {\n                script.push([\n                  INSERT,\n                  right[j]\n                ]);\n                ++j;\n              }\n            }\n          }\n        } else {\n          buildScript(start1, middle.start, start2, middle.start - middle.diag, script);\n          for (let i2 = middle.start; i2 < middle.end; ++i2) {\n            script.push([\n              KEEP,\n              left[i2]\n            ]);\n          }\n          buildScript(middle.end, end1, middle.end - middle.diag, end2, script);\n        }\n      };\n      const buildSnake = (start, diag, end1, end2) => {\n        let end = start;\n        while (end - diag < end2 && end < end1 && left[end] === right[end - diag]) {\n          ++end;\n        }\n        return snake(start, end, diag);\n      };\n      const getMiddleSnake = (start1, end1, start2, end2) => {\n        const m = end1 - start1;\n        const n = end2 - start2;\n        if (m === 0 || n === 0) {\n          return null;\n        }\n        const delta = m - n;\n        const sum = n + m;\n        const offset = (sum % 2 === 0 ? sum : sum + 1) / 2;\n        vDown[1 + offset] = start1;\n        vUp[1 + offset] = end1 + 1;\n        let d, k, i, x, y;\n        for (d = 0; d <= offset; ++d) {\n          for (k = -d; k <= d; k += 2) {\n            i = k + offset;\n            if (k === -d || k !== d && vDown[i - 1] < vDown[i + 1]) {\n              vDown[i] = vDown[i + 1];\n            } else {\n              vDown[i] = vDown[i - 1] + 1;\n            }\n            x = vDown[i];\n            y = x - start1 + start2 - k;\n            while (x < end1 && y < end2 && left[x] === right[y]) {\n              vDown[i] = ++x;\n              ++y;\n            }\n            if (delta % 2 !== 0 && delta - d <= k && k <= delta + d) {\n              if (vUp[i - delta] <= vDown[i]) {\n                return buildSnake(vUp[i - delta], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n          for (k = delta - d; k <= delta + d; k += 2) {\n            i = k + offset - delta;\n            if (k === delta - d || k !== delta + d && vUp[i + 1] <= vUp[i - 1]) {\n              vUp[i] = vUp[i + 1] - 1;\n            } else {\n              vUp[i] = vUp[i - 1];\n            }\n            x = vUp[i] - 1;\n            y = x - start1 + start2 - k;\n            while (x >= start1 && y >= start2 && left[x] === right[y]) {\n              vUp[i] = x--;\n              y--;\n            }\n            if (delta % 2 === 0 && -d <= k && k <= d) {\n              if (vUp[i] <= vDown[i + delta]) {\n                return buildSnake(vUp[i], k + start1 - start2, end1, end2);\n              }\n            }\n          }\n        }\n        return null;\n      };\n      const script = [];\n      buildScript(0, left.length, 0, right.length, script);\n      return script;\n    };\n\n    const getOuterHtml = elm => {\n      if (isElement$6(elm)) {\n        return elm.outerHTML;\n      } else if (isText$a(elm)) {\n        return Entities.encodeRaw(elm.data, false);\n      } else if (isComment(elm)) {\n        return '<!--' + elm.data + '-->';\n      }\n      return '';\n    };\n    const createFragment = html => {\n      let node;\n      const container = document.createElement('div');\n      const frag = document.createDocumentFragment();\n      if (html) {\n        container.innerHTML = html;\n      }\n      while (node = container.firstChild) {\n        frag.appendChild(node);\n      }\n      return frag;\n    };\n    const insertAt = (elm, html, index) => {\n      const fragment = createFragment(html);\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        elm.insertBefore(fragment, target);\n      } else {\n        elm.appendChild(fragment);\n      }\n    };\n    const removeAt = (elm, index) => {\n      if (elm.hasChildNodes() && index < elm.childNodes.length) {\n        const target = elm.childNodes[index];\n        elm.removeChild(target);\n      }\n    };\n    const applyDiff = (diff, elm) => {\n      let index = 0;\n      each$e(diff, action => {\n        if (action[0] === KEEP) {\n          index++;\n        } else if (action[0] === INSERT) {\n          insertAt(elm, action[1], index);\n          index++;\n        } else if (action[0] === DELETE) {\n          removeAt(elm, index);\n        }\n      });\n    };\n    const read$2 = elm => {\n      return filter$5(map$3(from(elm.childNodes), getOuterHtml), item => {\n        return item.length > 0;\n      });\n    };\n    const write = (fragments, elm) => {\n      const currentFragments = map$3(from(elm.childNodes), getOuterHtml);\n      applyDiff(diff(currentFragments, fragments), elm);\n      return elm;\n    };\n\n    const lazyTempDocument = cached(() => document.implementation.createHTMLDocument('undo'));\n    const hasIframes = html => {\n      return html.indexOf('</iframe>') !== -1;\n    };\n    const createFragmentedLevel = fragments => {\n      return {\n        type: 'fragmented',\n        fragments,\n        content: '',\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createCompleteLevel = content => {\n      return {\n        type: 'complete',\n        fragments: null,\n        content,\n        bookmark: null,\n        beforeBookmark: null\n      };\n    };\n    const createFromEditor = editor => {\n      const fragments = read$2(editor.getBody());\n      const trimmedFragments = bind$3(fragments, html => {\n        const trimmed = trimInternal(editor.serializer, html);\n        return trimmed.length > 0 ? [trimmed] : [];\n      });\n      const content = trimmedFragments.join('');\n      return hasIframes(content) ? createFragmentedLevel(trimmedFragments) : createCompleteLevel(content);\n    };\n    const applyToEditor = (editor, level, before) => {\n      const bookmark = before ? level.beforeBookmark : level.bookmark;\n      if (level.type === 'fragmented') {\n        write(level.fragments, editor.getBody());\n      } else {\n        editor.setContent(level.content, {\n          format: 'raw',\n          no_selection: isNonNullable(bookmark) && isPathBookmark(bookmark) ? !bookmark.isFakeCaret : true\n        });\n      }\n      if (bookmark) {\n        editor.selection.moveToBookmark(bookmark);\n        editor.selection.scrollIntoView();\n      }\n    };\n    const getLevelContent = level => {\n      return level.type === 'fragmented' ? level.fragments.join('') : level.content;\n    };\n    const getCleanLevelContent = level => {\n      const elm = SugarElement.fromTag('body', lazyTempDocument());\n      set(elm, getLevelContent(level));\n      each$e(descendants(elm, '*[data-mce-bogus]'), unwrap);\n      return get$6(elm);\n    };\n    const hasEqualContent = (level1, level2) => getLevelContent(level1) === getLevelContent(level2);\n    const hasEqualCleanedContent = (level1, level2) => getCleanLevelContent(level1) === getCleanLevelContent(level2);\n    const isEq$1 = (level1, level2) => {\n      if (!level1 || !level2) {\n        return false;\n      } else if (hasEqualContent(level1, level2)) {\n        return true;\n      } else {\n        return hasEqualCleanedContent(level1, level2);\n      }\n    };\n\n    const isUnlocked = locks => locks.get() === 0;\n\n    const setTyping = (undoManager, typing, locks) => {\n      if (isUnlocked(locks)) {\n        undoManager.typing = typing;\n      }\n    };\n    const endTyping = (undoManager, locks) => {\n      if (undoManager.typing) {\n        setTyping(undoManager, false, locks);\n        undoManager.add();\n      }\n    };\n    const endTypingLevelIgnoreLocks = undoManager => {\n      if (undoManager.typing) {\n        undoManager.typing = false;\n        undoManager.add();\n      }\n    };\n\n    const beforeChange$1 = (editor, locks, beforeBookmark) => {\n      if (isUnlocked(locks)) {\n        beforeBookmark.set(getUndoBookmark(editor.selection));\n      }\n    };\n    const addUndoLevel$1 = (editor, undoManager, index, locks, beforeBookmark, level, event) => {\n      const currentLevel = createFromEditor(editor);\n      const newLevel = Tools.extend(level || {}, currentLevel);\n      if (!isUnlocked(locks) || editor.removed) {\n        return null;\n      }\n      const lastLevel = undoManager.data[index.get()];\n      if (editor.dispatch('BeforeAddUndo', {\n          level: newLevel,\n          lastLevel,\n          originalEvent: event\n        }).isDefaultPrevented()) {\n        return null;\n      }\n      if (lastLevel && isEq$1(lastLevel, newLevel)) {\n        return null;\n      }\n      if (undoManager.data[index.get()]) {\n        beforeBookmark.get().each(bm => {\n          undoManager.data[index.get()].beforeBookmark = bm;\n        });\n      }\n      const customUndoRedoLevels = getCustomUndoRedoLevels(editor);\n      if (customUndoRedoLevels) {\n        if (undoManager.data.length > customUndoRedoLevels) {\n          for (let i = 0; i < undoManager.data.length - 1; i++) {\n            undoManager.data[i] = undoManager.data[i + 1];\n          }\n          undoManager.data.length--;\n          index.set(undoManager.data.length);\n        }\n      }\n      newLevel.bookmark = getUndoBookmark(editor.selection);\n      if (index.get() < undoManager.data.length - 1) {\n        undoManager.data.length = index.get() + 1;\n      }\n      undoManager.data.push(newLevel);\n      index.set(undoManager.data.length - 1);\n      const args = {\n        level: newLevel,\n        lastLevel,\n        originalEvent: event\n      };\n      if (index.get() > 0) {\n        editor.setDirty(true);\n        editor.dispatch('AddUndo', args);\n        editor.dispatch('change', args);\n      } else {\n        editor.dispatch('AddUndo', args);\n      }\n      return newLevel;\n    };\n    const clear$1 = (editor, undoManager, index) => {\n      undoManager.data = [];\n      index.set(0);\n      undoManager.typing = false;\n      editor.dispatch('ClearUndos');\n    };\n    const extra$1 = (editor, undoManager, index, callback1, callback2) => {\n      if (undoManager.transact(callback1)) {\n        const bookmark = undoManager.data[index.get()].bookmark;\n        const lastLevel = undoManager.data[index.get() - 1];\n        applyToEditor(editor, lastLevel, true);\n        if (undoManager.transact(callback2)) {\n          undoManager.data[index.get() - 1].beforeBookmark = bookmark;\n        }\n      }\n    };\n    const redo$1 = (editor, index, data) => {\n      let level;\n      if (index.get() < data.length - 1) {\n        index.set(index.get() + 1);\n        level = data[index.get()];\n        applyToEditor(editor, level, false);\n        editor.setDirty(true);\n        editor.dispatch('Redo', { level });\n      }\n      return level;\n    };\n    const undo$1 = (editor, undoManager, locks, index) => {\n      let level;\n      if (undoManager.typing) {\n        undoManager.add();\n        undoManager.typing = false;\n        setTyping(undoManager, false, locks);\n      }\n      if (index.get() > 0) {\n        index.set(index.get() - 1);\n        level = undoManager.data[index.get()];\n        applyToEditor(editor, level, true);\n        editor.setDirty(true);\n        editor.dispatch('Undo', { level });\n      }\n      return level;\n    };\n    const reset$1 = undoManager => {\n      undoManager.clear();\n      undoManager.add();\n    };\n    const hasUndo$1 = (editor, undoManager, index) => index.get() > 0 || undoManager.typing && undoManager.data[0] && !isEq$1(createFromEditor(editor), undoManager.data[0]);\n    const hasRedo$1 = (undoManager, index) => index.get() < undoManager.data.length - 1 && !undoManager.typing;\n    const transact$1 = (undoManager, locks, callback) => {\n      endTyping(undoManager, locks);\n      undoManager.beforeChange();\n      undoManager.ignore(callback);\n      return undoManager.add();\n    };\n    const ignore$1 = (locks, callback) => {\n      try {\n        locks.set(locks.get() + 1);\n        callback();\n      } finally {\n        locks.set(locks.get() - 1);\n      }\n    };\n\n    const addVisualInternal = (editor, elm) => {\n      const dom = editor.dom;\n      const scope = isNonNullable(elm) ? elm : editor.getBody();\n      each$e(dom.select('table,a', scope), matchedElm => {\n        switch (matchedElm.nodeName) {\n        case 'TABLE':\n          const cls = getVisualAidsTableClass(editor);\n          const value = dom.getAttrib(matchedElm, 'border');\n          if ((!value || value === '0') && editor.hasVisual) {\n            dom.addClass(matchedElm, cls);\n          } else {\n            dom.removeClass(matchedElm, cls);\n          }\n          break;\n        case 'A':\n          if (!dom.getAttrib(matchedElm, 'href')) {\n            const value = dom.getAttrib(matchedElm, 'name') || matchedElm.id;\n            const cls = getVisualAidsAnchorClass(editor);\n            if (value && editor.hasVisual) {\n              dom.addClass(matchedElm, cls);\n            } else {\n              dom.removeClass(matchedElm, cls);\n            }\n          }\n          break;\n        }\n      });\n      editor.dispatch('VisualAid', {\n        element: elm,\n        hasVisual: editor.hasVisual\n      });\n    };\n\n    const makePlainAdaptor = editor => ({\n      init: { bindEvents: noop },\n      undoManager: {\n        beforeChange: (locks, beforeBookmark) => beforeChange$1(editor, locks, beforeBookmark),\n        add: (undoManager, index, locks, beforeBookmark, level, event) => addUndoLevel$1(editor, undoManager, index, locks, beforeBookmark, level, event),\n        undo: (undoManager, locks, index) => undo$1(editor, undoManager, locks, index),\n        redo: (index, data) => redo$1(editor, index, data),\n        clear: (undoManager, index) => clear$1(editor, undoManager, index),\n        reset: undoManager => reset$1(undoManager),\n        hasUndo: (undoManager, index) => hasUndo$1(editor, undoManager, index),\n        hasRedo: (undoManager, index) => hasRedo$1(undoManager, index),\n        transact: (undoManager, locks, callback) => transact$1(undoManager, locks, callback),\n        ignore: (locks, callback) => ignore$1(locks, callback),\n        extra: (undoManager, index, callback1, callback2) => extra$1(editor, undoManager, index, callback1, callback2)\n      },\n      formatter: {\n        match: (name, vars, node, similar) => match$2(editor, name, vars, node, similar),\n        matchAll: (names, vars) => matchAll(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNode(editor, node, name, vars, similar),\n        canApply: name => canApply(editor, name),\n        closest: names => closest$1(editor, names),\n        apply: (name, vars, node) => applyFormat$1(editor, name, vars, node),\n        remove: (name, vars, node, similar) => remove$2(editor, name, vars, node, similar),\n        toggle: (name, vars, node) => toggle(editor, name, vars, node),\n        formatChanged: (registeredFormatListeners, formats, callback, similar, vars) => formatChangedInternal(editor, registeredFormatListeners, formats, callback, similar, vars)\n      },\n      editor: {\n        getContent: args => getContentInternal(editor, args),\n        setContent: (content, args) => setContentInternal(editor, content, args),\n        insertContent: (value, details) => insertHtmlAtCaret(editor, value, details),\n        addVisual: elm => addVisualInternal(editor, elm)\n      },\n      selection: { getContent: (format, args) => getSelectedContentInternal(editor, format, args) },\n      autocompleter: {\n        addDecoration: range => create$9(editor, range),\n        removeDecoration: () => remove$3(editor, SugarElement.fromDom(editor.getBody()))\n      },\n      raw: { getModel: () => Optional.none() }\n    });\n    const makeRtcAdaptor = rtcEditor => {\n      const defaultVars = vars => isObject(vars) ? vars : {};\n      const {init, undoManager, formatter, editor, selection, autocompleter, raw} = rtcEditor;\n      return {\n        init: { bindEvents: init.bindEvents },\n        undoManager: {\n          beforeChange: undoManager.beforeChange,\n          add: undoManager.add,\n          undo: undoManager.undo,\n          redo: undoManager.redo,\n          clear: undoManager.clear,\n          reset: undoManager.reset,\n          hasUndo: undoManager.hasUndo,\n          hasRedo: undoManager.hasRedo,\n          transact: (_undoManager, _locks, fn) => undoManager.transact(fn),\n          ignore: (_locks, callback) => undoManager.ignore(callback),\n          extra: (_undoManager, _index, callback1, callback2) => undoManager.extra(callback1, callback2)\n        },\n        formatter: {\n          match: (name, vars, _node, similar) => formatter.match(name, defaultVars(vars), similar),\n          matchAll: formatter.matchAll,\n          matchNode: formatter.matchNode,\n          canApply: name => formatter.canApply(name),\n          closest: names => formatter.closest(names),\n          apply: (name, vars, _node) => formatter.apply(name, defaultVars(vars)),\n          remove: (name, vars, _node, _similar) => formatter.remove(name, defaultVars(vars)),\n          toggle: (name, vars, _node) => formatter.toggle(name, defaultVars(vars)),\n          formatChanged: (_rfl, formats, callback, similar, vars) => formatter.formatChanged(formats, callback, similar, vars)\n        },\n        editor: {\n          getContent: args => editor.getContent(args),\n          setContent: (content, args) => {\n            return {\n              content: editor.setContent(content, args),\n              html: ''\n            };\n          },\n          insertContent: (content, _details) => {\n            editor.insertContent(content);\n            return '';\n          },\n          addVisual: editor.addVisual\n        },\n        selection: { getContent: (_format, args) => selection.getContent(args) },\n        autocompleter: {\n          addDecoration: autocompleter.addDecoration,\n          removeDecoration: autocompleter.removeDecoration\n        },\n        raw: { getModel: () => Optional.some(raw.getRawModel()) }\n      };\n    };\n    const makeNoopAdaptor = () => {\n      const nul = constant(null);\n      const empty = constant('');\n      return {\n        init: { bindEvents: noop },\n        undoManager: {\n          beforeChange: noop,\n          add: nul,\n          undo: nul,\n          redo: nul,\n          clear: noop,\n          reset: noop,\n          hasUndo: never,\n          hasRedo: never,\n          transact: nul,\n          ignore: noop,\n          extra: noop\n        },\n        formatter: {\n          match: never,\n          matchAll: constant([]),\n          matchNode: constant(undefined),\n          canApply: never,\n          closest: empty,\n          apply: noop,\n          remove: noop,\n          toggle: noop,\n          formatChanged: constant({ unbind: noop })\n        },\n        editor: {\n          getContent: empty,\n          setContent: constant({\n            content: '',\n            html: ''\n          }),\n          insertContent: constant(''),\n          addVisual: noop\n        },\n        selection: { getContent: empty },\n        autocompleter: {\n          addDecoration: noop,\n          removeDecoration: noop\n        },\n        raw: { getModel: constant(Optional.none()) }\n      };\n    };\n    const isRtc = editor => has$2(editor.plugins, 'rtc');\n    const getRtcSetup = editor => get$a(editor.plugins, 'rtc').bind(rtcPlugin => Optional.from(rtcPlugin.setup));\n    const setup$s = editor => {\n      const editorCast = editor;\n      return getRtcSetup(editor).fold(() => {\n        editorCast.rtcInstance = makePlainAdaptor(editor);\n        return Optional.none();\n      }, setup => {\n        editorCast.rtcInstance = makeNoopAdaptor();\n        return Optional.some(() => setup().then(rtcEditor => {\n          editorCast.rtcInstance = makeRtcAdaptor(rtcEditor);\n          return rtcEditor.rtc.isRemote;\n        }));\n      });\n    };\n    const getRtcInstanceWithFallback = editor => editor.rtcInstance ? editor.rtcInstance : makePlainAdaptor(editor);\n    const getRtcInstanceWithError = editor => {\n      const rtcInstance = editor.rtcInstance;\n      if (!rtcInstance) {\n        throw new Error('Failed to get RTC instance not yet initialized.');\n      } else {\n        return rtcInstance;\n      }\n    };\n    const beforeChange = (editor, locks, beforeBookmark) => {\n      getRtcInstanceWithError(editor).undoManager.beforeChange(locks, beforeBookmark);\n    };\n    const addUndoLevel = (editor, undoManager, index, locks, beforeBookmark, level, event) => getRtcInstanceWithError(editor).undoManager.add(undoManager, index, locks, beforeBookmark, level, event);\n    const undo = (editor, undoManager, locks, index) => getRtcInstanceWithError(editor).undoManager.undo(undoManager, locks, index);\n    const redo = (editor, index, data) => getRtcInstanceWithError(editor).undoManager.redo(index, data);\n    const clear = (editor, undoManager, index) => {\n      getRtcInstanceWithError(editor).undoManager.clear(undoManager, index);\n    };\n    const reset = (editor, undoManager) => {\n      getRtcInstanceWithError(editor).undoManager.reset(undoManager);\n    };\n    const hasUndo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasUndo(undoManager, index);\n    const hasRedo = (editor, undoManager, index) => getRtcInstanceWithError(editor).undoManager.hasRedo(undoManager, index);\n    const transact = (editor, undoManager, locks, callback) => getRtcInstanceWithError(editor).undoManager.transact(undoManager, locks, callback);\n    const ignore = (editor, locks, callback) => {\n      getRtcInstanceWithError(editor).undoManager.ignore(locks, callback);\n    };\n    const extra = (editor, undoManager, index, callback1, callback2) => {\n      getRtcInstanceWithError(editor).undoManager.extra(undoManager, index, callback1, callback2);\n    };\n    const matchFormat = (editor, name, vars, node, similar) => getRtcInstanceWithError(editor).formatter.match(name, vars, node, similar);\n    const matchAllFormats = (editor, names, vars) => getRtcInstanceWithError(editor).formatter.matchAll(names, vars);\n    const matchNodeFormat = (editor, node, name, vars, similar) => getRtcInstanceWithError(editor).formatter.matchNode(node, name, vars, similar);\n    const canApplyFormat = (editor, name) => getRtcInstanceWithError(editor).formatter.canApply(name);\n    const closestFormat = (editor, names) => getRtcInstanceWithError(editor).formatter.closest(names);\n    const applyFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.apply(name, vars, node);\n    };\n    const removeFormat = (editor, name, vars, node, similar) => {\n      getRtcInstanceWithError(editor).formatter.remove(name, vars, node, similar);\n    };\n    const toggleFormat = (editor, name, vars, node) => {\n      getRtcInstanceWithError(editor).formatter.toggle(name, vars, node);\n    };\n    const formatChanged = (editor, registeredFormatListeners, formats, callback, similar, vars) => getRtcInstanceWithError(editor).formatter.formatChanged(registeredFormatListeners, formats, callback, similar, vars);\n    const getContent$2 = (editor, args) => getRtcInstanceWithFallback(editor).editor.getContent(args);\n    const setContent$2 = (editor, content, args) => getRtcInstanceWithFallback(editor).editor.setContent(content, args);\n    const insertContent$1 = (editor, value, details) => getRtcInstanceWithFallback(editor).editor.insertContent(value, details);\n    const getSelectedContent = (editor, format, args) => getRtcInstanceWithError(editor).selection.getContent(format, args);\n    const addVisual$1 = (editor, elm) => getRtcInstanceWithError(editor).editor.addVisual(elm);\n    const bindEvents = editor => getRtcInstanceWithError(editor).init.bindEvents();\n    const addAutocompleterDecoration = (editor, range) => getRtcInstanceWithError(editor).autocompleter.addDecoration(range);\n    const removeAutocompleterDecoration = editor => getRtcInstanceWithError(editor).autocompleter.removeDecoration();\n\n    const getContent$1 = (editor, args = {}) => {\n      const format = args.format ? args.format : 'html';\n      return getSelectedContent(editor, format, args);\n    };\n\n    const removeEmpty = text => {\n      if (text.dom.length === 0) {\n        remove$6(text);\n        return Optional.none();\n      } else {\n        return Optional.some(text);\n      }\n    };\n    const walkPastBookmark = (node, start) => node.filter(elm => BookmarkManager.isBookmarkNode(elm.dom)).bind(start ? nextSibling : prevSibling);\n    const merge$1 = (outer, inner, rng, start) => {\n      const outerElm = outer.dom;\n      const innerElm = inner.dom;\n      const oldLength = start ? outerElm.length : innerElm.length;\n      if (start) {\n        mergeTextNodes(outerElm, innerElm, false, !start);\n        rng.setStart(innerElm, oldLength);\n      } else {\n        mergeTextNodes(innerElm, outerElm, false, !start);\n        rng.setEnd(innerElm, oldLength);\n      }\n    };\n    const normalizeTextIfRequired = (inner, start) => {\n      parent(inner).each(root => {\n        const text = inner.dom;\n        if (start && needsToBeNbspLeft(root, CaretPosition(text, 0))) {\n          normalizeWhitespaceAfter(text, 0);\n        } else if (!start && needsToBeNbspRight(root, CaretPosition(text, text.length))) {\n          normalizeWhitespaceBefore(text, text.length);\n        }\n      });\n    };\n    const mergeAndNormalizeText = (outerNode, innerNode, rng, start) => {\n      outerNode.bind(outer => {\n        const normalizer = start ? normalizeWhitespaceBefore : normalizeWhitespaceAfter;\n        normalizer(outer.dom, start ? outer.dom.length : 0);\n        return innerNode.filter(isText$b).map(inner => merge$1(outer, inner, rng, start));\n      }).orThunk(() => {\n        const innerTextNode = walkPastBookmark(innerNode, start).or(innerNode).filter(isText$b);\n        return innerTextNode.map(inner => normalizeTextIfRequired(inner, start));\n      });\n    };\n    const rngSetContent = (rng, fragment) => {\n      const firstChild = Optional.from(fragment.firstChild).map(SugarElement.fromDom);\n      const lastChild = Optional.from(fragment.lastChild).map(SugarElement.fromDom);\n      rng.deleteContents();\n      rng.insertNode(fragment);\n      const prevText = firstChild.bind(prevSibling).filter(isText$b).bind(removeEmpty);\n      const nextText = lastChild.bind(nextSibling).filter(isText$b).bind(removeEmpty);\n      mergeAndNormalizeText(prevText, firstChild, rng, true);\n      mergeAndNormalizeText(nextText, lastChild, rng, false);\n      rng.collapse(false);\n    };\n    const setupArgs$2 = (args, content) => ({\n      format: 'html',\n      ...args,\n      set: true,\n      selection: true,\n      content\n    });\n    const cleanContent = (editor, args) => {\n      if (args.format !== 'raw') {\n        const rng = editor.selection.getRng();\n        const contextBlock = editor.dom.getParent(rng.commonAncestorContainer, editor.dom.isBlock);\n        const contextArgs = contextBlock ? { context: contextBlock.nodeName.toLowerCase() } : {};\n        const node = editor.parser.parse(args.content, {\n          forced_root_block: false,\n          ...contextArgs,\n          ...args\n        });\n        return HtmlSerializer({ validate: false }, editor.schema).serialize(node);\n      } else {\n        return args.content;\n      }\n    };\n    const setContent$1 = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs$2(args, content);\n      preProcessSetContent(editor, defaultedArgs).each(updatedArgs => {\n        const cleanedContent = cleanContent(editor, updatedArgs);\n        const rng = editor.selection.getRng();\n        rngSetContent(rng, rng.createContextualFragment(cleanedContent));\n        editor.selection.setRng(rng);\n        scrollRangeIntoView(editor, rng);\n        postProcessSetContent(editor, cleanedContent, updatedArgs);\n      });\n    };\n\n    const deleteFromCallbackMap = (callbackMap, selector, callback) => {\n      if (has$2(callbackMap, selector)) {\n        const newCallbacks = filter$5(callbackMap[selector], cb => cb !== callback);\n        if (newCallbacks.length === 0) {\n          delete callbackMap[selector];\n        } else {\n          callbackMap[selector] = newCallbacks;\n        }\n      }\n    };\n    var SelectorChanged = (dom, editor) => {\n      let selectorChangedData;\n      let currentSelectors;\n      const findMatchingNode = (selector, nodes) => find$2(nodes, node => dom.is(node, selector));\n      const getParents = elem => dom.getParents(elem, undefined, dom.getRoot());\n      const setup = () => {\n        selectorChangedData = {};\n        currentSelectors = {};\n        editor.on('NodeChange', e => {\n          const node = e.element;\n          const parents = getParents(node);\n          const matchedSelectors = {};\n          each$d(selectorChangedData, (callbacks, selector) => {\n            findMatchingNode(selector, parents).each(node => {\n              if (!currentSelectors[selector]) {\n                each$e(callbacks, callback => {\n                  callback(true, {\n                    node,\n                    selector,\n                    parents\n                  });\n                });\n                currentSelectors[selector] = callbacks;\n              }\n              matchedSelectors[selector] = callbacks;\n            });\n          });\n          each$d(currentSelectors, (callbacks, selector) => {\n            if (!matchedSelectors[selector]) {\n              delete currentSelectors[selector];\n              each$e(callbacks, callback => {\n                callback(false, {\n                  node,\n                  selector,\n                  parents\n                });\n              });\n            }\n          });\n        });\n      };\n      return {\n        selectorChangedWithUnbind: (selector, callback) => {\n          if (!selectorChangedData) {\n            setup();\n          }\n          if (!selectorChangedData[selector]) {\n            selectorChangedData[selector] = [];\n          }\n          selectorChangedData[selector].push(callback);\n          findMatchingNode(selector, getParents(editor.selection.getStart())).each(() => {\n            currentSelectors[selector] = selectorChangedData[selector];\n          });\n          return {\n            unbind: () => {\n              deleteFromCallbackMap(selectorChangedData, selector, callback);\n              deleteFromCallbackMap(currentSelectors, selector, callback);\n            }\n          };\n        }\n      };\n    };\n\n    const isAttachedToDom = node => {\n      return !!(node && node.ownerDocument) && contains(SugarElement.fromDom(node.ownerDocument), SugarElement.fromDom(node));\n    };\n    const isValidRange = rng => {\n      if (!rng) {\n        return false;\n      } else {\n        return isAttachedToDom(rng.startContainer) && isAttachedToDom(rng.endContainer);\n      }\n    };\n    const EditorSelection = (dom, win, serializer, editor) => {\n      let selectedRange;\n      let explicitRange;\n      const {selectorChangedWithUnbind} = SelectorChanged(dom, editor);\n      const setCursorLocation = (node, offset) => {\n        const rng = dom.createRng();\n        if (isNonNullable(node) && isNonNullable(offset)) {\n          rng.setStart(node, offset);\n          rng.setEnd(node, offset);\n          setRng(rng);\n          collapse(false);\n        } else {\n          moveEndPoint(dom, rng, editor.getBody(), true);\n          setRng(rng);\n        }\n      };\n      const getContent = args => getContent$1(editor, args);\n      const setContent = (content, args) => setContent$1(editor, content, args);\n      const getStart$1 = real => getStart(editor.getBody(), getRng$1(), real);\n      const getEnd = real => getEnd$1(editor.getBody(), getRng$1(), real);\n      const getBookmark = (type, normalized) => bookmarkManager.getBookmark(type, normalized);\n      const moveToBookmark = bookmark => bookmarkManager.moveToBookmark(bookmark);\n      const select$1 = (node, content) => {\n        select(dom, node, content).each(setRng);\n        return node;\n      };\n      const isCollapsed = () => {\n        const rng = getRng$1(), sel = getSel();\n        if (!rng || rng.item) {\n          return false;\n        }\n        if (rng.compareEndPoints) {\n          return rng.compareEndPoints('StartToEnd', rng) === 0;\n        }\n        return !sel || rng.collapsed;\n      };\n      const collapse = toStart => {\n        const rng = getRng$1();\n        rng.collapse(!!toStart);\n        setRng(rng);\n      };\n      const getSel = () => win.getSelection ? win.getSelection() : win.document.selection;\n      const getRng$1 = () => {\n        let rng;\n        const tryCompareBoundaryPoints = (how, sourceRange, destinationRange) => {\n          try {\n            return sourceRange.compareBoundaryPoints(how, destinationRange);\n          } catch (ex) {\n            return -1;\n          }\n        };\n        const doc = win.document;\n        if (isNonNullable(editor.bookmark) && !hasFocus(editor)) {\n          const bookmark = getRng(editor);\n          if (bookmark.isSome()) {\n            return bookmark.map(r => processRanges(editor, [r])[0]).getOr(doc.createRange());\n          }\n        }\n        try {\n          const selection = getSel();\n          if (selection && !isRestrictedNode(selection.anchorNode)) {\n            if (selection.rangeCount > 0) {\n              rng = selection.getRangeAt(0);\n            } else {\n              rng = doc.createRange();\n            }\n            rng = processRanges(editor, [rng])[0];\n          }\n        } catch (ex) {\n        }\n        if (!rng) {\n          rng = doc.createRange();\n        }\n        if (isDocument$1(rng.startContainer) && rng.collapsed) {\n          const elm = dom.getRoot();\n          rng.setStart(elm, 0);\n          rng.setEnd(elm, 0);\n        }\n        if (selectedRange && explicitRange) {\n          if (tryCompareBoundaryPoints(rng.START_TO_START, rng, selectedRange) === 0 && tryCompareBoundaryPoints(rng.END_TO_END, rng, selectedRange) === 0) {\n            rng = explicitRange;\n          } else {\n            selectedRange = null;\n            explicitRange = null;\n          }\n        }\n        return rng;\n      };\n      const setRng = (rng, forward) => {\n        if (!isValidRange(rng)) {\n          return;\n        }\n        const sel = getSel();\n        const evt = editor.dispatch('SetSelectionRange', {\n          range: rng,\n          forward\n        });\n        rng = evt.range;\n        if (sel) {\n          explicitRange = rng;\n          try {\n            sel.removeAllRanges();\n            sel.addRange(rng);\n          } catch (ex) {\n          }\n          if (forward === false && sel.extend) {\n            sel.collapse(rng.endContainer, rng.endOffset);\n            sel.extend(rng.startContainer, rng.startOffset);\n          }\n          selectedRange = sel.rangeCount > 0 ? sel.getRangeAt(0) : null;\n        }\n        if (!rng.collapsed && rng.startContainer === rng.endContainer && (sel === null || sel === void 0 ? void 0 : sel.setBaseAndExtent)) {\n          if (rng.endOffset - rng.startOffset < 2) {\n            if (rng.startContainer.hasChildNodes()) {\n              const node = rng.startContainer.childNodes[rng.startOffset];\n              if (node && node.nodeName === 'IMG') {\n                sel.setBaseAndExtent(rng.startContainer, rng.startOffset, rng.endContainer, rng.endOffset);\n                if (sel.anchorNode !== rng.startContainer || sel.focusNode !== rng.endContainer) {\n                  sel.setBaseAndExtent(node, 0, node, 1);\n                }\n              }\n            }\n          }\n        }\n        editor.dispatch('AfterSetSelectionRange', {\n          range: rng,\n          forward\n        });\n      };\n      const setNode = elm => {\n        setContent(dom.getOuterHTML(elm));\n        return elm;\n      };\n      const getNode$1 = () => getNode(editor.getBody(), getRng$1());\n      const getSelectedBlocks$1 = (startElm, endElm) => getSelectedBlocks(dom, getRng$1(), startElm, endElm);\n      const isForward = () => {\n        const sel = getSel();\n        const anchorNode = sel === null || sel === void 0 ? void 0 : sel.anchorNode;\n        const focusNode = sel === null || sel === void 0 ? void 0 : sel.focusNode;\n        if (!sel || !anchorNode || !focusNode || isRestrictedNode(anchorNode) || isRestrictedNode(focusNode)) {\n          return true;\n        }\n        const anchorRange = dom.createRng();\n        const focusRange = dom.createRng();\n        try {\n          anchorRange.setStart(anchorNode, sel.anchorOffset);\n          anchorRange.collapse(true);\n          focusRange.setStart(focusNode, sel.focusOffset);\n          focusRange.collapse(true);\n        } catch (e) {\n          return true;\n        }\n        return anchorRange.compareBoundaryPoints(anchorRange.START_TO_START, focusRange) <= 0;\n      };\n      const normalize = () => {\n        const rng = getRng$1();\n        const sel = getSel();\n        if (!hasMultipleRanges(sel) && hasAnyRanges(editor)) {\n          const normRng = normalize$2(dom, rng);\n          normRng.each(normRng => {\n            setRng(normRng, isForward());\n          });\n          return normRng.getOr(rng);\n        }\n        return rng;\n      };\n      const selectorChanged = (selector, callback) => {\n        selectorChangedWithUnbind(selector, callback);\n        return exports;\n      };\n      const getScrollContainer = () => {\n        let scrollContainer;\n        let node = dom.getRoot();\n        while (node && node.nodeName !== 'BODY') {\n          if (node.scrollHeight > node.clientHeight) {\n            scrollContainer = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n        return scrollContainer;\n      };\n      const scrollIntoView = (elm, alignToTop) => {\n        if (isNonNullable(elm)) {\n          scrollElementIntoView(editor, elm, alignToTop);\n        } else {\n          scrollRangeIntoView(editor, getRng$1(), alignToTop);\n        }\n      };\n      const placeCaretAt = (clientX, clientY) => setRng(fromPoint(clientX, clientY, editor.getDoc()));\n      const getBoundingClientRect = () => {\n        const rng = getRng$1();\n        return rng.collapsed ? CaretPosition.fromRangeStart(rng).getClientRects()[0] : rng.getBoundingClientRect();\n      };\n      const destroy = () => {\n        win = selectedRange = explicitRange = null;\n        controlSelection.destroy();\n      };\n      const expand = (options = { type: 'word' }) => setRng(RangeUtils(dom).expand(getRng$1(), options));\n      const exports = {\n        dom,\n        win,\n        serializer,\n        editor,\n        expand,\n        collapse,\n        setCursorLocation,\n        getContent,\n        setContent,\n        getBookmark,\n        moveToBookmark,\n        select: select$1,\n        isCollapsed,\n        isForward,\n        setNode,\n        getNode: getNode$1,\n        getSel,\n        setRng,\n        getRng: getRng$1,\n        getStart: getStart$1,\n        getEnd,\n        getSelectedBlocks: getSelectedBlocks$1,\n        normalize,\n        selectorChanged,\n        selectorChangedWithUnbind,\n        getScrollContainer,\n        scrollIntoView,\n        placeCaretAt,\n        getBoundingClientRect,\n        destroy\n      };\n      const bookmarkManager = BookmarkManager(exports);\n      const controlSelection = ControlSelection(exports, editor);\n      exports.bookmarkManager = bookmarkManager;\n      exports.controlSelection = controlSelection;\n      return exports;\n    };\n\n    const register$3 = (htmlParser, settings, dom) => {\n      htmlParser.addAttributeFilter('data-mce-tabindex', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          node.attr('tabindex', node.attr('data-mce-tabindex'));\n          node.attr(name, null);\n        }\n      });\n      htmlParser.addAttributeFilter('src,href,style', (nodes, name) => {\n        const internalName = 'data-mce-' + name;\n        const urlConverter = settings.url_converter;\n        const urlConverterScope = settings.url_converter_scope;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr(internalName);\n          if (value !== undefined) {\n            node.attr(name, value.length > 0 ? value : null);\n            node.attr(internalName, null);\n          } else {\n            value = node.attr(name);\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n            } else if (urlConverter) {\n              value = urlConverter.call(urlConverterScope, value, name, node.name);\n            }\n            node.attr(name, value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr('class');\n          if (value) {\n            value = value.replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g, '');\n            node.attr('class', value.length > 0 ? value : null);\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', (nodes, name, args) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.attr('data-mce-type') === 'bookmark' && !args.cleanup) {\n            const hasChildren = Optional.from(node.firstChild).exists(firstChild => {\n              var _a;\n              return !isZwsp((_a = firstChild.value) !== null && _a !== void 0 ? _a : '');\n            });\n            if (hasChildren) {\n              node.unwrap();\n            } else {\n              node.remove();\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('noscript', nodes => {\n        var _a;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i].firstChild;\n          if (node) {\n            node.value = Entities.decode((_a = node.value) !== null && _a !== void 0 ? _a : '');\n          }\n        }\n      });\n      htmlParser.addNodeFilter('script,style', (nodes, name) => {\n        var _a;\n        const trim = value => {\n          return value.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g, '\\n').replace(/^[\\r\\n]*|[\\r\\n]*$/g, '').replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi, '').replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g, '');\n        };\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const firstChild = node.firstChild;\n          const value = (_a = firstChild === null || firstChild === void 0 ? void 0 : firstChild.value) !== null && _a !== void 0 ? _a : '';\n          if (name === 'script') {\n            const type = node.attr('type');\n            if (type) {\n              node.attr('type', type === 'mce-no/type' ? null : type.replace(/^mce\\-/, ''));\n            }\n            if (settings.element_format === 'xhtml' && firstChild && value.length > 0) {\n              firstChild.value = '// <![CDATA[\\n' + trim(value) + '\\n// ]]>';\n            }\n          } else {\n            if (settings.element_format === 'xhtml' && firstChild && value.length > 0) {\n              firstChild.value = '<!--\\n' + trim(value) + '\\n-->';\n            }\n          }\n        }\n      });\n      htmlParser.addNodeFilter('#comment', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const value = node.value;\n          if (settings.preserve_cdata && (value === null || value === void 0 ? void 0 : value.indexOf('[CDATA[')) === 0) {\n            node.name = '#cdata';\n            node.type = 4;\n            node.value = dom.decode(value.replace(/^\\[CDATA\\[|\\]\\]$/g, ''));\n          } else if ((value === null || value === void 0 ? void 0 : value.indexOf('mce:protected ')) === 0) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = unescape(value).substr(14);\n          }\n        }\n      });\n      htmlParser.addNodeFilter('xml:namespace,input', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (node.type === 7) {\n            node.remove();\n          } else if (node.type === 1) {\n            if (name === 'input' && !node.attr('type')) {\n              node.attr('type', 'text');\n            }\n          }\n        }\n      });\n      htmlParser.addAttributeFilter('data-mce-type', nodes => {\n        each$e(nodes, node => {\n          if (node.attr('data-mce-type') === 'format-caret') {\n            if (node.isEmpty(htmlParser.schema.getNonEmptyElements())) {\n              node.remove();\n            } else {\n              node.unwrap();\n            }\n          }\n        });\n      });\n      htmlParser.addAttributeFilter('data-mce-src,data-mce-href,data-mce-style,' + 'data-mce-selected,data-mce-expando,data-mce-block,' + 'data-mce-type,data-mce-resize,data-mce-placeholder', (nodes, name) => {\n        let i = nodes.length;\n        while (i--) {\n          nodes[i].attr(name, null);\n        }\n      });\n    };\n    const trimTrailingBr = rootNode => {\n      const isBr = node => {\n        return (node === null || node === void 0 ? void 0 : node.name) === 'br';\n      };\n      const brNode1 = rootNode.lastChild;\n      if (isBr(brNode1)) {\n        const brNode2 = brNode1.prev;\n        if (isBr(brNode2)) {\n          brNode1.remove();\n          brNode2.remove();\n        }\n      }\n    };\n\n    const preProcess$1 = (editor, node, args) => {\n      let oldDoc;\n      const dom = editor.dom;\n      let clonedNode = node.cloneNode(true);\n      const impl = document.implementation;\n      if (impl.createHTMLDocument) {\n        const doc = impl.createHTMLDocument('');\n        Tools.each(clonedNode.nodeName === 'BODY' ? clonedNode.childNodes : [clonedNode], node => {\n          doc.body.appendChild(doc.importNode(node, true));\n        });\n        if (clonedNode.nodeName !== 'BODY') {\n          clonedNode = doc.body.firstChild;\n        } else {\n          clonedNode = doc.body;\n        }\n        oldDoc = dom.doc;\n        dom.doc = doc;\n      }\n      firePreProcess(editor, {\n        ...args,\n        node: clonedNode\n      });\n      if (oldDoc) {\n        dom.doc = oldDoc;\n      }\n      return clonedNode;\n    };\n    const shouldFireEvent = (editor, args) => {\n      return isNonNullable(editor) && editor.hasEventListeners('PreProcess') && !args.no_events;\n    };\n    const process$1 = (editor, node, args) => {\n      return shouldFireEvent(editor, args) ? preProcess$1(editor, node, args) : node;\n    };\n\n    const addTempAttr = (htmlParser, tempAttrs, name) => {\n      if (Tools.inArray(tempAttrs, name) === -1) {\n        htmlParser.addAttributeFilter(name, (nodes, name) => {\n          let i = nodes.length;\n          while (i--) {\n            nodes[i].attr(name, null);\n          }\n        });\n        tempAttrs.push(name);\n      }\n    };\n    const postProcess = (editor, args, content) => {\n      if (!args.no_events && editor) {\n        const outArgs = firePostProcess(editor, {\n          ...args,\n          content\n        });\n        return outArgs.content;\n      } else {\n        return content;\n      }\n    };\n    const getHtmlFromNode = (dom, node, args) => {\n      const html = trim$1(args.getInner ? node.innerHTML : dom.getOuterHTML(node));\n      return args.selection || isWsPreserveElement(SugarElement.fromDom(node)) ? html : Tools.trim(html);\n    };\n    const parseHtml = (htmlParser, html, args) => {\n      const parserArgs = args.selection ? {\n        forced_root_block: false,\n        ...args\n      } : args;\n      const rootNode = htmlParser.parse(html, parserArgs);\n      trimTrailingBr(rootNode);\n      return rootNode;\n    };\n    const serializeNode = (settings, schema, node) => {\n      const htmlSerializer = HtmlSerializer(settings, schema);\n      return htmlSerializer.serialize(node);\n    };\n    const toHtml = (editor, settings, schema, rootNode, args) => {\n      const content = serializeNode(settings, schema, rootNode);\n      return postProcess(editor, args, content);\n    };\n    const DomSerializerImpl = (settings, editor) => {\n      const tempAttrs = ['data-mce-selected'];\n      const dom = editor && editor.dom ? editor.dom : DOMUtils.DOM;\n      const schema = editor && editor.schema ? editor.schema : Schema(settings);\n      settings.entity_encoding = settings.entity_encoding || 'named';\n      settings.remove_trailing_brs = 'remove_trailing_brs' in settings ? settings.remove_trailing_brs : true;\n      const htmlParser = DomParser(settings, schema);\n      register$3(htmlParser, settings, dom);\n      const serialize = (node, parserArgs = {}) => {\n        const args = {\n          format: 'html',\n          ...parserArgs\n        };\n        const targetNode = process$1(editor, node, args);\n        const html = getHtmlFromNode(dom, targetNode, args);\n        const rootNode = parseHtml(htmlParser, html, args);\n        return args.format === 'tree' ? rootNode : toHtml(editor, settings, schema, rootNode, args);\n      };\n      return {\n        schema,\n        addNodeFilter: htmlParser.addNodeFilter,\n        addAttributeFilter: htmlParser.addAttributeFilter,\n        serialize: serialize,\n        addRules: schema.addValidElements,\n        setRules: schema.setValidElements,\n        addTempAttr: curry(addTempAttr, htmlParser, tempAttrs),\n        getTempAttrs: constant(tempAttrs),\n        getNodeFilters: htmlParser.getNodeFilters,\n        getAttributeFilters: htmlParser.getAttributeFilters,\n        removeNodeFilter: htmlParser.removeNodeFilter,\n        removeAttributeFilter: htmlParser.removeAttributeFilter\n      };\n    };\n\n    const DomSerializer = (settings, editor) => {\n      const domSerializer = DomSerializerImpl(settings, editor);\n      return {\n        schema: domSerializer.schema,\n        addNodeFilter: domSerializer.addNodeFilter,\n        addAttributeFilter: domSerializer.addAttributeFilter,\n        serialize: domSerializer.serialize,\n        addRules: domSerializer.addRules,\n        setRules: domSerializer.setRules,\n        addTempAttr: domSerializer.addTempAttr,\n        getTempAttrs: domSerializer.getTempAttrs,\n        getNodeFilters: domSerializer.getNodeFilters,\n        getAttributeFilters: domSerializer.getAttributeFilters,\n        removeNodeFilter: domSerializer.removeNodeFilter,\n        removeAttributeFilter: domSerializer.removeAttributeFilter\n      };\n    };\n\n    const defaultFormat$1 = 'html';\n    const setupArgs$1 = (args, format) => ({\n      ...args,\n      format,\n      get: true,\n      getInner: true\n    });\n    const getContent = (editor, args = {}) => {\n      const format = args.format ? args.format : defaultFormat$1;\n      const defaultedArgs = setupArgs$1(args, format);\n      return preProcessGetContent(editor, defaultedArgs).fold(identity, updatedArgs => {\n        const content = getContent$2(editor, updatedArgs);\n        return postProcessGetContent(editor, content, updatedArgs);\n      });\n    };\n\n    const defaultFormat = 'html';\n    const setupArgs = (args, content) => ({\n      format: defaultFormat,\n      ...args,\n      set: true,\n      content\n    });\n    const setContent = (editor, content, args = {}) => {\n      const defaultedArgs = setupArgs(args, content);\n      return preProcessSetContent(editor, defaultedArgs).map(updatedArgs => {\n        const result = setContent$2(editor, updatedArgs.content, updatedArgs);\n        postProcessSetContent(editor, result.html, updatedArgs);\n        return result.content;\n      }).getOr(content);\n    };\n\n    const removedOptions = ('autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,' + 'boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,' + 'force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,' + 'non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,' + 'tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,' + 'paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists').split(',');\n    const removedPlugins = 'bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor'.split(',');\n    const getRemovedOptions = options => {\n      const settingNames = filter$5(removedOptions, setting => has$2(options, setting));\n      const forcedRootBlock = options.forced_root_block;\n      if (forcedRootBlock === false || forcedRootBlock === '') {\n        settingNames.push('forced_root_block (false only)');\n      }\n      return sort(settingNames);\n    };\n    const getRemovedPlugins = options => {\n      const plugins = Tools.makeMap(options.plugins, ' ');\n      const hasPlugin = plugin => has$2(plugins, plugin);\n      const pluginNames = filter$5(removedPlugins, hasPlugin);\n      return sort(pluginNames);\n    };\n    const logRemovedWarnings = (rawOptions, normalizedOptions) => {\n      const removedOptions = getRemovedOptions(rawOptions);\n      const removedPlugins = getRemovedPlugins(normalizedOptions);\n      const hasRemovedPlugins = removedPlugins.length > 0;\n      const hasRemovedOptions = removedOptions.length > 0;\n      const isLegacyMobileTheme = normalizedOptions.theme === 'mobile';\n      if (hasRemovedPlugins || hasRemovedOptions || isLegacyMobileTheme) {\n        const listJoiner = '\\n- ';\n        const themesMessage = isLegacyMobileTheme ? `\\n\\nThemes:${ listJoiner }mobile` : '';\n        const pluginsMessage = hasRemovedPlugins ? `\\n\\nPlugins:${ listJoiner }${ removedPlugins.join(listJoiner) }` : '';\n        const optionsMessage = hasRemovedOptions ? `\\n\\nOptions:${ listJoiner }${ removedOptions.join(listJoiner) }` : '';\n        console.warn('The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. ' + 'See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information.' + themesMessage + pluginsMessage + optionsMessage);\n      }\n    };\n    const logWarnings = (rawOptions, normalizedOptions) => {\n      logRemovedWarnings(rawOptions, normalizedOptions);\n    };\n\n    const DOM$8 = DOMUtils.DOM;\n    const restoreOriginalStyles = editor => {\n      DOM$8.setStyle(editor.id, 'display', editor.orgDisplay);\n    };\n    const safeDestroy = x => Optional.from(x).each(x => x.destroy());\n    const clearDomReferences = editor => {\n      const ed = editor;\n      ed.contentAreaContainer = ed.formElement = ed.container = ed.editorContainer = null;\n      ed.bodyElement = ed.contentDocument = ed.contentWindow = null;\n      ed.iframeElement = ed.targetElm = null;\n      const selection = editor.selection;\n      if (selection) {\n        const dom = selection.dom;\n        ed.selection = selection.win = selection.dom = dom.doc = null;\n      }\n    };\n    const restoreForm = editor => {\n      const form = editor.formElement;\n      if (form) {\n        if (form._mceOldSubmit) {\n          form.submit = form._mceOldSubmit;\n          delete form._mceOldSubmit;\n        }\n        DOM$8.unbind(form, 'submit reset', editor.formEventDelegate);\n      }\n    };\n    const remove$1 = editor => {\n      if (!editor.removed) {\n        const {_selectionOverrides, editorUpload} = editor;\n        const body = editor.getBody();\n        const element = editor.getElement();\n        if (body) {\n          editor.save({ is_removing: true });\n        }\n        editor.removed = true;\n        editor.unbindAllNativeEvents();\n        if (editor.hasHiddenInput && isNonNullable(element === null || element === void 0 ? void 0 : element.nextSibling)) {\n          DOM$8.remove(element.nextSibling);\n        }\n        fireRemove(editor);\n        editor.editorManager.remove(editor);\n        if (!editor.inline && body) {\n          restoreOriginalStyles(editor);\n        }\n        fireDetach(editor);\n        DOM$8.remove(editor.getContainer());\n        safeDestroy(_selectionOverrides);\n        safeDestroy(editorUpload);\n        editor.destroy();\n      }\n    };\n    const destroy = (editor, automatic) => {\n      const {selection, dom} = editor;\n      if (editor.destroyed) {\n        return;\n      }\n      if (!automatic && !editor.removed) {\n        editor.remove();\n        return;\n      }\n      if (!automatic) {\n        editor.editorManager.off('beforeunload', editor._beforeUnload);\n        if (editor.theme && editor.theme.destroy) {\n          editor.theme.destroy();\n        }\n        safeDestroy(selection);\n        safeDestroy(dom);\n      }\n      restoreForm(editor);\n      clearDomReferences(editor);\n      editor.destroyed = true;\n    };\n\n    const CreateIconManager = () => {\n      const lookup = {};\n      const add = (id, iconPack) => {\n        lookup[id] = iconPack;\n      };\n      const get = id => {\n        if (lookup[id]) {\n          return lookup[id];\n        } else {\n          return { icons: {} };\n        }\n      };\n      const has = id => has$2(lookup, id);\n      return {\n        add,\n        get,\n        has\n      };\n    };\n    const IconManager = CreateIconManager();\n\n    const ModelManager = AddOnManager.ModelManager;\n\n    const getProp = (propName, elm) => {\n      const rawElm = elm.dom;\n      return rawElm[propName];\n    };\n    const getComputedSizeProp = (propName, elm) => parseInt(get$7(elm, propName), 10);\n    const getClientWidth = curry(getProp, 'clientWidth');\n    const getClientHeight = curry(getProp, 'clientHeight');\n    const getMarginTop = curry(getComputedSizeProp, 'margin-top');\n    const getMarginLeft = curry(getComputedSizeProp, 'margin-left');\n    const getBoundingClientRect = elm => elm.dom.getBoundingClientRect();\n    const isInsideElementContentArea = (bodyElm, clientX, clientY) => {\n      const clientWidth = getClientWidth(bodyElm);\n      const clientHeight = getClientHeight(bodyElm);\n      return clientX >= 0 && clientY >= 0 && clientX <= clientWidth && clientY <= clientHeight;\n    };\n    const transpose = (inline, elm, clientX, clientY) => {\n      const clientRect = getBoundingClientRect(elm);\n      const deltaX = inline ? clientRect.left + elm.dom.clientLeft + getMarginLeft(elm) : 0;\n      const deltaY = inline ? clientRect.top + elm.dom.clientTop + getMarginTop(elm) : 0;\n      const x = clientX - deltaX;\n      const y = clientY - deltaY;\n      return {\n        x,\n        y\n      };\n    };\n    const isXYInContentArea = (editor, clientX, clientY) => {\n      const bodyElm = SugarElement.fromDom(editor.getBody());\n      const targetElm = editor.inline ? bodyElm : documentElement(bodyElm);\n      const transposedPoint = transpose(editor.inline, targetElm, clientX, clientY);\n      return isInsideElementContentArea(targetElm, transposedPoint.x, transposedPoint.y);\n    };\n    const fromDomSafe = node => Optional.from(node).map(SugarElement.fromDom);\n    const isEditorAttachedToDom = editor => {\n      const rawContainer = editor.inline ? editor.getBody() : editor.getContentAreaContainer();\n      return fromDomSafe(rawContainer).map(inBody).getOr(false);\n    };\n\n    var NotificationManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a NotificationManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        close: unimplemented,\n        getArgs: unimplemented\n      };\n    };\n\n    const NotificationManager = editor => {\n      const notifications = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getNotificationManagerImpl ? theme.getNotificationManagerImpl() : NotificationManagerImpl();\n      };\n      const getTopNotification = () => {\n        return Optional.from(notifications[0]);\n      };\n      const isEqual = (a, b) => {\n        return a.type === b.type && a.text === b.text && !a.progressBar && !a.timeout && !b.progressBar && !b.timeout;\n      };\n      const reposition = () => {\n        each$e(notifications, notification => {\n          notification.reposition();\n        });\n      };\n      const addNotification = notification => {\n        notifications.push(notification);\n      };\n      const closeNotification = notification => {\n        findIndex$2(notifications, otherNotification => {\n          return otherNotification === notification;\n        }).each(index => {\n          notifications.splice(index, 1);\n        });\n      };\n      const open = (spec, fireEvent = true) => {\n        if (editor.removed || !isEditorAttachedToDom(editor)) {\n          return {};\n        }\n        if (fireEvent) {\n          editor.dispatch('BeforeOpenNotification', { notification: spec });\n        }\n        return find$2(notifications, notification => {\n          return isEqual(getImplementation().getArgs(notification), spec);\n        }).getOrThunk(() => {\n          editor.editorManager.setActive(editor);\n          const notification = getImplementation().open(spec, () => {\n            closeNotification(notification);\n            reposition();\n            getTopNotification().fold(() => editor.focus(), top => focus$1(SugarElement.fromDom(top.getEl())));\n          });\n          addNotification(notification);\n          reposition();\n          editor.dispatch('OpenNotification', { notification: { ...notification } });\n          return notification;\n        });\n      };\n      const close = () => {\n        getTopNotification().each(notification => {\n          getImplementation().close(notification);\n          closeNotification(notification);\n          reposition();\n        });\n      };\n      const getNotifications = constant(notifications);\n      const registerEvents = editor => {\n        editor.on('SkinLoaded', () => {\n          const serviceMessage = getServiceMessage(editor);\n          if (serviceMessage) {\n            open({\n              text: serviceMessage,\n              type: 'warning',\n              timeout: 0\n            }, false);\n          }\n          reposition();\n        });\n        editor.on('show ResizeEditor ResizeWindow NodeChange', () => {\n          requestAnimationFrame(reposition);\n        });\n        editor.on('remove', () => {\n          each$e(notifications.slice(), notification => {\n            getImplementation().close(notification);\n          });\n        });\n      };\n      registerEvents(editor);\n      return {\n        open,\n        close,\n        getNotifications\n      };\n    };\n\n    const PluginManager = AddOnManager.PluginManager;\n\n    const ThemeManager = AddOnManager.ThemeManager;\n\n    var WindowManagerImpl = () => {\n      const unimplemented = () => {\n        throw new Error('Theme did not provide a WindowManager implementation.');\n      };\n      return {\n        open: unimplemented,\n        openUrl: unimplemented,\n        alert: unimplemented,\n        confirm: unimplemented,\n        close: unimplemented\n      };\n    };\n\n    const WindowManager = editor => {\n      let dialogs = [];\n      const getImplementation = () => {\n        const theme = editor.theme;\n        return theme && theme.getWindowManagerImpl ? theme.getWindowManagerImpl() : WindowManagerImpl();\n      };\n      const funcBind = (scope, f) => {\n        return (...args) => {\n          return f ? f.apply(scope, args) : undefined;\n        };\n      };\n      const fireOpenEvent = dialog => {\n        editor.dispatch('OpenWindow', { dialog });\n      };\n      const fireCloseEvent = dialog => {\n        editor.dispatch('CloseWindow', { dialog });\n      };\n      const addDialog = dialog => {\n        dialogs.push(dialog);\n        fireOpenEvent(dialog);\n      };\n      const closeDialog = dialog => {\n        fireCloseEvent(dialog);\n        dialogs = filter$5(dialogs, otherDialog => {\n          return otherDialog !== dialog;\n        });\n        if (dialogs.length === 0) {\n          editor.focus();\n        }\n      };\n      const getTopDialog = () => {\n        return Optional.from(dialogs[dialogs.length - 1]);\n      };\n      const storeSelectionAndOpenDialog = openDialog => {\n        editor.editorManager.setActive(editor);\n        store(editor);\n        editor.ui.show();\n        const dialog = openDialog();\n        addDialog(dialog);\n        return dialog;\n      };\n      const open = (args, params) => {\n        return storeSelectionAndOpenDialog(() => getImplementation().open(args, params, closeDialog));\n      };\n      const openUrl = args => {\n        return storeSelectionAndOpenDialog(() => getImplementation().openUrl(args, closeDialog));\n      };\n      const alert = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.alert(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const confirm = (message, callback, scope) => {\n        const windowManagerImpl = getImplementation();\n        windowManagerImpl.confirm(message, funcBind(scope ? scope : windowManagerImpl, callback));\n      };\n      const close = () => {\n        getTopDialog().each(dialog => {\n          getImplementation().close(dialog);\n          closeDialog(dialog);\n        });\n      };\n      editor.on('remove', () => {\n        each$e(dialogs, dialog => {\n          getImplementation().close(dialog);\n        });\n      });\n      return {\n        open,\n        openUrl,\n        alert,\n        confirm,\n        close\n      };\n    };\n\n    const displayNotification = (editor, message) => {\n      editor.notificationManager.open({\n        type: 'error',\n        text: message\n      });\n    };\n    const displayError = (editor, message) => {\n      if (editor._skinLoaded) {\n        displayNotification(editor, message);\n      } else {\n        editor.on('SkinLoaded', () => {\n          displayNotification(editor, message);\n        });\n      }\n    };\n    const uploadError = (editor, message) => {\n      displayError(editor, I18n.translate([\n        'Failed to upload image: {0}',\n        message\n      ]));\n    };\n    const logError = (editor, errorType, msg) => {\n      fireError(editor, errorType, { message: msg });\n      console.error(msg);\n    };\n    const createLoadError = (type, url, name) => name ? `Failed to load ${ type }: ${ name } from url ${ url }` : `Failed to load ${ type } url: ${ url }`;\n    const pluginLoadError = (editor, url, name) => {\n      logError(editor, 'PluginLoadError', createLoadError('plugin', url, name));\n    };\n    const iconsLoadError = (editor, url, name) => {\n      logError(editor, 'IconsLoadError', createLoadError('icons', url, name));\n    };\n    const languageLoadError = (editor, url, name) => {\n      logError(editor, 'LanguageLoadError', createLoadError('language', url, name));\n    };\n    const themeLoadError = (editor, url, name) => {\n      logError(editor, 'ThemeLoadError', createLoadError('theme', url, name));\n    };\n    const modelLoadError = (editor, url, name) => {\n      logError(editor, 'ModelLoadError', createLoadError('model', url, name));\n    };\n    const pluginInitError = (editor, name, err) => {\n      const message = I18n.translate([\n        'Failed to initialize plugin: {0}',\n        name\n      ]);\n      fireError(editor, 'PluginLoadError', { message });\n      initError(message, err);\n      displayError(editor, message);\n    };\n    const initError = (message, ...x) => {\n      const console = window.console;\n      if (console) {\n        if (console.error) {\n          console.error(message, ...x);\n        } else {\n          console.log(message, ...x);\n        }\n      }\n    };\n\n    const isContentCssSkinName = url => /^[a-z0-9\\-]+$/i.test(url);\n    const getContentCssUrls = editor => {\n      return transformToUrls(editor, getContentCss(editor));\n    };\n    const getFontCssUrls = editor => {\n      return transformToUrls(editor, getFontCss(editor));\n    };\n    const transformToUrls = (editor, cssLinks) => {\n      const skinUrl = editor.editorManager.baseURL + '/skins/content';\n      const suffix = editor.editorManager.suffix;\n      const contentCssFile = `content${ suffix }.css`;\n      return map$3(cssLinks, url => {\n        if (isContentCssSkinName(url) && !editor.inline) {\n          return `${ skinUrl }/${ url }/${ contentCssFile }`;\n        } else {\n          return editor.documentBaseURI.toAbsolute(url);\n        }\n      });\n    };\n    const appendContentCssFromSettings = editor => {\n      editor.contentCSS = editor.contentCSS.concat(getContentCssUrls(editor), getFontCssUrls(editor));\n    };\n\n    const filter$1 = always;\n    const bind$1 = (element, event, handler) => bind$2(element, event, filter$1, handler);\n\n    const getAllImages = elm => {\n      return elm ? from(elm.getElementsByTagName('img')) : [];\n    };\n    const ImageScanner = (uploadStatus, blobCache) => {\n      const cachedPromises = {};\n      const findAll = (elm, predicate = always) => {\n        const images = filter$5(getAllImages(elm), img => {\n          const src = img.src;\n          if (img.hasAttribute('data-mce-bogus')) {\n            return false;\n          }\n          if (img.hasAttribute('data-mce-placeholder')) {\n            return false;\n          }\n          if (!src || src === Env.transparentSrc) {\n            return false;\n          }\n          if (startsWith(src, 'blob:')) {\n            return !uploadStatus.isUploaded(src) && predicate(img);\n          }\n          if (startsWith(src, 'data:')) {\n            return predicate(img);\n          }\n          return false;\n        });\n        const promises = map$3(images, img => {\n          const imageSrc = img.src;\n          if (has$2(cachedPromises, imageSrc)) {\n            return cachedPromises[imageSrc].then(imageInfo => {\n              if (isString(imageInfo)) {\n                return imageInfo;\n              } else {\n                return {\n                  image: img,\n                  blobInfo: imageInfo.blobInfo\n                };\n              }\n            });\n          } else {\n            const newPromise = imageToBlobInfo(blobCache, imageSrc).then(blobInfo => {\n              delete cachedPromises[imageSrc];\n              return {\n                image: img,\n                blobInfo\n              };\n            }).catch(error => {\n              delete cachedPromises[imageSrc];\n              return error;\n            });\n            cachedPromises[imageSrc] = newPromise;\n            return newPromise;\n          }\n        });\n        return Promise.all(promises);\n      };\n      return { findAll };\n    };\n\n    const UploadStatus = () => {\n      const PENDING = 1, UPLOADED = 2;\n      let blobUriStatuses = {};\n      const createStatus = (status, resultUri) => {\n        return {\n          status,\n          resultUri\n        };\n      };\n      const hasBlobUri = blobUri => {\n        return blobUri in blobUriStatuses;\n      };\n      const getResultUri = blobUri => {\n        const result = blobUriStatuses[blobUri];\n        return result ? result.resultUri : null;\n      };\n      const isPending = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === PENDING : false;\n      };\n      const isUploaded = blobUri => {\n        return hasBlobUri(blobUri) ? blobUriStatuses[blobUri].status === UPLOADED : false;\n      };\n      const markPending = blobUri => {\n        blobUriStatuses[blobUri] = createStatus(PENDING, null);\n      };\n      const markUploaded = (blobUri, resultUri) => {\n        blobUriStatuses[blobUri] = createStatus(UPLOADED, resultUri);\n      };\n      const removeFailed = blobUri => {\n        delete blobUriStatuses[blobUri];\n      };\n      const destroy = () => {\n        blobUriStatuses = {};\n      };\n      return {\n        hasBlobUri,\n        getResultUri,\n        isPending,\n        isUploaded,\n        markPending,\n        markUploaded,\n        removeFailed,\n        destroy\n      };\n    };\n\n    let count = 0;\n    const seed = () => {\n      const rnd = () => {\n        return Math.round(Math.random() * 4294967295).toString(36);\n      };\n      const now = new Date().getTime();\n      return 's' + now.toString(36) + rnd() + rnd() + rnd();\n    };\n    const uuid = prefix => {\n      return prefix + count++ + seed();\n    };\n\n    const BlobCache = () => {\n      let cache = [];\n      const mimeToExt = mime => {\n        const mimes = {\n          'image/jpeg': 'jpg',\n          'image/jpg': 'jpg',\n          'image/gif': 'gif',\n          'image/png': 'png',\n          'image/apng': 'apng',\n          'image/avif': 'avif',\n          'image/svg+xml': 'svg',\n          'image/webp': 'webp',\n          'image/bmp': 'bmp',\n          'image/tiff': 'tiff'\n        };\n        return mimes[mime.toLowerCase()] || 'dat';\n      };\n      const create = (o, blob, base64, name, filename) => {\n        if (isString(o)) {\n          const id = o;\n          return toBlobInfo({\n            id,\n            name,\n            filename,\n            blob: blob,\n            base64: base64\n          });\n        } else if (isObject(o)) {\n          return toBlobInfo(o);\n        } else {\n          throw new Error('Unknown input type');\n        }\n      };\n      const toBlobInfo = o => {\n        if (!o.blob || !o.base64) {\n          throw new Error('blob and base64 representations of the image are required for BlobInfo to be created');\n        }\n        const id = o.id || uuid('blobid');\n        const name = o.name || id;\n        const blob = o.blob;\n        return {\n          id: constant(id),\n          name: constant(name),\n          filename: constant(o.filename || name + '.' + mimeToExt(blob.type)),\n          blob: constant(blob),\n          base64: constant(o.base64),\n          blobUri: constant(o.blobUri || URL.createObjectURL(blob)),\n          uri: constant(o.uri)\n        };\n      };\n      const add = blobInfo => {\n        if (!get(blobInfo.id())) {\n          cache.push(blobInfo);\n        }\n      };\n      const findFirst = predicate => find$2(cache, predicate).getOrUndefined();\n      const get = id => findFirst(cachedBlobInfo => cachedBlobInfo.id() === id);\n      const getByUri = blobUri => findFirst(blobInfo => blobInfo.blobUri() === blobUri);\n      const getByData = (base64, type) => findFirst(blobInfo => blobInfo.base64() === base64 && blobInfo.blob().type === type);\n      const removeByUri = blobUri => {\n        cache = filter$5(cache, blobInfo => {\n          if (blobInfo.blobUri() === blobUri) {\n            URL.revokeObjectURL(blobInfo.blobUri());\n            return false;\n          }\n          return true;\n        });\n      };\n      const destroy = () => {\n        each$e(cache, cachedBlobInfo => {\n          URL.revokeObjectURL(cachedBlobInfo.blobUri());\n        });\n        cache = [];\n      };\n      return {\n        create,\n        add,\n        get,\n        getByUri,\n        getByData,\n        findFirst,\n        removeByUri,\n        destroy\n      };\n    };\n\n    const Uploader = (uploadStatus, settings) => {\n      const pendingPromises = {};\n      const pathJoin = (path1, path2) => {\n        if (path1) {\n          return path1.replace(/\\/$/, '') + '/' + path2.replace(/^\\//, '');\n        }\n        return path2;\n      };\n      const defaultHandler = (blobInfo, progress) => new Promise((success, failure) => {\n        const xhr = new XMLHttpRequest();\n        xhr.open('POST', settings.url);\n        xhr.withCredentials = settings.credentials;\n        xhr.upload.onprogress = e => {\n          progress(e.loaded / e.total * 100);\n        };\n        xhr.onerror = () => {\n          failure('Image upload failed due to a XHR Transport error. Code: ' + xhr.status);\n        };\n        xhr.onload = () => {\n          if (xhr.status < 200 || xhr.status >= 300) {\n            failure('HTTP Error: ' + xhr.status);\n            return;\n          }\n          const json = JSON.parse(xhr.responseText);\n          if (!json || !isString(json.location)) {\n            failure('Invalid JSON: ' + xhr.responseText);\n            return;\n          }\n          success(pathJoin(settings.basePath, json.location));\n        };\n        const formData = new FormData();\n        formData.append('file', blobInfo.blob(), blobInfo.filename());\n        xhr.send(formData);\n      });\n      const uploadHandler = isFunction(settings.handler) ? settings.handler : defaultHandler;\n      const noUpload = () => new Promise(resolve => {\n        resolve([]);\n      });\n      const handlerSuccess = (blobInfo, url) => ({\n        url,\n        blobInfo,\n        status: true\n      });\n      const handlerFailure = (blobInfo, error) => ({\n        url: '',\n        blobInfo,\n        status: false,\n        error\n      });\n      const resolvePending = (blobUri, result) => {\n        Tools.each(pendingPromises[blobUri], resolve => {\n          resolve(result);\n        });\n        delete pendingPromises[blobUri];\n      };\n      const uploadBlobInfo = (blobInfo, handler, openNotification) => {\n        uploadStatus.markPending(blobInfo.blobUri());\n        return new Promise(resolve => {\n          let notification;\n          let progress;\n          try {\n            const closeNotification = () => {\n              if (notification) {\n                notification.close();\n                progress = noop;\n              }\n            };\n            const success = url => {\n              closeNotification();\n              uploadStatus.markUploaded(blobInfo.blobUri(), url);\n              resolvePending(blobInfo.blobUri(), handlerSuccess(blobInfo, url));\n              resolve(handlerSuccess(blobInfo, url));\n            };\n            const failure = error => {\n              closeNotification();\n              uploadStatus.removeFailed(blobInfo.blobUri());\n              resolvePending(blobInfo.blobUri(), handlerFailure(blobInfo, error));\n              resolve(handlerFailure(blobInfo, error));\n            };\n            progress = percent => {\n              if (percent < 0 || percent > 100) {\n                return;\n              }\n              Optional.from(notification).orThunk(() => Optional.from(openNotification).map(apply$1)).each(n => {\n                notification = n;\n                n.progressBar.value(percent);\n              });\n            };\n            handler(blobInfo, progress).then(success, err => {\n              failure(isString(err) ? { message: err } : err);\n            });\n          } catch (ex) {\n            resolve(handlerFailure(blobInfo, ex));\n          }\n        });\n      };\n      const isDefaultHandler = handler => handler === defaultHandler;\n      const pendingUploadBlobInfo = blobInfo => {\n        const blobUri = blobInfo.blobUri();\n        return new Promise(resolve => {\n          pendingPromises[blobUri] = pendingPromises[blobUri] || [];\n          pendingPromises[blobUri].push(resolve);\n        });\n      };\n      const uploadBlobs = (blobInfos, openNotification) => {\n        blobInfos = Tools.grep(blobInfos, blobInfo => !uploadStatus.isUploaded(blobInfo.blobUri()));\n        return Promise.all(Tools.map(blobInfos, blobInfo => uploadStatus.isPending(blobInfo.blobUri()) ? pendingUploadBlobInfo(blobInfo) : uploadBlobInfo(blobInfo, uploadHandler, openNotification)));\n      };\n      const upload = (blobInfos, openNotification) => !settings.url && isDefaultHandler(uploadHandler) ? noUpload() : uploadBlobs(blobInfos, openNotification);\n      return { upload };\n    };\n\n    const openNotification = editor => () => editor.notificationManager.open({\n      text: editor.translate('Image uploading...'),\n      type: 'info',\n      timeout: -1,\n      progressBar: true\n    });\n    const createUploader = (editor, uploadStatus) => Uploader(uploadStatus, {\n      url: getImageUploadUrl(editor),\n      basePath: getImageUploadBasePath(editor),\n      credentials: getImagesUploadCredentials(editor),\n      handler: getImagesUploadHandler(editor)\n    });\n    const ImageUploader = editor => {\n      const uploadStatus = UploadStatus();\n      const uploader = createUploader(editor, uploadStatus);\n      return { upload: (blobInfos, showNotification = true) => uploader.upload(blobInfos, showNotification ? openNotification(editor) : undefined) };\n    };\n\n    const EditorUpload = editor => {\n      const blobCache = BlobCache();\n      let uploader, imageScanner;\n      const uploadStatus = UploadStatus();\n      const urlFilters = [];\n      const aliveGuard = callback => {\n        return result => {\n          if (editor.selection) {\n            return callback(result);\n          }\n          return [];\n        };\n      };\n      const cacheInvalidator = url => url + (url.indexOf('?') === -1 ? '?' : '&') + new Date().getTime();\n      const replaceString = (content, search, replace) => {\n        let index = 0;\n        do {\n          index = content.indexOf(search, index);\n          if (index !== -1) {\n            content = content.substring(0, index) + replace + content.substr(index + search.length);\n            index += replace.length - search.length + 1;\n          }\n        } while (index !== -1);\n        return content;\n      };\n      const replaceImageUrl = (content, targetUrl, replacementUrl) => {\n        const replacementString = `src=\"${ replacementUrl }\"${ replacementUrl === Env.transparentSrc ? ' data-mce-placeholder=\"1\"' : '' }`;\n        content = replaceString(content, `src=\"${ targetUrl }\"`, replacementString);\n        content = replaceString(content, 'data-mce-src=\"' + targetUrl + '\"', 'data-mce-src=\"' + replacementUrl + '\"');\n        return content;\n      };\n      const replaceUrlInUndoStack = (targetUrl, replacementUrl) => {\n        each$e(editor.undoManager.data, level => {\n          if (level.type === 'fragmented') {\n            level.fragments = map$3(level.fragments, fragment => replaceImageUrl(fragment, targetUrl, replacementUrl));\n          } else {\n            level.content = replaceImageUrl(level.content, targetUrl, replacementUrl);\n          }\n        });\n      };\n      const replaceImageUriInView = (image, resultUri) => {\n        const src = editor.convertURL(resultUri, 'src');\n        replaceUrlInUndoStack(image.src, resultUri);\n        setAll$1(SugarElement.fromDom(image), {\n          'src': shouldReuseFileName(editor) ? cacheInvalidator(resultUri) : resultUri,\n          'data-mce-src': src\n        });\n      };\n      const uploadImages = () => {\n        if (!uploader) {\n          uploader = createUploader(editor, uploadStatus);\n        }\n        return scanForImages().then(aliveGuard(imageInfos => {\n          const blobInfos = map$3(imageInfos, imageInfo => imageInfo.blobInfo);\n          return uploader.upload(blobInfos, openNotification(editor)).then(aliveGuard(result => {\n            const imagesToRemove = [];\n            let shouldDispatchChange = false;\n            const filteredResult = map$3(result, (uploadInfo, index) => {\n              const {blobInfo, image} = imageInfos[index];\n              let removed = false;\n              if (uploadInfo.status && shouldReplaceBlobUris(editor)) {\n                if (uploadInfo.url && !contains$1(image.src, uploadInfo.url)) {\n                  shouldDispatchChange = true;\n                }\n                blobCache.removeByUri(image.src);\n                if (isRtc(editor)) ; else {\n                  replaceImageUriInView(image, uploadInfo.url);\n                }\n              } else if (uploadInfo.error) {\n                if (uploadInfo.error.remove) {\n                  replaceUrlInUndoStack(image.src, Env.transparentSrc);\n                  imagesToRemove.push(image);\n                  removed = true;\n                }\n                uploadError(editor, uploadInfo.error.message);\n              }\n              return {\n                element: image,\n                status: uploadInfo.status,\n                uploadUri: uploadInfo.url,\n                blobInfo,\n                removed\n              };\n            });\n            if (imagesToRemove.length > 0 && !isRtc(editor)) {\n              editor.undoManager.transact(() => {\n                each$e(imagesToRemove, element => {\n                  editor.dom.remove(element);\n                  blobCache.removeByUri(element.src);\n                });\n              });\n            } else if (shouldDispatchChange) {\n              editor.undoManager.dispatchChange();\n            }\n            return filteredResult;\n          }));\n        }));\n      };\n      const uploadImagesAuto = () => isAutomaticUploadsEnabled(editor) ? uploadImages() : Promise.resolve([]);\n      const isValidDataUriImage = imgElm => forall(urlFilters, filter => filter(imgElm));\n      const addFilter = filter => {\n        urlFilters.push(filter);\n      };\n      const scanForImages = () => {\n        if (!imageScanner) {\n          imageScanner = ImageScanner(uploadStatus, blobCache);\n        }\n        return imageScanner.findAll(editor.getBody(), isValidDataUriImage).then(aliveGuard(result => {\n          const filteredResult = filter$5(result, resultItem => {\n            if (isString(resultItem)) {\n              displayError(editor, resultItem);\n              return false;\n            } else {\n              return true;\n            }\n          });\n          if (isRtc(editor)) ; else {\n            each$e(filteredResult, resultItem => {\n              replaceUrlInUndoStack(resultItem.image.src, resultItem.blobInfo.blobUri());\n              resultItem.image.src = resultItem.blobInfo.blobUri();\n              resultItem.image.removeAttribute('data-mce-src');\n            });\n          }\n          return filteredResult;\n        }));\n      };\n      const destroy = () => {\n        blobCache.destroy();\n        uploadStatus.destroy();\n        imageScanner = uploader = null;\n      };\n      const replaceBlobUris = content => {\n        return content.replace(/src=\"(blob:[^\"]+)\"/g, (match, blobUri) => {\n          const resultUri = uploadStatus.getResultUri(blobUri);\n          if (resultUri) {\n            return 'src=\"' + resultUri + '\"';\n          }\n          let blobInfo = blobCache.getByUri(blobUri);\n          if (!blobInfo) {\n            blobInfo = foldl(editor.editorManager.get(), (result, editor) => {\n              return result || editor.editorUpload && editor.editorUpload.blobCache.getByUri(blobUri);\n            }, undefined);\n          }\n          if (blobInfo) {\n            const blob = blobInfo.blob();\n            return 'src=\"data:' + blob.type + ';base64,' + blobInfo.base64() + '\"';\n          }\n          return match;\n        });\n      };\n      editor.on('SetContent', () => {\n        if (isAutomaticUploadsEnabled(editor)) {\n          uploadImagesAuto();\n        } else {\n          scanForImages();\n        }\n      });\n      editor.on('RawSaveContent', e => {\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('GetContent', e => {\n        if (e.source_view || e.format === 'raw' || e.format === 'tree') {\n          return;\n        }\n        e.content = replaceBlobUris(e.content);\n      });\n      editor.on('PostRender', () => {\n        editor.parser.addNodeFilter('img', images => {\n          each$e(images, img => {\n            const src = img.attr('src');\n            if (!src || blobCache.getByUri(src)) {\n              return;\n            }\n            const resultUri = uploadStatus.getResultUri(src);\n            if (resultUri) {\n              img.attr('src', resultUri);\n            }\n          });\n        });\n      });\n      return {\n        blobCache,\n        addFilter,\n        uploadImages,\n        uploadImagesAuto,\n        scanForImages,\n        destroy\n      };\n    };\n\n    const get$1 = editor => {\n      const dom = editor.dom;\n      const schemaType = editor.schema.type;\n      const formats = {\n        valigntop: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'top' }\n          }],\n        valignmiddle: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'middle' }\n          }],\n        valignbottom: [{\n            selector: 'td,th',\n            styles: { verticalAlign: 'bottom' }\n          }],\n        alignleft: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-left',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'left' },\n            inherit: false,\n            preview: false\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'left' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: '0px',\n              marginRight: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object,[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: { float: 'left' }\n          }\n        ],\n        aligncenter: [\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'center' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-center',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: {\n              display: 'block',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object',\n            ceFalseOverride: true,\n            styles: {\n              display: 'table',\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          },\n          {\n            selector: '[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: {\n              marginLeft: 'auto',\n              marginRight: 'auto'\n            },\n            preview: false\n          }\n        ],\n        alignright: [\n          {\n            selector: 'figure.image',\n            collapsed: false,\n            classes: 'align-right',\n            ceFalseOverride: true,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'right' },\n            inherit: false,\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'img,audio,video',\n            collapsed: false,\n            styles: { float: 'right' },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: 'table',\n            collapsed: false,\n            styles: {\n              marginRight: '0px',\n              marginLeft: 'auto'\n            },\n            onformat: table => {\n              dom.setStyle(table, 'float', null);\n            },\n            preview: 'font-family font-size'\n          },\n          {\n            selector: '.mce-preview-object,[data-ephox-embed-iri]',\n            ceFalseOverride: true,\n            styles: { float: 'right' },\n            preview: false\n          }\n        ],\n        alignjustify: [{\n            selector: 'figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre',\n            styles: { textAlign: 'justify' },\n            inherit: false,\n            preview: 'font-family font-size'\n          }],\n        bold: [\n          {\n            inline: 'strong',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontWeight: 'bold' }\n          },\n          {\n            inline: 'b',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        italic: [\n          {\n            inline: 'em',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          },\n          {\n            inline: 'span',\n            styles: { fontStyle: 'italic' }\n          },\n          {\n            inline: 'i',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        underline: [\n          {\n            inline: 'span',\n            styles: { textDecoration: 'underline' },\n            exact: true\n          },\n          {\n            inline: 'u',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          }\n        ],\n        strikethrough: (() => {\n          const span = {\n            inline: 'span',\n            styles: { textDecoration: 'line-through' },\n            exact: true\n          };\n          const strike = {\n            inline: 'strike',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          const s = {\n            inline: 's',\n            remove: 'all',\n            preserve_attributes: [\n              'class',\n              'style'\n            ]\n          };\n          return schemaType !== 'html4' ? [\n            s,\n            span,\n            strike\n          ] : [\n            span,\n            s,\n            strike\n          ];\n        })(),\n        forecolor: {\n          inline: 'span',\n          styles: { color: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        hilitecolor: {\n          inline: 'span',\n          styles: { backgroundColor: '%value' },\n          links: true,\n          remove_similar: true,\n          clear_child_styles: true\n        },\n        fontname: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontFamily: '%value' },\n          clear_child_styles: true\n        },\n        fontsize: {\n          inline: 'span',\n          toggle: false,\n          styles: { fontSize: '%value' },\n          clear_child_styles: true\n        },\n        lineheight: {\n          selector: 'h1,h2,h3,h4,h5,h6,p,li,td,th,div',\n          styles: { lineHeight: '%value' }\n        },\n        fontsize_class: {\n          inline: 'span',\n          attributes: { class: '%value' }\n        },\n        blockquote: {\n          block: 'blockquote',\n          wrapper: true,\n          remove: 'all'\n        },\n        subscript: { inline: 'sub' },\n        superscript: { inline: 'sup' },\n        code: { inline: 'code' },\n        link: {\n          inline: 'a',\n          selector: 'a',\n          remove: 'all',\n          split: true,\n          deep: true,\n          onmatch: (node, _fmt, _itemName) => {\n            return isElement$6(node) && node.hasAttribute('href');\n          },\n          onformat: (elm, _fmt, vars) => {\n            Tools.each(vars, (value, key) => {\n              dom.setAttrib(elm, key, value);\n            });\n          }\n        },\n        lang: {\n          inline: 'span',\n          clear_child_styles: true,\n          remove_similar: true,\n          attributes: {\n            'lang': '%value',\n            'data-mce-lang': vars => {\n              var _a;\n              return (_a = vars === null || vars === void 0 ? void 0 : vars.customValue) !== null && _a !== void 0 ? _a : null;\n            }\n          }\n        },\n        removeformat: [\n          {\n            selector: 'b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small',\n            remove: 'all',\n            split: true,\n            expand: false,\n            block_expand: true,\n            deep: true\n          },\n          {\n            selector: 'span',\n            attributes: [\n              'style',\n              'class'\n            ],\n            remove: 'empty',\n            split: true,\n            expand: false,\n            deep: true\n          },\n          {\n            selector: '*',\n            attributes: [\n              'style',\n              'class'\n            ],\n            split: false,\n            expand: false,\n            deep: true\n          }\n        ]\n      };\n      Tools.each('p h1 h2 h3 h4 h5 h6 div address pre dt dd samp'.split(/\\s/), name => {\n        formats[name] = {\n          block: name,\n          remove: 'all'\n        };\n      });\n      return formats;\n    };\n\n    const genericBase = {\n      remove_similar: true,\n      inherit: false\n    };\n    const cellBase = {\n      selector: 'td,th',\n      ...genericBase\n    };\n    const cellFormats = {\n      tablecellbackgroundcolor: {\n        styles: { backgroundColor: '%value' },\n        ...cellBase\n      },\n      tablecellverticalalign: {\n        styles: { 'vertical-align': '%value' },\n        ...cellBase\n      },\n      tablecellbordercolor: {\n        styles: { borderColor: '%value' },\n        ...cellBase\n      },\n      tablecellclass: {\n        classes: ['%value'],\n        ...cellBase\n      },\n      tableclass: {\n        selector: 'table',\n        classes: ['%value'],\n        ...genericBase\n      },\n      tablecellborderstyle: {\n        styles: { borderStyle: '%value' },\n        ...cellBase\n      },\n      tablecellborderwidth: {\n        styles: { borderWidth: '%value' },\n        ...cellBase\n      }\n    };\n    const get = constant(cellFormats);\n\n    const FormatRegistry = editor => {\n      const formats = {};\n      const get$2 = name => isNonNullable(name) ? formats[name] : formats;\n      const has = name => has$2(formats, name);\n      const register = (name, format) => {\n        if (name) {\n          if (!isString(name)) {\n            each$d(name, (format, name) => {\n              register(name, format);\n            });\n          } else {\n            if (!isArray$1(format)) {\n              format = [format];\n            }\n            each$e(format, format => {\n              if (isUndefined(format.deep)) {\n                format.deep = !isSelectorFormat(format);\n              }\n              if (isUndefined(format.split)) {\n                format.split = !isSelectorFormat(format) || isInlineFormat(format);\n              }\n              if (isUndefined(format.remove) && isSelectorFormat(format) && !isInlineFormat(format)) {\n                format.remove = 'none';\n              }\n              if (isSelectorFormat(format) && isInlineFormat(format)) {\n                format.mixed = true;\n                format.block_expand = true;\n              }\n              if (isString(format.classes)) {\n                format.classes = format.classes.split(/\\s+/);\n              }\n            });\n            formats[name] = format;\n          }\n        }\n      };\n      const unregister = name => {\n        if (name && formats[name]) {\n          delete formats[name];\n        }\n        return formats;\n      };\n      register(get$1(editor));\n      register(get());\n      register(getFormats(editor));\n      return {\n        get: get$2,\n        has,\n        register,\n        unregister\n      };\n    };\n\n    const each$3 = Tools.each;\n    const dom = DOMUtils.DOM;\n    const isPreviewItem = item => isNonNullable(item) && isObject(item);\n    const parsedSelectorToHtml = (ancestry, editor) => {\n      const schema = editor && editor.schema || Schema({});\n      const decorate = (elm, item) => {\n        if (item.classes.length > 0) {\n          dom.addClass(elm, item.classes.join(' '));\n        }\n        dom.setAttribs(elm, item.attrs);\n      };\n      const createElement = sItem => {\n        const item = isString(sItem) ? {\n          name: sItem,\n          classes: [],\n          attrs: {}\n        } : sItem;\n        const elm = dom.create(item.name);\n        decorate(elm, item);\n        return elm;\n      };\n      const getRequiredParent = (elm, candidate) => {\n        const elmRule = schema.getElementRule(elm.nodeName.toLowerCase());\n        const parentsRequired = elmRule === null || elmRule === void 0 ? void 0 : elmRule.parentsRequired;\n        if (parentsRequired && parentsRequired.length) {\n          return candidate && contains$2(parentsRequired, candidate) ? candidate : parentsRequired[0];\n        } else {\n          return false;\n        }\n      };\n      const wrapInHtml = (elm, ancestors, siblings) => {\n        let parentCandidate;\n        const ancestor = ancestors[0];\n        const ancestorName = isPreviewItem(ancestor) ? ancestor.name : undefined;\n        const parentRequired = getRequiredParent(elm, ancestorName);\n        if (parentRequired) {\n          if (ancestorName === parentRequired) {\n            parentCandidate = ancestor;\n            ancestors = ancestors.slice(1);\n          } else {\n            parentCandidate = parentRequired;\n          }\n        } else if (ancestor) {\n          parentCandidate = ancestor;\n          ancestors = ancestors.slice(1);\n        } else if (!siblings) {\n          return elm;\n        }\n        const parent = parentCandidate ? createElement(parentCandidate) : dom.create('div');\n        parent.appendChild(elm);\n        if (siblings) {\n          Tools.each(siblings, sibling => {\n            const siblingElm = createElement(sibling);\n            parent.insertBefore(siblingElm, elm);\n          });\n        }\n        const parentSiblings = isPreviewItem(parentCandidate) ? parentCandidate.siblings : undefined;\n        return wrapInHtml(parent, ancestors, parentSiblings);\n      };\n      const fragment = dom.create('div');\n      if (ancestry.length > 0) {\n        const item = ancestry[0];\n        const elm = createElement(item);\n        const siblings = isPreviewItem(item) ? item.siblings : undefined;\n        fragment.appendChild(wrapInHtml(elm, ancestry.slice(1), siblings));\n      }\n      return fragment;\n    };\n    const parseSelectorItem = item => {\n      item = Tools.trim(item);\n      let tagName = 'div';\n      const obj = {\n        name: tagName,\n        classes: [],\n        attrs: {},\n        selector: item\n      };\n      if (item !== '*') {\n        tagName = item.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g, ($0, $1, $2, $3, $4) => {\n          switch ($1) {\n          case '#':\n            obj.attrs.id = $2;\n            break;\n          case '.':\n            obj.classes.push($2);\n            break;\n          case ':':\n            if (Tools.inArray('checked disabled enabled read-only required'.split(' '), $2) !== -1) {\n              obj.attrs[$2] = $2;\n            }\n            break;\n          }\n          if ($3 === '[') {\n            const m = $4.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/);\n            if (m) {\n              obj.attrs[m[1]] = m[2];\n            }\n          }\n          return '';\n        });\n      }\n      obj.name = tagName || 'div';\n      return obj;\n    };\n    const parseSelector = selector => {\n      if (!isString(selector)) {\n        return [];\n      }\n      selector = selector.split(/\\s*,\\s*/)[0];\n      selector = selector.replace(/\\s*(~\\+|~|\\+|>)\\s*/g, '$1');\n      return Tools.map(selector.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/), item => {\n        const siblings = Tools.map(item.split(/(?:~\\+|~|\\+)/), parseSelectorItem);\n        const obj = siblings.pop();\n        if (siblings.length) {\n          obj.siblings = siblings;\n        }\n        return obj;\n      }).reverse();\n    };\n    const getCssText = (editor, format) => {\n      let previewCss = '';\n      let previewStyles = getPreviewStyles(editor);\n      if (previewStyles === '') {\n        return '';\n      }\n      const removeVars = val => {\n        return isString(val) ? val.replace(/%(\\w+)/g, '') : '';\n      };\n      const getComputedStyle = (name, elm) => {\n        return dom.getStyle(elm !== null && elm !== void 0 ? elm : editor.getBody(), name, true);\n      };\n      if (isString(format)) {\n        const formats = editor.formatter.get(format);\n        if (!formats) {\n          return '';\n        }\n        format = formats[0];\n      }\n      if ('preview' in format) {\n        const preview = format.preview;\n        if (preview === false) {\n          return '';\n        } else {\n          previewStyles = preview || previewStyles;\n        }\n      }\n      let name = format.block || format.inline || 'span';\n      let previewFrag;\n      const items = parseSelector(format.selector);\n      if (items.length > 0) {\n        if (!items[0].name) {\n          items[0].name = name;\n        }\n        name = format.selector;\n        previewFrag = parsedSelectorToHtml(items, editor);\n      } else {\n        previewFrag = parsedSelectorToHtml([name], editor);\n      }\n      const previewElm = dom.select(name, previewFrag)[0] || previewFrag.firstChild;\n      each$3(format.styles, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setStyle(previewElm, name, newValue);\n        }\n      });\n      each$3(format.attributes, (value, name) => {\n        const newValue = removeVars(value);\n        if (newValue) {\n          dom.setAttrib(previewElm, name, newValue);\n        }\n      });\n      each$3(format.classes, value => {\n        const newValue = removeVars(value);\n        if (!dom.hasClass(previewElm, newValue)) {\n          dom.addClass(previewElm, newValue);\n        }\n      });\n      editor.dispatch('PreviewFormats');\n      dom.setStyles(previewFrag, {\n        position: 'absolute',\n        left: -65535\n      });\n      editor.getBody().appendChild(previewFrag);\n      const rawParentFontSize = getComputedStyle('fontSize');\n      const parentFontSize = /px$/.test(rawParentFontSize) ? parseInt(rawParentFontSize, 10) : 0;\n      each$3(previewStyles.split(' '), name => {\n        let value = getComputedStyle(name, previewElm);\n        if (name === 'background-color' && /transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(value)) {\n          value = getComputedStyle(name);\n          if (rgbaToHexString(value).toLowerCase() === '#ffffff') {\n            return;\n          }\n        }\n        if (name === 'color') {\n          if (rgbaToHexString(value).toLowerCase() === '#000000') {\n            return;\n          }\n        }\n        if (name === 'font-size') {\n          if (/em|%$/.test(value)) {\n            if (parentFontSize === 0) {\n              return;\n            }\n            const numValue = parseFloat(value) / (/%$/.test(value) ? 100 : 1);\n            value = numValue * parentFontSize + 'px';\n          }\n        }\n        if (name === 'border' && value) {\n          previewCss += 'padding:0 2px;';\n        }\n        previewCss += name + ':' + value + ';';\n      });\n      editor.dispatch('AfterPreviewFormats');\n      dom.remove(previewFrag);\n      return previewCss;\n    };\n\n    const setup$r = editor => {\n      editor.addShortcut('meta+b', '', 'Bold');\n      editor.addShortcut('meta+i', '', 'Italic');\n      editor.addShortcut('meta+u', '', 'Underline');\n      for (let i = 1; i <= 6; i++) {\n        editor.addShortcut('access+' + i, '', [\n          'FormatBlock',\n          false,\n          'h' + i\n        ]);\n      }\n      editor.addShortcut('access+7', '', [\n        'FormatBlock',\n        false,\n        'p'\n      ]);\n      editor.addShortcut('access+8', '', [\n        'FormatBlock',\n        false,\n        'div'\n      ]);\n      editor.addShortcut('access+9', '', [\n        'FormatBlock',\n        false,\n        'address'\n      ]);\n    };\n\n    const Formatter = editor => {\n      const formats = FormatRegistry(editor);\n      const formatChangeState = Cell({});\n      setup$r(editor);\n      setup$u(editor);\n      if (!isRtc(editor)) {\n        setup$t(formatChangeState, editor);\n      }\n      return {\n        get: formats.get,\n        has: formats.has,\n        register: formats.register,\n        unregister: formats.unregister,\n        apply: (name, vars, node) => {\n          applyFormat(editor, name, vars, node);\n        },\n        remove: (name, vars, node, similar) => {\n          removeFormat(editor, name, vars, node, similar);\n        },\n        toggle: (name, vars, node) => {\n          toggleFormat(editor, name, vars, node);\n        },\n        match: (name, vars, node, similar) => matchFormat(editor, name, vars, node, similar),\n        closest: names => closestFormat(editor, names),\n        matchAll: (names, vars) => matchAllFormats(editor, names, vars),\n        matchNode: (node, name, vars, similar) => matchNodeFormat(editor, node, name, vars, similar),\n        canApply: name => canApplyFormat(editor, name),\n        formatChanged: (formats, callback, similar, vars) => formatChanged(editor, formatChangeState, formats, callback, similar, vars),\n        getCssText: curry(getCssText, editor)\n      };\n    };\n\n    const shouldIgnoreCommand = cmd => {\n      switch (cmd.toLowerCase()) {\n      case 'undo':\n      case 'redo':\n      case 'mcefocus':\n        return true;\n      default:\n        return false;\n      }\n    };\n    const registerEvents = (editor, undoManager, locks) => {\n      const isFirstTypedCharacter = Cell(false);\n      const addNonTypingUndoLevel = e => {\n        setTyping(undoManager, false, locks);\n        undoManager.add({}, e);\n      };\n      editor.on('init', () => {\n        undoManager.add();\n      });\n      editor.on('BeforeExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          endTyping(undoManager, locks);\n          undoManager.beforeChange();\n        }\n      });\n      editor.on('ExecCommand', e => {\n        const cmd = e.command;\n        if (!shouldIgnoreCommand(cmd)) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('ObjectResizeStart cut', () => {\n        undoManager.beforeChange();\n      });\n      editor.on('SaveContent ObjectResized blur', addNonTypingUndoLevel);\n      editor.on('dragend', addNonTypingUndoLevel);\n      editor.on('keyup', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45 || e.ctrlKey) {\n          addNonTypingUndoLevel();\n          editor.nodeChanged();\n        }\n        if (keyCode === 46 || keyCode === 8) {\n          editor.nodeChanged();\n        }\n        if (isFirstTypedCharacter.get() && undoManager.typing && !isEq$1(createFromEditor(editor), undoManager.data[0])) {\n          if (!editor.isDirty()) {\n            editor.setDirty(true);\n          }\n          editor.dispatch('TypingUndo');\n          isFirstTypedCharacter.set(false);\n          editor.nodeChanged();\n        }\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.keyCode;\n        if (e.isDefaultPrevented()) {\n          return;\n        }\n        if (keyCode >= 33 && keyCode <= 36 || keyCode >= 37 && keyCode <= 40 || keyCode === 45) {\n          if (undoManager.typing) {\n            addNonTypingUndoLevel(e);\n          }\n          return;\n        }\n        const modKey = e.ctrlKey && !e.altKey || e.metaKey;\n        if ((keyCode < 16 || keyCode > 20) && keyCode !== 224 && keyCode !== 91 && !undoManager.typing && !modKey) {\n          undoManager.beforeChange();\n          setTyping(undoManager, true, locks);\n          undoManager.add({}, e);\n          isFirstTypedCharacter.set(true);\n        }\n      });\n      editor.on('mousedown', e => {\n        if (undoManager.typing) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      const isInsertReplacementText = event => event.inputType === 'insertReplacementText';\n      const isInsertTextDataNull = event => event.inputType === 'insertText' && event.data === null;\n      const isInsertFromPasteOrDrop = event => event.inputType === 'insertFromPaste' || event.inputType === 'insertFromDrop';\n      editor.on('input', e => {\n        if (e.inputType && (isInsertReplacementText(e) || isInsertTextDataNull(e) || isInsertFromPasteOrDrop(e))) {\n          addNonTypingUndoLevel(e);\n        }\n      });\n      editor.on('AddUndo Undo Redo ClearUndos', e => {\n        if (!e.isDefaultPrevented()) {\n          editor.nodeChanged();\n        }\n      });\n    };\n    const addKeyboardShortcuts = editor => {\n      editor.addShortcut('meta+z', '', 'Undo');\n      editor.addShortcut('meta+y,meta+shift+z', '', 'Redo');\n    };\n\n    const UndoManager = editor => {\n      const beforeBookmark = value$2();\n      const locks = Cell(0);\n      const index = Cell(0);\n      const undoManager = {\n        data: [],\n        typing: false,\n        beforeChange: () => {\n          beforeChange(editor, locks, beforeBookmark);\n        },\n        add: (level, event) => {\n          return addUndoLevel(editor, undoManager, index, locks, beforeBookmark, level, event);\n        },\n        dispatchChange: () => {\n          editor.setDirty(true);\n          const level = createFromEditor(editor);\n          level.bookmark = getUndoBookmark(editor.selection);\n          editor.dispatch('change', {\n            level,\n            lastLevel: get$b(undoManager.data, index.get()).getOrUndefined()\n          });\n        },\n        undo: () => {\n          return undo(editor, undoManager, locks, index);\n        },\n        redo: () => {\n          return redo(editor, index, undoManager.data);\n        },\n        clear: () => {\n          clear(editor, undoManager, index);\n        },\n        reset: () => {\n          reset(editor, undoManager);\n        },\n        hasUndo: () => {\n          return hasUndo(editor, undoManager, index);\n        },\n        hasRedo: () => {\n          return hasRedo(editor, undoManager, index);\n        },\n        transact: callback => {\n          return transact(editor, undoManager, locks, callback);\n        },\n        ignore: callback => {\n          ignore(editor, locks, callback);\n        },\n        extra: (callback1, callback2) => {\n          extra(editor, undoManager, index, callback1, callback2);\n        }\n      };\n      if (!isRtc(editor)) {\n        registerEvents(editor, undoManager, locks);\n      }\n      addKeyboardShortcuts(editor);\n      return undoManager;\n    };\n\n    const nonTypingKeycodes = [\n      9,\n      27,\n      VK.HOME,\n      VK.END,\n      19,\n      20,\n      44,\n      144,\n      145,\n      33,\n      34,\n      45,\n      16,\n      17,\n      18,\n      91,\n      92,\n      93,\n      VK.DOWN,\n      VK.UP,\n      VK.LEFT,\n      VK.RIGHT\n    ].concat(Env.browser.isFirefox() ? [224] : []);\n    const placeholderAttr = 'data-mce-placeholder';\n    const isKeyboardEvent = e => e.type === 'keydown' || e.type === 'keyup';\n    const isDeleteEvent = e => {\n      const keyCode = e.keyCode;\n      return keyCode === VK.BACKSPACE || keyCode === VK.DELETE;\n    };\n    const isNonTypingKeyboardEvent = e => {\n      if (isKeyboardEvent(e)) {\n        const keyCode = e.keyCode;\n        return !isDeleteEvent(e) && (VK.metaKeyPressed(e) || e.altKey || keyCode >= 112 && keyCode <= 123 || contains$2(nonTypingKeycodes, keyCode));\n      } else {\n        return false;\n      }\n    };\n    const isTypingKeyboardEvent = e => isKeyboardEvent(e) && !(isDeleteEvent(e) || e.type === 'keyup' && e.keyCode === 229);\n    const isVisuallyEmpty = (dom, rootElm, forcedRootBlock) => {\n      if (isEmpty$2(SugarElement.fromDom(rootElm), false)) {\n        const firstElement = rootElm.firstElementChild;\n        if (!firstElement) {\n          return true;\n        } else if (dom.getStyle(rootElm.firstElementChild, 'padding-left') || dom.getStyle(rootElm.firstElementChild, 'padding-right')) {\n          return false;\n        } else {\n          return forcedRootBlock === firstElement.nodeName.toLowerCase();\n        }\n      } else {\n        return false;\n      }\n    };\n    const setup$q = editor => {\n      var _a;\n      const dom = editor.dom;\n      const rootBlock = getForcedRootBlock(editor);\n      const placeholder = (_a = getPlaceholder(editor)) !== null && _a !== void 0 ? _a : '';\n      const updatePlaceholder = (e, initial) => {\n        if (isNonTypingKeyboardEvent(e)) {\n          return;\n        }\n        const body = editor.getBody();\n        const showPlaceholder = isTypingKeyboardEvent(e) ? false : isVisuallyEmpty(dom, body, rootBlock);\n        const isPlaceholderShown = dom.getAttrib(body, placeholderAttr) !== '';\n        if (isPlaceholderShown !== showPlaceholder || initial) {\n          dom.setAttrib(body, placeholderAttr, showPlaceholder ? placeholder : null);\n          dom.setAttrib(body, 'aria-placeholder', showPlaceholder ? placeholder : null);\n          firePlaceholderToggle(editor, showPlaceholder);\n          editor.on(showPlaceholder ? 'keydown' : 'keyup', updatePlaceholder);\n          editor.off(showPlaceholder ? 'keyup' : 'keydown', updatePlaceholder);\n        }\n      };\n      if (isNotEmpty(placeholder)) {\n        editor.on('init', e => {\n          updatePlaceholder(e, true);\n          editor.on('change SetContent ExecCommand', updatePlaceholder);\n          editor.on('paste', e => Delay.setEditorTimeout(editor, () => updatePlaceholder(e)));\n        });\n      }\n    };\n\n    const blockPosition = (block, position) => ({\n      block,\n      position\n    });\n    const blockBoundary = (from, to) => ({\n      from,\n      to\n    });\n    const getBlockPosition = (rootNode, pos) => {\n      const rootElm = SugarElement.fromDom(rootNode);\n      const containerElm = SugarElement.fromDom(pos.container());\n      return getParentBlock$2(rootElm, containerElm).map(block => blockPosition(block, pos));\n    };\n    const isDifferentBlocks = blockBoundary => !eq(blockBoundary.from.block, blockBoundary.to.block);\n    const getClosestHost = (root, scope) => {\n      const isRoot = node => eq(node, root);\n      const isHost = node => isTableCell$2(node) || isContentEditableTrue$3(node.dom);\n      return closest$4(scope, isHost, isRoot).filter(isElement$7).getOr(root);\n    };\n    const hasSameHost = (rootNode, blockBoundary) => {\n      const root = SugarElement.fromDom(rootNode);\n      return eq(getClosestHost(root, blockBoundary.from.block), getClosestHost(root, blockBoundary.to.block));\n    };\n    const isEditable$2 = blockBoundary => isContentEditableFalse$a(blockBoundary.from.block.dom) === false && isContentEditableFalse$a(blockBoundary.to.block.dom) === false;\n    const hasValidBlocks = blockBoundary => {\n      const isValidBlock = block => isTextBlock$2(block) || hasBlockAttr(block.dom);\n      return isValidBlock(blockBoundary.from.block) && isValidBlock(blockBoundary.to.block);\n    };\n    const skipLastBr = (rootNode, forward, blockPosition) => {\n      if (isBr$6(blockPosition.position.getNode()) && !isEmpty$2(blockPosition.block)) {\n        return positionIn(false, blockPosition.block.dom).bind(lastPositionInBlock => {\n          if (lastPositionInBlock.isEqual(blockPosition.position)) {\n            return fromPosition(forward, rootNode, lastPositionInBlock).bind(to => getBlockPosition(rootNode, to));\n          } else {\n            return Optional.some(blockPosition);\n          }\n        }).getOr(blockPosition);\n      } else {\n        return blockPosition;\n      }\n    };\n    const readFromRange = (rootNode, forward, rng) => {\n      const fromBlockPos = getBlockPosition(rootNode, CaretPosition.fromRangeStart(rng));\n      const toBlockPos = fromBlockPos.bind(blockPos => fromPosition(forward, rootNode, blockPos.position).bind(to => getBlockPosition(rootNode, to).map(blockPos => skipLastBr(rootNode, forward, blockPos))));\n      return lift2(fromBlockPos, toBlockPos, blockBoundary).filter(blockBoundary => isDifferentBlocks(blockBoundary) && hasSameHost(rootNode, blockBoundary) && isEditable$2(blockBoundary) && hasValidBlocks(blockBoundary));\n    };\n    const read$1 = (rootNode, forward, rng) => rng.collapsed ? readFromRange(rootNode, forward, rng) : Optional.none();\n\n    const getChildrenUntilBlockBoundary = block => {\n      const children = children$1(block);\n      return findIndex$2(children, isBlock$2).fold(constant(children), index => children.slice(0, index));\n    };\n    const extractChildren = block => {\n      const children = getChildrenUntilBlockBoundary(block);\n      each$e(children, remove$6);\n      return children;\n    };\n    const removeEmptyRoot = (rootNode, block) => {\n      const parents = parentsAndSelf(block, rootNode);\n      return find$2(parents.reverse(), element => isEmpty$2(element)).each(remove$6);\n    };\n    const isEmptyBefore = el => filter$5(prevSiblings(el), el => !isEmpty$2(el)).length === 0;\n    const nestedBlockMerge = (rootNode, fromBlock, toBlock, insertionPoint) => {\n      if (isEmpty$2(toBlock)) {\n        fillWithPaddingBr(toBlock);\n        return firstPositionIn(toBlock.dom);\n      }\n      if (isEmptyBefore(insertionPoint) && isEmpty$2(fromBlock)) {\n        before$3(insertionPoint, SugarElement.fromTag('br'));\n      }\n      const position = prevPosition(toBlock.dom, CaretPosition.before(insertionPoint.dom));\n      each$e(extractChildren(fromBlock), child => {\n        before$3(insertionPoint, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const sidelongBlockMerge = (rootNode, fromBlock, toBlock) => {\n      if (isEmpty$2(toBlock)) {\n        remove$6(toBlock);\n        if (isEmpty$2(fromBlock)) {\n          fillWithPaddingBr(fromBlock);\n        }\n        return firstPositionIn(fromBlock.dom);\n      }\n      const position = lastPositionIn(toBlock.dom);\n      each$e(extractChildren(fromBlock), child => {\n        append$1(toBlock, child);\n      });\n      removeEmptyRoot(rootNode, fromBlock);\n      return position;\n    };\n    const findInsertionPoint = (toBlock, block) => {\n      const parentsAndSelf$1 = parentsAndSelf(block, toBlock);\n      return Optional.from(parentsAndSelf$1[parentsAndSelf$1.length - 1]);\n    };\n    const getInsertionPoint = (fromBlock, toBlock) => contains(toBlock, fromBlock) ? findInsertionPoint(toBlock, fromBlock) : Optional.none();\n    const trimBr = (first, block) => {\n      positionIn(first, block.dom).bind(position => Optional.from(position.getNode())).map(SugarElement.fromDom).filter(isBr$5).each(remove$6);\n    };\n    const mergeBlockInto = (rootNode, fromBlock, toBlock) => {\n      trimBr(true, fromBlock);\n      trimBr(false, toBlock);\n      return getInsertionPoint(fromBlock, toBlock).fold(curry(sidelongBlockMerge, rootNode, fromBlock, toBlock), curry(nestedBlockMerge, rootNode, fromBlock, toBlock));\n    };\n    const mergeBlocks = (rootNode, forward, block1, block2) => forward ? mergeBlockInto(rootNode, block2, block1) : mergeBlockInto(rootNode, block1, block2);\n\n    const backspaceDelete$8 = (editor, forward) => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const position = read$1(rootNode.dom, forward, editor.selection.getRng()).map(blockBoundary => () => {\n        mergeBlocks(rootNode, forward, blockBoundary.from.block, blockBoundary.to.block).each(pos => {\n          editor.selection.setRng(pos.toRange());\n        });\n      });\n      return position;\n    };\n\n    const deleteRangeMergeBlocks = (rootNode, selection) => {\n      const rng = selection.getRng();\n      return lift2(getParentBlock$2(rootNode, SugarElement.fromDom(rng.startContainer)), getParentBlock$2(rootNode, SugarElement.fromDom(rng.endContainer)), (block1, block2) => {\n        if (!eq(block1, block2)) {\n          return Optional.some(() => {\n            rng.deleteContents();\n            mergeBlocks(rootNode, true, block1, block2).each(pos => {\n              selection.setRng(pos.toRange());\n            });\n          });\n        } else {\n          return Optional.none();\n        }\n      }).getOr(Optional.none());\n    };\n    const isRawNodeInTable = (root, rawNode) => {\n      const node = SugarElement.fromDom(rawNode);\n      const isRoot = curry(eq, root);\n      return ancestor$3(node, isTableCell$2, isRoot).isSome();\n    };\n    const isSelectionInTable = (root, rng) => isRawNodeInTable(root, rng.startContainer) || isRawNodeInTable(root, rng.endContainer);\n    const isEverythingSelected = (root, rng) => {\n      const noPrevious = prevPosition(root.dom, CaretPosition.fromRangeStart(rng)).isNone();\n      const noNext = nextPosition(root.dom, CaretPosition.fromRangeEnd(rng)).isNone();\n      return !isSelectionInTable(root, rng) && noPrevious && noNext;\n    };\n    const emptyEditor = editor => {\n      return Optional.some(() => {\n        editor.setContent('');\n        editor.selection.setCursorLocation();\n      });\n    };\n    const deleteRange$1 = editor => {\n      const rootNode = SugarElement.fromDom(editor.getBody());\n      const rng = editor.selection.getRng();\n      return isEverythingSelected(rootNode, rng) ? emptyEditor(editor) : deleteRangeMergeBlocks(rootNode, editor.selection);\n    };\n    const backspaceDelete$7 = (editor, _forward) => editor.selection.isCollapsed() ? Optional.none() : deleteRange$1(editor);\n\n    const showCaret = (direction, editor, node, before, scrollIntoView) => Optional.from(editor._selectionOverrides.showCaret(direction, node, before, scrollIntoView));\n    const getNodeRange = node => {\n      const rng = node.ownerDocument.createRange();\n      rng.selectNode(node);\n      return rng;\n    };\n    const selectNode = (editor, node) => {\n      const e = editor.dispatch('BeforeObjectSelected', { target: node });\n      if (e.isDefaultPrevented()) {\n        return Optional.none();\n      }\n      return Optional.some(getNodeRange(node));\n    };\n    const renderCaretAtRange = (editor, range, scrollIntoView) => {\n      const normalizedRange = normalizeRange(1, editor.getBody(), range);\n      const caretPosition = CaretPosition.fromRangeStart(normalizedRange);\n      const caretPositionNode = caretPosition.getNode();\n      if (isInlineFakeCaretTarget(caretPositionNode)) {\n        return showCaret(1, editor, caretPositionNode, !caretPosition.isAtEnd(), false);\n      }\n      const caretPositionBeforeNode = caretPosition.getNode(true);\n      if (isInlineFakeCaretTarget(caretPositionBeforeNode)) {\n        return showCaret(1, editor, caretPositionBeforeNode, false, false);\n      }\n      const ceRoot = getContentEditableRoot$1(editor.dom.getRoot(), caretPosition.getNode());\n      if (isInlineFakeCaretTarget(ceRoot)) {\n        return showCaret(1, editor, ceRoot, false, scrollIntoView);\n      }\n      return Optional.none();\n    };\n    const renderRangeCaret = (editor, range, scrollIntoView) => range.collapsed ? renderCaretAtRange(editor, range, scrollIntoView).getOr(range) : range;\n\n    const isBeforeBoundary = pos => isBeforeContentEditableFalse(pos) || isBeforeMedia(pos);\n    const isAfterBoundary = pos => isAfterContentEditableFalse(pos) || isAfterMedia(pos);\n    const trimEmptyTextNode = (dom, node) => {\n      if (isText$a(node) && node.data.length === 0) {\n        dom.remove(node);\n      }\n    };\n    const deleteContentAndShowCaret = (editor, range, node, direction, forward, peekCaretPosition) => {\n      showCaret(direction, editor, peekCaretPosition.getNode(!forward), forward, true).each(caretRange => {\n        if (range.collapsed) {\n          const deleteRange = range.cloneRange();\n          if (forward) {\n            deleteRange.setEnd(caretRange.startContainer, caretRange.startOffset);\n          } else {\n            deleteRange.setStart(caretRange.endContainer, caretRange.endOffset);\n          }\n          deleteRange.deleteContents();\n        } else {\n          range.deleteContents();\n        }\n        editor.selection.setRng(caretRange);\n      });\n      trimEmptyTextNode(editor.dom, node);\n    };\n    const deleteBoundaryText = (editor, forward) => {\n      const range = editor.selection.getRng();\n      if (!isText$a(range.commonAncestorContainer)) {\n        return Optional.none();\n      }\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forward ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forward ? isBeforeBoundary : isAfterBoundary;\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const nextCaretPosition = getNextPosFn(caretPosition);\n      const normalizedNextCaretPosition = nextCaretPosition ? normalizePosition(forward, nextCaretPosition) : nextCaretPosition;\n      if (!normalizedNextCaretPosition || !isMoveInsideSameBlock(caretPosition, normalizedNextCaretPosition)) {\n        return Optional.none();\n      } else if (isBeforeFn(normalizedNextCaretPosition)) {\n        return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, normalizedNextCaretPosition));\n      }\n      const peekCaretPosition = getNextPosFn(normalizedNextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(normalizedNextCaretPosition, peekCaretPosition)) {\n          return Optional.some(() => deleteContentAndShowCaret(editor, range, caretPosition.getNode(), direction, forward, peekCaretPosition));\n        }\n      }\n      return Optional.none();\n    };\n    const backspaceDelete$6 = (editor, forward) => deleteBoundaryText(editor, forward);\n\n    const getEdgeCefPosition = (editor, atStart) => {\n      const root = editor.getBody();\n      return atStart ? firstPositionIn(root).filter(isBeforeContentEditableFalse) : lastPositionIn(root).filter(isAfterContentEditableFalse);\n    };\n    const isCefAtEdgeSelected = editor => {\n      const rng = editor.selection.getRng();\n      return !rng.collapsed && (getEdgeCefPosition(editor, true).exists(pos => pos.isEqual(CaretPosition.fromRangeStart(rng))) || getEdgeCefPosition(editor, false).exists(pos => pos.isEqual(CaretPosition.fromRangeEnd(rng))));\n    };\n\n    const isCompoundElement = node => isNonNullable(node) && (isTableCell$2(SugarElement.fromDom(node)) || isListItem$1(SugarElement.fromDom(node)));\n    const DeleteAction = Adt.generate([\n      { remove: ['element'] },\n      { moveToElement: ['element'] },\n      { moveToPosition: ['position'] }\n    ]);\n    const isAtContentEditableBlockCaret = (forward, from) => {\n      const elm = from.getNode(!forward);\n      const caretLocation = forward ? 'after' : 'before';\n      return isElement$6(elm) && elm.getAttribute('data-mce-caret') === caretLocation;\n    };\n    const isDeleteFromCefDifferentBlocks = (root, forward, from, to) => {\n      const inSameBlock = elm => isInline$1(SugarElement.fromDom(elm)) && !isInSameBlock(from, to, root);\n      return getRelativeCefElm(!forward, from).fold(() => getRelativeCefElm(forward, to).fold(never, inSameBlock), inSameBlock);\n    };\n    const deleteEmptyBlockOrMoveToCef = (root, forward, from, to) => {\n      const toCefElm = to.getNode(!forward);\n      return getParentBlock$2(SugarElement.fromDom(root), SugarElement.fromDom(from.getNode())).map(blockElm => isEmpty$2(blockElm) ? DeleteAction.remove(blockElm.dom) : DeleteAction.moveToElement(toCefElm)).orThunk(() => Optional.some(DeleteAction.moveToElement(toCefElm)));\n    };\n    const findCefPosition = (root, forward, from) => fromPosition(forward, root, from).bind(to => {\n      if (isCompoundElement(to.getNode())) {\n        return Optional.none();\n      } else if (isDeleteFromCefDifferentBlocks(root, forward, from, to)) {\n        return Optional.none();\n      } else if (forward && isContentEditableFalse$a(to.getNode())) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (!forward && isContentEditableFalse$a(to.getNode(true))) {\n        return deleteEmptyBlockOrMoveToCef(root, forward, from, to);\n      } else if (forward && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else if (!forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      } else {\n        return Optional.none();\n      }\n    });\n    const getContentEditableBlockAction = (forward, elm) => {\n      if (isNullable(elm)) {\n        return Optional.none();\n      } else if (forward && isContentEditableFalse$a(elm.nextSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.nextSibling));\n      } else if (!forward && isContentEditableFalse$a(elm.previousSibling)) {\n        return Optional.some(DeleteAction.moveToElement(elm.previousSibling));\n      } else {\n        return Optional.none();\n      }\n    };\n    const skipMoveToActionFromInlineCefToContent = (root, from, deleteAction) => deleteAction.fold(elm => Optional.some(DeleteAction.remove(elm)), elm => Optional.some(DeleteAction.moveToElement(elm)), to => {\n      if (isInSameBlock(from, to, root)) {\n        return Optional.none();\n      } else {\n        return Optional.some(DeleteAction.moveToPosition(to));\n      }\n    });\n    const getContentEditableAction = (root, forward, from) => {\n      if (isAtContentEditableBlockCaret(forward, from)) {\n        return getContentEditableBlockAction(forward, from.getNode(!forward)).orThunk(() => findCefPosition(root, forward, from));\n      } else {\n        return findCefPosition(root, forward, from).bind(deleteAction => skipMoveToActionFromInlineCefToContent(root, from, deleteAction));\n      }\n    };\n    const read = (root, forward, rng) => {\n      const normalizedRange = normalizeRange(forward ? 1 : -1, root, rng);\n      const from = CaretPosition.fromRangeStart(normalizedRange);\n      const rootElement = SugarElement.fromDom(root);\n      if (!forward && isAfterContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode(true)));\n      } else if (forward && isBeforeContentEditableFalse(from)) {\n        return Optional.some(DeleteAction.remove(from.getNode()));\n      } else if (!forward && isBeforeContentEditableFalse(from) && isAfterBr(rootElement, from)) {\n        return findPreviousBr(rootElement, from).map(br => DeleteAction.remove(br.getNode()));\n      } else if (forward && isAfterContentEditableFalse(from) && isBeforeBr$1(rootElement, from)) {\n        return findNextBr(rootElement, from).map(br => DeleteAction.remove(br.getNode()));\n      } else {\n        return getContentEditableAction(root, forward, from);\n      }\n    };\n\n    const deleteElement$1 = (editor, forward) => element => {\n      editor._selectionOverrides.hideFakeCaret();\n      deleteElement$2(editor, forward, SugarElement.fromDom(element));\n      return true;\n    };\n    const moveToElement = (editor, forward) => element => {\n      const pos = forward ? CaretPosition.before(element) : CaretPosition.after(element);\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const moveToPosition = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    };\n    const getAncestorCe = (editor, node) => Optional.from(getContentEditableRoot$1(editor.getBody(), node));\n    const backspaceDeleteCaret = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return getAncestorCe(editor, selectedNode).filter(isContentEditableFalse$a).fold(() => read(editor.getBody(), forward, editor.selection.getRng()).map(deleteAction => () => deleteAction.fold(deleteElement$1(editor, forward), moveToElement(editor, forward), moveToPosition(editor))), () => Optional.some(noop));\n    };\n    const deleteOffscreenSelection = rootElement => {\n      each$e(descendants(rootElement, '.mce-offscreen-selection'), remove$6);\n    };\n    const backspaceDeleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      if (isContentEditableFalse$a(selectedNode) && !isTableCell$3(selectedNode)) {\n        const hasCefAncestor = getAncestorCe(editor, selectedNode.parentNode).filter(isContentEditableFalse$a);\n        return hasCefAncestor.fold(() => Optional.some(() => {\n          deleteOffscreenSelection(SugarElement.fromDom(editor.getBody()));\n          deleteElement$2(editor, forward, SugarElement.fromDom(editor.selection.getNode()));\n          paddEmptyBody(editor);\n        }), () => Optional.some(noop));\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        return Optional.some(() => {\n          deleteRangeContents(editor, editor.selection.getRng(), SugarElement.fromDom(editor.getBody()));\n        });\n      }\n      return Optional.none();\n    };\n    const paddEmptyElement = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const ceRoot = getContentEditableRoot$1(editor.getBody(), selection.getNode());\n      if (isContentEditableTrue$3(ceRoot) && dom.isBlock(ceRoot) && dom.isEmpty(ceRoot)) {\n        const br = dom.create('br', { 'data-mce-bogus': '1' });\n        dom.setHTML(ceRoot, '');\n        ceRoot.appendChild(br);\n        selection.setRng(CaretPosition.before(br).toRange());\n      }\n      return true;\n    };\n    const backspaceDelete$5 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return backspaceDeleteCaret(editor, forward);\n      } else {\n        return backspaceDeleteRange(editor, forward);\n      }\n    };\n\n    const deleteCaret$2 = (editor, forward) => {\n      const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return fromPosition(forward, editor.getBody(), fromPos).filter(pos => forward ? isBeforeImageBlock(pos) : isAfterImageBlock(pos)).bind(pos => getChildNodeAtRelativeOffset(forward ? 0 : -1, pos)).map(elm => () => editor.selection.select(elm));\n    };\n    const backspaceDelete$4 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$2(editor, forward) : Optional.none();\n\n    const isText$2 = isText$a;\n    const startsWithCaretContainer = node => isText$2(node) && node.data[0] === ZWSP$1;\n    const endsWithCaretContainer = node => isText$2(node) && node.data[node.data.length - 1] === ZWSP$1;\n    const createZwsp = node => {\n      var _a;\n      const doc = (_a = node.ownerDocument) !== null && _a !== void 0 ? _a : document;\n      return doc.createTextNode(ZWSP$1);\n    };\n    const insertBefore = node => {\n      var _a;\n      if (isText$2(node.previousSibling)) {\n        if (endsWithCaretContainer(node.previousSibling)) {\n          return node.previousSibling;\n        } else {\n          node.previousSibling.appendData(ZWSP$1);\n          return node.previousSibling;\n        }\n      } else if (isText$2(node)) {\n        if (startsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.insertData(0, ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(newNode, node);\n        return newNode;\n      }\n    };\n    const insertAfter = node => {\n      var _a, _b;\n      if (isText$2(node.nextSibling)) {\n        if (startsWithCaretContainer(node.nextSibling)) {\n          return node.nextSibling;\n        } else {\n          node.nextSibling.insertData(0, ZWSP$1);\n          return node.nextSibling;\n        }\n      } else if (isText$2(node)) {\n        if (endsWithCaretContainer(node)) {\n          return node;\n        } else {\n          node.appendData(ZWSP$1);\n          return node;\n        }\n      } else {\n        const newNode = createZwsp(node);\n        if (node.nextSibling) {\n          (_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.insertBefore(newNode, node.nextSibling);\n        } else {\n          (_b = node.parentNode) === null || _b === void 0 ? void 0 : _b.appendChild(newNode);\n        }\n        return newNode;\n      }\n    };\n    const insertInline = (before, node) => before ? insertBefore(node) : insertAfter(node);\n    const insertInlineBefore = curry(insertInline, true);\n    const insertInlineAfter = curry(insertInline, false);\n\n    const insertInlinePos = (pos, before) => {\n      if (isText$a(pos.container())) {\n        return insertInline(before, pos.container());\n      } else {\n        return insertInline(before, pos.getNode());\n      }\n    };\n    const isPosCaretContainer = (pos, caret) => {\n      const caretNode = caret.get();\n      return caretNode && pos.container() === caretNode && isCaretContainerInline(caretNode);\n    };\n    const renderCaret = (caret, location) => location.fold(element => {\n      remove$4(caret.get());\n      const text = insertInlineBefore(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, text.length - 1));\n    }, element => firstPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$4(caret.get());\n        const text = insertInlinePos(pos, true);\n        caret.set(text);\n        return CaretPosition(text, 1);\n      } else {\n        const node = caret.get();\n        return CaretPosition(node, 1);\n      }\n    }), element => lastPositionIn(element).map(pos => {\n      if (!isPosCaretContainer(pos, caret)) {\n        remove$4(caret.get());\n        const text = insertInlinePos(pos, false);\n        caret.set(text);\n        return CaretPosition(text, text.length - 1);\n      } else {\n        const node = caret.get();\n        return CaretPosition(node, node.length - 1);\n      }\n    }), element => {\n      remove$4(caret.get());\n      const text = insertInlineAfter(element);\n      caret.set(text);\n      return Optional.some(CaretPosition(text, 1));\n    });\n\n    const evaluateUntil = (fns, args) => {\n      for (let i = 0; i < fns.length; i++) {\n        const result = fns[i].apply(null, args);\n        if (result.isSome()) {\n          return result;\n        }\n      }\n      return Optional.none();\n    };\n\n    const Location = Adt.generate([\n      { before: ['element'] },\n      { start: ['element'] },\n      { end: ['element'] },\n      { after: ['element'] }\n    ]);\n    const rescope$1 = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const before = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => nextPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.before(inline)), Optional.none);\n    };\n    const isNotInsideFormatCaretContainer = (rootNode, elm) => getParentCaretContainer(rootNode, elm) === null;\n    const findInsideRootInline = (isInlineTarget, rootNode, pos) => findRootInline(isInlineTarget, rootNode, pos).filter(curry(isNotInsideFormatCaretContainer, rootNode));\n    const start$1 = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const prevPos = prevPosition(inline, nPos);\n        return prevPos.isNone() ? Optional.some(Location.start(inline)) : Optional.none();\n      });\n    };\n    const end = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeForwards(pos);\n      return findInsideRootInline(isInlineTarget, rootNode, nPos).bind(inline => {\n        const nextPos = nextPosition(inline, nPos);\n        return nextPos.isNone() ? Optional.some(Location.end(inline)) : Optional.none();\n      });\n    };\n    const after = (isInlineTarget, rootNode, pos) => {\n      const nPos = normalizeBackwards(pos);\n      const scope = rescope$1(rootNode, nPos.container());\n      return findRootInline(isInlineTarget, scope, nPos).fold(() => prevPosition(scope, nPos).bind(curry(findRootInline, isInlineTarget, scope)).map(inline => Location.after(inline)), Optional.none);\n    };\n    const isValidLocation = location => !isRtl(getElement(location));\n    const readLocation = (isInlineTarget, rootNode, pos) => {\n      const location = evaluateUntil([\n        before,\n        start$1,\n        end,\n        after\n      ], [\n        isInlineTarget,\n        rootNode,\n        pos\n      ]);\n      return location.filter(isValidLocation);\n    };\n    const getElement = location => location.fold(identity, identity, identity, identity);\n    const getName = location => location.fold(constant('before'), constant('start'), constant('end'), constant('after'));\n    const outside = location => location.fold(Location.before, Location.before, Location.after, Location.after);\n    const inside = location => location.fold(Location.start, Location.start, Location.end, Location.end);\n    const isEq = (location1, location2) => getName(location1) === getName(location2) && getElement(location1) === getElement(location2);\n    const betweenInlines = (forward, isInlineTarget, rootNode, from, to, location) => lift2(findRootInline(isInlineTarget, rootNode, from), findRootInline(isInlineTarget, rootNode, to), (fromInline, toInline) => {\n      if (fromInline !== toInline && hasSameParentBlock(rootNode, fromInline, toInline)) {\n        return Location.after(forward ? fromInline : toInline);\n      } else {\n        return location;\n      }\n    }).getOr(location);\n    const skipNoMovement = (fromLocation, toLocation) => fromLocation.fold(always, fromLocation => !isEq(fromLocation, toLocation));\n    const findLocationTraverse = (forward, isInlineTarget, rootNode, fromLocation, pos) => {\n      const from = normalizePosition(forward, pos);\n      const to = fromPosition(forward, rootNode, from).map(curry(normalizePosition, forward));\n      const location = to.fold(() => fromLocation.map(outside), to => readLocation(isInlineTarget, rootNode, to).map(curry(betweenInlines, forward, isInlineTarget, rootNode, from, to)).filter(curry(skipNoMovement, fromLocation)));\n      return location.filter(isValidLocation);\n    };\n    const findLocationSimple = (forward, location) => {\n      if (forward) {\n        return location.fold(compose(Optional.some, Location.start), Optional.none, compose(Optional.some, Location.after), Optional.none);\n      } else {\n        return location.fold(Optional.none, compose(Optional.some, Location.before), Optional.none, compose(Optional.some, Location.end));\n      }\n    };\n    const findLocation$1 = (forward, isInlineTarget, rootNode, pos) => {\n      const from = normalizePosition(forward, pos);\n      const fromLocation = readLocation(isInlineTarget, rootNode, from);\n      return readLocation(isInlineTarget, rootNode, from).bind(curry(findLocationSimple, forward)).orThunk(() => findLocationTraverse(forward, isInlineTarget, rootNode, fromLocation, pos));\n    };\n\n    const hasSelectionModifyApi = editor => {\n      return isFunction(editor.selection.getSel().modify);\n    };\n    const moveRel = (forward, selection, pos) => {\n      const delta = forward ? 1 : -1;\n      selection.setRng(CaretPosition(pos.container(), pos.offset() + delta).toRange());\n      selection.getSel().modify('move', forward ? 'forward' : 'backward', 'word');\n      return true;\n    };\n    const moveByWord = (forward, editor) => {\n      const rng = editor.selection.getRng();\n      const pos = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      if (!hasSelectionModifyApi(editor)) {\n        return false;\n      } else if (forward && isBeforeInline(pos)) {\n        return moveRel(true, editor.selection, pos);\n      } else if (!forward && isAfterInline(pos)) {\n        return moveRel(false, editor.selection, pos);\n      } else {\n        return false;\n      }\n    };\n\n    var BreakType;\n    (function (BreakType) {\n      BreakType[BreakType['Br'] = 0] = 'Br';\n      BreakType[BreakType['Block'] = 1] = 'Block';\n      BreakType[BreakType['Wrap'] = 2] = 'Wrap';\n      BreakType[BreakType['Eol'] = 3] = 'Eol';\n    }(BreakType || (BreakType = {})));\n    const flip = (direction, positions) => direction === HDirection.Backwards ? reverse(positions) : positions;\n    const walk$1 = (direction, caretWalker, pos) => direction === HDirection.Forwards ? caretWalker.next(pos) : caretWalker.prev(pos);\n    const getBreakType = (scope, direction, currentPos, nextPos) => {\n      if (isBr$6(nextPos.getNode(direction === HDirection.Forwards))) {\n        return BreakType.Br;\n      } else if (isInSameBlock(currentPos, nextPos) === false) {\n        return BreakType.Block;\n      } else {\n        return BreakType.Wrap;\n      }\n    };\n    const getPositionsUntil = (predicate, direction, scope, start) => {\n      const caretWalker = CaretWalker(scope);\n      let currentPos = start;\n      const positions = [];\n      while (currentPos) {\n        const nextPos = walk$1(direction, caretWalker, currentPos);\n        if (!nextPos) {\n          break;\n        }\n        if (isBr$6(nextPos.getNode(false))) {\n          if (direction === HDirection.Forwards) {\n            return {\n              positions: flip(direction, positions).concat([nextPos]),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          } else {\n            return {\n              positions: flip(direction, positions),\n              breakType: BreakType.Br,\n              breakAt: Optional.some(nextPos)\n            };\n          }\n        }\n        if (!nextPos.isVisible()) {\n          currentPos = nextPos;\n          continue;\n        }\n        if (predicate(currentPos, nextPos)) {\n          const breakType = getBreakType(scope, direction, currentPos, nextPos);\n          return {\n            positions: flip(direction, positions),\n            breakType,\n            breakAt: Optional.some(nextPos)\n          };\n        }\n        positions.push(nextPos);\n        currentPos = nextPos;\n      }\n      return {\n        positions: flip(direction, positions),\n        breakType: BreakType.Eol,\n        breakAt: Optional.none()\n      };\n    };\n    const getAdjacentLinePositions = (direction, getPositionsUntilBreak, scope, start) => getPositionsUntilBreak(scope, start).breakAt.map(pos => {\n      const positions = getPositionsUntilBreak(scope, pos).positions;\n      return direction === HDirection.Backwards ? positions.concat(pos) : [pos].concat(positions);\n    }).getOr([]);\n    const findClosestHorizontalPositionFromPoint = (positions, x) => foldl(positions, (acc, newPos) => acc.fold(() => Optional.some(newPos), lastPos => lift2(head(lastPos.getClientRects()), head(newPos.getClientRects()), (lastRect, newRect) => {\n      const lastDist = Math.abs(x - lastRect.left);\n      const newDist = Math.abs(x - newRect.left);\n      return newDist <= lastDist ? newPos : lastPos;\n    }).or(acc)), Optional.none());\n    const findClosestHorizontalPosition = (positions, pos) => head(pos.getClientRects()).bind(targetRect => findClosestHorizontalPositionFromPoint(positions, targetRect.left));\n    const getPositionsUntilPreviousLine = curry(getPositionsUntil, CaretPosition.isAbove, -1);\n    const getPositionsUntilNextLine = curry(getPositionsUntil, CaretPosition.isBelow, 1);\n    const getPositionsAbove = curry(getAdjacentLinePositions, -1, getPositionsUntilPreviousLine);\n    const getPositionsBelow = curry(getAdjacentLinePositions, 1, getPositionsUntilNextLine);\n    const isAtFirstLine = (scope, pos) => getPositionsUntilPreviousLine(scope, pos).breakAt.isNone();\n    const isAtLastLine = (scope, pos) => getPositionsUntilNextLine(scope, pos).breakAt.isNone();\n    const getFirstLinePositions = scope => firstPositionIn(scope).map(pos => [pos].concat(getPositionsUntilNextLine(scope, pos).positions)).getOr([]);\n    const getLastLinePositions = scope => lastPositionIn(scope).map(pos => getPositionsUntilPreviousLine(scope, pos).positions.concat(pos)).getOr([]);\n    const getClosestPositionAbove = (scope, pos) => findClosestHorizontalPosition(getPositionsAbove(scope, pos), pos);\n    const getClosestPositionBelow = (scope, pos) => findClosestHorizontalPosition(getPositionsBelow(scope, pos), pos);\n\n    const isContentEditableFalse$4 = isContentEditableFalse$a;\n    const distanceToRectLeft$1 = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight$1 = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isNodeClientRect = rect => hasNonNullableKey(rect, 'node');\n    const findClosestClientRect = (clientRects, clientX) => reduce(clientRects, (oldClientRect, clientRect) => {\n      const oldDistance = Math.min(distanceToRectLeft$1(oldClientRect, clientX), distanceToRectRight$1(oldClientRect, clientX));\n      const newDistance = Math.min(distanceToRectLeft$1(clientRect, clientX), distanceToRectRight$1(clientRect, clientX));\n      if (newDistance === oldDistance && isNodeClientRect(clientRect) && isContentEditableFalse$4(clientRect.node)) {\n        return clientRect;\n      }\n      if (newDistance < oldDistance) {\n        return clientRect;\n      }\n      return oldClientRect;\n    });\n\n    const getNodeClientRects = node => {\n      const toArrayWithNode = clientRects => {\n        return map$3(clientRects, rect => {\n          const clientRect = clone$1(rect);\n          clientRect.node = node;\n          return clientRect;\n        });\n      };\n      if (isElement$6(node)) {\n        return toArrayWithNode(node.getClientRects());\n      } else if (isText$a(node)) {\n        const rng = node.ownerDocument.createRange();\n        rng.setStart(node, 0);\n        rng.setEnd(node, node.data.length);\n        return toArrayWithNode(rng.getClientRects());\n      } else {\n        return [];\n      }\n    };\n    const getClientRects = nodes => bind$3(nodes, getNodeClientRects);\n\n    var VDirection;\n    (function (VDirection) {\n      VDirection[VDirection['Up'] = -1] = 'Up';\n      VDirection[VDirection['Down'] = 1] = 'Down';\n    }(VDirection || (VDirection = {})));\n    const findUntil = (direction, root, predicateFn, node) => {\n      let currentNode = node;\n      while (currentNode = findNode(currentNode, direction, isEditableCaretCandidate$1, root)) {\n        if (predicateFn(currentNode)) {\n          return;\n        }\n      }\n    };\n    const walkUntil = (direction, isAboveFn, isBeflowFn, root, predicateFn, caretPosition) => {\n      let line = 0;\n      const result = [];\n      const add = node => {\n        let clientRects = getClientRects([node]);\n        if (direction === -1) {\n          clientRects = clientRects.reverse();\n        }\n        for (let i = 0; i < clientRects.length; i++) {\n          const clientRect = clientRects[i];\n          if (isBeflowFn(clientRect, targetClientRect)) {\n            continue;\n          }\n          if (result.length > 0 && isAboveFn(clientRect, last$2(result))) {\n            line++;\n          }\n          clientRect.line = line;\n          if (predicateFn(clientRect)) {\n            return true;\n          }\n          result.push(clientRect);\n        }\n        return false;\n      };\n      const targetClientRect = last$2(caretPosition.getClientRects());\n      if (!targetClientRect) {\n        return result;\n      }\n      const node = caretPosition.getNode();\n      if (node) {\n        add(node);\n        findUntil(direction, root, add, node);\n      }\n      return result;\n    };\n    const aboveLineNumber = (lineNumber, clientRect) => clientRect.line > lineNumber;\n    const isLineNumber = (lineNumber, clientRect) => clientRect.line === lineNumber;\n    const upUntil = curry(walkUntil, VDirection.Up, isAbove$1, isBelow$1);\n    const downUntil = curry(walkUntil, VDirection.Down, isBelow$1, isAbove$1);\n    const getLastClientRect = caretPosition => {\n      return last$2(caretPosition.getClientRects());\n    };\n    const positionsUntil = (direction, root, predicateFn, node) => {\n      const caretWalker = CaretWalker(root);\n      let walkFn;\n      let isBelowFn;\n      let isAboveFn;\n      let caretPosition;\n      const result = [];\n      let line = 0;\n      if (direction === 1) {\n        walkFn = caretWalker.next;\n        isBelowFn = isBelow$1;\n        isAboveFn = isAbove$1;\n        caretPosition = CaretPosition.after(node);\n      } else {\n        walkFn = caretWalker.prev;\n        isBelowFn = isAbove$1;\n        isAboveFn = isBelow$1;\n        caretPosition = CaretPosition.before(node);\n      }\n      const targetClientRect = getLastClientRect(caretPosition);\n      do {\n        if (!caretPosition.isVisible()) {\n          continue;\n        }\n        const rect = getLastClientRect(caretPosition);\n        if (isAboveFn(rect, targetClientRect)) {\n          continue;\n        }\n        if (result.length > 0 && isBelowFn(rect, last$2(result))) {\n          line++;\n        }\n        const clientRect = clone$1(rect);\n        clientRect.position = caretPosition;\n        clientRect.line = line;\n        if (predicateFn(clientRect)) {\n          return result;\n        }\n        result.push(clientRect);\n      } while (caretPosition = walkFn(caretPosition));\n      return result;\n    };\n    const isAboveLine = lineNumber => clientRect => aboveLineNumber(lineNumber, clientRect);\n    const isLine = lineNumber => clientRect => isLineNumber(lineNumber, clientRect);\n\n    const moveToRange = (editor, rng) => {\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, editor.selection.getRng());\n    };\n    const renderRangeCaretOpt = (editor, range, scrollIntoView) => Optional.some(renderRangeCaret(editor, range, scrollIntoView));\n    const moveHorizontally = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const forwards = direction === HDirection.Forwards;\n      const caretWalker = CaretWalker(editor.getBody());\n      const getNextPosFn = curry(getVisualCaretPosition, forwards ? caretWalker.next : caretWalker.prev);\n      const isBeforeFn = forwards ? isBefore : isAfter;\n      if (!range.collapsed) {\n        const node = getSelectedNode(range);\n        if (isElement(node)) {\n          return showCaret(direction, editor, node, direction === HDirection.Backwards, false);\n        } else if (isCefAtEdgeSelected(editor)) {\n          const newRange = range.cloneRange();\n          newRange.collapse(direction === HDirection.Backwards);\n          return Optional.from(newRange);\n        }\n      }\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      if (isBeforeFn(caretPosition)) {\n        return selectNode(editor, caretPosition.getNode(!forwards));\n      }\n      let nextCaretPosition = getNextPosFn(caretPosition);\n      const rangeIsInContainerBlock = isRangeInCaretContainerBlock(range);\n      if (!nextCaretPosition) {\n        return rangeIsInContainerBlock ? Optional.some(range) : Optional.none();\n      } else {\n        nextCaretPosition = normalizePosition(forwards, nextCaretPosition);\n      }\n      if (isBeforeFn(nextCaretPosition)) {\n        return showCaret(direction, editor, nextCaretPosition.getNode(!forwards), forwards, false);\n      }\n      const peekCaretPosition = getNextPosFn(nextCaretPosition);\n      if (peekCaretPosition && isBeforeFn(peekCaretPosition)) {\n        if (isMoveInsideSameBlock(nextCaretPosition, peekCaretPosition)) {\n          return showCaret(direction, editor, peekCaretPosition.getNode(!forwards), forwards, false);\n        }\n      }\n      if (rangeIsInContainerBlock) {\n        return renderRangeCaretOpt(editor, nextCaretPosition.toRange(), false);\n      }\n      return Optional.none();\n    };\n    const moveVertically = (editor, direction, range, isBefore, isAfter, isElement) => {\n      const caretPosition = getNormalizedRangeEndPoint(direction, editor.getBody(), range);\n      const caretClientRect = last$2(caretPosition.getClientRects());\n      const forwards = direction === VDirection.Down;\n      const root = editor.getBody();\n      if (!caretClientRect) {\n        return Optional.none();\n      }\n      if (isCefAtEdgeSelected(editor)) {\n        const caretPosition = forwards ? CaretPosition.fromRangeEnd(range) : CaretPosition.fromRangeStart(range);\n        const getClosestFn = !forwards ? getClosestPositionAbove : getClosestPositionBelow;\n        return getClosestFn(root, caretPosition).orThunk(() => Optional.from(caretPosition)).map(pos => pos.toRange());\n      }\n      const walkerFn = forwards ? downUntil : upUntil;\n      const linePositions = walkerFn(root, isAboveLine(1), caretPosition);\n      const nextLinePositions = filter$5(linePositions, isLine(1));\n      const clientX = caretClientRect.left;\n      const nextLineRect = findClosestClientRect(nextLinePositions, clientX);\n      if (nextLineRect && isElement(nextLineRect.node)) {\n        const dist1 = Math.abs(clientX - nextLineRect.left);\n        const dist2 = Math.abs(clientX - nextLineRect.right);\n        return showCaret(direction, editor, nextLineRect.node, dist1 < dist2, false);\n      }\n      let currentNode;\n      if (isBefore(caretPosition)) {\n        currentNode = caretPosition.getNode();\n      } else if (isAfter(caretPosition)) {\n        currentNode = caretPosition.getNode(true);\n      } else {\n        currentNode = getSelectedNode(range);\n      }\n      if (currentNode) {\n        const caretPositions = positionsUntil(direction, root, isAboveLine(1), currentNode);\n        let closestNextLineRect = findClosestClientRect(filter$5(caretPositions, isLine(1)), clientX);\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n        closestNextLineRect = last$2(filter$5(caretPositions, isLine(0)));\n        if (closestNextLineRect) {\n          return renderRangeCaretOpt(editor, closestNextLineRect.position.toRange(), false);\n        }\n      }\n      if (nextLinePositions.length === 0) {\n        return getLineEndPoint(editor, forwards).filter(forwards ? isAfter : isBefore).map(pos => renderRangeCaret(editor, pos.toRange(), false));\n      }\n      return Optional.none();\n    };\n    const getLineEndPoint = (editor, forward) => {\n      const rng = editor.selection.getRng();\n      const from = forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n      const host = getEditingHost(from.container(), editor.getBody());\n      if (forward) {\n        const lineInfo = getPositionsUntilNextLine(host, from);\n        return last$3(lineInfo.positions);\n      } else {\n        const lineInfo = getPositionsUntilPreviousLine(host, from);\n        return head(lineInfo.positions);\n      }\n    };\n    const moveToLineEndPoint$3 = (editor, forward, isElementPosition) => getLineEndPoint(editor, forward).filter(isElementPosition).exists(pos => {\n      editor.selection.setRng(pos.toRange());\n      return true;\n    });\n\n    const setCaretPosition = (editor, pos) => {\n      const rng = editor.dom.createRng();\n      rng.setStart(pos.container(), pos.offset());\n      rng.setEnd(pos.container(), pos.offset());\n      editor.selection.setRng(rng);\n    };\n    const setSelected = (state, elm) => {\n      if (state) {\n        elm.setAttribute('data-mce-selected', 'inline-boundary');\n      } else {\n        elm.removeAttribute('data-mce-selected');\n      }\n    };\n    const renderCaretLocation = (editor, caret, location) => renderCaret(caret, location).map(pos => {\n      setCaretPosition(editor, pos);\n      return location;\n    });\n    const getPositionFromRange = (range, root, forward) => {\n      const start = CaretPosition.fromRangeStart(range);\n      if (range.collapsed) {\n        return start;\n      } else {\n        const end = CaretPosition.fromRangeEnd(range);\n        return forward ? prevPosition(root, end).getOr(end) : nextPosition(root, start).getOr(start);\n      }\n    };\n    const findLocation = (editor, caret, forward) => {\n      const rootNode = editor.getBody();\n      const from = getPositionFromRange(editor.selection.getRng(), rootNode, forward);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const location = findLocation$1(forward, isInlineTarget$1, rootNode, from);\n      return location.bind(location => renderCaretLocation(editor, caret, location));\n    };\n    const toggleInlines = (isInlineTarget, dom, elms) => {\n      const inlineBoundaries = map$3(descendants(SugarElement.fromDom(dom.getRoot()), '*[data-mce-selected=\"inline-boundary\"]'), e => e.dom);\n      const selectedInlines = filter$5(inlineBoundaries, isInlineTarget);\n      const targetInlines = filter$5(elms, isInlineTarget);\n      each$e(difference(selectedInlines, targetInlines), curry(setSelected, false));\n      each$e(difference(targetInlines, selectedInlines), curry(setSelected, true));\n    };\n    const safeRemoveCaretContainer = (editor, caret) => {\n      const caretValue = caret.get();\n      if (editor.selection.isCollapsed() && !editor.composing && caretValue) {\n        const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (CaretPosition.isTextPosition(pos) && !isAtZwsp(pos)) {\n          setCaretPosition(editor, removeAndReposition(caretValue, pos));\n          caret.set(null);\n        }\n      }\n    };\n    const renderInsideInlineCaret = (isInlineTarget, editor, caret, elms) => {\n      if (editor.selection.isCollapsed()) {\n        const inlines = filter$5(elms, isInlineTarget);\n        each$e(inlines, _inline => {\n          const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n          readLocation(isInlineTarget, editor.getBody(), pos).bind(location => renderCaretLocation(editor, caret, location));\n        });\n      }\n    };\n    const move$2 = (editor, caret, forward) => isInlineBoundariesEnabled(editor) ? findLocation(editor, caret, forward).isSome() : false;\n    const moveWord = (forward, editor, _caret) => isInlineBoundariesEnabled(editor) ? moveByWord(forward, editor) : false;\n    const setupSelectedState = editor => {\n      const caret = Cell(null);\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.on('NodeChange', e => {\n        if (isInlineBoundariesEnabled(editor)) {\n          toggleInlines(isInlineTarget$1, editor.dom, e.parents);\n          safeRemoveCaretContainer(editor, caret);\n          renderInsideInlineCaret(isInlineTarget$1, editor, caret, e.parents);\n        }\n      });\n      return caret;\n    };\n    const moveNextWord = curry(moveWord, true);\n    const movePrevWord = curry(moveWord, false);\n    const moveToLineEndPoint$2 = (editor, forward, caret) => {\n      if (isInlineBoundariesEnabled(editor)) {\n        const linePoint = getLineEndPoint(editor, forward).getOrThunk(() => {\n          const rng = editor.selection.getRng();\n          return forward ? CaretPosition.fromRangeEnd(rng) : CaretPosition.fromRangeStart(rng);\n        });\n        return readLocation(curry(isInlineTarget, editor), editor.getBody(), linePoint).exists(loc => {\n          const outsideLoc = outside(loc);\n          return renderCaret(caret, outsideLoc).exists(pos => {\n            setCaretPosition(editor, pos);\n            return true;\n          });\n        });\n      } else {\n        return false;\n      }\n    };\n\n    const rangeFromPositions = (from, to) => {\n      const range = document.createRange();\n      range.setStart(from.container(), from.offset());\n      range.setEnd(to.container(), to.offset());\n      return range;\n    };\n    const hasOnlyTwoOrLessPositionsLeft = elm => lift2(firstPositionIn(elm), lastPositionIn(elm), (firstPos, lastPos) => {\n      const normalizedFirstPos = normalizePosition(true, firstPos);\n      const normalizedLastPos = normalizePosition(false, lastPos);\n      return nextPosition(elm, normalizedFirstPos).forall(pos => pos.isEqual(normalizedLastPos));\n    }).getOr(true);\n    const setCaretLocation = (editor, caret) => location => renderCaret(caret, location).map(pos => () => setCaretPosition(editor, pos));\n    const deleteFromTo = (editor, caret, from, to) => {\n      const rootNode = editor.getBody();\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      editor.undoManager.ignore(() => {\n        editor.selection.setRng(rangeFromPositions(from, to));\n        execNativeDeleteCommand(editor);\n        readLocation(isInlineTarget$1, rootNode, CaretPosition.fromRangeStart(editor.selection.getRng())).map(inside).bind(setCaretLocation(editor, caret)).each(call);\n      });\n      editor.nodeChanged();\n    };\n    const rescope = (rootNode, node) => {\n      const parentBlock = getParentBlock$3(node, rootNode);\n      return parentBlock ? parentBlock : rootNode;\n    };\n    const backspaceDeleteCollapsed = (editor, caret, forward, from) => {\n      const rootNode = rescope(editor.getBody(), from.container());\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const fromLocation = readLocation(isInlineTarget$1, rootNode, from);\n      const location = fromLocation.bind(location => {\n        if (forward) {\n          return location.fold(constant(Optional.some(inside(location))), Optional.none, constant(Optional.some(outside(location))), Optional.none);\n        } else {\n          return location.fold(Optional.none, constant(Optional.some(outside(location))), Optional.none, constant(Optional.some(inside(location))));\n        }\n      });\n      return location.map(setCaretLocation(editor, caret)).getOrThunk(() => {\n        const toPosition = navigate(forward, rootNode, from);\n        const toLocation = toPosition.bind(pos => readLocation(isInlineTarget$1, rootNode, pos));\n        return lift2(fromLocation, toLocation, () => findRootInline(isInlineTarget$1, rootNode, from).bind(elm => {\n          if (hasOnlyTwoOrLessPositionsLeft(elm)) {\n            return Optional.some(() => {\n              deleteElement$2(editor, forward, SugarElement.fromDom(elm));\n            });\n          } else {\n            return Optional.none();\n          }\n        })).getOrThunk(() => toLocation.bind(() => toPosition.map(to => {\n          return () => {\n            if (forward) {\n              deleteFromTo(editor, caret, from, to);\n            } else {\n              deleteFromTo(editor, caret, to, from);\n            }\n          };\n        })));\n      });\n    };\n    const backspaceDelete$3 = (editor, caret, forward) => {\n      if (editor.selection.isCollapsed() && isInlineBoundariesEnabled(editor)) {\n        const from = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return backspaceDeleteCollapsed(editor, caret, forward, from);\n      }\n      return Optional.none();\n    };\n\n    const getParentInlines = (rootElm, startElm) => {\n      const parents = parentsAndSelf(startElm, rootElm);\n      return findIndex$2(parents, isBlock$2).fold(constant(parents), index => parents.slice(0, index));\n    };\n    const hasOnlyOneChild = elm => childNodesCount(elm) === 1;\n    const deleteLastPosition = (forward, editor, target, parentInlines) => {\n      const isFormatElement$1 = curry(isFormatElement, editor);\n      const formatNodes = map$3(filter$5(parentInlines, isFormatElement$1), elm => elm.dom);\n      if (formatNodes.length === 0) {\n        deleteElement$2(editor, forward, target);\n      } else {\n        const pos = replaceWithCaretFormat(target.dom, formatNodes);\n        editor.selection.setRng(pos.toRange());\n      }\n    };\n    const deleteCaret$1 = (editor, forward) => {\n      const rootElm = SugarElement.fromDom(editor.getBody());\n      const startElm = SugarElement.fromDom(editor.selection.getStart());\n      const parentInlines = filter$5(getParentInlines(rootElm, startElm), hasOnlyOneChild);\n      return last$3(parentInlines).bind(target => {\n        const fromPos = CaretPosition.fromRangeStart(editor.selection.getRng());\n        if (willDeleteLastPositionInElement(forward, fromPos, target.dom) && !isEmptyCaretFormatElement(target)) {\n          return Optional.some(() => deleteLastPosition(forward, editor, target, parentInlines));\n        } else {\n          return Optional.none();\n        }\n      });\n    };\n    const backspaceDelete$2 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret$1(editor, forward) : Optional.none();\n\n    const deleteElement = (editor, forward, element) => {\n      if (isNonNullable(element)) {\n        return Optional.some(() => {\n          editor._selectionOverrides.hideFakeCaret();\n          deleteElement$2(editor, forward, SugarElement.fromDom(element));\n        });\n      } else {\n        return Optional.none();\n      }\n    };\n    const deleteCaret = (editor, forward) => {\n      const isNearMedia = forward ? isBeforeMedia : isAfterMedia;\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const fromPos = getNormalizedRangeEndPoint(direction, editor.getBody(), editor.selection.getRng());\n      if (isNearMedia(fromPos)) {\n        return deleteElement(editor, forward, fromPos.getNode(!forward));\n      } else {\n        return Optional.from(normalizePosition(forward, fromPos)).filter(pos => isNearMedia(pos) && isMoveInsideSameBlock(fromPos, pos)).bind(pos => deleteElement(editor, forward, pos.getNode(!forward)));\n      }\n    };\n    const deleteRange = (editor, forward) => {\n      const selectedNode = editor.selection.getNode();\n      return isMedia$2(selectedNode) ? deleteElement(editor, forward, selectedNode) : Optional.none();\n    };\n    const backspaceDelete$1 = (editor, forward) => editor.selection.isCollapsed() ? deleteCaret(editor, forward) : deleteRange(editor, forward);\n\n    const isEditable$1 = target => closest$4(target, elm => isContentEditableTrue$3(elm.dom) || isContentEditableFalse$a(elm.dom)).exists(elm => isContentEditableTrue$3(elm.dom));\n    const parseIndentValue = value => toInt(value !== null && value !== void 0 ? value : '').getOr(0);\n    const getIndentStyleName = (useMargin, element) => {\n      const indentStyleName = useMargin || isTable$1(element) ? 'margin' : 'padding';\n      const suffix = get$7(element, 'direction') === 'rtl' ? '-right' : '-left';\n      return indentStyleName + suffix;\n    };\n    const indentElement = (dom, command, useMargin, value, unit, element) => {\n      const indentStyleName = getIndentStyleName(useMargin, SugarElement.fromDom(element));\n      const parsedValue = parseIndentValue(dom.getStyle(element, indentStyleName));\n      if (command === 'outdent') {\n        const styleValue = Math.max(0, parsedValue - value);\n        dom.setStyle(element, indentStyleName, styleValue ? styleValue + unit : '');\n      } else {\n        const styleValue = parsedValue + value + unit;\n        dom.setStyle(element, indentStyleName, styleValue);\n      }\n    };\n    const validateBlocks = (editor, blocks) => forall(blocks, block => {\n      const indentStyleName = getIndentStyleName(shouldIndentUseMargin(editor), block);\n      const intentValue = getRaw$1(block, indentStyleName).map(parseIndentValue).getOr(0);\n      const contentEditable = editor.dom.getContentEditable(block.dom);\n      return contentEditable !== 'false' && intentValue > 0;\n    });\n    const canOutdent = editor => {\n      const blocks = getBlocksToIndent(editor);\n      return !editor.mode.isReadOnly() && (blocks.length > 1 || validateBlocks(editor, blocks));\n    };\n    const isListComponent = el => isList(el) || isListItem$1(el);\n    const parentIsListComponent = el => parent(el).exists(isListComponent);\n    const getBlocksToIndent = editor => filter$5(fromDom$1(editor.selection.getSelectedBlocks()), el => !isListComponent(el) && !parentIsListComponent(el) && isEditable$1(el));\n    const handle = (editor, command) => {\n      var _a, _b;\n      const {dom} = editor;\n      const indentation = getIndentation(editor);\n      const indentUnit = (_b = (_a = /[a-z%]+$/i.exec(indentation)) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : 'px';\n      const indentValue = parseIndentValue(indentation);\n      const useMargin = shouldIndentUseMargin(editor);\n      each$e(getBlocksToIndent(editor), block => {\n        indentElement(dom, command, useMargin, indentValue, indentUnit, block.dom);\n      });\n    };\n    const indent = editor => handle(editor, 'indent');\n    const outdent = editor => handle(editor, 'outdent');\n\n    const backspaceDelete = editor => {\n      if (editor.selection.isCollapsed() && canOutdent(editor)) {\n        const dom = editor.dom;\n        const rng = editor.selection.getRng();\n        const pos = CaretPosition.fromRangeStart(rng);\n        const block = dom.getParent(rng.startContainer, dom.isBlock);\n        if (block !== null && isAtStartOfBlock(SugarElement.fromDom(block), pos)) {\n          return Optional.some(() => outdent(editor));\n        }\n      }\n      return Optional.none();\n    };\n\n    const findAction = (editor, caret, forward) => findMap([\n      backspaceDelete,\n      backspaceDelete$5,\n      backspaceDelete$6,\n      (editor, forward) => backspaceDelete$3(editor, caret, forward),\n      backspaceDelete$8,\n      backspaceDelete$9,\n      backspaceDelete$4,\n      backspaceDelete$1,\n      backspaceDelete$7,\n      backspaceDelete$2\n    ], item => item(editor, forward));\n    const deleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, false);\n      result.fold(() => {\n        execNativeDeleteCommand(editor);\n        paddEmptyBody(editor);\n      }, call);\n    };\n    const forwardDeleteCommand = (editor, caret) => {\n      const result = findAction(editor, caret, true);\n      result.fold(() => execNativeForwardDeleteCommand(editor), call);\n    };\n    const setup$p = (editor, caret) => {\n      editor.addCommand('delete', () => {\n        deleteCommand(editor, caret);\n      });\n      editor.addCommand('forwardDelete', () => {\n        forwardDeleteCommand(editor, caret);\n      });\n    };\n\n    const SIGNIFICANT_MOVE = 5;\n    const LONGPRESS_DELAY = 400;\n    const getTouch = event => {\n      if (event.touches === undefined || event.touches.length !== 1) {\n        return Optional.none();\n      }\n      return Optional.some(event.touches[0]);\n    };\n    const isFarEnough = (touch, data) => {\n      const distX = Math.abs(touch.clientX - data.x);\n      const distY = Math.abs(touch.clientY - data.y);\n      return distX > SIGNIFICANT_MOVE || distY > SIGNIFICANT_MOVE;\n    };\n    const setup$o = editor => {\n      const startData = value$2();\n      const longpressFired = Cell(false);\n      const debounceLongpress = last$1(e => {\n        editor.dispatch('longpress', {\n          ...e,\n          type: 'longpress'\n        });\n        longpressFired.set(true);\n      }, LONGPRESS_DELAY);\n      editor.on('touchstart', e => {\n        getTouch(e).each(touch => {\n          debounceLongpress.cancel();\n          const data = {\n            x: touch.clientX,\n            y: touch.clientY,\n            target: e.target\n          };\n          debounceLongpress.throttle(e);\n          longpressFired.set(false);\n          startData.set(data);\n        });\n      }, true);\n      editor.on('touchmove', e => {\n        debounceLongpress.cancel();\n        getTouch(e).each(touch => {\n          startData.on(data => {\n            if (isFarEnough(touch, data)) {\n              startData.clear();\n              longpressFired.set(false);\n              editor.dispatch('longpresscancel');\n            }\n          });\n        });\n      }, true);\n      editor.on('touchend touchcancel', e => {\n        debounceLongpress.cancel();\n        if (e.type === 'touchcancel') {\n          return;\n        }\n        startData.get().filter(data => data.target.isEqualNode(e.target)).each(() => {\n          if (longpressFired.get()) {\n            e.preventDefault();\n          } else {\n            editor.dispatch('tap', {\n              ...e,\n              type: 'tap'\n            });\n          }\n        });\n      }, true);\n    };\n\n    const isBlockElement = (blockElements, node) => has$2(blockElements, node.nodeName);\n    const isValidTarget = (schema, node) => {\n      if (isText$a(node)) {\n        return true;\n      } else if (isElement$6(node)) {\n        return !isBlockElement(schema.getBlockElements(), node) && !isBookmarkNode$1(node) && !isTransparentBlock(schema, node);\n      } else {\n        return false;\n      }\n    };\n    const hasBlockParent = (blockElements, root, node) => {\n      return exists(parents(SugarElement.fromDom(node), SugarElement.fromDom(root)), elm => {\n        return isBlockElement(blockElements, elm.dom);\n      });\n    };\n    const shouldRemoveTextNode = (blockElements, node) => {\n      if (isText$a(node)) {\n        if (node.data.length === 0) {\n          return true;\n        } else if (/^\\s+$/.test(node.data) && (!node.nextSibling || isBlockElement(blockElements, node.nextSibling))) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const createRootBlock = editor => editor.dom.create(getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n    const addRootBlocks = editor => {\n      const dom = editor.dom, selection = editor.selection;\n      const schema = editor.schema;\n      const blockElements = schema.getBlockElements();\n      const startNode = selection.getStart();\n      const rootNode = editor.getBody();\n      let rootBlockNode;\n      let tempNode;\n      let wrapped = false;\n      const forcedRootBlock = getForcedRootBlock(editor);\n      if (!startNode || !isElement$6(startNode)) {\n        return;\n      }\n      const rootNodeName = rootNode.nodeName.toLowerCase();\n      if (!schema.isValidChild(rootNodeName, forcedRootBlock.toLowerCase()) || hasBlockParent(blockElements, rootNode, startNode)) {\n        return;\n      }\n      const rng = selection.getRng();\n      const {startContainer, startOffset, endContainer, endOffset} = rng;\n      const restoreSelection = hasFocus(editor);\n      let node = rootNode.firstChild;\n      while (node) {\n        if (isElement$6(node)) {\n          updateElement(schema, node);\n        }\n        if (isValidTarget(schema, node)) {\n          if (shouldRemoveTextNode(blockElements, node)) {\n            tempNode = node;\n            node = node.nextSibling;\n            dom.remove(tempNode);\n            continue;\n          }\n          if (!rootBlockNode) {\n            rootBlockNode = createRootBlock(editor);\n            rootNode.insertBefore(rootBlockNode, node);\n            wrapped = true;\n          }\n          tempNode = node;\n          node = node.nextSibling;\n          rootBlockNode.appendChild(tempNode);\n        } else {\n          rootBlockNode = null;\n          node = node.nextSibling;\n        }\n      }\n      if (wrapped && restoreSelection) {\n        rng.setStart(startContainer, startOffset);\n        rng.setEnd(endContainer, endOffset);\n        selection.setRng(rng);\n        editor.nodeChanged();\n      }\n    };\n    const insertEmptyLine = (editor, root, insertBlock) => {\n      const block = SugarElement.fromDom(createRootBlock(editor));\n      const br = createPaddingBr();\n      append$1(block, br);\n      insertBlock(root, block);\n      const rng = document.createRange();\n      rng.setStartBefore(br.dom);\n      rng.setEndBefore(br.dom);\n      return rng;\n    };\n    const setup$n = editor => {\n      editor.on('NodeChange', curry(addRootBlocks, editor));\n    };\n\n    const hasClass = checkClassName => node => (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n    const replaceMatchWithSpan = (editor, content, cls) => {\n      return function (match) {\n        const args = arguments, index = args[args.length - 2];\n        const prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          const findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            const tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    const convertRegExpsToNonEditable = (editor, nonEditableRegExps, e) => {\n      let i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    const setup$m = editor => {\n      const contentEditableAttrName = 'contenteditable';\n      const editClass = ' ' + Tools.trim(getEditableClass(editor)) + ' ';\n      const nonEditClass = ' ' + Tools.trim(getNonEditableClass(editor)) + ' ';\n      const hasEditClass = hasClass(editClass);\n      const hasNonEditClass = hasClass(nonEditClass);\n      const nonEditableRegExps = getNonEditableRegExps(editor);\n      if (nonEditableRegExps.length > 0) {\n        editor.on('BeforeSetContent', e => {\n          convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n        });\n      }\n      editor.parser.addAttributeFilter('class', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (hasEditClass(node)) {\n            node.attr(contentEditableAttrName, 'true');\n          } else if (hasNonEditClass(node)) {\n            node.attr(contentEditableAttrName, 'false');\n          }\n        }\n      });\n      editor.serializer.addAttributeFilter(contentEditableAttrName, nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          if (!hasEditClass(node) && !hasNonEditClass(node)) {\n            continue;\n          }\n          if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n            node.name = '#text';\n            node.type = 3;\n            node.raw = true;\n            node.value = node.attr('data-mce-content');\n          } else {\n            node.attr(contentEditableAttrName, null);\n          }\n        }\n      });\n    };\n\n    const findBlockCaretContainer = editor => descendant(SugarElement.fromDom(editor.getBody()), '*[data-mce-caret]').map(elm => elm.dom).getOrNull();\n    const showBlockCaretContainer = (editor, blockCaretContainer) => {\n      if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n        showCaretContainerBlock(blockCaretContainer);\n        editor.selection.setRng(editor.selection.getRng());\n        editor.selection.scrollIntoView(blockCaretContainer);\n      }\n    };\n    const handleBlockContainer = (editor, e) => {\n      const blockCaretContainer = findBlockCaretContainer(editor);\n      if (!blockCaretContainer) {\n        return;\n      }\n      if (e.type === 'compositionstart') {\n        e.preventDefault();\n        e.stopPropagation();\n        showBlockCaretContainer(editor, blockCaretContainer);\n        return;\n      }\n      if (hasContent(blockCaretContainer)) {\n        showBlockCaretContainer(editor, blockCaretContainer);\n        editor.undoManager.add();\n      }\n    };\n    const setup$l = editor => {\n      editor.on('keyup compositionstart', curry(handleBlockContainer, editor));\n    };\n\n    const isContentEditableFalse$3 = isContentEditableFalse$a;\n    const moveToCeFalseHorizontally = (direction, editor, range) => moveHorizontally(editor, direction, range, isBeforeContentEditableFalse, isAfterContentEditableFalse, isContentEditableFalse$3);\n    const moveToCeFalseVertically = (direction, editor, range) => {\n      const isBefore = caretPosition => isBeforeContentEditableFalse(caretPosition) || isBeforeTable(caretPosition);\n      const isAfter = caretPosition => isAfterContentEditableFalse(caretPosition) || isAfterTable(caretPosition);\n      return moveVertically(editor, direction, range, isBefore, isAfter, isContentEditableFalse$3);\n    };\n    const createTextBlock = editor => {\n      const textBlock = editor.dom.create(getForcedRootBlock(editor));\n      textBlock.innerHTML = '<br data-mce-bogus=\"1\">';\n      return textBlock;\n    };\n    const exitPreBlock = (editor, direction, range) => {\n      const caretWalker = CaretWalker(editor.getBody());\n      const getVisualCaretPosition$1 = curry(getVisualCaretPosition, direction === 1 ? caretWalker.next : caretWalker.prev);\n      if (range.collapsed) {\n        const pre = editor.dom.getParent(range.startContainer, 'PRE');\n        if (!pre) {\n          return;\n        }\n        const caretPos = getVisualCaretPosition$1(CaretPosition.fromRangeStart(range));\n        if (!caretPos) {\n          const newBlock = SugarElement.fromDom(createTextBlock(editor));\n          if (direction === 1) {\n            after$4(SugarElement.fromDom(pre), newBlock);\n          } else {\n            before$3(SugarElement.fromDom(pre), newBlock);\n          }\n          editor.selection.select(newBlock.dom, true);\n          editor.selection.collapse();\n        }\n      }\n    };\n    const getHorizontalRange = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveToCeFalseHorizontally(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const getVerticalRange = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveToCeFalseVertically(direction, editor, range).orThunk(() => {\n        exitPreBlock(editor, direction, range);\n        return Optional.none();\n      });\n    };\n    const moveH$2 = (editor, forward) => getHorizontalRange(editor, forward).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveV$3 = (editor, down) => getVerticalRange(editor, down).exists(newRange => {\n      moveToRange(editor, newRange);\n      return true;\n    });\n    const moveToLineEndPoint$1 = (editor, forward) => {\n      const isCefPosition = forward ? isAfterContentEditableFalse : isBeforeContentEditableFalse;\n      return moveToLineEndPoint$3(editor, forward, isCefPosition);\n    };\n    const selectToEndPoint = (editor, forward) => getEdgeCefPosition(editor, !forward).map(pos => {\n      const rng = pos.toRange();\n      const curRng = editor.selection.getRng();\n      if (forward) {\n        rng.setStart(curRng.startContainer, curRng.startOffset);\n      } else {\n        rng.setEnd(curRng.endContainer, curRng.endOffset);\n      }\n      return rng;\n    }).exists(rng => {\n      moveToRange(editor, rng);\n      return true;\n    });\n\n    const isTarget = node => contains$2(['figcaption'], name(node));\n    const getClosestTargetBlock = (pos, root) => {\n      const isRoot = curry(eq, root);\n      return closest$4(SugarElement.fromDom(pos.container()), isBlock$2, isRoot).filter(isTarget);\n    };\n    const isAtFirstOrLastLine = (root, forward, pos) => forward ? isAtLastLine(root.dom, pos) : isAtFirstLine(root.dom, pos);\n    const moveCaretToNewEmptyLine = (editor, forward) => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return getClosestTargetBlock(pos, root).exists(() => {\n        if (isAtFirstOrLastLine(root, forward, pos)) {\n          const insertFn = forward ? append$1 : prepend;\n          const rng = insertEmptyLine(editor, root, insertFn);\n          editor.selection.setRng(rng);\n          return true;\n        } else {\n          return false;\n        }\n      });\n    };\n    const moveV$2 = (editor, forward) => {\n      if (editor.selection.isCollapsed()) {\n        return moveCaretToNewEmptyLine(editor, forward);\n      } else {\n        return false;\n      }\n    };\n\n    const baseKeyPattern = {\n      shiftKey: false,\n      altKey: false,\n      ctrlKey: false,\n      metaKey: false,\n      keyCode: 0\n    };\n    const defaultPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      ...pattern\n    }));\n    const defaultDelayedPatterns = patterns => map$3(patterns, pattern => ({\n      ...baseKeyPattern,\n      ...pattern\n    }));\n    const matchesEvent = (pattern, evt) => evt.keyCode === pattern.keyCode && evt.shiftKey === pattern.shiftKey && evt.altKey === pattern.altKey && evt.ctrlKey === pattern.ctrlKey && evt.metaKey === pattern.metaKey;\n    const match$1 = (patterns, evt) => bind$3(defaultPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const matchDelayed = (patterns, evt) => bind$3(defaultDelayedPatterns(patterns), pattern => matchesEvent(pattern, evt) ? [pattern] : []);\n    const action = (f, ...x) => () => f.apply(null, x);\n    const execute = (patterns, evt) => find$2(match$1(patterns, evt), pattern => pattern.action());\n    const executeWithDelayedAction = (patterns, evt) => findMap(matchDelayed(patterns, evt), pattern => pattern.action());\n\n    const moveH$1 = (editor, forward) => {\n      const direction = forward ? HDirection.Forwards : HDirection.Backwards;\n      const range = editor.selection.getRng();\n      return moveHorizontally(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveV$1 = (editor, down) => {\n      const direction = down ? 1 : -1;\n      const range = editor.selection.getRng();\n      return moveVertically(editor, direction, range, isBeforeMedia, isAfterMedia, isMedia$2).exists(newRange => {\n        moveToRange(editor, newRange);\n        return true;\n      });\n    };\n    const moveToLineEndPoint = (editor, forward) => {\n      const isNearMedia = forward ? isAfterMedia : isBeforeMedia;\n      return moveToLineEndPoint$3(editor, forward, isNearMedia);\n    };\n\n    const adt = Adt.generate([\n      { none: ['current'] },\n      { first: ['current'] },\n      {\n        middle: [\n          'current',\n          'target'\n        ]\n      },\n      { last: ['current'] }\n    ]);\n    const none = current => adt.none(current);\n    const CellLocation = {\n      ...adt,\n      none\n    };\n\n    const firstLayer = (scope, selector) => {\n      return filterFirstLayer(scope, selector, always);\n    };\n    const filterFirstLayer = (scope, selector, predicate) => {\n      return bind$3(children$1(scope), x => {\n        if (is$1(x, selector)) {\n          return predicate(x) ? [x] : [];\n        } else {\n          return filterFirstLayer(x, selector, predicate);\n        }\n      });\n    };\n\n    const lookup$1 = (tags, element, isRoot = never) => {\n      if (isRoot(element)) {\n        return Optional.none();\n      }\n      if (contains$2(tags, name(element))) {\n        return Optional.some(element);\n      }\n      const isRootOrUpperTable = elm => is$1(elm, 'table') || isRoot(elm);\n      return ancestor$2(element, tags.join(','), isRootOrUpperTable);\n    };\n    const cell = (element, isRoot) => lookup$1([\n      'td',\n      'th'\n    ], element, isRoot);\n    const cells = ancestor => firstLayer(ancestor, 'th,td');\n    const table = (element, isRoot) => closest$3(element, 'table', isRoot);\n\n    const walk = (all, current, index, direction, isEligible = always) => {\n      const forwards = direction === 1;\n      if (!forwards && index <= 0) {\n        return CellLocation.first(all[0]);\n      } else if (forwards && index >= all.length - 1) {\n        return CellLocation.last(all[all.length - 1]);\n      } else {\n        const newIndex = index + direction;\n        const elem = all[newIndex];\n        return isEligible(elem) ? CellLocation.middle(current, elem) : walk(all, current, newIndex, direction, isEligible);\n      }\n    };\n    const detect = (current, isRoot) => {\n      return table(current, isRoot).bind(table => {\n        const all = cells(table);\n        const index = findIndex$2(all, x => eq(current, x));\n        return index.map(index => ({\n          index,\n          all\n        }));\n      });\n    };\n    const next = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none(current);\n      }, info => {\n        return walk(info.all, current, info.index, 1, isEligible);\n      });\n    };\n    const prev = (current, isEligible, isRoot) => {\n      const detection = detect(current, isRoot);\n      return detection.fold(() => {\n        return CellLocation.none();\n      }, info => {\n        return walk(info.all, current, info.index, -1, isEligible);\n      });\n    };\n\n    const closest = target => closest$3(target, '[contenteditable]');\n    const isEditable = (element, assumeEditable = false) => {\n      if (inBody(element)) {\n        return element.dom.isContentEditable;\n      } else {\n        return closest(element).fold(constant(assumeEditable), editable => getRaw(editable) === 'true');\n      }\n    };\n    const getRaw = element => element.dom.contentEditable;\n\n    const deflate = (rect, delta) => ({\n      left: rect.left - delta,\n      top: rect.top - delta,\n      right: rect.right + delta * 2,\n      bottom: rect.bottom + delta * 2,\n      width: rect.width + delta,\n      height: rect.height + delta\n    });\n    const getCorners = (getYAxisValue, tds) => bind$3(tds, td => {\n      const rect = deflate(clone$1(td.getBoundingClientRect()), -1);\n      return [\n        {\n          x: rect.left,\n          y: getYAxisValue(rect),\n          cell: td\n        },\n        {\n          x: rect.right,\n          y: getYAxisValue(rect),\n          cell: td\n        }\n      ];\n    });\n    const findClosestCorner = (corners, x, y) => foldl(corners, (acc, newCorner) => acc.fold(() => Optional.some(newCorner), oldCorner => {\n      const oldDist = Math.sqrt(Math.abs(oldCorner.x - x) + Math.abs(oldCorner.y - y));\n      const newDist = Math.sqrt(Math.abs(newCorner.x - x) + Math.abs(newCorner.y - y));\n      return Optional.some(newDist < oldDist ? newCorner : oldCorner);\n    }), Optional.none());\n    const getClosestCell = (getYAxisValue, isTargetCorner, table, x, y) => {\n      const cells = descendants(SugarElement.fromDom(table), 'td,th,caption').map(e => e.dom);\n      const corners = filter$5(getCorners(getYAxisValue, cells), corner => isTargetCorner(corner, y));\n      return findClosestCorner(corners, x, y).map(corner => corner.cell);\n    };\n    const getBottomValue = rect => rect.bottom;\n    const getTopValue = rect => rect.top;\n    const isAbove = (corner, y) => corner.y < y;\n    const isBelow = (corner, y) => corner.y > y;\n    const getClosestCellAbove = curry(getClosestCell, getBottomValue, isAbove);\n    const getClosestCellBelow = curry(getClosestCell, getTopValue, isBelow);\n    const findClosestPositionInAboveCell = (table, pos) => head(pos.getClientRects()).bind(rect => getClosestCellAbove(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getLastLinePositions(cell), pos));\n    const findClosestPositionInBelowCell = (table, pos) => last$3(pos.getClientRects()).bind(rect => getClosestCellBelow(table, rect.left, rect.top)).bind(cell => findClosestHorizontalPosition(getFirstLinePositions(cell), pos));\n\n    const hasNextBreak = (getPositionsUntil, scope, lineInfo) => lineInfo.breakAt.exists(breakPos => getPositionsUntil(scope, breakPos).breakAt.isSome());\n    const startsWithWrapBreak = lineInfo => lineInfo.breakType === BreakType.Wrap && lineInfo.positions.length === 0;\n    const startsWithBrBreak = lineInfo => lineInfo.breakType === BreakType.Br && lineInfo.positions.length === 1;\n    const isAtTableCellLine = (getPositionsUntil, scope, pos) => {\n      const lineInfo = getPositionsUntil(scope, pos);\n      if (startsWithWrapBreak(lineInfo) || !isBr$6(pos.getNode()) && startsWithBrBreak(lineInfo)) {\n        return !hasNextBreak(getPositionsUntil, scope, lineInfo);\n      } else {\n        return lineInfo.breakAt.isNone();\n      }\n    };\n    const isAtFirstTableCellLine = curry(isAtTableCellLine, getPositionsUntilPreviousLine);\n    const isAtLastTableCellLine = curry(isAtTableCellLine, getPositionsUntilNextLine);\n    const isCaretAtStartOrEndOfTable = (forward, rng, table) => {\n      const caretPos = CaretPosition.fromRangeStart(rng);\n      return positionIn(!forward, table).exists(pos => pos.isEqual(caretPos));\n    };\n    const navigateHorizontally = (editor, forward, table, _td) => {\n      const rng = editor.selection.getRng();\n      const direction = forward ? 1 : -1;\n      if (isFakeCaretTableBrowser() && isCaretAtStartOrEndOfTable(forward, rng, table)) {\n        showCaret(direction, editor, table, !forward, false).each(newRng => {\n          moveToRange(editor, newRng);\n        });\n        return true;\n      }\n      return false;\n    };\n    const getClosestAbovePosition = (root, table, start) => findClosestPositionInAboveCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsAbove(root, CaretPosition.before(table)), rect.left))).getOr(CaretPosition.before(table));\n    const getClosestBelowPosition = (root, table, start) => findClosestPositionInBelowCell(table, start).orThunk(() => head(start.getClientRects()).bind(rect => findClosestHorizontalPositionFromPoint(getPositionsBelow(root, CaretPosition.after(table)), rect.left))).getOr(CaretPosition.after(table));\n    const getTable = (previous, pos) => {\n      const node = pos.getNode(previous);\n      return isTable$2(node) ? Optional.some(node) : Optional.none();\n    };\n    const renderBlock = (down, editor, table) => {\n      editor.undoManager.transact(() => {\n        const insertFn = down ? after$4 : before$3;\n        const rng = insertEmptyLine(editor, SugarElement.fromDom(table), insertFn);\n        moveToRange(editor, rng);\n      });\n    };\n    const moveCaret = (editor, down, pos) => {\n      const table = down ? getTable(true, pos) : getTable(false, pos);\n      const last = down === false;\n      table.fold(() => moveToRange(editor, pos.toRange()), table => positionIn(last, editor.getBody()).filter(lastPos => lastPos.isEqual(pos)).fold(() => moveToRange(editor, pos.toRange()), _ => renderBlock(down, editor, table)));\n    };\n    const navigateVertically = (editor, down, table, td) => {\n      const rng = editor.selection.getRng();\n      const pos = CaretPosition.fromRangeStart(rng);\n      const root = editor.getBody();\n      if (!down && isAtFirstTableCellLine(td, pos)) {\n        const newPos = getClosestAbovePosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else if (down && isAtLastTableCellLine(td, pos)) {\n        const newPos = getClosestBelowPosition(root, table, pos);\n        moveCaret(editor, down, newPos);\n        return true;\n      } else {\n        return false;\n      }\n    };\n    const move$1 = (editor, forward, mover) => Optional.from(editor.dom.getParent(editor.selection.getNode(), 'td,th')).bind(td => Optional.from(editor.dom.getParent(td, 'table')).map(table => mover(editor, forward, table, td))).getOr(false);\n    const moveH = (editor, forward) => move$1(editor, forward, navigateHorizontally);\n    const moveV = (editor, forward) => move$1(editor, forward, navigateVertically);\n    const getCellFirstCursorPosition = cell => {\n      const selection = SimSelection.exact(cell, 0, cell, 0);\n      return toNative(selection);\n    };\n    const tabGo = (editor, isRoot, cell) => {\n      return cell.fold(Optional.none, Optional.none, (_current, next) => {\n        return first(next).map(cell => {\n          return getCellFirstCursorPosition(cell);\n        });\n      }, current => {\n        editor.execCommand('mceTableInsertRowAfter');\n        return tabForward(editor, isRoot, current);\n      });\n    };\n    const tabForward = (editor, isRoot, cell) => tabGo(editor, isRoot, next(cell, isEditable));\n    const tabBackward = (editor, isRoot, cell) => tabGo(editor, isRoot, prev(cell, isEditable));\n    const handleTab = (editor, forward) => {\n      const rootElements = [\n        'table',\n        'li',\n        'dl'\n      ];\n      const body = SugarElement.fromDom(editor.getBody());\n      const isRoot = element => {\n        const name$1 = name(element);\n        return eq(element, body) || contains$2(rootElements, name$1);\n      };\n      const rng = editor.selection.getRng();\n      const container = SugarElement.fromDom(!forward ? rng.startContainer : rng.endContainer);\n      return cell(container, isRoot).map(cell => {\n        table(cell, isRoot).each(table => {\n          editor.model.table.clearSelectedCells(table.dom);\n        });\n        editor.selection.collapse(!forward);\n        const navigation = !forward ? tabBackward : tabForward;\n        const rng = navigation(editor, isRoot, cell);\n        rng.each(range => {\n          editor.selection.setRng(range);\n        });\n        return true;\n      }).getOr(false);\n    };\n\n    const executeKeydownOverride$4 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$2, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$2, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$3, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$3, editor, true)\n        },\n        ...isMac ? [\n          {\n            keyCode: VK.UP,\n            action: action(selectToEndPoint, editor, false),\n            metaKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.DOWN,\n            action: action(selectToEndPoint, editor, true),\n            metaKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(moveH$1, editor, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(moveH$1, editor, false)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$1, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$1, editor, true)\n        },\n        {\n          keyCode: VK.RIGHT,\n          action: action(move$2, editor, caret, true)\n        },\n        {\n          keyCode: VK.LEFT,\n          action: action(move$2, editor, caret, false)\n        },\n        {\n          keyCode: VK.RIGHT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(moveNextWord, editor, caret)\n        },\n        {\n          keyCode: VK.LEFT,\n          ctrlKey: !isMac,\n          altKey: isMac,\n          action: action(movePrevWord, editor, caret)\n        },\n        {\n          keyCode: VK.UP,\n          action: action(moveV$2, editor, false)\n        },\n        {\n          keyCode: VK.DOWN,\n          action: action(moveV$2, editor, true)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$k = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$4(editor, caret, evt);\n        }\n      });\n    };\n\n    const point = (container, offset) => ({\n      container,\n      offset\n    });\n\n    const DOM$7 = DOMUtils.DOM;\n    const alwaysNext = startNode => node => startNode === node ? -1 : 0;\n    const isBoundary = dom => node => dom.isBlock(node) || contains$2([\n      'BR',\n      'IMG',\n      'HR',\n      'INPUT'\n    ], node.nodeName) || dom.getContentEditable(node) === 'false';\n    const textBefore = (node, offset, rootNode) => {\n      if (isText$a(node) && offset >= 0) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, prev.container.data.length));\n      }\n    };\n    const textAfter = (node, offset, rootNode) => {\n      if (isText$a(node) && offset >= node.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).map(prev => point(prev.container, 0));\n      }\n    };\n    const scanLeft = (node, offset, rootNode) => {\n      if (!isText$a(node)) {\n        return Optional.none();\n      }\n      const text = node.data;\n      if (offset >= 0 && offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.backwards(node, offset, alwaysNext(node), rootNode)).bind(prev => {\n          const prevText = prev.container.data;\n          return scanLeft(prev.container, offset + prevText.length, rootNode);\n        });\n      }\n    };\n    const scanRight = (node, offset, rootNode) => {\n      if (!isText$a(node)) {\n        return Optional.none();\n      }\n      const text = node.data;\n      if (offset <= text.length) {\n        return Optional.some(point(node, offset));\n      } else {\n        const textSeeker = TextSeeker(DOM$7);\n        return Optional.from(textSeeker.forwards(node, offset, alwaysNext(node), rootNode)).bind(next => scanRight(next.container, offset - text.length, rootNode));\n      }\n    };\n    const repeatLeft = (dom, node, offset, process, rootNode) => {\n      const search = TextSeeker(dom, isBoundary(dom));\n      return Optional.from(search.backwards(node, offset, process, rootNode));\n    };\n\n    const isValidTextRange = rng => rng.collapsed && isText$a(rng.startContainer);\n    const getText = rng => trim$1(rng.toString().replace(/\\u00A0/g, ' '));\n    const isWhitespace = chr => chr !== '' && ' \\xA0\\f\\n\\r\\t\\x0B'.indexOf(chr) !== -1;\n\n    const stripTrigger = (text, trigger) => text.substring(trigger.length);\n    const findTrigger = (text, index, trigger) => {\n      let i;\n      const firstChar = trigger.charAt(0);\n      for (i = index - 1; i >= 0; i--) {\n        const char = text.charAt(i);\n        if (isWhitespace(char)) {\n          return Optional.none();\n        }\n        if (firstChar === char && contains$1(text, trigger, i, index)) {\n          break;\n        }\n      }\n      return Optional.some(i);\n    };\n    const findStart = (dom, initRange, trigger, minChars = 0) => {\n      if (!isValidTextRange(initRange)) {\n        return Optional.none();\n      }\n      const buffer = {\n        text: '',\n        offset: 0\n      };\n      const findTriggerIndex = (element, offset, text) => {\n        buffer.text = text + buffer.text;\n        buffer.offset += offset;\n        return findTrigger(buffer.text, buffer.offset, trigger).getOr(offset);\n      };\n      const root = dom.getParent(initRange.startContainer, dom.isBlock) || dom.getRoot();\n      return repeatLeft(dom, initRange.startContainer, initRange.startOffset, findTriggerIndex, root).bind(spot => {\n        const range = initRange.cloneRange();\n        range.setStart(spot.container, spot.offset);\n        range.setEnd(initRange.endContainer, initRange.endOffset);\n        if (range.collapsed) {\n          return Optional.none();\n        }\n        const text = getText(range);\n        const triggerIndex = text.lastIndexOf(trigger);\n        if (triggerIndex !== 0 || stripTrigger(text, trigger).length < minChars) {\n          return Optional.none();\n        } else {\n          return Optional.some({\n            text: stripTrigger(text, trigger),\n            range,\n            trigger\n          });\n        }\n      });\n    };\n    const getContext = (dom, initRange, trigger, minChars = 0) => detect$1(SugarElement.fromDom(initRange.startContainer)).fold(() => findStart(dom, initRange, trigger, minChars), elm => {\n      const range = dom.createRng();\n      range.selectNode(elm.dom);\n      const text = getText(range);\n      return Optional.some({\n        range,\n        text: stripTrigger(text, trigger),\n        trigger\n      });\n    });\n\n    const isText$1 = node => node.nodeType === TEXT;\n    const isElement = node => node.nodeType === ELEMENT;\n    const toLast = node => {\n      if (isText$1(node)) {\n        return point(node, node.data.length);\n      } else {\n        const children = node.childNodes;\n        return children.length > 0 ? toLast(children[children.length - 1]) : point(node, children.length);\n      }\n    };\n    const toLeaf = (node, offset) => {\n      const children = node.childNodes;\n      if (children.length > 0 && offset < children.length) {\n        return toLeaf(children[offset], 0);\n      } else if (children.length > 0 && isElement(node) && children.length === offset) {\n        return toLast(children[children.length - 1]);\n      } else {\n        return point(node, offset);\n      }\n    };\n\n    const isPreviousCharContent = (dom, leaf) => {\n      var _a;\n      const root = (_a = dom.getParent(leaf.container, dom.isBlock)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      return repeatLeft(dom, leaf.container, leaf.offset, (_element, offset) => offset === 0 ? -1 : offset, root).filter(spot => {\n        const char = spot.container.data.charAt(spot.offset - 1);\n        return !isWhitespace(char);\n      }).isSome();\n    };\n    const isStartOfWord = dom => rng => {\n      const leaf = toLeaf(rng.startContainer, rng.startOffset);\n      return !isPreviousCharContent(dom, leaf);\n    };\n    const getTriggerContext = (dom, initRange, database) => findMap(database.triggers, trigger => getContext(dom, initRange, trigger));\n    const lookup = (editor, getDatabase) => {\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      return getTriggerContext(editor.dom, rng, database).bind(context => lookupWithContext(editor, getDatabase, context));\n    };\n    const lookupWithContext = (editor, getDatabase, context, fetchOptions = {}) => {\n      var _a;\n      const database = getDatabase();\n      const rng = editor.selection.getRng();\n      const startText = (_a = rng.startContainer.nodeValue) !== null && _a !== void 0 ? _a : '';\n      const autocompleters = filter$5(database.lookupByTrigger(context.trigger), autocompleter => context.text.length >= autocompleter.minChars && autocompleter.matches.getOrThunk(() => isStartOfWord(editor.dom))(context.range, startText, context.text));\n      if (autocompleters.length === 0) {\n        return Optional.none();\n      }\n      const lookupData = Promise.all(map$3(autocompleters, ac => {\n        const fetchResult = ac.fetch(context.text, ac.maxResults, fetchOptions);\n        return fetchResult.then(results => ({\n          matchText: context.text,\n          items: results,\n          columns: ac.columns,\n          onAction: ac.onAction,\n          highlightOn: ac.highlightOn\n        }));\n      }));\n      return Optional.some({\n        lookupData,\n        context\n      });\n    };\n\n    var SimpleResultType;\n    (function (SimpleResultType) {\n      SimpleResultType[SimpleResultType['Error'] = 0] = 'Error';\n      SimpleResultType[SimpleResultType['Value'] = 1] = 'Value';\n    }(SimpleResultType || (SimpleResultType = {})));\n    const fold$1 = (res, onError, onValue) => res.stype === SimpleResultType.Error ? onError(res.serror) : onValue(res.svalue);\n    const partition = results => {\n      const values = [];\n      const errors = [];\n      each$e(results, obj => {\n        fold$1(obj, err => errors.push(err), val => values.push(val));\n      });\n      return {\n        values,\n        errors\n      };\n    };\n    const mapError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return {\n          stype: SimpleResultType.Error,\n          serror: f(res.serror)\n        };\n      } else {\n        return res;\n      }\n    };\n    const map = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return {\n          stype: SimpleResultType.Value,\n          svalue: f(res.svalue)\n        };\n      } else {\n        return res;\n      }\n    };\n    const bind = (res, f) => {\n      if (res.stype === SimpleResultType.Value) {\n        return f(res.svalue);\n      } else {\n        return res;\n      }\n    };\n    const bindError = (res, f) => {\n      if (res.stype === SimpleResultType.Error) {\n        return f(res.serror);\n      } else {\n        return res;\n      }\n    };\n    const svalue = v => ({\n      stype: SimpleResultType.Value,\n      svalue: v\n    });\n    const serror = e => ({\n      stype: SimpleResultType.Error,\n      serror: e\n    });\n    const toResult = res => fold$1(res, Result.error, Result.value);\n    const fromResult = res => res.fold(serror, svalue);\n    const SimpleResult = {\n      fromResult,\n      toResult,\n      svalue,\n      partition,\n      serror,\n      bind,\n      bindError,\n      map,\n      mapError,\n      fold: fold$1\n    };\n\n    const formatObj = input => {\n      return isObject(input) && keys(input).length > 100 ? ' removed due to size' : JSON.stringify(input, null, 2);\n    };\n    const formatErrors = errors => {\n      const es = errors.length > 10 ? errors.slice(0, 10).concat([{\n          path: [],\n          getErrorInfo: constant('... (only showing first ten failures)')\n        }]) : errors;\n      return map$3(es, e => {\n        return 'Failed path: (' + e.path.join(' > ') + ')\\n' + e.getErrorInfo();\n      });\n    };\n\n    const nu = (path, getErrorInfo) => {\n      return SimpleResult.serror([{\n          path,\n          getErrorInfo\n        }]);\n    };\n    const missingRequired = (path, key, obj) => nu(path, () => 'Could not find valid *required* value for \"' + key + '\" in ' + formatObj(obj));\n    const missingKey = (path, key) => nu(path, () => 'Choice schema did not contain choice key: \"' + key + '\"');\n    const missingBranch = (path, branches, branch) => nu(path, () => 'The chosen schema: \"' + branch + '\" did not exist in branches: ' + formatObj(branches));\n    const custom = (path, err) => nu(path, constant(err));\n\n    const chooseFrom = (path, input, branches, ch) => {\n      const fields = get$a(branches, ch);\n      return fields.fold(() => missingBranch(path, branches, ch), vp => vp.extract(path.concat(['branch: ' + ch]), input));\n    };\n    const choose$1 = (key, branches) => {\n      const extract = (path, input) => {\n        const choice = get$a(input, key);\n        return choice.fold(() => missingKey(path, key), chosen => chooseFrom(path, input, branches, chosen));\n      };\n      const toString = () => 'chooseOn(' + key + '). Possible values: ' + keys(branches);\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const shallow = (old, nu) => {\n      return nu;\n    };\n    const deep = (old, nu) => {\n      const bothObjects = isPlainObject(old) && isPlainObject(nu);\n      return bothObjects ? deepMerge(old, nu) : nu;\n    };\n    const baseMerge = merger => {\n      return (...objects) => {\n        if (objects.length === 0) {\n          throw new Error(`Can't merge zero objects`);\n        }\n        const ret = {};\n        for (let j = 0; j < objects.length; j++) {\n          const curObject = objects[j];\n          for (const key in curObject) {\n            if (has$2(curObject, key)) {\n              ret[key] = merger(ret[key], curObject[key]);\n            }\n          }\n        }\n        return ret;\n      };\n    };\n    const deepMerge = baseMerge(deep);\n    const merge = baseMerge(shallow);\n\n    const required = () => ({\n      tag: 'required',\n      process: {}\n    });\n    const defaultedThunk = fallbackThunk => ({\n      tag: 'defaultedThunk',\n      process: fallbackThunk\n    });\n    const defaulted$1 = fallback => defaultedThunk(constant(fallback));\n    const asOption = () => ({\n      tag: 'option',\n      process: {}\n    });\n\n    const mergeValues = (values, base) => values.length > 0 ? SimpleResult.svalue(deepMerge(base, merge.apply(undefined, values))) : SimpleResult.svalue(base);\n    const mergeErrors = errors => compose(SimpleResult.serror, flatten)(errors);\n    const consolidateObj = (objects, base) => {\n      const partition = SimpleResult.partition(objects);\n      return partition.errors.length > 0 ? mergeErrors(partition.errors) : mergeValues(partition.values, base);\n    };\n    const consolidateArr = objects => {\n      const partitions = SimpleResult.partition(objects);\n      return partitions.errors.length > 0 ? mergeErrors(partitions.errors) : SimpleResult.svalue(partitions.values);\n    };\n    const ResultCombine = {\n      consolidateObj,\n      consolidateArr\n    };\n\n    const field$1 = (key, newKey, presence, prop) => ({\n      tag: 'field',\n      key,\n      newKey,\n      presence,\n      prop\n    });\n    const customField$1 = (newKey, instantiator) => ({\n      tag: 'custom',\n      newKey,\n      instantiator\n    });\n    const fold = (value, ifField, ifCustom) => {\n      switch (value.tag) {\n      case 'field':\n        return ifField(value.key, value.newKey, value.presence, value.prop);\n      case 'custom':\n        return ifCustom(value.newKey, value.instantiator);\n      }\n    };\n\n    const value = validator => {\n      const extract = (path, val) => {\n        return SimpleResult.bindError(validator(val), err => custom(path, err));\n      };\n      const toString = constant('val');\n      return {\n        extract,\n        toString\n      };\n    };\n    const anyValue$1 = value(SimpleResult.svalue);\n\n    const requiredAccess = (path, obj, key, bundle) => get$a(obj, key).fold(() => missingRequired(path, key, obj), bundle);\n    const fallbackAccess = (obj, key, fallback, bundle) => {\n      const v = get$a(obj, key).getOrThunk(() => fallback(obj));\n      return bundle(v);\n    };\n    const optionAccess = (obj, key, bundle) => bundle(get$a(obj, key));\n    const optionDefaultedAccess = (obj, key, fallback, bundle) => {\n      const opt = get$a(obj, key).map(val => val === true ? fallback(obj) : val);\n      return bundle(opt);\n    };\n    const extractField = (field, path, obj, key, prop) => {\n      const bundle = av => prop.extract(path.concat([key]), av);\n      const bundleAsOption = optValue => optValue.fold(() => SimpleResult.svalue(Optional.none()), ov => {\n        const result = prop.extract(path.concat([key]), ov);\n        return SimpleResult.map(result, Optional.some);\n      });\n      switch (field.tag) {\n      case 'required':\n        return requiredAccess(path, obj, key, bundle);\n      case 'defaultedThunk':\n        return fallbackAccess(obj, key, field.process, bundle);\n      case 'option':\n        return optionAccess(obj, key, bundleAsOption);\n      case 'defaultedOptionThunk':\n        return optionDefaultedAccess(obj, key, field.process, bundleAsOption);\n      case 'mergeWithThunk': {\n          return fallbackAccess(obj, key, constant({}), v => {\n            const result = deepMerge(field.process(obj), v);\n            return bundle(result);\n          });\n        }\n      }\n    };\n    const extractFields = (path, obj, fields) => {\n      const success = {};\n      const errors = [];\n      for (const field of fields) {\n        fold(field, (key, newKey, presence, prop) => {\n          const result = extractField(presence, path, obj, key, prop);\n          SimpleResult.fold(result, err => {\n            errors.push(...err);\n          }, res => {\n            success[newKey] = res;\n          });\n        }, (newKey, instantiator) => {\n          success[newKey] = instantiator(obj);\n        });\n      }\n      return errors.length > 0 ? SimpleResult.serror(errors) : SimpleResult.svalue(success);\n    };\n    const objOf = values => {\n      const extract = (path, o) => extractFields(path, o, values);\n      const toString = () => {\n        const fieldStrings = map$3(values, value => fold(value, (key, _okey, _presence, prop) => key + ' -> ' + prop.toString(), (newKey, _instantiator) => 'state(' + newKey + ')'));\n        return 'obj{\\n' + fieldStrings.join('\\n') + '}';\n      };\n      return {\n        extract,\n        toString\n      };\n    };\n    const arrOf = prop => {\n      const extract = (path, array) => {\n        const results = map$3(array, (a, i) => prop.extract(path.concat(['[' + i + ']']), a));\n        return ResultCombine.consolidateArr(results);\n      };\n      const toString = () => 'array(' + prop.toString() + ')';\n      return {\n        extract,\n        toString\n      };\n    };\n\n    const valueOf = validator => value(v => validator(v).fold(SimpleResult.serror, SimpleResult.svalue));\n    const extractValue = (label, prop, obj) => {\n      const res = prop.extract([label], obj);\n      return SimpleResult.mapError(res, errs => ({\n        input: obj,\n        errors: errs\n      }));\n    };\n    const asRaw = (label, prop, obj) => SimpleResult.toResult(extractValue(label, prop, obj));\n    const formatError = errInfo => {\n      return 'Errors: \\n' + formatErrors(errInfo.errors).join('\\n') + '\\n\\nInput object: ' + formatObj(errInfo.input);\n    };\n    const choose = (key, branches) => choose$1(key, map$2(branches, objOf));\n\n    const anyValue = constant(anyValue$1);\n    const typedValue = (validator, expectedType) => value(a => {\n      const actualType = typeof a;\n      return validator(a) ? SimpleResult.svalue(a) : SimpleResult.serror(`Expected type: ${ expectedType } but got: ${ actualType }`);\n    });\n    const number = typedValue(isNumber, 'number');\n    const string = typedValue(isString, 'string');\n    const boolean = typedValue(isBoolean, 'boolean');\n    const functionProcessor = typedValue(isFunction, 'function');\n\n    const field = field$1;\n    const customField = customField$1;\n    const validateEnum = values => valueOf(value => contains$2(values, value) ? Result.value(value) : Result.error(`Unsupported value: \"${ value }\", choose one of \"${ values.join(', ') }\".`));\n    const requiredOf = (key, schema) => field(key, key, required(), schema);\n    const requiredString = key => requiredOf(key, string);\n    const requiredFunction = key => requiredOf(key, functionProcessor);\n    const requiredArrayOf = (key, schema) => field(key, key, required(), arrOf(schema));\n    const optionOf = (key, schema) => field(key, key, asOption(), schema);\n    const optionString = key => optionOf(key, string);\n    const optionFunction = key => optionOf(key, functionProcessor);\n    const defaulted = (key, fallback) => field(key, key, defaulted$1(fallback), anyValue());\n    const defaultedOf = (key, fallback, schema) => field(key, key, defaulted$1(fallback), schema);\n    const defaultedNumber = (key, fallback) => defaultedOf(key, fallback, number);\n    const defaultedString = (key, fallback) => defaultedOf(key, fallback, string);\n    const defaultedStringEnum = (key, fallback, values) => defaultedOf(key, fallback, validateEnum(values));\n    const defaultedBoolean = (key, fallback) => defaultedOf(key, fallback, boolean);\n    const defaultedFunction = (key, fallback) => defaultedOf(key, fallback, functionProcessor);\n    const defaultedArrayOf = (key, fallback, schema) => defaultedOf(key, fallback, arrOf(schema));\n\n    const type = requiredString('type');\n    const fetch$1 = requiredFunction('fetch');\n    const onAction = requiredFunction('onAction');\n    const onSetup = defaultedFunction('onSetup', () => noop);\n    const optionalText = optionString('text');\n    const optionalIcon = optionString('icon');\n    const optionalTooltip = optionString('tooltip');\n    const optionalLabel = optionString('label');\n    const active = defaultedBoolean('active', false);\n    const enabled = defaultedBoolean('enabled', true);\n    const primary = defaultedBoolean('primary', false);\n    const defaultedColumns = num => defaulted('columns', num);\n    const defaultedType = type => defaultedString('type', type);\n\n    const autocompleterSchema = objOf([\n      type,\n      requiredString('trigger'),\n      defaultedNumber('minChars', 1),\n      defaultedColumns(1),\n      defaultedNumber('maxResults', 10),\n      optionFunction('matches'),\n      fetch$1,\n      onAction,\n      defaultedArrayOf('highlightOn', [], string)\n    ]);\n    const createAutocompleter = spec => asRaw('Autocompleter', autocompleterSchema, {\n      trigger: spec.ch,\n      ...spec\n    });\n\n    const baseToolbarButtonFields = [\n      enabled,\n      optionalTooltip,\n      optionalIcon,\n      optionalText,\n      onSetup\n    ];\n\n    const baseToolbarToggleButtonFields = [active].concat(baseToolbarButtonFields);\n\n    const contextBarFields = [\n      defaultedFunction('predicate', never),\n      defaultedStringEnum('scope', 'node', [\n        'node',\n        'editor'\n      ]),\n      defaultedStringEnum('position', 'selection', [\n        'node',\n        'selection',\n        'line'\n      ])\n    ];\n\n    const contextButtonFields = baseToolbarButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const contextToggleButtonFields = baseToolbarToggleButtonFields.concat([\n      defaultedType('contextformbutton'),\n      primary,\n      onAction,\n      customField('original', identity)\n    ]);\n    const launchButtonFields = baseToolbarButtonFields.concat([defaultedType('contextformbutton')]);\n    const launchToggleButtonFields = baseToolbarToggleButtonFields.concat([defaultedType('contextformtogglebutton')]);\n    const toggleOrNormal = choose('type', {\n      contextformbutton: contextButtonFields,\n      contextformtogglebutton: contextToggleButtonFields\n    });\n    objOf([\n      defaultedType('contextform'),\n      defaultedFunction('initValue', constant('')),\n      optionalLabel,\n      requiredArrayOf('commands', toggleOrNormal),\n      optionOf('launch', choose('type', {\n        contextformbutton: launchButtonFields,\n        contextformtogglebutton: launchToggleButtonFields\n      }))\n    ].concat(contextBarFields));\n\n    const register$2 = editor => {\n      const popups = editor.ui.registry.getAll().popups;\n      const dataset = map$2(popups, popup => createAutocompleter(popup).fold(err => {\n        throw new Error(formatError(err));\n      }, identity));\n      const triggers = stringArray(mapToArray(dataset, v => v.trigger));\n      const datasetValues = values(dataset);\n      const lookupByTrigger = trigger => filter$5(datasetValues, dv => dv.trigger === trigger);\n      return {\n        dataset,\n        triggers,\n        lookupByTrigger\n      };\n    };\n\n    const setupEditorInput = (editor, api) => {\n      const update = last$1(api.load, 50);\n      editor.on('keypress compositionend', e => {\n        if (e.which === 27) {\n          return;\n        }\n        update.throttle();\n      });\n      editor.on('keydown', e => {\n        const keyCode = e.which;\n        if (keyCode === 8) {\n          update.throttle();\n        } else if (keyCode === 27) {\n          api.cancelIfNecessary();\n        }\n      });\n      editor.on('remove', update.cancel);\n    };\n    const setup$j = editor => {\n      const activeAutocompleter = value$2();\n      const uiActive = Cell(false);\n      const isActive = activeAutocompleter.isSet;\n      const cancelIfNecessary = () => {\n        if (isActive()) {\n          removeAutocompleterDecoration(editor);\n          fireAutocompleterEnd(editor);\n          uiActive.set(false);\n          activeAutocompleter.clear();\n        }\n      };\n      const commenceIfNecessary = context => {\n        if (!isActive()) {\n          addAutocompleterDecoration(editor, context.range);\n          activeAutocompleter.set({\n            trigger: context.trigger,\n            matchLength: context.text.length\n          });\n        }\n      };\n      const getAutocompleters = cached(() => register$2(editor));\n      const doLookup = fetchOptions => activeAutocompleter.get().map(ac => getContext(editor.dom, editor.selection.getRng(), ac.trigger).bind(newContext => lookupWithContext(editor, getAutocompleters, newContext, fetchOptions))).getOrThunk(() => lookup(editor, getAutocompleters));\n      const load = fetchOptions => {\n        doLookup(fetchOptions).fold(cancelIfNecessary, lookupInfo => {\n          commenceIfNecessary(lookupInfo.context);\n          lookupInfo.lookupData.then(lookupData => {\n            activeAutocompleter.get().map(ac => {\n              const context = lookupInfo.context;\n              if (ac.trigger === context.trigger) {\n                if (context.text.length - ac.matchLength >= 10) {\n                  cancelIfNecessary();\n                } else {\n                  activeAutocompleter.set({\n                    ...ac,\n                    matchLength: context.text.length\n                  });\n                  if (uiActive.get()) {\n                    fireAutocompleterUpdate(editor, { lookupData });\n                  } else {\n                    uiActive.set(true);\n                    fireAutocompleterStart(editor, { lookupData });\n                  }\n                }\n              }\n            });\n          });\n        });\n      };\n      editor.addCommand('mceAutocompleterReload', (_ui, value) => {\n        const fetchOptions = isObject(value) ? value.fetchOptions : {};\n        load(fetchOptions);\n      });\n      editor.addCommand('mceAutocompleterClose', cancelIfNecessary);\n      setupEditorInput(editor, {\n        cancelIfNecessary,\n        load\n      });\n    };\n\n    const createAndFireInputEvent = eventType => (editor, inputType, specifics = {}) => {\n      const target = editor.getBody();\n      const overrides = {\n        bubbles: true,\n        composed: true,\n        data: null,\n        isComposing: false,\n        detail: 0,\n        view: null,\n        target,\n        currentTarget: target,\n        eventPhase: Event.AT_TARGET,\n        originalTarget: target,\n        explicitOriginalTarget: target,\n        isTrusted: false,\n        srcElement: target,\n        cancelable: false,\n        preventDefault: noop,\n        inputType\n      };\n      const input = clone$3(new InputEvent(eventType));\n      return editor.dispatch(eventType, {\n        ...input,\n        ...overrides,\n        ...specifics\n      });\n    };\n    const fireFakeInputEvent = createAndFireInputEvent('input');\n    const fireFakeBeforeInputEvent = createAndFireInputEvent('beforeinput');\n\n    const executeKeydownOverride$3 = (editor, caret, evt) => {\n      const inputType = evt.keyCode === VK.BACKSPACE ? 'deleteContentBackward' : 'deleteContentForward';\n      executeWithDelayedAction([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete, editor)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$5, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$5, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$6, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$6, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$3, editor, caret, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$3, editor, caret, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$9, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$9, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$4, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$4, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$1, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$1, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$7, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$7, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$8, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$8, editor, true)\n        },\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(backspaceDelete$2, editor, false)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(backspaceDelete$2, editor, true)\n        }\n      ], evt).each(applyAction => {\n        evt.preventDefault();\n        const beforeInput = fireFakeBeforeInputEvent(editor, inputType);\n        if (!beforeInput.isDefaultPrevented()) {\n          applyAction();\n          fireFakeInputEvent(editor, inputType);\n        }\n      });\n    };\n    const executeKeyupOverride = (editor, evt) => {\n      execute([\n        {\n          keyCode: VK.BACKSPACE,\n          action: action(paddEmptyElement, editor)\n        },\n        {\n          keyCode: VK.DELETE,\n          action: action(paddEmptyElement, editor)\n        }\n      ], evt);\n    };\n    const setup$i = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$3(editor, caret, evt);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeyupOverride(editor, evt);\n        }\n      });\n    };\n\n    const firstNonWhiteSpaceNodeSibling = node => {\n      while (node) {\n        if (isElement$6(node) || isText$a(node) && node.data && /[\\r\\n\\s]/.test(node.data)) {\n          return node;\n        }\n        node = node.nextSibling;\n      }\n      return null;\n    };\n    const moveToCaretPosition = (editor, root) => {\n      const dom = editor.dom;\n      const moveCaretBeforeOnEnterElementsMap = editor.schema.getMoveCaretBeforeOnEnterElements();\n      if (!root) {\n        return;\n      }\n      if (/^(LI|DT|DD)$/.test(root.nodeName)) {\n        const firstChild = firstNonWhiteSpaceNodeSibling(root.firstChild);\n        if (firstChild && /^(UL|OL|DL)$/.test(firstChild.nodeName)) {\n          root.insertBefore(dom.doc.createTextNode(nbsp), root.firstChild);\n        }\n      }\n      const rng = dom.createRng();\n      root.normalize();\n      if (root.hasChildNodes()) {\n        const walker = new DomTreeWalker(root, root);\n        let lastNode = root;\n        let node;\n        while (node = walker.current()) {\n          if (isText$a(node)) {\n            rng.setStart(node, 0);\n            rng.setEnd(node, 0);\n            break;\n          }\n          if (moveCaretBeforeOnEnterElementsMap[node.nodeName.toLowerCase()]) {\n            rng.setStartBefore(node);\n            rng.setEndBefore(node);\n            break;\n          }\n          lastNode = node;\n          node = walker.next();\n        }\n        if (!node) {\n          rng.setStart(lastNode, 0);\n          rng.setEnd(lastNode, 0);\n        }\n      } else {\n        if (isBr$6(root)) {\n          if (root.nextSibling && dom.isBlock(root.nextSibling)) {\n            rng.setStartBefore(root);\n            rng.setEndBefore(root);\n          } else {\n            rng.setStartAfter(root);\n            rng.setEndAfter(root);\n          }\n        } else {\n          rng.setStart(root, 0);\n          rng.setEnd(root, 0);\n        }\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const getEditableRoot = (dom, node) => {\n      const root = dom.getRoot();\n      let editableRoot;\n      let parent = node;\n      while (parent !== root && parent && dom.getContentEditable(parent) !== 'false') {\n        if (dom.getContentEditable(parent) === 'true') {\n          editableRoot = parent;\n        }\n        parent = parent.parentNode;\n      }\n      return parent !== root ? editableRoot : root;\n    };\n    const getParentBlock$1 = editor => {\n      return Optional.from(editor.dom.getParent(editor.selection.getStart(true), editor.dom.isBlock));\n    };\n    const getParentBlockName = editor => {\n      return getParentBlock$1(editor).fold(constant(''), parentBlock => {\n        return parentBlock.nodeName.toUpperCase();\n      });\n    };\n    const isListItemParentBlock = editor => {\n      return getParentBlock$1(editor).filter(elm => {\n        return isListItem$1(SugarElement.fromDom(elm));\n      }).isSome();\n    };\n\n    const hasFirstChild = (elm, name) => {\n      return elm.firstChild && elm.firstChild.nodeName === name;\n    };\n    const isFirstChild = elm => {\n      var _a;\n      return ((_a = elm.parentNode) === null || _a === void 0 ? void 0 : _a.firstChild) === elm;\n    };\n    const hasParent = (elm, parentName) => {\n      const parentNode = elm === null || elm === void 0 ? void 0 : elm.parentNode;\n      return isNonNullable(parentNode) && parentNode.nodeName === parentName;\n    };\n    const isListBlock = elm => {\n      return isNonNullable(elm) && /^(OL|UL|LI)$/.test(elm.nodeName);\n    };\n    const isListItem = elm => {\n      return isNonNullable(elm) && /^(LI|DT|DD)$/.test(elm.nodeName);\n    };\n    const isNestedList = elm => {\n      return isListBlock(elm) && isListBlock(elm.parentNode);\n    };\n    const getContainerBlock = containerBlock => {\n      const containerBlockParent = containerBlock.parentNode;\n      return isListItem(containerBlockParent) ? containerBlockParent : containerBlock;\n    };\n    const isFirstOrLastLi = (containerBlock, parentBlock, first) => {\n      let node = containerBlock[first ? 'firstChild' : 'lastChild'];\n      while (node) {\n        if (isElement$6(node)) {\n          break;\n        }\n        node = node[first ? 'nextSibling' : 'previousSibling'];\n      }\n      return node === parentBlock;\n    };\n    const insert$3 = (editor, createNewBlock, containerBlock, parentBlock, newBlockName) => {\n      const dom = editor.dom;\n      const rng = editor.selection.getRng();\n      const containerParent = containerBlock.parentNode;\n      if (containerBlock === editor.getBody() || !containerParent) {\n        return;\n      }\n      if (isNestedList(containerBlock)) {\n        newBlockName = 'LI';\n      }\n      let newBlock = createNewBlock(newBlockName);\n      if (isFirstOrLastLi(containerBlock, parentBlock, true) && isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        if (hasParent(containerBlock, 'LI')) {\n          const containerBlockParent = getContainerBlock(containerBlock);\n          dom.insertAfter(newBlock, containerBlockParent);\n          if (isFirstChild(containerBlock)) {\n            dom.remove(containerBlockParent);\n          } else {\n            dom.remove(containerBlock);\n          }\n        } else {\n          dom.replace(newBlock, containerBlock);\n        }\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, true)) {\n        if (hasParent(containerBlock, 'LI')) {\n          dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n          newBlock.appendChild(dom.doc.createTextNode(' '));\n          newBlock.appendChild(containerBlock);\n        } else {\n          containerParent.insertBefore(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      } else if (isFirstOrLastLi(containerBlock, parentBlock, false)) {\n        dom.insertAfter(newBlock, getContainerBlock(containerBlock));\n        dom.remove(parentBlock);\n      } else {\n        containerBlock = getContainerBlock(containerBlock);\n        const tmpRng = rng.cloneRange();\n        tmpRng.setStartAfter(parentBlock);\n        tmpRng.setEndAfter(containerBlock);\n        const fragment = tmpRng.extractContents();\n        if (newBlockName === 'LI' && hasFirstChild(fragment, 'LI')) {\n          newBlock = fragment.firstChild;\n          dom.insertAfter(fragment, containerBlock);\n        } else {\n          dom.insertAfter(fragment, containerBlock);\n          dom.insertAfter(newBlock, containerBlock);\n        }\n        dom.remove(parentBlock);\n      }\n      moveToCaretPosition(editor, newBlock);\n    };\n\n    const trimZwsp = fragment => {\n      each$e(descendants$1(SugarElement.fromDom(fragment), isText$b), text => {\n        const rawNode = text.dom;\n        rawNode.nodeValue = trim$1(rawNode.data);\n      });\n    };\n    const isWithinNonEditableList = (editor, node) => {\n      const parentList = editor.dom.getParent(node, 'ol,ul,dl');\n      return parentList !== null && editor.dom.getContentEditableParent(parentList) === 'false';\n    };\n    const isEmptyAnchor = (dom, elm) => {\n      return elm && elm.nodeName === 'A' && dom.isEmpty(elm);\n    };\n    const emptyBlock = elm => {\n      elm.innerHTML = '<br data-mce-bogus=\"1\">';\n    };\n    const containerAndSiblingName = (container, nodeName) => {\n      return container.nodeName === nodeName || container.previousSibling && container.previousSibling.nodeName === nodeName;\n    };\n    const canSplitBlock = (dom, node) => {\n      return isNonNullable(node) && dom.isBlock(node) && !/^(TD|TH|CAPTION|FORM)$/.test(node.nodeName) && !/^(fixed|absolute)/i.test(node.style.position) && dom.getContentEditable(node) !== 'true';\n    };\n    const trimInlineElementsOnLeftSideOfBlock = (dom, nonEmptyElementsMap, block) => {\n      var _a;\n      const firstChilds = [];\n      if (!block) {\n        return;\n      }\n      let currentNode = block;\n      while (currentNode = currentNode.firstChild) {\n        if (dom.isBlock(currentNode)) {\n          return;\n        }\n        if (isElement$6(currentNode) && !nonEmptyElementsMap[currentNode.nodeName.toLowerCase()]) {\n          firstChilds.push(currentNode);\n        }\n      }\n      let i = firstChilds.length;\n      while (i--) {\n        currentNode = firstChilds[i];\n        if (!currentNode.hasChildNodes() || currentNode.firstChild === currentNode.lastChild && ((_a = currentNode.firstChild) === null || _a === void 0 ? void 0 : _a.nodeValue) === '') {\n          dom.remove(currentNode);\n        } else {\n          if (isEmptyAnchor(dom, currentNode)) {\n            dom.remove(currentNode);\n          }\n        }\n      }\n    };\n    const normalizeZwspOffset = (start, container, offset) => {\n      if (!isText$a(container)) {\n        return offset;\n      } else if (start) {\n        return offset === 1 && container.data.charAt(offset - 1) === ZWSP$1 ? 0 : offset;\n      } else {\n        return offset === container.data.length - 1 && container.data.charAt(offset) === ZWSP$1 ? container.data.length : offset;\n      }\n    };\n    const includeZwspInRange = rng => {\n      const newRng = rng.cloneRange();\n      newRng.setStart(rng.startContainer, normalizeZwspOffset(true, rng.startContainer, rng.startOffset));\n      newRng.setEnd(rng.endContainer, normalizeZwspOffset(false, rng.endContainer, rng.endOffset));\n      return newRng;\n    };\n    const trimLeadingLineBreaks = node => {\n      let currentNode = node;\n      do {\n        if (isText$a(currentNode)) {\n          currentNode.data = currentNode.data.replace(/^[\\r\\n]+/, '');\n        }\n        currentNode = currentNode.firstChild;\n      } while (currentNode);\n    };\n    const applyAttributes = (editor, node, forcedRootBlockAttrs) => {\n      const dom = editor.dom;\n      Optional.from(forcedRootBlockAttrs.style).map(dom.parseStyle).each(attrStyles => {\n        const currentStyles = getAllRaw(SugarElement.fromDom(node));\n        const newStyles = {\n          ...currentStyles,\n          ...attrStyles\n        };\n        dom.setStyles(node, newStyles);\n      });\n      const attrClassesOpt = Optional.from(forcedRootBlockAttrs.class).map(attrClasses => attrClasses.split(/\\s+/));\n      const currentClassesOpt = Optional.from(node.className).map(currentClasses => filter$5(currentClasses.split(/\\s+/), clazz => clazz !== ''));\n      lift2(attrClassesOpt, currentClassesOpt, (attrClasses, currentClasses) => {\n        const filteredClasses = filter$5(currentClasses, clazz => !contains$2(attrClasses, clazz));\n        const newClasses = [\n          ...attrClasses,\n          ...filteredClasses\n        ];\n        dom.setAttrib(node, 'class', newClasses.join(' '));\n      });\n      const appliedAttrs = [\n        'style',\n        'class'\n      ];\n      const remainingAttrs = filter$4(forcedRootBlockAttrs, (_, attrs) => !contains$2(appliedAttrs, attrs));\n      dom.setAttribs(node, remainingAttrs);\n    };\n    const setForcedBlockAttrs = (editor, node) => {\n      const forcedRootBlockName = getForcedRootBlock(editor);\n      if (forcedRootBlockName.toLowerCase() === node.tagName.toLowerCase()) {\n        const forcedRootBlockAttrs = getForcedRootBlockAttrs(editor);\n        applyAttributes(editor, node, forcedRootBlockAttrs);\n      }\n    };\n    const wrapSelfAndSiblingsInDefaultBlock = (editor, newBlockName, rng, container, offset) => {\n      var _a;\n      const dom = editor.dom;\n      const editableRoot = (_a = getEditableRoot(dom, container)) !== null && _a !== void 0 ? _a : dom.getRoot();\n      let parentBlock = dom.getParent(container, dom.isBlock);\n      if (!parentBlock || !canSplitBlock(dom, parentBlock)) {\n        parentBlock = parentBlock || editableRoot;\n        let rootBlockName;\n        if (parentBlock === editor.getBody() || isTableCellOrCaption(parentBlock)) {\n          rootBlockName = parentBlock.nodeName.toLowerCase();\n        } else if (parentBlock.parentNode) {\n          rootBlockName = parentBlock.parentNode.nodeName.toLowerCase();\n        } else {\n          rootBlockName = '';\n        }\n        if (!parentBlock.hasChildNodes()) {\n          const newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          parentBlock.appendChild(newBlock);\n          rng.setStart(newBlock, 0);\n          rng.setEnd(newBlock, 0);\n          return newBlock;\n        }\n        let node = container;\n        while (node && node.parentNode !== parentBlock) {\n          node = node.parentNode;\n        }\n        let startNode;\n        while (node && !dom.isBlock(node)) {\n          startNode = node;\n          node = node.previousSibling;\n        }\n        if (startNode && editor.schema.isValidChild(rootBlockName, newBlockName.toLowerCase())) {\n          const startNodeParent = startNode.parentNode;\n          const newBlock = dom.create(newBlockName);\n          setForcedBlockAttrs(editor, newBlock);\n          startNodeParent.insertBefore(newBlock, startNode);\n          node = startNode;\n          while (node && !dom.isBlock(node)) {\n            const next = node.nextSibling;\n            newBlock.appendChild(node);\n            node = next;\n          }\n          rng.setStart(container, offset);\n          rng.setEnd(container, offset);\n        }\n      }\n      return container;\n    };\n    const addBrToBlockIfNeeded = (dom, block) => {\n      block.normalize();\n      const lastChild = block.lastChild;\n      if (!lastChild || isElement$6(lastChild) && /^(left|right)$/gi.test(dom.getStyle(lastChild, 'float', true))) {\n        dom.add(block, 'br');\n      }\n    };\n    const shouldEndContainer = (editor, container) => {\n      const optionValue = shouldEndContainerOnEmptyBlock(editor);\n      if (isNullable(container)) {\n        return false;\n      } else if (isString(optionValue)) {\n        return contains$2(Tools.explode(optionValue), container.nodeName.toLowerCase());\n      } else {\n        return optionValue;\n      }\n    };\n    const insert$2 = (editor, evt) => {\n      let container;\n      let offset;\n      let parentBlockName;\n      let containerBlock;\n      let isAfterLastNodeInContainer = false;\n      const dom = editor.dom;\n      const schema = editor.schema, nonEmptyElementsMap = schema.getNonEmptyElements();\n      const rng = editor.selection.getRng();\n      const newBlockName = getForcedRootBlock(editor);\n      const createNewBlock = name => {\n        let node = container;\n        const textInlineElements = schema.getTextInlineElements();\n        let block;\n        if (name || parentBlockName === 'TABLE' || parentBlockName === 'HR') {\n          block = dom.create(name || newBlockName);\n        } else {\n          block = parentBlock.cloneNode(false);\n        }\n        let caretNode = block;\n        if (shouldKeepStyles(editor) === false) {\n          dom.setAttrib(block, 'style', null);\n          dom.setAttrib(block, 'class', null);\n        } else {\n          do {\n            if (textInlineElements[node.nodeName]) {\n              if (isCaretNode(node) || isBookmarkNode$1(node)) {\n                continue;\n              }\n              const clonedNode = node.cloneNode(false);\n              dom.setAttrib(clonedNode, 'id', '');\n              if (block.hasChildNodes()) {\n                clonedNode.appendChild(block.firstChild);\n                block.appendChild(clonedNode);\n              } else {\n                caretNode = clonedNode;\n                block.appendChild(clonedNode);\n              }\n            }\n          } while ((node = node.parentNode) && node !== editableRoot);\n        }\n        setForcedBlockAttrs(editor, block);\n        emptyBlock(caretNode);\n        return block;\n      };\n      const isCaretAtStartOrEndOfBlock = start => {\n        const normalizedOffset = normalizeZwspOffset(start, container, offset);\n        if (isText$a(container) && (start ? normalizedOffset > 0 : normalizedOffset < container.data.length)) {\n          return false;\n        }\n        if (container.parentNode === parentBlock && isAfterLastNodeInContainer && !start) {\n          return true;\n        }\n        if (start && isElement$6(container) && container === parentBlock.firstChild) {\n          return true;\n        }\n        if (containerAndSiblingName(container, 'TABLE') || containerAndSiblingName(container, 'HR')) {\n          return isAfterLastNodeInContainer && !start || !isAfterLastNodeInContainer && start;\n        }\n        const walker = new DomTreeWalker(container, parentBlock);\n        if (isText$a(container)) {\n          if (start && normalizedOffset === 0) {\n            walker.prev();\n          } else if (!start && normalizedOffset === container.data.length) {\n            walker.next();\n          }\n        }\n        let node;\n        while (node = walker.current()) {\n          if (isElement$6(node)) {\n            if (!node.getAttribute('data-mce-bogus')) {\n              const name = node.nodeName.toLowerCase();\n              if (nonEmptyElementsMap[name] && name !== 'br') {\n                return false;\n              }\n            }\n          } else if (isText$a(node) && !isWhitespaceText(node.data)) {\n            return false;\n          }\n          if (start) {\n            walker.prev();\n          } else {\n            walker.next();\n          }\n        }\n        return true;\n      };\n      const insertNewBlockAfter = () => {\n        let block;\n        if (/^(H[1-6]|PRE|FIGURE)$/.test(parentBlockName) && containerBlockName !== 'HGROUP') {\n          block = createNewBlock(newBlockName);\n        } else {\n          block = createNewBlock();\n        }\n        if (shouldEndContainer(editor, containerBlock) && canSplitBlock(dom, containerBlock) && dom.isEmpty(parentBlock)) {\n          block = dom.split(containerBlock, parentBlock);\n        } else {\n          dom.insertAfter(block, parentBlock);\n        }\n        moveToCaretPosition(editor, block);\n        return block;\n      };\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      container = rng.startContainer;\n      offset = rng.startOffset;\n      const shiftKey = !!(evt && evt.shiftKey);\n      const ctrlKey = !!(evt && evt.ctrlKey);\n      if (isElement$6(container) && container.hasChildNodes()) {\n        isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$a(container)) {\n          offset = container.data.length;\n        } else {\n          offset = 0;\n        }\n      }\n      const editableRoot = getEditableRoot(dom, container);\n      if (!editableRoot || isWithinNonEditableList(editor, container)) {\n        return;\n      }\n      if (!shiftKey) {\n        container = wrapSelfAndSiblingsInDefaultBlock(editor, newBlockName, rng, container, offset);\n      }\n      let parentBlock = dom.getParent(container, dom.isBlock) || dom.getRoot();\n      containerBlock = isNonNullable(parentBlock === null || parentBlock === void 0 ? void 0 : parentBlock.parentNode) ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      parentBlockName = parentBlock ? parentBlock.nodeName.toUpperCase() : '';\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      if (containerBlockName === 'LI' && !ctrlKey) {\n        const liBlock = containerBlock;\n        parentBlock = liBlock;\n        containerBlock = liBlock.parentNode;\n        parentBlockName = containerBlockName;\n      }\n      if (/^(LI|DT|DD)$/.test(parentBlockName) && isElement$6(containerBlock)) {\n        if (dom.isEmpty(parentBlock)) {\n          insert$3(editor, createNewBlock, containerBlock, parentBlock, newBlockName);\n          return;\n        }\n      }\n      if (parentBlock === editor.getBody()) {\n        return;\n      }\n      const parentBlockParent = parentBlock.parentNode;\n      let newBlock;\n      if (isCaretContainerBlock$1(parentBlock)) {\n        newBlock = showCaretContainerBlock(parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        setForcedBlockAttrs(editor, newBlock);\n        moveToCaretPosition(editor, newBlock);\n      } else if (isCaretAtStartOrEndOfBlock(false)) {\n        newBlock = insertNewBlockAfter();\n      } else if (isCaretAtStartOrEndOfBlock(true) && parentBlockParent) {\n        newBlock = parentBlockParent.insertBefore(createNewBlock(), parentBlock);\n        moveToCaretPosition(editor, containerAndSiblingName(parentBlock, 'HR') ? newBlock : parentBlock);\n      } else {\n        const tmpRng = includeZwspInRange(rng).cloneRange();\n        tmpRng.setEndAfter(parentBlock);\n        const fragment = tmpRng.extractContents();\n        trimZwsp(fragment);\n        trimLeadingLineBreaks(fragment);\n        newBlock = fragment.firstChild;\n        dom.insertAfter(fragment, parentBlock);\n        trimInlineElementsOnLeftSideOfBlock(dom, nonEmptyElementsMap, newBlock);\n        addBrToBlockIfNeeded(dom, parentBlock);\n        if (dom.isEmpty(parentBlock)) {\n          emptyBlock(parentBlock);\n        }\n        newBlock.normalize();\n        if (dom.isEmpty(newBlock)) {\n          dom.remove(newBlock);\n          insertNewBlockAfter();\n        } else {\n          setForcedBlockAttrs(editor, newBlock);\n          moveToCaretPosition(editor, newBlock);\n        }\n      }\n      dom.setAttrib(newBlock, 'id', '');\n      editor.dispatch('NewBlock', { newBlock });\n    };\n    const fakeEventName$1 = 'insertParagraph';\n    const blockbreak = {\n      insert: insert$2,\n      fakeEventName: fakeEventName$1\n    };\n\n    const hasRightSideContent = (schema, container, parentBlock) => {\n      const walker = new DomTreeWalker(container, parentBlock);\n      let node;\n      const nonEmptyElementsMap = schema.getNonEmptyElements();\n      while (node = walker.next()) {\n        if (nonEmptyElementsMap[node.nodeName.toLowerCase()] || isText$a(node) && node.length > 0) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const moveSelectionToBr = (editor, brElm, extraBr) => {\n      const rng = editor.dom.createRng();\n      if (!extraBr) {\n        rng.setStartAfter(brElm);\n        rng.setEndAfter(brElm);\n      } else {\n        rng.setStartBefore(brElm);\n        rng.setEndBefore(brElm);\n      }\n      editor.selection.setRng(rng);\n      scrollRangeIntoView(editor, rng);\n    };\n    const insertBrAtCaret = (editor, evt) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      const rng = selection.getRng();\n      let brElm;\n      let extraBr = false;\n      normalize$2(dom, rng).each(normRng => {\n        rng.setStart(normRng.startContainer, normRng.startOffset);\n        rng.setEnd(normRng.endContainer, normRng.endOffset);\n      });\n      let offset = rng.startOffset;\n      let container = rng.startContainer;\n      if (isElement$6(container) && container.hasChildNodes()) {\n        const isAfterLastNodeInContainer = offset > container.childNodes.length - 1;\n        container = container.childNodes[Math.min(offset, container.childNodes.length - 1)] || container;\n        if (isAfterLastNodeInContainer && isText$a(container)) {\n          offset = container.data.length;\n        } else {\n          offset = 0;\n        }\n      }\n      let parentBlock = dom.getParent(container, dom.isBlock);\n      const containerBlock = parentBlock && parentBlock.parentNode ? dom.getParent(parentBlock.parentNode, dom.isBlock) : null;\n      const containerBlockName = containerBlock ? containerBlock.nodeName.toUpperCase() : '';\n      const isControlKey = !!(evt && evt.ctrlKey);\n      if (containerBlockName === 'LI' && !isControlKey) {\n        parentBlock = containerBlock;\n      }\n      if (isText$a(container) && offset >= container.data.length) {\n        if (!hasRightSideContent(editor.schema, container, parentBlock || dom.getRoot())) {\n          brElm = dom.create('br');\n          rng.insertNode(brElm);\n          rng.setStartAfter(brElm);\n          rng.setEndAfter(brElm);\n          extraBr = true;\n        }\n      }\n      brElm = dom.create('br');\n      rangeInsertNode(dom, rng, brElm);\n      moveSelectionToBr(editor, brElm, extraBr);\n      editor.undoManager.add();\n    };\n    const insertBrBefore = (editor, inline) => {\n      const br = SugarElement.fromTag('br');\n      before$3(SugarElement.fromDom(inline), br);\n      editor.undoManager.add();\n    };\n    const insertBrAfter = (editor, inline) => {\n      if (!hasBrAfter(editor.getBody(), inline)) {\n        after$4(SugarElement.fromDom(inline), SugarElement.fromTag('br'));\n      }\n      const br = SugarElement.fromTag('br');\n      after$4(SugarElement.fromDom(inline), br);\n      moveSelectionToBr(editor, br.dom, false);\n      editor.undoManager.add();\n    };\n    const isBeforeBr = pos => {\n      return isBr$6(pos.getNode());\n    };\n    const hasBrAfter = (rootNode, startNode) => {\n      if (isBeforeBr(CaretPosition.after(startNode))) {\n        return true;\n      } else {\n        return nextPosition(rootNode, CaretPosition.after(startNode)).map(pos => {\n          return isBr$6(pos.getNode());\n        }).getOr(false);\n      }\n    };\n    const isAnchorLink = elm => {\n      return elm && elm.nodeName === 'A' && 'href' in elm;\n    };\n    const isInsideAnchor = location => {\n      return location.fold(never, isAnchorLink, isAnchorLink, never);\n    };\n    const readInlineAnchorLocation = editor => {\n      const isInlineTarget$1 = curry(isInlineTarget, editor);\n      const position = CaretPosition.fromRangeStart(editor.selection.getRng());\n      return readLocation(isInlineTarget$1, editor.getBody(), position).filter(isInsideAnchor);\n    };\n    const insertBrOutsideAnchor = (editor, location) => {\n      location.fold(noop, curry(insertBrBefore, editor), curry(insertBrAfter, editor), noop);\n    };\n    const insert$1 = (editor, evt) => {\n      const anchorLocation = readInlineAnchorLocation(editor);\n      if (anchorLocation.isSome()) {\n        anchorLocation.each(curry(insertBrOutsideAnchor, editor));\n      } else {\n        insertBrAtCaret(editor, evt);\n      }\n    };\n    const fakeEventName = 'insertLineBreak';\n    const linebreak = {\n      insert: insert$1,\n      fakeEventName\n    };\n\n    const matchesSelector = (editor, selector) => {\n      return getParentBlock$1(editor).filter(parentBlock => {\n        return selector.length > 0 && is$1(SugarElement.fromDom(parentBlock), selector);\n      }).isSome();\n    };\n    const shouldInsertBr = editor => {\n      return matchesSelector(editor, getBrNewLineSelector(editor));\n    };\n    const shouldBlockNewLine$1 = editor => {\n      return matchesSelector(editor, getNoNewLineSelector(editor));\n    };\n\n    const newLineAction = Adt.generate([\n      { br: [] },\n      { block: [] },\n      { none: [] }\n    ]);\n    const shouldBlockNewLine = (editor, _shiftKey) => {\n      return shouldBlockNewLine$1(editor);\n    };\n    const inListBlock = requiredState => {\n      return (editor, _shiftKey) => {\n        return isListItemParentBlock(editor) === requiredState;\n      };\n    };\n    const inBlock = (blockName, requiredState) => (editor, _shiftKey) => {\n      const state = getParentBlockName(editor) === blockName.toUpperCase();\n      return state === requiredState;\n    };\n    const inCefBlock = editor => {\n      const editableRoot = getEditableRoot(editor.dom, editor.selection.getStart());\n      return isNullable(editableRoot);\n    };\n    const inPreBlock = requiredState => inBlock('pre', requiredState);\n    const inSummaryBlock = () => inBlock('summary', true);\n    const shouldPutBrInPre = requiredState => {\n      return (editor, _shiftKey) => {\n        return shouldPutBrInPre$1(editor) === requiredState;\n      };\n    };\n    const inBrContext = (editor, _shiftKey) => {\n      return shouldInsertBr(editor);\n    };\n    const hasShiftKey = (_editor, shiftKey) => {\n      return shiftKey;\n    };\n    const canInsertIntoEditableRoot = editor => {\n      const forcedRootBlock = getForcedRootBlock(editor);\n      const rootEditable = getEditableRoot(editor.dom, editor.selection.getStart());\n      return isNonNullable(rootEditable) && editor.schema.isValidChild(rootEditable.nodeName, forcedRootBlock);\n    };\n    const match = (predicates, action) => {\n      return (editor, shiftKey) => {\n        const isMatch = foldl(predicates, (res, p) => {\n          return res && p(editor, shiftKey);\n        }, true);\n        return isMatch ? Optional.some(action) : Optional.none();\n      };\n    };\n    const getAction = (editor, evt) => {\n      return evaluateUntil([\n        match([shouldBlockNewLine], newLineAction.none()),\n        match([\n          inPreBlock(true),\n          inCefBlock\n        ], newLineAction.none()),\n        match([inSummaryBlock()], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(false)\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true),\n          hasShiftKey\n        ], newLineAction.block()),\n        match([\n          inPreBlock(true),\n          shouldPutBrInPre(true)\n        ], newLineAction.br()),\n        match([\n          inListBlock(true),\n          hasShiftKey\n        ], newLineAction.br()),\n        match([inListBlock(true)], newLineAction.block()),\n        match([inBrContext], newLineAction.br()),\n        match([hasShiftKey], newLineAction.br()),\n        match([canInsertIntoEditableRoot], newLineAction.block())\n      ], [\n        editor,\n        !!(evt && evt.shiftKey)\n      ]).getOr(newLineAction.none());\n    };\n\n    const insertBreak = (breakType, editor, evt) => {\n      if (!editor.selection.isCollapsed()) {\n        execEditorDeleteCommand(editor);\n      }\n      if (isNonNullable(evt)) {\n        const event = fireFakeBeforeInputEvent(editor, breakType.fakeEventName);\n        if (event.isDefaultPrevented()) {\n          return;\n        }\n      }\n      breakType.insert(editor, evt);\n      if (isNonNullable(evt)) {\n        fireFakeInputEvent(editor, breakType.fakeEventName);\n      }\n    };\n    const insert = (editor, evt) => {\n      const br = () => insertBreak(linebreak, editor, evt);\n      const block = () => insertBreak(blockbreak, editor, evt);\n      const logicalAction = getAction(editor, evt);\n      switch (getNewlineBehavior(editor)) {\n      case 'linebreak':\n        logicalAction.fold(br, br, noop);\n        break;\n      case 'block':\n        logicalAction.fold(block, block, noop);\n        break;\n      case 'invert':\n        logicalAction.fold(block, br, noop);\n        break;\n      default:\n        logicalAction.fold(br, block, noop);\n        break;\n      }\n    };\n\n    const handleEnterKeyEvent = (editor, event) => {\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n      event.preventDefault();\n      endTypingLevelIgnoreLocks(editor.undoManager);\n      editor.undoManager.transact(() => {\n        insert(editor, event);\n      });\n    };\n    const setup$h = editor => {\n      editor.on('keydown', event => {\n        if (event.keyCode === VK.ENTER) {\n          handleEnterKeyEvent(editor, event);\n        }\n      });\n    };\n\n    const executeKeydownOverride$2 = (editor, caret, evt) => {\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      execute([\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$1, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$1, editor, false)\n        },\n        ...!isMac ? [\n          {\n            keyCode: VK.HOME,\n            action: action(selectToEndPoint, editor, false),\n            ctrlKey: true,\n            shiftKey: true\n          },\n          {\n            keyCode: VK.END,\n            action: action(selectToEndPoint, editor, true),\n            ctrlKey: true,\n            shiftKey: true\n          }\n        ] : [],\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint, editor, true)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint, editor, false)\n        },\n        {\n          keyCode: VK.END,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        },\n        {\n          keyCode: VK.HOME,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        }\n      ], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$g = (editor, caret) => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$2(editor, caret, evt);\n        }\n      });\n    };\n\n    const setup$f = editor => {\n      editor.on('input', e => {\n        if (!e.isComposing) {\n          normalizeNbspsInEditor(editor);\n        }\n      });\n    };\n\n    const platform = detect$2();\n    const executeKeyupAction = (editor, caret, evt) => {\n      execute([\n        {\n          keyCode: VK.PAGE_UP,\n          action: action(moveToLineEndPoint$2, editor, false, caret)\n        },\n        {\n          keyCode: VK.PAGE_DOWN,\n          action: action(moveToLineEndPoint$2, editor, true, caret)\n        }\n      ], evt);\n    };\n    const stopImmediatePropagation = e => e.stopImmediatePropagation();\n    const isPageUpDown = evt => evt.keyCode === VK.PAGE_UP || evt.keyCode === VK.PAGE_DOWN;\n    const setNodeChangeBlocker = (blocked, editor, block) => {\n      if (block && !blocked.get()) {\n        editor.on('NodeChange', stopImmediatePropagation, true);\n      } else if (!block && blocked.get()) {\n        editor.off('NodeChange', stopImmediatePropagation);\n      }\n      blocked.set(block);\n    };\n    const setup$e = (editor, caret) => {\n      if (platform.os.isMacOS()) {\n        return;\n      }\n      const blocked = Cell(false);\n      editor.on('keydown', evt => {\n        if (isPageUpDown(evt)) {\n          setNodeChangeBlocker(blocked, editor, true);\n        }\n      });\n      editor.on('keyup', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeyupAction(editor, caret, evt);\n        }\n        if (isPageUpDown(evt) && blocked.get()) {\n          setNodeChangeBlocker(blocked, editor, false);\n          editor.nodeChanged();\n        }\n      });\n    };\n\n    const insertTextAtPosition = (text, pos) => {\n      const container = pos.container();\n      const offset = pos.offset();\n      if (isText$a(container)) {\n        container.insertData(offset, text);\n        return Optional.some(CaretPosition(container, offset + text.length));\n      } else {\n        return getElementFromPosition(pos).map(elm => {\n          const textNode = SugarElement.fromText(text);\n          if (pos.isAtEnd()) {\n            after$4(elm, textNode);\n          } else {\n            before$3(elm, textNode);\n          }\n          return CaretPosition(textNode.dom, text.length);\n        });\n      }\n    };\n    const insertNbspAtPosition = curry(insertTextAtPosition, nbsp);\n    const insertSpaceAtPosition = curry(insertTextAtPosition, ' ');\n\n    const locationToCaretPosition = root => location => location.fold(element => prevPosition(root.dom, CaretPosition.before(element)), element => firstPositionIn(element), element => lastPositionIn(element), element => nextPosition(root.dom, CaretPosition.after(element)));\n    const insertInlineBoundarySpaceOrNbsp = (root, pos) => checkPos => needsToHaveNbsp(root, checkPos) ? insertNbspAtPosition(pos) : insertSpaceAtPosition(pos);\n    const setSelection = editor => pos => {\n      editor.selection.setRng(pos.toRange());\n      editor.nodeChanged();\n      return true;\n    };\n    const insertSpaceOrNbspAtSelection = editor => {\n      const pos = CaretPosition.fromRangeStart(editor.selection.getRng());\n      const root = SugarElement.fromDom(editor.getBody());\n      if (editor.selection.isCollapsed()) {\n        const isInlineTarget$1 = curry(isInlineTarget, editor);\n        const caretPosition = CaretPosition.fromRangeStart(editor.selection.getRng());\n        return readLocation(isInlineTarget$1, editor.getBody(), caretPosition).bind(locationToCaretPosition(root)).map(checkPos => () => insertInlineBoundarySpaceOrNbsp(root, pos)(checkPos).each(setSelection(editor)));\n      } else {\n        return Optional.none();\n      }\n    };\n\n    const executeKeydownOverride$1 = (editor, evt) => {\n      executeWithDelayedAction([{\n          keyCode: VK.SPACEBAR,\n          action: action(insertSpaceOrNbspAtSelection, editor)\n        }], evt).each(applyAction => {\n        evt.preventDefault();\n        const event = fireFakeBeforeInputEvent(editor, 'insertText', { data: ' ' });\n        if (!event.isDefaultPrevented()) {\n          applyAction();\n          fireFakeInputEvent(editor, 'insertText', { data: ' ' });\n        }\n      });\n    };\n    const setup$d = editor => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride$1(editor, evt);\n        }\n      });\n    };\n\n    const tableTabNavigation = editor => {\n      if (hasTableTabNavigation(editor)) {\n        return [\n          {\n            keyCode: VK.TAB,\n            action: action(handleTab, editor, true)\n          },\n          {\n            keyCode: VK.TAB,\n            shiftKey: true,\n            action: action(handleTab, editor, false)\n          }\n        ];\n      } else {\n        return [];\n      }\n    };\n    const executeKeydownOverride = (editor, evt) => {\n      execute([...tableTabNavigation(editor)], evt).each(_ => {\n        evt.preventDefault();\n      });\n    };\n    const setup$c = editor => {\n      editor.on('keydown', evt => {\n        if (!evt.isDefaultPrevented()) {\n          executeKeydownOverride(editor, evt);\n        }\n      });\n    };\n\n    const setup$b = editor => {\n      editor.addShortcut('Meta+P', '', 'mcePrint');\n      setup$j(editor);\n      if (isRtc(editor)) {\n        return Cell(null);\n      } else {\n        const caret = setupSelectedState(editor);\n        setup$l(editor);\n        setup$k(editor, caret);\n        setup$i(editor, caret);\n        setup$h(editor);\n        setup$d(editor);\n        setup$f(editor);\n        setup$c(editor);\n        setup$g(editor, caret);\n        setup$e(editor, caret);\n        return caret;\n      }\n    };\n\n    class NodeChange {\n      constructor(editor) {\n        this.lastPath = [];\n        this.editor = editor;\n        let lastRng;\n        const self = this;\n        if (!('onselectionchange' in editor.getDoc())) {\n          editor.on('NodeChange click mouseup keyup focus', e => {\n            const nativeRng = editor.selection.getRng();\n            const fakeRng = {\n              startContainer: nativeRng.startContainer,\n              startOffset: nativeRng.startOffset,\n              endContainer: nativeRng.endContainer,\n              endOffset: nativeRng.endOffset\n            };\n            if (e.type === 'nodechange' || !isEq$4(fakeRng, lastRng)) {\n              editor.dispatch('SelectionChange');\n            }\n            lastRng = fakeRng;\n          });\n        }\n        editor.on('contextmenu', () => {\n          editor.dispatch('SelectionChange');\n        });\n        editor.on('SelectionChange', () => {\n          const startElm = editor.selection.getStart(true);\n          if (!startElm) {\n            return;\n          }\n          if (hasAnyRanges(editor) && !self.isSameElementPath(startElm) && editor.dom.isChildOf(startElm, editor.getBody())) {\n            editor.nodeChanged({ selectionChange: true });\n          }\n        });\n        editor.on('mouseup', e => {\n          if (!e.isDefaultPrevented() && hasAnyRanges(editor)) {\n            if (editor.selection.getNode().nodeName === 'IMG') {\n              Delay.setEditorTimeout(editor, () => {\n                editor.nodeChanged();\n              });\n            } else {\n              editor.nodeChanged();\n            }\n          }\n        });\n      }\n      nodeChanged(args = {}) {\n        const selection = this.editor.selection;\n        let node;\n        if (this.editor.initialized && selection && !shouldDisableNodeChange(this.editor) && !this.editor.mode.isReadOnly()) {\n          const root = this.editor.getBody();\n          node = selection.getStart(true) || root;\n          if (node.ownerDocument !== this.editor.getDoc() || !this.editor.dom.isChildOf(node, root)) {\n            node = root;\n          }\n          const parents = [];\n          this.editor.dom.getParent(node, node => {\n            if (node === root) {\n              return true;\n            } else {\n              parents.push(node);\n              return false;\n            }\n          });\n          this.editor.dispatch('NodeChange', {\n            ...args,\n            element: node,\n            parents\n          });\n        }\n      }\n      isSameElementPath(startElm) {\n        let i;\n        const editor = this.editor;\n        const currentPath = reverse(editor.dom.getParents(startElm, always, editor.getBody()));\n        if (currentPath.length === this.lastPath.length) {\n          for (i = currentPath.length; i >= 0; i--) {\n            if (currentPath[i] !== this.lastPath[i]) {\n              break;\n            }\n          }\n          if (i === -1) {\n            this.lastPath = currentPath;\n            return true;\n          }\n        }\n        this.lastPath = currentPath;\n        return false;\n      }\n    }\n\n    const internalMimeType = 'x-tinymce/html';\n    const internalHtmlMime = constant(internalMimeType);\n    const internalMark = '<!-- ' + internalMimeType + ' -->';\n    const mark = html => internalMark + html;\n    const unmark = html => html.replace(internalMark, '');\n    const isMarked = html => html.indexOf(internalMark) !== -1;\n\n    const isPlainText = text => {\n      return !/<(?:\\/?(?!(?:div|p|br|span)>)\\w+|(?:(?!(?:span style=\"white-space:\\s?pre;?\">)|br\\s?\\/>))\\w+\\s[^>]+)>/i.test(text);\n    };\n    const openContainer = (rootTag, rootAttrs) => {\n      let tag = '<' + rootTag;\n      const attrs = mapToArray(rootAttrs, (value, key) => key + '=\"' + Entities.encodeAllRaw(value) + '\"');\n      if (attrs.length) {\n        tag += ' ' + attrs.join(' ');\n      }\n      return tag + '>';\n    };\n    const toBlockElements = (text, rootTag, rootAttrs) => {\n      const blocks = text.split(/\\n\\n/);\n      const tagOpen = openContainer(rootTag, rootAttrs);\n      const tagClose = '</' + rootTag + '>';\n      const paragraphs = map$3(blocks, p => {\n        return p.split(/\\n/).join('<br />');\n      });\n      const stitch = p => {\n        return tagOpen + p + tagClose;\n      };\n      return paragraphs.length === 1 ? paragraphs[0] : map$3(paragraphs, stitch).join('');\n    };\n\n    const pasteBinDefaultContent = '%MCEPASTEBIN%';\n    const create$6 = (editor, lastRngCell) => {\n      const {dom, selection} = editor;\n      const body = editor.getBody();\n      lastRngCell.set(selection.getRng());\n      const pasteBinElm = dom.add(editor.getBody(), 'div', {\n        'id': 'mcepastebin',\n        'class': 'mce-pastebin',\n        'contentEditable': true,\n        'data-mce-bogus': 'all',\n        'style': 'position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0'\n      }, pasteBinDefaultContent);\n      if (Env.browser.isFirefox()) {\n        dom.setStyle(pasteBinElm, 'left', dom.getStyle(body, 'direction', true) === 'rtl' ? 65535 : -65535);\n      }\n      dom.bind(pasteBinElm, 'beforedeactivate focusin focusout', e => {\n        e.stopPropagation();\n      });\n      pasteBinElm.focus();\n      selection.select(pasteBinElm, true);\n    };\n    const remove = (editor, lastRngCell) => {\n      const dom = editor.dom;\n      if (getEl(editor)) {\n        let pasteBinClone;\n        const lastRng = lastRngCell.get();\n        while (pasteBinClone = getEl(editor)) {\n          dom.remove(pasteBinClone);\n          dom.unbind(pasteBinClone);\n        }\n        if (lastRng) {\n          editor.selection.setRng(lastRng);\n        }\n      }\n      lastRngCell.set(null);\n    };\n    const getEl = editor => editor.dom.get('mcepastebin');\n    const isPasteBin = elm => isNonNullable(elm) && elm.id === 'mcepastebin';\n    const getHtml = editor => {\n      const dom = editor.dom;\n      const copyAndRemove = (toElm, fromElm) => {\n        toElm.appendChild(fromElm);\n        dom.remove(fromElm, true);\n      };\n      const [pasteBinElm, ...pasteBinClones] = filter$5(editor.getBody().childNodes, isPasteBin);\n      each$e(pasteBinClones, pasteBinClone => {\n        copyAndRemove(pasteBinElm, pasteBinClone);\n      });\n      const dirtyWrappers = dom.select('div[id=mcepastebin]', pasteBinElm);\n      for (let i = dirtyWrappers.length - 1; i >= 0; i--) {\n        const cleanWrapper = dom.create('div');\n        pasteBinElm.insertBefore(cleanWrapper, dirtyWrappers[i]);\n        copyAndRemove(cleanWrapper, dirtyWrappers[i]);\n      }\n      return pasteBinElm ? pasteBinElm.innerHTML : '';\n    };\n    const isDefaultPasteBinContent = content => content === pasteBinDefaultContent;\n    const PasteBin = editor => {\n      const lastRng = Cell(null);\n      return {\n        create: () => create$6(editor, lastRng),\n        remove: () => remove(editor, lastRng),\n        getEl: () => getEl(editor),\n        getHtml: () => getHtml(editor),\n        getLastRng: lastRng.get\n      };\n    };\n\n    const filter = (content, items) => {\n      Tools.each(items, v => {\n        if (is$4(v, RegExp)) {\n          content = content.replace(v, '');\n        } else {\n          content = content.replace(v[0], v[1]);\n        }\n      });\n      return content;\n    };\n    const innerText = html => {\n      const schema = Schema();\n      const domParser = DomParser({}, schema);\n      let text = '';\n      const voidElements = schema.getVoidElements();\n      const ignoreElements = Tools.makeMap('script noscript style textarea video audio iframe object', ' ');\n      const blockElements = schema.getBlockElements();\n      const walk = node => {\n        const name = node.name, currentNode = node;\n        if (name === 'br') {\n          text += '\\n';\n          return;\n        }\n        if (name === 'wbr') {\n          return;\n        }\n        if (voidElements[name]) {\n          text += ' ';\n        }\n        if (ignoreElements[name]) {\n          text += ' ';\n          return;\n        }\n        if (node.type === 3) {\n          text += node.value;\n        }\n        if (!(node.name in schema.getVoidElements())) {\n          let currentNode = node.firstChild;\n          if (currentNode) {\n            do {\n              walk(currentNode);\n            } while (currentNode = currentNode.next);\n          }\n        }\n        if (blockElements[name] && currentNode.next) {\n          text += '\\n';\n          if (name === 'p') {\n            text += '\\n';\n          }\n        }\n      };\n      html = filter(html, [/<!\\[[^\\]]+\\]>/g]);\n      walk(domParser.parse(html));\n      return text;\n    };\n    const trimHtml = html => {\n      const trimSpaces = (all, s1, s2) => {\n        if (!s1 && !s2) {\n          return ' ';\n        }\n        return nbsp;\n      };\n      html = filter(html, [\n        /^[\\s\\S]*<body[^>]*>\\s*|\\s*<\\/body[^>]*>[\\s\\S]*$/ig,\n        /<!--StartFragment-->|<!--EndFragment-->/g,\n        [\n          /( ?)<span class=\"Apple-converted-space\">\\u00a0<\\/span>( ?)/g,\n          trimSpaces\n        ],\n        /<br class=\"Apple-interchange-newline\">/g,\n        /<br>$/i\n      ]);\n      return html;\n    };\n    const createIdGenerator = prefix => {\n      let count = 0;\n      return () => {\n        return prefix + count++;\n      };\n    };\n    const getImageMimeType = ext => {\n      const lowerExt = ext.toLowerCase();\n      const mimeOverrides = {\n        jpg: 'jpeg',\n        jpe: 'jpeg',\n        jfi: 'jpeg',\n        jif: 'jpeg',\n        jfif: 'jpeg',\n        pjpeg: 'jpeg',\n        pjp: 'jpeg',\n        svg: 'svg+xml'\n      };\n      return Tools.hasOwn(mimeOverrides, lowerExt) ? 'image/' + mimeOverrides[lowerExt] : 'image/' + lowerExt;\n    };\n\n    const preProcess = (editor, html) => {\n      const parser = DomParser({}, editor.schema);\n      parser.addNodeFilter('meta', nodes => {\n        Tools.each(nodes, node => {\n          node.remove();\n        });\n      });\n      const fragment = parser.parse(html, {\n        forced_root_block: false,\n        isRootContent: true\n      });\n      return HtmlSerializer({ validate: true }, editor.schema).serialize(fragment);\n    };\n    const processResult = (content, cancelled) => ({\n      content,\n      cancelled\n    });\n    const postProcessFilter = (editor, html, internal) => {\n      const tempBody = editor.dom.create('div', { style: 'display:none' }, html);\n      const postProcessArgs = firePastePostProcess(editor, tempBody, internal);\n      return processResult(postProcessArgs.node.innerHTML, postProcessArgs.isDefaultPrevented());\n    };\n    const filterContent = (editor, content, internal) => {\n      const preProcessArgs = firePastePreProcess(editor, content, internal);\n      const filteredContent = preProcess(editor, preProcessArgs.content);\n      if (editor.hasEventListeners('PastePostProcess') && !preProcessArgs.isDefaultPrevented()) {\n        return postProcessFilter(editor, filteredContent, internal);\n      } else {\n        return processResult(filteredContent, preProcessArgs.isDefaultPrevented());\n      }\n    };\n    const process = (editor, html, internal) => {\n      return filterContent(editor, html, internal);\n    };\n\n    const pasteHtml$1 = (editor, html) => {\n      editor.insertContent(html, {\n        merge: shouldPasteMergeFormats(editor),\n        paste: true\n      });\n      return true;\n    };\n    const isAbsoluteUrl = url => /^https?:\\/\\/[\\w\\-\\/+=.,!;:&%@^~(){}?#]+$/i.test(url);\n    const isImageUrl = (editor, url) => {\n      return isAbsoluteUrl(url) && exists(getAllowedImageFileTypes(editor), type => endsWith(url.toLowerCase(), `.${ type.toLowerCase() }`));\n    };\n    const createImage = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.insertContent('<img src=\"' + url + '\">');\n      });\n      return true;\n    };\n    const createLink = (editor, url, pasteHtmlFn) => {\n      editor.undoManager.extra(() => {\n        pasteHtmlFn(editor, url);\n      }, () => {\n        editor.execCommand('mceInsertLink', false, url);\n      });\n      return true;\n    };\n    const linkSelection = (editor, html, pasteHtmlFn) => !editor.selection.isCollapsed() && isAbsoluteUrl(html) ? createLink(editor, html, pasteHtmlFn) : false;\n    const insertImage = (editor, html, pasteHtmlFn) => isImageUrl(editor, html) ? createImage(editor, html, pasteHtmlFn) : false;\n    const smartInsertContent = (editor, html) => {\n      Tools.each([\n        linkSelection,\n        insertImage,\n        pasteHtml$1\n      ], action => {\n        return !action(editor, html, pasteHtml$1);\n      });\n    };\n    const insertContent = (editor, html, pasteAsText) => {\n      if (pasteAsText || !isSmartPasteEnabled(editor)) {\n        pasteHtml$1(editor, html);\n      } else {\n        smartInsertContent(editor, html);\n      }\n    };\n\n    const uniqueId = createIdGenerator('mceclip');\n    const doPaste = (editor, content, internal, pasteAsText) => {\n      const args = process(editor, content, internal);\n      if (!args.cancelled) {\n        insertContent(editor, args.content, pasteAsText);\n      }\n    };\n    const pasteHtml = (editor, html, internalFlag) => {\n      const internal = internalFlag ? internalFlag : isMarked(html);\n      doPaste(editor, unmark(html), internal, false);\n    };\n    const pasteText = (editor, text) => {\n      const encodedText = editor.dom.encode(text).replace(/\\r\\n/g, '\\n');\n      const normalizedText = normalize$4(encodedText, getPasteTabSpaces(editor));\n      const html = toBlockElements(normalizedText, getForcedRootBlock(editor), getForcedRootBlockAttrs(editor));\n      doPaste(editor, html, false, true);\n    };\n    const getDataTransferItems = dataTransfer => {\n      const items = {};\n      if (dataTransfer && dataTransfer.types) {\n        for (let i = 0; i < dataTransfer.types.length; i++) {\n          const contentType = dataTransfer.types[i];\n          try {\n            items[contentType] = dataTransfer.getData(contentType);\n          } catch (ex) {\n            items[contentType] = '';\n          }\n        }\n      }\n      return items;\n    };\n    const hasContentType = (clipboardContent, mimeType) => mimeType in clipboardContent && clipboardContent[mimeType].length > 0;\n    const hasHtmlOrText = content => hasContentType(content, 'text/html') || hasContentType(content, 'text/plain');\n    const extractFilename = (editor, str) => {\n      const m = str.match(/([\\s\\S]+?)(?:\\.[a-z0-9.]+)$/i);\n      return isNonNullable(m) ? editor.dom.encode(m[1]) : undefined;\n    };\n    const createBlobInfo = (editor, blobCache, file, base64) => {\n      const id = uniqueId();\n      const useFileName = shouldReuseFileName(editor) && isNonNullable(file.name);\n      const name = useFileName ? extractFilename(editor, file.name) : id;\n      const filename = useFileName ? file.name : undefined;\n      const blobInfo = blobCache.create(id, file, base64, name, filename);\n      blobCache.add(blobInfo);\n      return blobInfo;\n    };\n    const pasteImage = (editor, imageItem) => {\n      parseDataUri(imageItem.uri).each(({data, type, base64Encoded}) => {\n        const base64 = base64Encoded ? data : btoa(data);\n        const file = imageItem.file;\n        const blobCache = editor.editorUpload.blobCache;\n        const existingBlobInfo = blobCache.getByData(base64, type);\n        const blobInfo = existingBlobInfo !== null && existingBlobInfo !== void 0 ? existingBlobInfo : createBlobInfo(editor, blobCache, file, base64);\n        pasteHtml(editor, `<img src=\"${ blobInfo.blobUri() }\">`, false);\n      });\n    };\n    const isClipboardEvent = event => event.type === 'paste';\n    const readFilesAsDataUris = items => Promise.all(map$3(items, file => {\n      return blobToDataUri(file).then(uri => ({\n        file,\n        uri\n      }));\n    }));\n    const isImage = editor => {\n      const allowedExtensions = getAllowedImageFileTypes(editor);\n      return file => startsWith(file.type, 'image/') && exists(allowedExtensions, extension => {\n        return getImageMimeType(extension) === file.type;\n      });\n    };\n    const getImagesFromDataTransfer = (editor, dataTransfer) => {\n      const items = dataTransfer.items ? bind$3(from(dataTransfer.items), item => {\n        return item.kind === 'file' ? [item.getAsFile()] : [];\n      }) : [];\n      const files = dataTransfer.files ? from(dataTransfer.files) : [];\n      return filter$5(items.length > 0 ? items : files, isImage(editor));\n    };\n    const pasteImageData = (editor, e, rng) => {\n      const dataTransfer = isClipboardEvent(e) ? e.clipboardData : e.dataTransfer;\n      if (shouldPasteDataImages(editor) && dataTransfer) {\n        const images = getImagesFromDataTransfer(editor, dataTransfer);\n        if (images.length > 0) {\n          e.preventDefault();\n          readFilesAsDataUris(images).then(fileResults => {\n            if (rng) {\n              editor.selection.setRng(rng);\n            }\n            each$e(fileResults, result => {\n              pasteImage(editor, result);\n            });\n          });\n          return true;\n        }\n      }\n      return false;\n    };\n    const isBrokenAndroidClipboardEvent = e => {\n      var _a, _b;\n      return Env.os.isAndroid() && ((_b = (_a = e.clipboardData) === null || _a === void 0 ? void 0 : _a.items) === null || _b === void 0 ? void 0 : _b.length) === 0;\n    };\n    const isKeyboardPasteEvent = e => VK.metaKeyPressed(e) && e.keyCode === 86 || e.shiftKey && e.keyCode === 45;\n    const insertClipboardContent = (editor, clipboardContent, html, plainTextMode) => {\n      let content = trimHtml(html);\n      const isInternal = hasContentType(clipboardContent, internalHtmlMime()) || isMarked(html);\n      const isPlainTextHtml = !isInternal && isPlainText(content);\n      const isAbsoluteUrl$1 = isAbsoluteUrl(content);\n      if (isDefaultPasteBinContent(content) || !content.length || isPlainTextHtml && !isAbsoluteUrl$1) {\n        plainTextMode = true;\n      }\n      if (plainTextMode || isAbsoluteUrl$1) {\n        if (hasContentType(clipboardContent, 'text/plain') && isPlainTextHtml) {\n          content = clipboardContent['text/plain'];\n        } else {\n          content = innerText(content);\n        }\n      }\n      if (isDefaultPasteBinContent(content)) {\n        return;\n      }\n      if (plainTextMode) {\n        pasteText(editor, content);\n      } else {\n        pasteHtml(editor, content, isInternal);\n      }\n    };\n    const registerEventHandlers = (editor, pasteBin, pasteFormat) => {\n      let keyboardPastePlainTextState;\n      const getLastRng = () => pasteBin.getLastRng() || editor.selection.getRng();\n      editor.on('keydown', e => {\n        if (isKeyboardPasteEvent(e) && !e.isDefaultPrevented()) {\n          keyboardPastePlainTextState = e.shiftKey && e.keyCode === 86;\n        }\n      });\n      editor.on('paste', e => {\n        if (e.isDefaultPrevented() || isBrokenAndroidClipboardEvent(e)) {\n          return;\n        }\n        const plainTextMode = pasteFormat.get() === 'text' || keyboardPastePlainTextState;\n        keyboardPastePlainTextState = false;\n        const clipboardContent = getDataTransferItems(e.clipboardData);\n        if (!hasHtmlOrText(clipboardContent) && pasteImageData(editor, e, getLastRng())) {\n          return;\n        }\n        if (hasContentType(clipboardContent, 'text/html')) {\n          e.preventDefault();\n          insertClipboardContent(editor, clipboardContent, clipboardContent['text/html'], plainTextMode);\n        } else {\n          pasteBin.create();\n          Delay.setEditorTimeout(editor, () => {\n            const html = pasteBin.getHtml();\n            pasteBin.remove();\n            insertClipboardContent(editor, clipboardContent, html, plainTextMode);\n          }, 0);\n        }\n      });\n    };\n    const registerDataImageFilter = editor => {\n      const isWebKitFakeUrl = src => startsWith(src, 'webkit-fake-url');\n      const isDataUri = src => startsWith(src, 'data:');\n      const isPasteInsert = args => {\n        var _a;\n        return ((_a = args.data) === null || _a === void 0 ? void 0 : _a.paste) === true;\n      };\n      editor.parser.addNodeFilter('img', (nodes, name, args) => {\n        if (!shouldPasteDataImages(editor) && isPasteInsert(args)) {\n          for (const node of nodes) {\n            const src = node.attr('src');\n            if (isString(src) && !node.attr('data-mce-object') && src !== Env.transparentSrc) {\n              if (isWebKitFakeUrl(src)) {\n                node.remove();\n              } else if (!shouldAllowHtmlDataUrls(editor) && isDataUri(src)) {\n                node.remove();\n              }\n            }\n          }\n        }\n      });\n    };\n    const registerEventsAndFilters = (editor, pasteBin, pasteFormat) => {\n      registerEventHandlers(editor, pasteBin, pasteFormat);\n      registerDataImageFilter(editor);\n    };\n\n    const togglePlainTextPaste = (editor, pasteFormat) => {\n      if (pasteFormat.get() === 'text') {\n        pasteFormat.set('html');\n        firePastePlainTextToggle(editor, false);\n      } else {\n        pasteFormat.set('text');\n        firePastePlainTextToggle(editor, true);\n      }\n      editor.focus();\n    };\n    const register$1 = (editor, pasteFormat) => {\n      editor.addCommand('mceTogglePlainTextPaste', () => {\n        togglePlainTextPaste(editor, pasteFormat);\n      });\n      editor.addCommand('mceInsertClipboardContent', (ui, value) => {\n        if (value.html) {\n          pasteHtml(editor, value.html, value.internal);\n        }\n        if (value.text) {\n          pasteText(editor, value.text);\n        }\n      });\n    };\n\n    const setHtml5Clipboard = (clipboardData, html, text) => {\n      if (clipboardData) {\n        try {\n          clipboardData.clearData();\n          clipboardData.setData('text/html', html);\n          clipboardData.setData('text/plain', text);\n          clipboardData.setData(internalHtmlMime(), html);\n          return true;\n        } catch (e) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    };\n    const setClipboardData = (evt, data, fallback, done) => {\n      if (setHtml5Clipboard(evt.clipboardData, data.html, data.text)) {\n        evt.preventDefault();\n        done();\n      } else {\n        fallback(data.html, done);\n      }\n    };\n    const fallback = editor => (html, done) => {\n      const {dom, selection} = editor;\n      const outer = dom.create('div', {\n        'contenteditable': 'false',\n        'data-mce-bogus': 'all'\n      });\n      const inner = dom.create('div', { contenteditable: 'true' }, html);\n      dom.setStyles(outer, {\n        position: 'fixed',\n        top: '0',\n        left: '-3000px',\n        width: '1000px',\n        overflow: 'hidden'\n      });\n      outer.appendChild(inner);\n      dom.add(editor.getBody(), outer);\n      const range = selection.getRng();\n      inner.focus();\n      const offscreenRange = dom.createRng();\n      offscreenRange.selectNodeContents(inner);\n      selection.setRng(offscreenRange);\n      Delay.setEditorTimeout(editor, () => {\n        selection.setRng(range);\n        dom.remove(outer);\n        done();\n      }, 0);\n    };\n    const getData = editor => ({\n      html: mark(editor.selection.getContent({ contextual: true })),\n      text: editor.selection.getContent({ format: 'text' })\n    });\n    const isTableSelection = editor => !!editor.dom.getParent(editor.selection.getStart(), 'td[data-mce-selected],th[data-mce-selected]', editor.getBody());\n    const hasSelectedContent = editor => !editor.selection.isCollapsed() || isTableSelection(editor);\n    const cut = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), () => {\n          if (Env.browser.isChromium() || Env.browser.isFirefox()) {\n            const rng = editor.selection.getRng();\n            Delay.setEditorTimeout(editor, () => {\n              editor.selection.setRng(rng);\n              editor.execCommand('Delete');\n            }, 0);\n          } else {\n            editor.execCommand('Delete');\n          }\n        });\n      }\n    };\n    const copy = editor => evt => {\n      if (!evt.isDefaultPrevented() && hasSelectedContent(editor)) {\n        setClipboardData(evt, getData(editor), fallback(editor), noop);\n      }\n    };\n    const register = editor => {\n      editor.on('cut', cut(editor));\n      editor.on('copy', copy(editor));\n    };\n\n    const getCaretRangeFromEvent = (editor, e) => {\n      var _a, _b;\n      return RangeUtils.getCaretRangeFromPoint((_a = e.clientX) !== null && _a !== void 0 ? _a : 0, (_b = e.clientY) !== null && _b !== void 0 ? _b : 0, editor.getDoc());\n    };\n    const isPlainTextFileUrl = content => {\n      const plainTextContent = content['text/plain'];\n      return plainTextContent ? plainTextContent.indexOf('file://') === 0 : false;\n    };\n    const setFocusedRange = (editor, rng) => {\n      editor.focus();\n      if (rng) {\n        editor.selection.setRng(rng);\n      }\n    };\n    const hasImage = dataTransfer => exists(dataTransfer.files, file => /^image\\//.test(file.type));\n    const setup$a = (editor, draggingInternallyState) => {\n      if (shouldPasteBlockDrop(editor)) {\n        editor.on('dragend dragover draggesture dragdrop drop drag', e => {\n          e.preventDefault();\n          e.stopPropagation();\n        });\n      }\n      if (!shouldPasteDataImages(editor)) {\n        editor.on('drop', e => {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && hasImage(dataTransfer)) {\n            e.preventDefault();\n          }\n        });\n      }\n      editor.on('drop', e => {\n        if (e.isDefaultPrevented() || draggingInternallyState.get()) {\n          return;\n        }\n        const rng = getCaretRangeFromEvent(editor, e);\n        if (isNullable(rng)) {\n          return;\n        }\n        const dropContent = getDataTransferItems(e.dataTransfer);\n        const internal = hasContentType(dropContent, internalHtmlMime());\n        if ((!hasHtmlOrText(dropContent) || isPlainTextFileUrl(dropContent)) && pasteImageData(editor, e, rng)) {\n          return;\n        }\n        const internalContent = dropContent[internalHtmlMime()];\n        const content = internalContent || dropContent['text/html'] || dropContent['text/plain'];\n        if (content) {\n          e.preventDefault();\n          Delay.setEditorTimeout(editor, () => {\n            editor.undoManager.transact(() => {\n              if (internalContent) {\n                editor.execCommand('Delete');\n              }\n              setFocusedRange(editor, rng);\n              const trimmedContent = trimHtml(content);\n              if (dropContent['text/html']) {\n                pasteHtml(editor, trimmedContent, internal);\n              } else {\n                pasteText(editor, trimmedContent);\n              }\n            });\n          });\n        }\n      });\n      editor.on('dragstart', _e => {\n        draggingInternallyState.set(true);\n      });\n      editor.on('dragover dragend', e => {\n        if (shouldPasteDataImages(editor) && !draggingInternallyState.get()) {\n          e.preventDefault();\n          setFocusedRange(editor, getCaretRangeFromEvent(editor, e));\n        }\n        if (e.type === 'dragend') {\n          draggingInternallyState.set(false);\n        }\n      });\n    };\n\n    const setup$9 = editor => {\n      const processEvent = f => e => {\n        f(editor, e);\n      };\n      const preProcess = getPastePreProcess(editor);\n      if (isFunction(preProcess)) {\n        editor.on('PastePreProcess', processEvent(preProcess));\n      }\n      const postProcess = getPastePostProcess(editor);\n      if (isFunction(postProcess)) {\n        editor.on('PastePostProcess', processEvent(postProcess));\n      }\n    };\n\n    const addPreProcessFilter = (editor, filterFunc) => {\n      editor.on('PastePreProcess', e => {\n        e.content = filterFunc(editor, e.content, e.internal);\n      });\n    };\n    const rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi;\n    const rgbToHex = value => Tools.trim(value).replace(rgbRegExp, rgbaToHexString).toLowerCase();\n    const removeWebKitStyles = (editor, content, internal) => {\n      const webKitStylesOption = getPasteWebkitStyles(editor);\n      if (internal || webKitStylesOption === 'all' || !shouldPasteRemoveWebKitStyles(editor)) {\n        return content;\n      }\n      const webKitStyles = webKitStylesOption ? webKitStylesOption.split(/[, ]/) : [];\n      if (webKitStyles && webKitStylesOption !== 'none') {\n        const dom = editor.dom, node = editor.selection.getNode();\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, (all, before, value, after) => {\n          const inputStyles = dom.parseStyle(dom.decode(value));\n          const outputStyles = {};\n          for (let i = 0; i < webKitStyles.length; i++) {\n            const inputValue = inputStyles[webKitStyles[i]];\n            let compareInput = inputValue;\n            let currentValue = dom.getStyle(node, webKitStyles[i], true);\n            if (/color/.test(webKitStyles[i])) {\n              compareInput = rgbToHex(compareInput);\n              currentValue = rgbToHex(currentValue);\n            }\n            if (currentValue !== compareInput) {\n              outputStyles[webKitStyles[i]] = inputValue;\n            }\n          }\n          const outputStyle = dom.serializeStyle(outputStyles, 'span');\n          if (outputStyle) {\n            return before + ' style=\"' + outputStyle + '\"' + after;\n          }\n          return before + after;\n        });\n      } else {\n        content = content.replace(/(<[^>]+) style=\"([^\"]*)\"([^>]*>)/gi, '$1$3');\n      }\n      content = content.replace(/(<[^>]+) data-mce-style=\"([^\"]+)\"([^>]*>)/gi, (all, before, value, after) => {\n        return before + ' style=\"' + value + '\"' + after;\n      });\n      return content;\n    };\n    const setup$8 = editor => {\n      if (Env.browser.isChromium() || Env.browser.isSafari()) {\n        addPreProcessFilter(editor, removeWebKitStyles);\n      }\n    };\n\n    const setup$7 = editor => {\n      const draggingInternallyState = Cell(false);\n      const pasteFormat = Cell(isPasteAsTextEnabled(editor) ? 'text' : 'html');\n      const pasteBin = PasteBin(editor);\n      setup$8(editor);\n      register$1(editor, pasteFormat);\n      setup$9(editor);\n      editor.on('PreInit', () => {\n        register(editor);\n        setup$a(editor, draggingInternallyState);\n        registerEventsAndFilters(editor, pasteBin, pasteFormat);\n      });\n    };\n\n    const preventSummaryToggle = editor => {\n      editor.on('click', e => {\n        if (editor.dom.getParent(e.target, 'details')) {\n          e.preventDefault();\n        }\n      });\n    };\n    const filterDetails = editor => {\n      editor.parser.addNodeFilter('details', elms => {\n        each$e(elms, details => {\n          details.attr('data-mce-open', details.attr('open'));\n          details.attr('open', 'open');\n        });\n      });\n      editor.serializer.addNodeFilter('details', elms => {\n        each$e(elms, details => {\n          const open = details.attr('data-mce-open');\n          details.attr('open', isString(open) ? open : null);\n          details.attr('data-mce-open', null);\n        });\n      });\n    };\n    const setup$6 = editor => {\n      preventSummaryToggle(editor);\n      filterDetails(editor);\n    };\n\n    const isBr = isBr$6;\n    const isText = isText$a;\n    const isContentEditableFalse$2 = elm => isContentEditableFalse$a(elm.dom);\n    const isContentEditableTrue = elm => isContentEditableTrue$3(elm.dom);\n    const isRoot = rootNode => elm => eq(SugarElement.fromDom(rootNode), elm);\n    const getClosestScope = (node, rootNode) => closest$4(SugarElement.fromDom(node), elm => isContentEditableTrue(elm) || isBlock$2(elm), isRoot(rootNode)).getOr(SugarElement.fromDom(rootNode)).dom;\n    const getClosestCef = (node, rootNode) => closest$4(SugarElement.fromDom(node), isContentEditableFalse$2, isRoot(rootNode));\n    const findEdgeCaretCandidate = (startNode, scope, forward) => {\n      const walker = new DomTreeWalker(startNode, scope);\n      const next = forward ? walker.next.bind(walker) : walker.prev.bind(walker);\n      let result = startNode;\n      for (let current = forward ? startNode : next(); current && !isBr(current); current = next()) {\n        if (isCaretCandidate$3(current)) {\n          result = current;\n        }\n      }\n      return result;\n    };\n    const findClosestBlockRange = (startRng, rootNode) => {\n      const startPos = CaretPosition.fromRangeStart(startRng);\n      const clickNode = startPos.getNode();\n      const scope = getClosestScope(clickNode, rootNode);\n      const startNode = findEdgeCaretCandidate(clickNode, scope, false);\n      const endNode = findEdgeCaretCandidate(clickNode, scope, true);\n      const rng = document.createRange();\n      getClosestCef(startNode, scope).fold(() => {\n        if (isText(startNode)) {\n          rng.setStart(startNode, 0);\n        } else {\n          rng.setStartBefore(startNode);\n        }\n      }, cef => rng.setStartBefore(cef.dom));\n      getClosestCef(endNode, scope).fold(() => {\n        if (isText(endNode)) {\n          rng.setEnd(endNode, endNode.data.length);\n        } else {\n          rng.setEndAfter(endNode);\n        }\n      }, cef => rng.setEndAfter(cef.dom));\n      return rng;\n    };\n    const onTripleClickSelect = editor => {\n      const rng = findClosestBlockRange(editor.selection.getRng(), editor.getBody());\n      editor.selection.setRng(normalize(rng));\n    };\n    const setup$5 = editor => {\n      editor.on('mousedown', e => {\n        if (e.detail >= 3) {\n          e.preventDefault();\n          onTripleClickSelect(editor);\n        }\n      });\n    };\n\n    var FakeCaretPosition;\n    (function (FakeCaretPosition) {\n      FakeCaretPosition['Before'] = 'before';\n      FakeCaretPosition['After'] = 'after';\n    }(FakeCaretPosition || (FakeCaretPosition = {})));\n    const distanceToRectLeft = (clientRect, clientX) => Math.abs(clientRect.left - clientX);\n    const distanceToRectRight = (clientRect, clientX) => Math.abs(clientRect.right - clientX);\n    const isInsideY = (clientY, clientRect) => clientY >= clientRect.top && clientY <= clientRect.bottom;\n    const collidesY = (r1, r2) => r1.top < r2.bottom && r1.bottom > r2.top;\n    const isOverlapping = (r1, r2) => {\n      const overlap = overlapY(r1, r2) / Math.min(r1.height, r2.height);\n      return collidesY(r1, r2) && overlap > 0.5;\n    };\n    const splitRectsPerAxis = (rects, y) => {\n      const intersectingRects = filter$5(rects, rect => isInsideY(y, rect));\n      return boundingClientRectFromRects(intersectingRects).fold(() => [\n        [],\n        rects\n      ], boundingRect => {\n        const {\n          pass: horizontal,\n          fail: vertical\n        } = partition$2(rects, rect => isOverlapping(rect, boundingRect));\n        return [\n          horizontal,\n          vertical\n        ];\n      });\n    };\n    const clientInfo = (rect, clientX) => {\n      return {\n        node: rect.node,\n        position: distanceToRectLeft(rect, clientX) < distanceToRectRight(rect, clientX) ? FakeCaretPosition.Before : FakeCaretPosition.After\n      };\n    };\n    const horizontalDistance = (rect, x, _y) => x > rect.left && x < rect.right ? 0 : Math.min(Math.abs(rect.left - x), Math.abs(rect.right - x));\n    const closestChildCaretCandidateNodeRect = (children, clientX, clientY) => {\n      const caretCandidateRect = rect => {\n        if (isCaretCandidate$3(rect.node)) {\n          return Optional.some(rect);\n        } else if (isElement$6(rect.node)) {\n          return closestChildCaretCandidateNodeRect(from(rect.node.childNodes), clientX, clientY);\n        } else {\n          return Optional.none();\n        }\n      };\n      const getClosestTextNode = (rects, distance) => {\n        if (rects.length >= 2) {\n          const r1 = caretCandidateRect(rects[0]).getOr(rects[0]);\n          const r2 = caretCandidateRect(rects[1]).getOr(rects[1]);\n          const deltaDistance = Math.abs(distance(r1, clientX, clientY) - distance(r2, clientX, clientY));\n          if (deltaDistance < 2) {\n            if (isText$a(r1.node)) {\n              return Optional.some(r1);\n            } else if (isText$a(r2.node)) {\n              return Optional.some(r2);\n            }\n          }\n        }\n        return Optional.none();\n      };\n      const findClosestCaretCandidateNodeRect = (rects, distance) => {\n        const sortedRects = sort(rects, (r1, r2) => distance(r1, clientX, clientY) - distance(r2, clientX, clientY));\n        return getClosestTextNode(sortedRects, distance).orThunk(() => findMap(sortedRects, caretCandidateRect));\n      };\n      const [horizontalRects, verticalRects] = splitRectsPerAxis(getClientRects(children), clientY);\n      const {\n        pass: above,\n        fail: below\n      } = partition$2(verticalRects, rect => rect.top < clientY);\n      return findClosestCaretCandidateNodeRect(horizontalRects, horizontalDistance).orThunk(() => findClosestCaretCandidateNodeRect(below, distanceToRectEdgeFromXY)).orThunk(() => findClosestCaretCandidateNodeRect(above, distanceToRectEdgeFromXY));\n    };\n    const traverseUp = (rootElm, scope, clientX, clientY) => {\n      const helper = (scope, prevScope) => {\n        const isDragGhostContainer = node => isElement$6(node) && node.classList.contains('mce-drag-container');\n        const childNodesWithoutGhost = filter$5(scope.dom.childNodes, not(isDragGhostContainer));\n        return prevScope.fold(() => closestChildCaretCandidateNodeRect(childNodesWithoutGhost, clientX, clientY), prevScope => {\n          const uncheckedChildren = filter$5(childNodesWithoutGhost, node => node !== prevScope.dom);\n          return closestChildCaretCandidateNodeRect(uncheckedChildren, clientX, clientY);\n        }).orThunk(() => {\n          const parent = eq(scope, rootElm) ? Optional.none() : parentElement(scope);\n          return parent.bind(newScope => helper(newScope, Optional.some(scope)));\n        });\n      };\n      return helper(scope, Optional.none());\n    };\n    const closestCaretCandidateNodeRect = (root, clientX, clientY) => {\n      const rootElm = SugarElement.fromDom(root);\n      const ownerDoc = documentOrOwner(rootElm);\n      const elementAtPoint = SugarElement.fromPoint(ownerDoc, clientX, clientY).filter(elm => contains(rootElm, elm));\n      const element = elementAtPoint.getOr(rootElm);\n      return traverseUp(rootElm, element, clientX, clientY);\n    };\n    const closestFakeCaretCandidate = (root, clientX, clientY) => closestCaretCandidateNodeRect(root, clientX, clientY).filter(rect => isFakeCaretTarget(rect.node)).map(rect => clientInfo(rect, clientX));\n\n    const getAbsolutePosition = elm => {\n      var _a, _b;\n      const clientRect = elm.getBoundingClientRect();\n      const doc = elm.ownerDocument;\n      const docElem = doc.documentElement;\n      const win = doc.defaultView;\n      return {\n        top: clientRect.top + ((_a = win === null || win === void 0 ? void 0 : win.scrollY) !== null && _a !== void 0 ? _a : 0) - docElem.clientTop,\n        left: clientRect.left + ((_b = win === null || win === void 0 ? void 0 : win.scrollX) !== null && _b !== void 0 ? _b : 0) - docElem.clientLeft\n      };\n    };\n    const getBodyPosition = editor => editor.inline ? getAbsolutePosition(editor.getBody()) : {\n      left: 0,\n      top: 0\n    };\n    const getScrollPosition = editor => {\n      const body = editor.getBody();\n      return editor.inline ? {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      } : {\n        left: 0,\n        top: 0\n      };\n    };\n    const getBodyScroll = editor => {\n      const body = editor.getBody(), docElm = editor.getDoc().documentElement;\n      const inlineScroll = {\n        left: body.scrollLeft,\n        top: body.scrollTop\n      };\n      const iframeScroll = {\n        left: body.scrollLeft || docElm.scrollLeft,\n        top: body.scrollTop || docElm.scrollTop\n      };\n      return editor.inline ? inlineScroll : iframeScroll;\n    };\n    const getMousePosition = (editor, event) => {\n      if (event.target.ownerDocument !== editor.getDoc()) {\n        const iframePosition = getAbsolutePosition(editor.getContentAreaContainer());\n        const scrollPosition = getBodyScroll(editor);\n        return {\n          left: event.pageX - iframePosition.left + scrollPosition.left,\n          top: event.pageY - iframePosition.top + scrollPosition.top\n        };\n      }\n      return {\n        left: event.pageX,\n        top: event.pageY\n      };\n    };\n    const calculatePosition = (bodyPosition, scrollPosition, mousePosition) => ({\n      pageX: mousePosition.left - bodyPosition.left + scrollPosition.left,\n      pageY: mousePosition.top - bodyPosition.top + scrollPosition.top\n    });\n    const calc = (editor, event) => calculatePosition(getBodyPosition(editor), getScrollPosition(editor), getMousePosition(editor, event));\n\n    const scrollPixelsPerInterval = 32;\n    const scrollIntervalValue = 100;\n    const mouseRangeToTriggerScrollInsideEditor = 8;\n    const mouseRangeToTriggerScrollOutsideEditor = 16;\n    const isContentEditableFalse$1 = isContentEditableFalse$a;\n    const isContentEditable = or(isContentEditableFalse$1, isContentEditableTrue$3);\n    const isDraggable = (rootElm, elm) => isContentEditableFalse$1(elm) && elm !== rootElm;\n    const isValidDropTarget = (editor, targetElement, dragElement) => {\n      if (isNullable(targetElement)) {\n        return false;\n      } else if (targetElement === dragElement || editor.dom.isChildOf(targetElement, dragElement)) {\n        return false;\n      } else {\n        return !isContentEditableFalse$1(targetElement);\n      }\n    };\n    const cloneElement = elm => {\n      const cloneElm = elm.cloneNode(true);\n      cloneElm.removeAttribute('data-mce-selected');\n      return cloneElm;\n    };\n    const createGhost = (editor, elm, width, height) => {\n      const dom = editor.dom;\n      const clonedElm = elm.cloneNode(true);\n      dom.setStyles(clonedElm, {\n        width,\n        height\n      });\n      dom.setAttrib(clonedElm, 'data-mce-selected', null);\n      const ghostElm = dom.create('div', {\n        'class': 'mce-drag-container',\n        'data-mce-bogus': 'all',\n        'unselectable': 'on',\n        'contenteditable': 'false'\n      });\n      dom.setStyles(ghostElm, {\n        position: 'absolute',\n        opacity: 0.5,\n        overflow: 'hidden',\n        border: 0,\n        padding: 0,\n        margin: 0,\n        width,\n        height\n      });\n      dom.setStyles(clonedElm, {\n        margin: 0,\n        boxSizing: 'border-box'\n      });\n      ghostElm.appendChild(clonedElm);\n      return ghostElm;\n    };\n    const appendGhostToBody = (ghostElm, bodyElm) => {\n      if (ghostElm.parentNode !== bodyElm) {\n        bodyElm.appendChild(ghostElm);\n      }\n    };\n    const scrollEditor = (direction, amount) => win => () => {\n      const current = direction === 'left' ? win.scrollX : win.scrollY;\n      win.scroll({\n        [direction]: current + amount,\n        behavior: 'smooth'\n      });\n    };\n    const scrollLeft = scrollEditor('left', -scrollPixelsPerInterval);\n    const scrollRight = scrollEditor('left', scrollPixelsPerInterval);\n    const scrollUp = scrollEditor('top', -scrollPixelsPerInterval);\n    const scrollDown = scrollEditor('top', scrollPixelsPerInterval);\n    const moveGhost = (ghostElm, position, width, height, maxX, maxY, mouseY, mouseX, contentAreaContainer, win, state, mouseEventOriginatedFromWithinTheEditor) => {\n      let overflowX = 0, overflowY = 0;\n      ghostElm.style.left = position.pageX + 'px';\n      ghostElm.style.top = position.pageY + 'px';\n      if (position.pageX + width > maxX) {\n        overflowX = position.pageX + width - maxX;\n      }\n      if (position.pageY + height > maxY) {\n        overflowY = position.pageY + height - maxY;\n      }\n      ghostElm.style.width = width - overflowX + 'px';\n      ghostElm.style.height = height - overflowY + 'px';\n      const clientHeight = contentAreaContainer.clientHeight;\n      const clientWidth = contentAreaContainer.clientWidth;\n      const outerMouseY = mouseY + contentAreaContainer.getBoundingClientRect().top;\n      const outerMouseX = mouseX + contentAreaContainer.getBoundingClientRect().left;\n      state.on(state => {\n        state.intervalId.clear();\n        if (state.dragging && mouseEventOriginatedFromWithinTheEditor) {\n          if (mouseY + mouseRangeToTriggerScrollInsideEditor >= clientHeight) {\n            state.intervalId.set(scrollDown(win));\n          } else if (mouseY - mouseRangeToTriggerScrollInsideEditor <= 0) {\n            state.intervalId.set(scrollUp(win));\n          } else if (mouseX + mouseRangeToTriggerScrollInsideEditor >= clientWidth) {\n            state.intervalId.set(scrollRight(win));\n          } else if (mouseX - mouseRangeToTriggerScrollInsideEditor <= 0) {\n            state.intervalId.set(scrollLeft(win));\n          } else if (outerMouseY + mouseRangeToTriggerScrollOutsideEditor >= window.innerHeight) {\n            state.intervalId.set(scrollDown(window));\n          } else if (outerMouseY - mouseRangeToTriggerScrollOutsideEditor <= 0) {\n            state.intervalId.set(scrollUp(window));\n          } else if (outerMouseX + mouseRangeToTriggerScrollOutsideEditor >= window.innerWidth) {\n            state.intervalId.set(scrollRight(window));\n          } else if (outerMouseX - mouseRangeToTriggerScrollOutsideEditor <= 0) {\n            state.intervalId.set(scrollLeft(window));\n          }\n        }\n      });\n    };\n    const removeElement = elm => {\n      if (elm && elm.parentNode) {\n        elm.parentNode.removeChild(elm);\n      }\n    };\n    const isLeftMouseButtonPressed = e => e.button === 0;\n    const applyRelPos = (state, position) => ({\n      pageX: position.pageX - state.relX,\n      pageY: position.pageY + 5\n    });\n    const start = (state, editor) => e => {\n      if (isLeftMouseButtonPressed(e)) {\n        const ceElm = find$2(editor.dom.getParents(e.target), isContentEditable).getOr(null);\n        if (isNonNullable(ceElm) && isDraggable(editor.getBody(), ceElm)) {\n          const elmPos = editor.dom.getPos(ceElm);\n          const bodyElm = editor.getBody();\n          const docElm = editor.getDoc().documentElement;\n          state.set({\n            element: ceElm,\n            dragging: false,\n            screenX: e.screenX,\n            screenY: e.screenY,\n            maxX: (editor.inline ? bodyElm.scrollWidth : docElm.offsetWidth) - 2,\n            maxY: (editor.inline ? bodyElm.scrollHeight : docElm.offsetHeight) - 2,\n            relX: e.pageX - elmPos.x,\n            relY: e.pageY - elmPos.y,\n            width: ceElm.offsetWidth,\n            height: ceElm.offsetHeight,\n            ghost: createGhost(editor, ceElm, ceElm.offsetWidth, ceElm.offsetHeight),\n            intervalId: repeatable(scrollIntervalValue)\n          });\n        }\n      }\n    };\n    const move = (state, editor) => {\n      const throttledPlaceCaretAt = first$1((clientX, clientY) => {\n        editor._selectionOverrides.hideFakeCaret();\n        closestFakeCaretCandidate(editor.getBody(), clientX, clientY).fold(() => editor.selection.placeCaretAt(clientX, clientY), caretInfo => {\n          const range = editor._selectionOverrides.showCaret(1, caretInfo.node, caretInfo.position === FakeCaretPosition.Before, false);\n          if (range) {\n            editor.selection.setRng(range);\n          } else {\n            editor.selection.placeCaretAt(clientX, clientY);\n          }\n        });\n      }, 0);\n      editor.on('remove', throttledPlaceCaretAt.cancel);\n      const state_ = state;\n      return e => state.on(state => {\n        const movement = Math.max(Math.abs(e.screenX - state.screenX), Math.abs(e.screenY - state.screenY));\n        if (!state.dragging && movement > 10) {\n          const args = editor.dispatch('dragstart', { target: state.element });\n          if (args.isDefaultPrevented()) {\n            return;\n          }\n          state.dragging = true;\n          editor.focus();\n        }\n        if (state.dragging) {\n          const mouseEventOriginatedFromWithinTheEditor = e.currentTarget === editor.getDoc().documentElement;\n          const targetPos = applyRelPos(state, calc(editor, e));\n          appendGhostToBody(state.ghost, editor.getBody());\n          moveGhost(state.ghost, targetPos, state.width, state.height, state.maxX, state.maxY, e.clientY, e.clientX, editor.getContentAreaContainer(), editor.getWin(), state_, mouseEventOriginatedFromWithinTheEditor);\n          throttledPlaceCaretAt.throttle(e.clientX, e.clientY);\n        }\n      });\n    };\n    const getRawTarget = selection => {\n      const sel = selection.getSel();\n      if (isNonNullable(sel)) {\n        const rng = sel.getRangeAt(0);\n        const startContainer = rng.startContainer;\n        return isText$a(startContainer) ? startContainer.parentNode : startContainer;\n      } else {\n        return null;\n      }\n    };\n    const drop = (state, editor) => e => {\n      state.on(state => {\n        state.intervalId.clear();\n        if (state.dragging) {\n          if (isValidDropTarget(editor, getRawTarget(editor.selection), state.element)) {\n            const targetClone = cloneElement(state.element);\n            const args = editor.dispatch('drop', {\n              clientX: e.clientX,\n              clientY: e.clientY\n            });\n            if (!args.isDefaultPrevented()) {\n              editor.undoManager.transact(() => {\n                removeElement(state.element);\n                editor.insertContent(editor.dom.getOuterHTML(targetClone));\n                editor._selectionOverrides.hideFakeCaret();\n              });\n            }\n          }\n          editor.dispatch('dragend');\n        }\n      });\n      removeDragState(state);\n    };\n    const stop = (state, editor) => () => {\n      state.on(state => {\n        state.intervalId.clear();\n        if (state.dragging) {\n          editor.dispatch('dragend');\n        }\n      });\n      removeDragState(state);\n    };\n    const removeDragState = state => {\n      state.on(state => {\n        state.intervalId.clear();\n        removeElement(state.ghost);\n      });\n      state.clear();\n    };\n    const bindFakeDragEvents = editor => {\n      const state = value$2();\n      const pageDom = DOMUtils.DOM;\n      const rootDocument = document;\n      const dragStartHandler = start(state, editor);\n      const dragHandler = move(state, editor);\n      const dropHandler = drop(state, editor);\n      const dragEndHandler = stop(state, editor);\n      editor.on('mousedown', dragStartHandler);\n      editor.on('mousemove', dragHandler);\n      editor.on('mouseup', dropHandler);\n      pageDom.bind(rootDocument, 'mousemove', dragHandler);\n      pageDom.bind(rootDocument, 'mouseup', dragEndHandler);\n      editor.on('remove', () => {\n        pageDom.unbind(rootDocument, 'mousemove', dragHandler);\n        pageDom.unbind(rootDocument, 'mouseup', dragEndHandler);\n      });\n      editor.on('keydown', e => {\n        if (e.keyCode === VK.ESC) {\n          dragEndHandler();\n        }\n      });\n    };\n    const blockUnsupportedFileDrop = editor => {\n      const preventFileDrop = e => {\n        if (!e.isDefaultPrevented()) {\n          const dataTransfer = e.dataTransfer;\n          if (dataTransfer && (contains$2(dataTransfer.types, 'Files') || dataTransfer.files.length > 0)) {\n            e.preventDefault();\n            if (e.type === 'drop') {\n              displayError(editor, 'Dropped file type is not supported');\n            }\n          }\n        }\n      };\n      const preventFileDropIfUIElement = e => {\n        if (isUIElement(editor, e.target)) {\n          preventFileDrop(e);\n        }\n      };\n      const setup = () => {\n        const pageDom = DOMUtils.DOM;\n        const dom = editor.dom;\n        const doc = document;\n        const editorRoot = editor.inline ? editor.getBody() : editor.getDoc();\n        const eventNames = [\n          'drop',\n          'dragover'\n        ];\n        each$e(eventNames, name => {\n          pageDom.bind(doc, name, preventFileDropIfUIElement);\n          dom.bind(editorRoot, name, preventFileDrop);\n        });\n        editor.on('remove', () => {\n          each$e(eventNames, name => {\n            pageDom.unbind(doc, name, preventFileDropIfUIElement);\n            dom.unbind(editorRoot, name, preventFileDrop);\n          });\n        });\n      };\n      editor.on('init', () => {\n        Delay.setEditorTimeout(editor, setup, 0);\n      });\n    };\n    const init$2 = editor => {\n      bindFakeDragEvents(editor);\n      if (shouldBlockUnsupportedDrop(editor)) {\n        blockUnsupportedFileDrop(editor);\n      }\n    };\n\n    const setup$4 = editor => {\n      const renderFocusCaret = first$1(() => {\n        if (!editor.removed && editor.getBody().contains(document.activeElement)) {\n          const rng = editor.selection.getRng();\n          if (rng.collapsed) {\n            const caretRange = renderRangeCaret(editor, rng, false);\n            editor.selection.setRng(caretRange);\n          }\n        }\n      }, 0);\n      editor.on('focus', () => {\n        renderFocusCaret.throttle();\n      });\n      editor.on('blur', () => {\n        renderFocusCaret.cancel();\n      });\n    };\n\n    const setup$3 = editor => {\n      editor.on('init', () => {\n        editor.on('focusin', e => {\n          const target = e.target;\n          if (isMedia$2(target)) {\n            const ceRoot = getContentEditableRoot$1(editor.getBody(), target);\n            const node = isContentEditableFalse$a(ceRoot) ? ceRoot : target;\n            if (editor.selection.getNode() !== node) {\n              selectNode(editor, node).each(rng => editor.selection.setRng(rng));\n            }\n          }\n        });\n      });\n    };\n\n    const isContentEditableFalse = isContentEditableFalse$a;\n    const getContentEditableRoot = (editor, node) => getContentEditableRoot$1(editor.getBody(), node);\n    const SelectionOverrides = editor => {\n      const selection = editor.selection, dom = editor.dom;\n      const rootNode = editor.getBody();\n      const fakeCaret = FakeCaret(editor, rootNode, dom.isBlock, () => hasFocus(editor));\n      const realSelectionId = 'sel-' + dom.uniqueId();\n      const elementSelectionAttr = 'data-mce-selected';\n      let selectedElement;\n      const isFakeSelectionElement = node => isNonNullable(node) && dom.hasClass(node, 'mce-offscreen-selection');\n      const isFakeSelectionTargetElement = node => node !== rootNode && (isContentEditableFalse(node) || isMedia$2(node)) && dom.isChildOf(node, rootNode);\n      const setRange = range => {\n        if (range) {\n          selection.setRng(range);\n        }\n      };\n      const showCaret = (direction, node, before, scrollIntoView = true) => {\n        const e = editor.dispatch('ShowCaret', {\n          target: node,\n          direction,\n          before\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        if (scrollIntoView) {\n          selection.scrollIntoView(node, direction === -1);\n        }\n        return fakeCaret.show(before, node);\n      };\n      const showBlockCaretContainer = blockCaretContainer => {\n        if (blockCaretContainer.hasAttribute('data-mce-caret')) {\n          showCaretContainerBlock(blockCaretContainer);\n          selection.scrollIntoView(blockCaretContainer);\n        }\n      };\n      const registerEvents = () => {\n        editor.on('click', e => {\n          const contentEditableRoot = getContentEditableRoot(editor, e.target);\n          if (contentEditableRoot) {\n            if (isContentEditableFalse(contentEditableRoot)) {\n              e.preventDefault();\n              editor.focus();\n            }\n          }\n        });\n        editor.on('blur NewBlock', removeElementSelection);\n        editor.on('ResizeWindow FullscreenStateChanged', fakeCaret.reposition);\n        editor.on('tap', e => {\n          const targetElm = e.target;\n          const contentEditableRoot = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(contentEditableRoot)) {\n            e.preventDefault();\n            selectNode(editor, contentEditableRoot).each(setElementSelection);\n          } else if (isFakeSelectionTargetElement(targetElm)) {\n            selectNode(editor, targetElm).each(setElementSelection);\n          }\n        }, true);\n        editor.on('mousedown', e => {\n          const targetElm = e.target;\n          if (targetElm !== rootNode && targetElm.nodeName !== 'HTML' && !dom.isChildOf(targetElm, rootNode)) {\n            return;\n          }\n          if (!isXYInContentArea(editor, e.clientX, e.clientY)) {\n            return;\n          }\n          removeElementSelection();\n          hideFakeCaret();\n          const closestContentEditable = getContentEditableRoot(editor, targetElm);\n          if (isContentEditableFalse(closestContentEditable)) {\n            e.preventDefault();\n            selectNode(editor, closestContentEditable).each(setElementSelection);\n          } else {\n            closestFakeCaretCandidate(rootNode, e.clientX, e.clientY).each(caretInfo => {\n              e.preventDefault();\n              const range = showCaret(1, caretInfo.node, caretInfo.position === FakeCaretPosition.Before, false);\n              setRange(range);\n              if (isElement$6(closestContentEditable)) {\n                closestContentEditable.focus();\n              } else {\n                editor.getBody().focus();\n              }\n            });\n          }\n        });\n        editor.on('keypress', e => {\n          if (VK.modifierPressed(e)) {\n            return;\n          }\n          if (isContentEditableFalse(selection.getNode())) {\n            e.preventDefault();\n          }\n        });\n        editor.on('GetSelectionRange', e => {\n          let rng = e.range;\n          if (selectedElement) {\n            if (!selectedElement.parentNode) {\n              selectedElement = null;\n              return;\n            }\n            rng = rng.cloneRange();\n            rng.selectNode(selectedElement);\n            e.range = rng;\n          }\n        });\n        editor.on('SetSelectionRange', e => {\n          e.range = normalizeVoidElementSelection(e.range);\n          const rng = setElementSelection(e.range, e.forward);\n          if (rng) {\n            e.range = rng;\n          }\n        });\n        const isPasteBin = node => isElement$6(node) && node.id === 'mcepastebin';\n        editor.on('AfterSetSelectionRange', e => {\n          const rng = e.range;\n          const parent = rng.startContainer.parentElement;\n          if (!isRangeInCaretContainer(rng) && !isPasteBin(parent)) {\n            hideFakeCaret();\n          }\n          if (!isFakeSelectionElement(parent)) {\n            removeElementSelection();\n          }\n        });\n        init$2(editor);\n        setup$4(editor);\n        setup$3(editor);\n      };\n      const isWithinCaretContainer = node => isCaretContainer$2(node) || startsWithCaretContainer$1(node) || endsWithCaretContainer$1(node);\n      const isRangeInCaretContainer = rng => isWithinCaretContainer(rng.startContainer) || isWithinCaretContainer(rng.endContainer);\n      const normalizeVoidElementSelection = rng => {\n        const voidElements = editor.schema.getVoidElements();\n        const newRng = dom.createRng();\n        const startContainer = rng.startContainer;\n        const startOffset = rng.startOffset;\n        const endContainer = rng.endContainer;\n        const endOffset = rng.endOffset;\n        if (has$2(voidElements, startContainer.nodeName.toLowerCase())) {\n          if (startOffset === 0) {\n            newRng.setStartBefore(startContainer);\n          } else {\n            newRng.setStartAfter(startContainer);\n          }\n        } else {\n          newRng.setStart(startContainer, startOffset);\n        }\n        if (has$2(voidElements, endContainer.nodeName.toLowerCase())) {\n          if (endOffset === 0) {\n            newRng.setEndBefore(endContainer);\n          } else {\n            newRng.setEndAfter(endContainer);\n          }\n        } else {\n          newRng.setEnd(endContainer, endOffset);\n        }\n        return newRng;\n      };\n      const setupOffscreenSelection = (node, targetClone) => {\n        const body = SugarElement.fromDom(editor.getBody());\n        const doc = editor.getDoc();\n        const realSelectionContainer = descendant(body, '#' + realSelectionId).getOrThunk(() => {\n          const newContainer = SugarElement.fromHtml('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>', doc);\n          set$2(newContainer, 'id', realSelectionId);\n          append$1(body, newContainer);\n          return newContainer;\n        });\n        const newRange = dom.createRng();\n        empty(realSelectionContainer);\n        append(realSelectionContainer, [\n          SugarElement.fromText(nbsp, doc),\n          SugarElement.fromDom(targetClone),\n          SugarElement.fromText(nbsp, doc)\n        ]);\n        newRange.setStart(realSelectionContainer.dom.firstChild, 1);\n        newRange.setEnd(realSelectionContainer.dom.lastChild, 0);\n        setAll(realSelectionContainer, { top: dom.getPos(node, editor.getBody()).y + 'px' });\n        focus$1(realSelectionContainer);\n        const sel = selection.getSel();\n        if (sel) {\n          sel.removeAllRanges();\n          sel.addRange(newRange);\n        }\n        return newRange;\n      };\n      const selectElement = elm => {\n        const targetClone = elm.cloneNode(true);\n        const e = editor.dispatch('ObjectSelected', {\n          target: elm,\n          targetClone\n        });\n        if (e.isDefaultPrevented()) {\n          return null;\n        }\n        const range = setupOffscreenSelection(elm, e.targetClone);\n        const nodeElm = SugarElement.fromDom(elm);\n        each$e(descendants(SugarElement.fromDom(editor.getBody()), `*[${ elementSelectionAttr }]`), elm => {\n          if (!eq(nodeElm, elm)) {\n            remove$b(elm, elementSelectionAttr);\n          }\n        });\n        if (!dom.getAttrib(elm, elementSelectionAttr)) {\n          elm.setAttribute(elementSelectionAttr, '1');\n        }\n        selectedElement = elm;\n        hideFakeCaret();\n        return range;\n      };\n      const setElementSelection = (range, forward) => {\n        if (!range) {\n          return null;\n        }\n        if (range.collapsed) {\n          if (!isRangeInCaretContainer(range)) {\n            const dir = forward ? 1 : -1;\n            const caretPosition = getNormalizedRangeEndPoint(dir, rootNode, range);\n            const beforeNode = caretPosition.getNode(!forward);\n            if (isNonNullable(beforeNode)) {\n              if (isFakeCaretTarget(beforeNode)) {\n                return showCaret(dir, beforeNode, forward ? !caretPosition.isAtEnd() : false, false);\n              }\n              if (isCaretContainerInline(beforeNode) && isContentEditableFalse$a(beforeNode.nextSibling)) {\n                const rng = dom.createRng();\n                rng.setStart(beforeNode, 0);\n                rng.setEnd(beforeNode, 0);\n                return rng;\n              }\n            }\n            const afterNode = caretPosition.getNode(forward);\n            if (isNonNullable(afterNode)) {\n              if (isFakeCaretTarget(afterNode)) {\n                return showCaret(dir, afterNode, forward ? false : !caretPosition.isAtEnd(), false);\n              }\n              if (isCaretContainerInline(afterNode) && isContentEditableFalse$a(afterNode.previousSibling)) {\n                const rng = dom.createRng();\n                rng.setStart(afterNode, 1);\n                rng.setEnd(afterNode, 1);\n                return rng;\n              }\n            }\n          }\n          return null;\n        }\n        let startContainer = range.startContainer;\n        let startOffset = range.startOffset;\n        const endOffset = range.endOffset;\n        if (isText$a(startContainer) && startOffset === 0 && isContentEditableFalse(startContainer.parentNode)) {\n          startContainer = startContainer.parentNode;\n          startOffset = dom.nodeIndex(startContainer);\n          startContainer = startContainer.parentNode;\n        }\n        if (!isElement$6(startContainer)) {\n          return null;\n        }\n        if (endOffset === startOffset + 1 && startContainer === range.endContainer) {\n          const node = startContainer.childNodes[startOffset];\n          if (isFakeSelectionTargetElement(node)) {\n            return selectElement(node);\n          }\n        }\n        return null;\n      };\n      const removeElementSelection = () => {\n        if (selectedElement) {\n          selectedElement.removeAttribute(elementSelectionAttr);\n        }\n        descendant(SugarElement.fromDom(editor.getBody()), '#' + realSelectionId).each(remove$6);\n        selectedElement = null;\n      };\n      const destroy = () => {\n        fakeCaret.destroy();\n        selectedElement = null;\n      };\n      const hideFakeCaret = () => {\n        fakeCaret.hide();\n      };\n      if (!isRtc(editor)) {\n        registerEvents();\n      }\n      return {\n        showCaret,\n        showBlockCaretContainer,\n        hideFakeCaret,\n        destroy\n      };\n    };\n\n    const getNormalizedTextOffset = (container, offset) => {\n      let normalizedOffset = offset;\n      for (let node = container.previousSibling; isText$a(node); node = node.previousSibling) {\n        normalizedOffset += node.data.length;\n      }\n      return normalizedOffset;\n    };\n    const generatePath = (dom, root, node, offset, normalized) => {\n      if (isText$a(node) && (offset < 0 || offset > node.data.length)) {\n        return [];\n      }\n      const p = normalized && isText$a(node) ? [getNormalizedTextOffset(node, offset)] : [offset];\n      let current = node;\n      while (current !== root && current.parentNode) {\n        p.push(dom.nodeIndex(current, normalized));\n        current = current.parentNode;\n      }\n      return current === root ? p.reverse() : [];\n    };\n    const generatePathRange = (dom, root, startNode, startOffset, endNode, endOffset, normalized = false) => {\n      const start = generatePath(dom, root, startNode, startOffset, normalized);\n      const end = generatePath(dom, root, endNode, endOffset, normalized);\n      return {\n        start,\n        end\n      };\n    };\n    const resolvePath = (root, path) => {\n      const nodePath = path.slice();\n      const offset = nodePath.pop();\n      if (!isNumber(offset)) {\n        return Optional.none();\n      } else {\n        const resolvedNode = foldl(nodePath, (optNode, index) => optNode.bind(node => Optional.from(node.childNodes[index])), Optional.some(root));\n        return resolvedNode.bind(node => {\n          if (isText$a(node) && (offset < 0 || offset > node.data.length)) {\n            return Optional.none();\n          } else {\n            return Optional.some({\n              node,\n              offset\n            });\n          }\n        });\n      }\n    };\n    const resolvePathRange = (root, range) => resolvePath(root, range.start).bind(({\n      node: startNode,\n      offset: startOffset\n    }) => resolvePath(root, range.end).map(({\n      node: endNode,\n      offset: endOffset\n    }) => {\n      const rng = document.createRange();\n      rng.setStart(startNode, startOffset);\n      rng.setEnd(endNode, endOffset);\n      return rng;\n    }));\n    const generatePathRangeFromRange = (dom, root, range, normalized = false) => generatePathRange(dom, root, range.startContainer, range.startOffset, range.endContainer, range.endOffset, normalized);\n\n    const cleanEmptyNodes = (dom, node, isRoot) => {\n      if (node && dom.isEmpty(node) && !isRoot(node)) {\n        const parent = node.parentNode;\n        dom.remove(node);\n        cleanEmptyNodes(dom, parent, isRoot);\n      }\n    };\n    const deleteRng = (dom, rng, isRoot, clean = true) => {\n      const startParent = rng.startContainer.parentNode;\n      const endParent = rng.endContainer.parentNode;\n      rng.deleteContents();\n      if (clean && !isRoot(rng.startContainer)) {\n        if (isText$a(rng.startContainer) && rng.startContainer.data.length === 0) {\n          dom.remove(rng.startContainer);\n        }\n        if (isText$a(rng.endContainer) && rng.endContainer.data.length === 0) {\n          dom.remove(rng.endContainer);\n        }\n        cleanEmptyNodes(dom, startParent, isRoot);\n        if (startParent !== endParent) {\n          cleanEmptyNodes(dom, endParent, isRoot);\n        }\n      }\n    };\n    const getParentBlock = (editor, rng) => Optional.from(editor.dom.getParent(rng.startContainer, editor.dom.isBlock));\n    const resolveFromDynamicPatterns = (patternSet, block, beforeText) => {\n      const dynamicPatterns = patternSet.dynamicPatternsLookup({\n        text: beforeText,\n        block\n      });\n      return {\n        ...patternSet,\n        blockPatterns: getBlockPatterns(dynamicPatterns).concat(patternSet.blockPatterns),\n        inlinePatterns: getInlinePatterns(dynamicPatterns).concat(patternSet.inlinePatterns)\n      };\n    };\n    const getBeforeText = (dom, block, node, offset) => {\n      const rng = dom.createRng();\n      rng.setStart(block, 0);\n      rng.setEnd(node, offset);\n      return rng.toString();\n    };\n\n    const stripPattern = (dom, block, pattern) => {\n      const firstTextNode = textAfter(block, 0, block);\n      firstTextNode.each(spot => {\n        const node = spot.container;\n        scanRight(node, pattern.start.length, block).each(end => {\n          const rng = dom.createRng();\n          rng.setStart(node, 0);\n          rng.setEnd(end.container, end.offset);\n          deleteRng(dom, rng, e => e === block);\n        });\n      });\n    };\n    const applyPattern$1 = (editor, match) => {\n      const dom = editor.dom;\n      const pattern = match.pattern;\n      const rng = resolvePathRange(dom.getRoot(), match.range).getOrDie('Unable to resolve path range');\n      const isBlockFormatName = (name, formatter) => {\n        const formatSet = formatter.get(name);\n        return isArray$1(formatSet) && head(formatSet).exists(format => has$2(format, 'block'));\n      };\n      getParentBlock(editor, rng).each(block => {\n        if (pattern.type === 'block-format') {\n          if (isBlockFormatName(pattern.format, editor.formatter)) {\n            editor.undoManager.transact(() => {\n              stripPattern(editor.dom, block, pattern);\n              editor.formatter.apply(pattern.format);\n            });\n          }\n        } else if (pattern.type === 'block-command') {\n          editor.undoManager.transact(() => {\n            stripPattern(editor.dom, block, pattern);\n            editor.execCommand(pattern.cmd, false, pattern.value);\n          });\n        }\n      });\n      return true;\n    };\n    const sortPatterns$1 = patterns => sort(patterns, (a, b) => b.start.length - a.start.length);\n    const findPattern$1 = (patterns, text) => {\n      const sortedPatterns = sortPatterns$1(patterns);\n      const nuText = text.replace(nbsp, ' ');\n      return find$2(sortedPatterns, pattern => text.indexOf(pattern.start) === 0 || nuText.indexOf(pattern.start) === 0);\n    };\n    const findPatterns$1 = (editor, block, patternSet, normalizedMatches) => {\n      var _a;\n      const dom = editor.dom;\n      const forcedRootBlock = getForcedRootBlock(editor);\n      if (!dom.is(block, forcedRootBlock)) {\n        return [];\n      }\n      const blockText = (_a = block.textContent) !== null && _a !== void 0 ? _a : '';\n      return findPattern$1(patternSet.blockPatterns, blockText).map(pattern => {\n        if (Tools.trim(blockText).length === pattern.start.length) {\n          return [];\n        }\n        return [{\n            pattern,\n            range: generatePathRange(dom, dom.getRoot(), block, 0, block, 0, normalizedMatches)\n          }];\n      }).getOr([]);\n    };\n    const applyMatches$1 = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const bookmark = editor.selection.getBookmark();\n      each$e(matches, match => applyPattern$1(editor, match));\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const newMarker = (dom, id) => dom.create('span', {\n      'data-mce-type': 'bookmark',\n      id\n    });\n    const rangeFromMarker = (dom, marker) => {\n      const rng = dom.createRng();\n      rng.setStartAfter(marker.start);\n      rng.setEndBefore(marker.end);\n      return rng;\n    };\n    const createMarker = (dom, markerPrefix, pathRange) => {\n      const rng = resolvePathRange(dom.getRoot(), pathRange).getOrDie('Unable to resolve path range');\n      const startNode = rng.startContainer;\n      const endNode = rng.endContainer;\n      const textEnd = rng.endOffset === 0 ? endNode : endNode.splitText(rng.endOffset);\n      const textStart = rng.startOffset === 0 ? startNode : startNode.splitText(rng.startOffset);\n      const startParentNode = textStart.parentNode;\n      const endParentNode = textEnd.parentNode;\n      return {\n        prefix: markerPrefix,\n        end: endParentNode.insertBefore(newMarker(dom, markerPrefix + '-end'), textEnd),\n        start: startParentNode.insertBefore(newMarker(dom, markerPrefix + '-start'), textStart)\n      };\n    };\n    const removeMarker = (dom, marker, isRoot) => {\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-end'), isRoot);\n      cleanEmptyNodes(dom, dom.get(marker.prefix + '-start'), isRoot);\n    };\n\n    const isReplacementPattern = pattern => pattern.start.length === 0;\n    const matchesPattern = patternContent => (element, offset) => {\n      const text = element.data;\n      const searchText = text.substring(0, offset);\n      const startEndIndex = searchText.lastIndexOf(patternContent.charAt(patternContent.length - 1));\n      const startIndex = searchText.lastIndexOf(patternContent);\n      if (startIndex !== -1) {\n        return startIndex + patternContent.length;\n      } else if (startEndIndex !== -1) {\n        return startEndIndex + 1;\n      } else {\n        return -1;\n      }\n    };\n    const findPatternStartFromSpot = (dom, pattern, block, spot) => {\n      const startPattern = pattern.start;\n      const startSpot = repeatLeft(dom, spot.container, spot.offset, matchesPattern(startPattern), block);\n      return startSpot.bind(spot => {\n        var _a, _b;\n        const startPatternIndex = (_b = (_a = block.textContent) === null || _a === void 0 ? void 0 : _a.indexOf(startPattern)) !== null && _b !== void 0 ? _b : -1;\n        const isCompleteMatch = startPatternIndex !== -1 && spot.offset >= startPatternIndex + startPattern.length;\n        if (isCompleteMatch) {\n          const rng = dom.createRng();\n          rng.setStart(spot.container, spot.offset - startPattern.length);\n          rng.setEnd(spot.container, spot.offset);\n          return Optional.some(rng);\n        } else {\n          const offset = spot.offset - startPattern.length;\n          return scanLeft(spot.container, offset, block).map(nextSpot => {\n            const rng = dom.createRng();\n            rng.setStart(nextSpot.container, nextSpot.offset);\n            rng.setEnd(spot.container, spot.offset);\n            return rng;\n          }).filter(rng => rng.toString() === startPattern).orThunk(() => findPatternStartFromSpot(dom, pattern, block, point(spot.container, 0)));\n        }\n      });\n    };\n    const findPatternStart = (dom, pattern, node, offset, block, requireGap = false) => {\n      if (pattern.start.length === 0 && !requireGap) {\n        const rng = dom.createRng();\n        rng.setStart(node, offset);\n        rng.setEnd(node, offset);\n        return Optional.some(rng);\n      }\n      return textBefore(node, offset, block).bind(spot => {\n        const start = findPatternStartFromSpot(dom, pattern, block, spot);\n        return start.bind(startRange => {\n          var _a;\n          if (requireGap) {\n            if (startRange.endContainer === spot.container && startRange.endOffset === spot.offset) {\n              return Optional.none();\n            } else if (spot.offset === 0 && ((_a = startRange.endContainer.textContent) === null || _a === void 0 ? void 0 : _a.length) === startRange.endOffset) {\n              return Optional.none();\n            }\n          }\n          return Optional.some(startRange);\n        });\n      });\n    };\n    const findPattern = (editor, block, details, normalizedMatches) => {\n      const dom = editor.dom;\n      const root = dom.getRoot();\n      const pattern = details.pattern;\n      const endNode = details.position.container;\n      const endOffset = details.position.offset;\n      return scanLeft(endNode, endOffset - details.pattern.end.length, block).bind(spot => {\n        const endPathRng = generatePathRange(dom, root, spot.container, spot.offset, endNode, endOffset, normalizedMatches);\n        if (isReplacementPattern(pattern)) {\n          return Optional.some({\n            matches: [{\n                pattern,\n                startRng: endPathRng,\n                endRng: endPathRng\n              }],\n            position: spot\n          });\n        } else {\n          const resultsOpt = findPatternsRec(editor, details.remainingPatterns, spot.container, spot.offset, block, normalizedMatches);\n          const results = resultsOpt.getOr({\n            matches: [],\n            position: spot\n          });\n          const pos = results.position;\n          const start = findPatternStart(dom, pattern, pos.container, pos.offset, block, resultsOpt.isNone());\n          return start.map(startRng => {\n            const startPathRng = generatePathRangeFromRange(dom, root, startRng, normalizedMatches);\n            return {\n              matches: results.matches.concat([{\n                  pattern,\n                  startRng: startPathRng,\n                  endRng: endPathRng\n                }]),\n              position: point(startRng.startContainer, startRng.startOffset)\n            };\n          });\n        }\n      });\n    };\n    const findPatternsRec = (editor, patterns, node, offset, block, normalizedMatches) => {\n      const dom = editor.dom;\n      return textBefore(node, offset, dom.getRoot()).bind(endSpot => {\n        const text = getBeforeText(dom, block, node, offset);\n        for (let i = 0; i < patterns.length; i++) {\n          const pattern = patterns[i];\n          if (!endsWith(text, pattern.end)) {\n            continue;\n          }\n          const patternsWithoutCurrent = patterns.slice();\n          patternsWithoutCurrent.splice(i, 1);\n          const result = findPattern(editor, block, {\n            pattern,\n            remainingPatterns: patternsWithoutCurrent,\n            position: endSpot\n          }, normalizedMatches);\n          if (result.isNone() && offset > 0) {\n            return findPatternsRec(editor, patterns, node, offset - 1, block, normalizedMatches);\n          }\n          if (result.isSome()) {\n            return result;\n          }\n        }\n        return Optional.none();\n      });\n    };\n    const applyPattern = (editor, pattern, patternRange) => {\n      editor.selection.setRng(patternRange);\n      if (pattern.type === 'inline-format') {\n        each$e(pattern.format, format => {\n          editor.formatter.apply(format);\n        });\n      } else {\n        editor.execCommand(pattern.cmd, false, pattern.value);\n      }\n    };\n    const applyReplacementPattern = (editor, pattern, marker, isRoot) => {\n      const markerRange = rangeFromMarker(editor.dom, marker);\n      deleteRng(editor.dom, markerRange, isRoot);\n      applyPattern(editor, pattern, markerRange);\n    };\n    const applyPatternWithContent = (editor, pattern, startMarker, endMarker, isRoot) => {\n      const dom = editor.dom;\n      const markerEndRange = rangeFromMarker(dom, endMarker);\n      const markerStartRange = rangeFromMarker(dom, startMarker);\n      deleteRng(dom, markerStartRange, isRoot);\n      deleteRng(dom, markerEndRange, isRoot);\n      const patternMarker = {\n        prefix: startMarker.prefix,\n        start: startMarker.end,\n        end: endMarker.start\n      };\n      const patternRange = rangeFromMarker(dom, patternMarker);\n      applyPattern(editor, pattern, patternRange);\n    };\n    const addMarkers = (dom, matches) => {\n      const markerPrefix = generate$1('mce_textpattern');\n      const matchesWithEnds = foldr(matches, (acc, match) => {\n        const endMarker = createMarker(dom, markerPrefix + `_end${ acc.length }`, match.endRng);\n        return acc.concat([{\n            ...match,\n            endMarker\n          }]);\n      }, []);\n      return foldr(matchesWithEnds, (acc, match) => {\n        const idx = matchesWithEnds.length - acc.length - 1;\n        const startMarker = isReplacementPattern(match.pattern) ? match.endMarker : createMarker(dom, markerPrefix + `_start${ idx }`, match.startRng);\n        return acc.concat([{\n            ...match,\n            startMarker\n          }]);\n      }, []);\n    };\n    const sortPatterns = patterns => sort(patterns, (a, b) => b.end.length - a.end.length);\n    const getBestMatches = (matches, matchesWithSortedPatterns) => {\n      const hasSameMatches = forall(matches, match => exists(matchesWithSortedPatterns, sortedMatch => match.pattern.start === sortedMatch.pattern.start && match.pattern.end === sortedMatch.pattern.end));\n      if (matches.length === matchesWithSortedPatterns.length) {\n        if (hasSameMatches) {\n          return matches;\n        } else {\n          return matchesWithSortedPatterns;\n        }\n      }\n      return matches.length > matchesWithSortedPatterns.length ? matches : matchesWithSortedPatterns;\n    };\n    const findPatterns = (editor, block, node, offset, patternSet, normalizedMatches) => {\n      const matches = findPatternsRec(editor, patternSet.inlinePatterns, node, offset, block, normalizedMatches).fold(() => [], result => result.matches);\n      const matchesWithSortedPatterns = findPatternsRec(editor, sortPatterns(patternSet.inlinePatterns), node, offset, block, normalizedMatches).fold(() => [], result => result.matches);\n      return getBestMatches(matches, matchesWithSortedPatterns);\n    };\n    const applyMatches = (editor, matches) => {\n      if (matches.length === 0) {\n        return;\n      }\n      const dom = editor.dom;\n      const bookmark = editor.selection.getBookmark();\n      const matchesWithMarkers = addMarkers(dom, matches);\n      each$e(matchesWithMarkers, match => {\n        const block = dom.getParent(match.startMarker.start, dom.isBlock);\n        const isRoot = node => node === block;\n        if (isReplacementPattern(match.pattern)) {\n          applyReplacementPattern(editor, match.pattern, match.endMarker, isRoot);\n        } else {\n          applyPatternWithContent(editor, match.pattern, match.startMarker, match.endMarker, isRoot);\n        }\n        removeMarker(dom, match.endMarker, isRoot);\n        removeMarker(dom, match.startMarker, isRoot);\n      });\n      editor.selection.moveToBookmark(bookmark);\n    };\n\n    const handleEnter = (editor, patternSet) => {\n      const rng = editor.selection.getRng();\n      return getParentBlock(editor, rng).map(block => {\n        var _a;\n        const offset = Math.max(0, rng.startOffset);\n        const dynamicPatternSet = resolveFromDynamicPatterns(patternSet, block, (_a = block.textContent) !== null && _a !== void 0 ? _a : '');\n        const inlineMatches = findPatterns(editor, block, rng.startContainer, offset, dynamicPatternSet, true);\n        const blockMatches = findPatterns$1(editor, block, dynamicPatternSet, true);\n        if (blockMatches.length > 0 || inlineMatches.length > 0) {\n          editor.undoManager.add();\n          editor.undoManager.extra(() => {\n            editor.execCommand('mceInsertNewLine');\n          }, () => {\n            editor.insertContent(zeroWidth);\n            applyMatches(editor, inlineMatches);\n            applyMatches$1(editor, blockMatches);\n            const range = editor.selection.getRng();\n            const spot = textBefore(range.startContainer, range.startOffset, editor.dom.getRoot());\n            editor.execCommand('mceInsertNewLine');\n            spot.each(s => {\n              const node = s.container;\n              if (node.data.charAt(s.offset - 1) === zeroWidth) {\n                node.deleteData(s.offset - 1, 1);\n                cleanEmptyNodes(editor.dom, node.parentNode, e => e === editor.dom.getRoot());\n              }\n            });\n          });\n          return true;\n        }\n        return false;\n      }).getOr(false);\n    };\n    const handleInlineKey = (editor, patternSet) => {\n      const rng = editor.selection.getRng();\n      getParentBlock(editor, rng).map(block => {\n        const offset = Math.max(0, rng.startOffset - 1);\n        const beforeText = getBeforeText(editor.dom, block, rng.startContainer, offset);\n        const dynamicPatternSet = resolveFromDynamicPatterns(patternSet, block, beforeText);\n        const inlineMatches = findPatterns(editor, block, rng.startContainer, offset, dynamicPatternSet, false);\n        if (inlineMatches.length > 0) {\n          editor.undoManager.transact(() => {\n            applyMatches(editor, inlineMatches);\n          });\n        }\n      });\n    };\n    const checkKeyEvent = (codes, event, predicate) => {\n      for (let i = 0; i < codes.length; i++) {\n        if (predicate(codes[i], event)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    const checkKeyCode = (codes, event) => checkKeyEvent(codes, event, (code, event) => {\n      return code === event.keyCode && !VK.modifierPressed(event);\n    });\n    const checkCharCode = (chars, event) => checkKeyEvent(chars, event, (chr, event) => {\n      return chr.charCodeAt(0) === event.charCode;\n    });\n\n    const setup$2 = editor => {\n      const charCodes = [\n        ',',\n        '.',\n        ';',\n        ':',\n        '!',\n        '?'\n      ];\n      const keyCodes = [32];\n      const getPatternSet = () => createPatternSet(getTextPatterns(editor), getTextPatternsLookup(editor));\n      const hasDynamicPatterns = () => hasTextPatternsLookup(editor);\n      editor.on('keydown', e => {\n        if (e.keyCode === 13 && !VK.modifierPressed(e) && editor.selection.isCollapsed()) {\n          const patternSet = getPatternSet();\n          const hasPatterns = patternSet.inlinePatterns.length > 0 || patternSet.blockPatterns.length > 0 || hasDynamicPatterns();\n          if (hasPatterns && handleEnter(editor, patternSet)) {\n            e.preventDefault();\n          }\n        }\n      }, true);\n      const handleInlineTrigger = () => {\n        if (editor.selection.isCollapsed()) {\n          const patternSet = getPatternSet();\n          const hasPatterns = patternSet.inlinePatterns.length > 0 || hasDynamicPatterns();\n          if (hasPatterns) {\n            handleInlineKey(editor, patternSet);\n          }\n        }\n      };\n      editor.on('keyup', e => {\n        if (checkKeyCode(keyCodes, e)) {\n          handleInlineTrigger();\n        }\n      });\n      editor.on('keypress', e => {\n        if (checkCharCode(charCodes, e)) {\n          Delay.setEditorTimeout(editor, handleInlineTrigger);\n        }\n      });\n    };\n\n    const setup$1 = editor => {\n      setup$2(editor);\n    };\n\n    const Quirks = editor => {\n      const each = Tools.each;\n      const BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE, dom = editor.dom, selection = editor.selection, parser = editor.parser;\n      const browser = Env.browser;\n      const isGecko = browser.isFirefox();\n      const isWebKit = browser.isChromium() || browser.isSafari();\n      const isiOS = Env.deviceType.isiPhone() || Env.deviceType.isiPad();\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      const setEditorCommandState = (cmd, state) => {\n        try {\n          editor.getDoc().execCommand(cmd, false, String(state));\n        } catch (ex) {\n        }\n      };\n      const isDefaultPrevented = e => {\n        return e.isDefaultPrevented();\n      };\n      const emptyEditorWhenDeleting = () => {\n        const serializeRng = rng => {\n          const body = dom.create('body');\n          const contents = rng.cloneContents();\n          body.appendChild(contents);\n          return selection.serializer.serialize(body, { format: 'html' });\n        };\n        const allContentsSelected = rng => {\n          const selection = serializeRng(rng);\n          const allRng = dom.createRng();\n          allRng.selectNode(editor.getBody());\n          const allSelection = serializeRng(allRng);\n          return selection === allSelection;\n        };\n        editor.on('keydown', e => {\n          const keyCode = e.keyCode;\n          if (!isDefaultPrevented(e) && (keyCode === DELETE || keyCode === BACKSPACE)) {\n            const isCollapsed = editor.selection.isCollapsed();\n            const body = editor.getBody();\n            if (isCollapsed && !dom.isEmpty(body)) {\n              return;\n            }\n            if (!isCollapsed && !allContentsSelected(editor.selection.getRng())) {\n              return;\n            }\n            e.preventDefault();\n            editor.setContent('');\n            if (body.firstChild && dom.isBlock(body.firstChild)) {\n              editor.selection.setCursorLocation(body.firstChild, 0);\n            } else {\n              editor.selection.setCursorLocation(body, 0);\n            }\n            editor.nodeChanged();\n          }\n        });\n      };\n      const selectAll = () => {\n        editor.shortcuts.add('meta+a', null, 'SelectAll');\n      };\n      const documentElementEditingFocus = () => {\n        if (!editor.inline) {\n          dom.bind(editor.getDoc(), 'mousedown mouseup', e => {\n            let rng;\n            if (e.target === editor.getDoc().documentElement) {\n              rng = selection.getRng();\n              editor.getBody().focus();\n              if (e.type === 'mousedown') {\n                if (isCaretContainer$2(rng.startContainer)) {\n                  return;\n                }\n                selection.placeCaretAt(e.clientX, e.clientY);\n              } else {\n                selection.setRng(rng);\n              }\n            }\n          });\n        }\n      };\n      const removeHrOnBackspace = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (!editor.getBody().getElementsByTagName('hr').length) {\n              return;\n            }\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const node = selection.getNode();\n              const previousSibling = node.previousSibling;\n              if (node.nodeName === 'HR') {\n                dom.remove(node);\n                e.preventDefault();\n                return;\n              }\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'hr') {\n                dom.remove(previousSibling);\n                e.preventDefault();\n              }\n            }\n          }\n        });\n      };\n      const focusBody = () => {\n        if (!Range.prototype.getClientRects) {\n          editor.on('mousedown', e => {\n            if (!isDefaultPrevented(e) && e.target.nodeName === 'HTML') {\n              const body = editor.getBody();\n              body.blur();\n              Delay.setEditorTimeout(editor, () => {\n                body.focus();\n              });\n            }\n          });\n        }\n      };\n      const selectControlElements = () => {\n        const visualAidsAnchorClass = getVisualAidsAnchorClass(editor);\n        editor.on('click', e => {\n          const target = e.target;\n          if (/^(IMG|HR)$/.test(target.nodeName) && dom.getContentEditableParent(target) !== 'false') {\n            e.preventDefault();\n            editor.selection.select(target);\n            editor.nodeChanged();\n          }\n          if (target.nodeName === 'A' && dom.hasClass(target, visualAidsAnchorClass) && target.childNodes.length === 0) {\n            e.preventDefault();\n            selection.select(target);\n          }\n        });\n      };\n      const removeStylesWhenDeletingAcrossBlockElements = () => {\n        const getAttributeApplyFunction = () => {\n          const template = dom.getAttribs(selection.getStart().cloneNode(false));\n          return () => {\n            const target = selection.getStart();\n            if (target !== editor.getBody()) {\n              dom.setAttrib(target, 'style', null);\n              each(template, attr => {\n                target.setAttributeNode(attr.cloneNode(true));\n              });\n            }\n          };\n        };\n        const isSelectionAcrossElements = () => {\n          return !selection.isCollapsed() && dom.getParent(selection.getStart(), dom.isBlock) !== dom.getParent(selection.getEnd(), dom.isBlock);\n        };\n        editor.on('keypress', e => {\n          let applyAttributes;\n          if (!isDefaultPrevented(e) && (e.keyCode === 8 || e.keyCode === 46) && isSelectionAcrossElements()) {\n            applyAttributes = getAttributeApplyFunction();\n            editor.getDoc().execCommand('delete', false);\n            applyAttributes();\n            e.preventDefault();\n            return false;\n          } else {\n            return true;\n          }\n        });\n        dom.bind(editor.getDoc(), 'cut', e => {\n          if (!isDefaultPrevented(e) && isSelectionAcrossElements()) {\n            const applyAttributes = getAttributeApplyFunction();\n            Delay.setEditorTimeout(editor, () => {\n              applyAttributes();\n            });\n          }\n        });\n      };\n      const disableBackspaceIntoATable = () => {\n        editor.on('keydown', e => {\n          if (!isDefaultPrevented(e) && e.keyCode === BACKSPACE) {\n            if (selection.isCollapsed() && selection.getRng().startOffset === 0) {\n              const previousSibling = selection.getNode().previousSibling;\n              if (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === 'table') {\n                e.preventDefault();\n                return false;\n              }\n            }\n          }\n          return true;\n        });\n      };\n      const removeBlockQuoteOnBackSpace = () => {\n        editor.on('keydown', e => {\n          if (isDefaultPrevented(e) || e.keyCode !== VK.BACKSPACE) {\n            return;\n          }\n          let rng = selection.getRng();\n          const container = rng.startContainer;\n          const offset = rng.startOffset;\n          const root = dom.getRoot();\n          let parent = container;\n          if (!rng.collapsed || offset !== 0) {\n            return;\n          }\n          while (parent.parentNode && parent.parentNode.firstChild === parent && parent.parentNode !== root) {\n            parent = parent.parentNode;\n          }\n          if (parent.nodeName === 'BLOCKQUOTE') {\n            editor.formatter.toggle('blockquote', undefined, parent);\n            rng = dom.createRng();\n            rng.setStart(container, 0);\n            rng.setEnd(container, 0);\n            selection.setRng(rng);\n          }\n        });\n      };\n      const setGeckoEditingOptions = () => {\n        const setOpts = () => {\n          setEditorCommandState('StyleWithCSS', false);\n          setEditorCommandState('enableInlineTableEditing', false);\n          if (!getObjectResizing(editor)) {\n            setEditorCommandState('enableObjectResizing', false);\n          }\n        };\n        if (!isReadOnly$1(editor)) {\n          editor.on('BeforeExecCommand mousedown', setOpts);\n        }\n      };\n      const addBrAfterLastLinks = () => {\n        const fixLinks = () => {\n          each(dom.select('a:not([data-mce-block])'), node => {\n            var _a;\n            let parentNode = node.parentNode;\n            const root = dom.getRoot();\n            if ((parentNode === null || parentNode === void 0 ? void 0 : parentNode.lastChild) === node) {\n              while (parentNode && !dom.isBlock(parentNode)) {\n                if (((_a = parentNode.parentNode) === null || _a === void 0 ? void 0 : _a.lastChild) !== parentNode || parentNode === root) {\n                  return;\n                }\n                parentNode = parentNode.parentNode;\n              }\n              dom.add(parentNode, 'br', { 'data-mce-bogus': 1 });\n            }\n          });\n        };\n        editor.on('SetContent ExecCommand', e => {\n          if (e.type === 'setcontent' || e.command === 'mceInsertLink') {\n            fixLinks();\n          }\n        });\n      };\n      const setDefaultBlockType = () => {\n        editor.on('init', () => {\n          setEditorCommandState('DefaultParagraphSeparator', getForcedRootBlock(editor));\n        });\n      };\n      const isAllContentSelected = editor => {\n        const body = editor.getBody();\n        const rng = editor.selection.getRng();\n        return rng.startContainer === rng.endContainer && rng.startContainer === body && rng.startOffset === 0 && rng.endOffset === body.childNodes.length;\n      };\n      const normalizeSelection = () => {\n        editor.on('keyup focusin mouseup', e => {\n          if (!VK.modifierPressed(e) && !isAllContentSelected(editor)) {\n            selection.normalize();\n          }\n        }, true);\n      };\n      const showBrokenImageIcon = () => {\n        editor.contentStyles.push('img:-moz-broken {' + '-moz-force-broken-image-icon:1;' + 'min-width:24px;' + 'min-height:24px' + '}');\n      };\n      const restoreFocusOnKeyDown = () => {\n        if (!editor.inline) {\n          editor.on('keydown', () => {\n            if (document.activeElement === document.body) {\n              editor.getWin().focus();\n            }\n          });\n        }\n      };\n      const bodyHeight = () => {\n        if (!editor.inline) {\n          editor.contentStyles.push('body {min-height: 150px}');\n          editor.on('click', e => {\n            let rng;\n            if (e.target.nodeName === 'HTML') {\n              rng = editor.selection.getRng();\n              editor.getBody().focus();\n              editor.selection.setRng(rng);\n              editor.selection.normalize();\n              editor.nodeChanged();\n            }\n          });\n        }\n      };\n      const blockCmdArrowNavigation = () => {\n        if (isMac) {\n          editor.on('keydown', e => {\n            if (VK.metaKeyPressed(e) && !e.shiftKey && (e.keyCode === 37 || e.keyCode === 39)) {\n              e.preventDefault();\n              const selection = editor.selection.getSel();\n              selection.modify('move', e.keyCode === 37 ? 'backward' : 'forward', 'lineboundary');\n            }\n          });\n        }\n      };\n      const tapLinksAndImages = () => {\n        editor.on('click', e => {\n          let elm = e.target;\n          do {\n            if (elm.tagName === 'A') {\n              e.preventDefault();\n              return;\n            }\n          } while (elm = elm.parentNode);\n        });\n        editor.contentStyles.push('.mce-content-body {-webkit-touch-callout: none}');\n      };\n      const blockFormSubmitInsideEditor = () => {\n        editor.on('init', () => {\n          editor.dom.bind(editor.getBody(), 'submit', e => {\n            e.preventDefault();\n          });\n        });\n      };\n      const removeAppleInterchangeBrs = () => {\n        parser.addNodeFilter('br', nodes => {\n          let i = nodes.length;\n          while (i--) {\n            if (nodes[i].attr('class') === 'Apple-interchange-newline') {\n              nodes[i].remove();\n            }\n          }\n        });\n      };\n      const refreshContentEditable = noop;\n      const isHidden = () => {\n        if (!isGecko || editor.removed) {\n          return false;\n        }\n        const sel = editor.selection.getSel();\n        return !sel || !sel.rangeCount || sel.rangeCount === 0;\n      };\n      const setupRtc = () => {\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          blockFormSubmitInsideEditor();\n          selectAll();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          }\n        }\n        if (isGecko) {\n          focusBody();\n          setGeckoEditingOptions();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n        }\n      };\n      const setup = () => {\n        removeBlockQuoteOnBackSpace();\n        emptyEditorWhenDeleting();\n        if (!Env.windowsPhone) {\n          normalizeSelection();\n        }\n        if (isWebKit) {\n          documentElementEditingFocus();\n          selectControlElements();\n          setDefaultBlockType();\n          blockFormSubmitInsideEditor();\n          disableBackspaceIntoATable();\n          removeAppleInterchangeBrs();\n          if (isiOS) {\n            restoreFocusOnKeyDown();\n            bodyHeight();\n            tapLinksAndImages();\n          } else {\n            selectAll();\n          }\n        }\n        if (isGecko) {\n          removeHrOnBackspace();\n          focusBody();\n          removeStylesWhenDeletingAcrossBlockElements();\n          setGeckoEditingOptions();\n          addBrAfterLastLinks();\n          showBrokenImageIcon();\n          blockCmdArrowNavigation();\n          disableBackspaceIntoATable();\n        }\n      };\n      if (isRtc(editor)) {\n        setupRtc();\n      } else {\n        setup();\n      }\n      return {\n        refreshContentEditable,\n        isHidden\n      };\n    };\n\n    const DOM$6 = DOMUtils.DOM;\n    const appendStyle = (editor, text) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      const container = getStyleContainer(getRootNode(body));\n      const style = SugarElement.fromTag('style');\n      set$2(style, 'type', 'text/css');\n      append$1(style, SugarElement.fromText(text));\n      append$1(container, style);\n      editor.on('remove', () => {\n        remove$6(style);\n      });\n    };\n    const getRootName = editor => editor.inline ? editor.getElement().nodeName.toLowerCase() : undefined;\n    const removeUndefined = obj => filter$4(obj, v => isUndefined(v) === false);\n    const mkParserSettings = editor => {\n      const getOption = editor.options.get;\n      const blobCache = editor.editorUpload.blobCache;\n      return removeUndefined({\n        allow_conditional_comments: getOption('allow_conditional_comments'),\n        allow_html_data_urls: getOption('allow_html_data_urls'),\n        allow_svg_data_urls: getOption('allow_svg_data_urls'),\n        allow_html_in_named_anchor: getOption('allow_html_in_named_anchor'),\n        allow_script_urls: getOption('allow_script_urls'),\n        allow_unsafe_link_target: getOption('allow_unsafe_link_target'),\n        convert_fonts_to_spans: getOption('convert_fonts_to_spans'),\n        fix_list_elements: getOption('fix_list_elements'),\n        font_size_legacy_values: getOption('font_size_legacy_values'),\n        forced_root_block: getOption('forced_root_block'),\n        forced_root_block_attrs: getOption('forced_root_block_attrs'),\n        preserve_cdata: getOption('preserve_cdata'),\n        remove_trailing_brs: getOption('remove_trailing_brs'),\n        inline_styles: getOption('inline_styles'),\n        root_name: getRootName(editor),\n        validate: true,\n        blob_cache: blobCache,\n        document: editor.getDoc()\n      });\n    };\n    const mkSchemaSettings = editor => {\n      const getOption = editor.options.get;\n      return removeUndefined({\n        custom_elements: getOption('custom_elements'),\n        extended_valid_elements: getOption('extended_valid_elements'),\n        invalid_elements: getOption('invalid_elements'),\n        invalid_styles: getOption('invalid_styles'),\n        schema: getOption('schema'),\n        valid_children: getOption('valid_children'),\n        valid_classes: getOption('valid_classes'),\n        valid_elements: getOption('valid_elements'),\n        valid_styles: getOption('valid_styles'),\n        verify_html: getOption('verify_html'),\n        padd_empty_block_inline_children: getOption('format_empty_lines')\n      });\n    };\n    const mkSerializerSettings = editor => {\n      const getOption = editor.options.get;\n      return {\n        ...mkParserSettings(editor),\n        ...mkSchemaSettings(editor),\n        ...removeUndefined({\n          url_converter: getOption('url_converter'),\n          url_converter_scope: getOption('url_converter_scope'),\n          element_format: getOption('element_format'),\n          entities: getOption('entities'),\n          entity_encoding: getOption('entity_encoding'),\n          indent: getOption('indent'),\n          indent_after: getOption('indent_after'),\n          indent_before: getOption('indent_before')\n        })\n      };\n    };\n    const createParser = editor => {\n      const parser = DomParser(mkParserSettings(editor), editor.schema);\n      parser.addAttributeFilter('src,href,style,tabindex', (nodes, name) => {\n        const dom = editor.dom;\n        const internalName = 'data-mce-' + name;\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          let value = node.attr(name);\n          if (value && !node.attr(internalName)) {\n            if (value.indexOf('data:') === 0 || value.indexOf('blob:') === 0) {\n              continue;\n            }\n            if (name === 'style') {\n              value = dom.serializeStyle(dom.parseStyle(value), node.name);\n              if (!value.length) {\n                value = null;\n              }\n              node.attr(internalName, value);\n              node.attr(name, value);\n            } else if (name === 'tabindex') {\n              node.attr(internalName, value);\n              node.attr(name, null);\n            } else {\n              node.attr(internalName, editor.convertURL(value, name, node.name));\n            }\n          }\n        }\n      });\n      parser.addNodeFilter('script', nodes => {\n        let i = nodes.length;\n        while (i--) {\n          const node = nodes[i];\n          const type = node.attr('type') || 'no/type';\n          if (type.indexOf('mce-') !== 0) {\n            node.attr('type', 'mce-' + type);\n          }\n        }\n      });\n      if (shouldPreserveCData(editor)) {\n        parser.addNodeFilter('#cdata', nodes => {\n          var _a;\n          let i = nodes.length;\n          while (i--) {\n            const node = nodes[i];\n            node.type = 8;\n            node.name = '#comment';\n            node.value = '[CDATA[' + editor.dom.encode((_a = node.value) !== null && _a !== void 0 ? _a : '') + ']]';\n          }\n        });\n      }\n      parser.addNodeFilter('p,h1,h2,h3,h4,h5,h6,div', nodes => {\n        let i = nodes.length;\n        const nonEmptyElements = editor.schema.getNonEmptyElements();\n        while (i--) {\n          const node = nodes[i];\n          if (node.isEmpty(nonEmptyElements) && node.getAll('br').length === 0) {\n            node.append(new AstNode('br', 1));\n          }\n        }\n      });\n      return parser;\n    };\n    const autoFocus = editor => {\n      const autoFocus = getAutoFocus(editor);\n      if (autoFocus) {\n        Delay.setEditorTimeout(editor, () => {\n          let focusEditor;\n          if (autoFocus === true) {\n            focusEditor = editor;\n          } else {\n            focusEditor = editor.editorManager.get(autoFocus);\n          }\n          if (focusEditor && !focusEditor.destroyed) {\n            focusEditor.focus();\n            focusEditor.selection.scrollIntoView();\n          }\n        }, 100);\n      }\n    };\n    const moveSelectionToFirstCaretPosition = editor => {\n      const root = editor.dom.getRoot();\n      if (!editor.inline && (!hasAnyRanges(editor) || editor.selection.getStart(true) === root)) {\n        firstPositionIn(root).each(pos => {\n          const node = pos.getNode();\n          const caretPos = isTable$2(node) ? firstPositionIn(node).getOr(pos) : pos;\n          editor.selection.setRng(caretPos.toRange());\n        });\n      }\n    };\n    const initEditor = editor => {\n      editor.bindPendingEventDelegates();\n      editor.initialized = true;\n      fireInit(editor);\n      editor.focus(true);\n      moveSelectionToFirstCaretPosition(editor);\n      editor.nodeChanged({ initial: true });\n      const initInstanceCallback = getInitInstanceCallback(editor);\n      if (isFunction(initInstanceCallback)) {\n        initInstanceCallback.call(editor, editor);\n      }\n      autoFocus(editor);\n    };\n    const getStyleSheetLoader$1 = editor => editor.inline ? editor.ui.styleSheetLoader : editor.dom.styleSheetLoader;\n    const makeStylesheetLoadingPromises = (editor, css, framedFonts) => {\n      const promises = [getStyleSheetLoader$1(editor).loadAll(css)];\n      if (editor.inline) {\n        return promises;\n      } else {\n        return promises.concat([editor.ui.styleSheetLoader.loadAll(framedFonts)]);\n      }\n    };\n    const loadContentCss = editor => {\n      const styleSheetLoader = getStyleSheetLoader$1(editor);\n      const fontCss = getFontCss(editor);\n      const css = editor.contentCSS;\n      const removeCss = () => {\n        styleSheetLoader.unloadAll(css);\n        if (!editor.inline) {\n          editor.ui.styleSheetLoader.unloadAll(fontCss);\n        }\n      };\n      const loaded = () => {\n        if (editor.removed) {\n          removeCss();\n        } else {\n          editor.on('remove', removeCss);\n        }\n      };\n      if (editor.contentStyles.length > 0) {\n        let contentCssText = '';\n        Tools.each(editor.contentStyles, style => {\n          contentCssText += style + '\\r\\n';\n        });\n        editor.dom.addStyle(contentCssText);\n      }\n      const allStylesheets = Promise.all(makeStylesheetLoadingPromises(editor, css, fontCss)).then(loaded).catch(loaded);\n      const contentStyle = getContentStyle(editor);\n      if (contentStyle) {\n        appendStyle(editor, contentStyle);\n      }\n      return allStylesheets;\n    };\n    const preInit = editor => {\n      const doc = editor.getDoc(), body = editor.getBody();\n      firePreInit(editor);\n      if (!shouldBrowserSpellcheck(editor)) {\n        doc.body.spellcheck = false;\n        DOM$6.setAttrib(body, 'spellcheck', 'false');\n      }\n      editor.quirks = Quirks(editor);\n      firePostRender(editor);\n      const directionality = getDirectionality(editor);\n      if (directionality !== undefined) {\n        body.dir = directionality;\n      }\n      const protect = getProtect(editor);\n      if (protect) {\n        editor.on('BeforeSetContent', e => {\n          Tools.each(protect, pattern => {\n            e.content = e.content.replace(pattern, str => {\n              return '<!--mce:protected ' + escape(str) + '-->';\n            });\n          });\n        });\n      }\n      editor.on('SetContent', () => {\n        editor.addVisual(editor.getBody());\n      });\n      editor.on('compositionstart compositionend', e => {\n        editor.composing = e.type === 'compositionstart';\n      });\n    };\n    const loadInitialContent = editor => {\n      if (!isRtc(editor)) {\n        editor.load({\n          initial: true,\n          format: 'html'\n        });\n      }\n      editor.startContent = editor.getContent({ format: 'raw' });\n    };\n    const initEditorWithInitialContent = editor => {\n      if (editor.removed !== true) {\n        loadInitialContent(editor);\n        initEditor(editor);\n      }\n    };\n    const contentBodyLoaded = editor => {\n      const targetElm = editor.getElement();\n      let doc = editor.getDoc();\n      if (editor.inline) {\n        DOM$6.addClass(targetElm, 'mce-content-body');\n        editor.contentDocument = doc = document;\n        editor.contentWindow = window;\n        editor.bodyElement = targetElm;\n        editor.contentAreaContainer = targetElm;\n      }\n      const body = editor.getBody();\n      body.disabled = true;\n      editor.readonly = isReadOnly$1(editor);\n      if (!editor.readonly) {\n        if (editor.inline && DOM$6.getStyle(body, 'position', true) === 'static') {\n          body.style.position = 'relative';\n        }\n        body.contentEditable = 'true';\n      }\n      body.disabled = false;\n      editor.editorUpload = EditorUpload(editor);\n      editor.schema = Schema(mkSchemaSettings(editor));\n      editor.dom = DOMUtils(doc, {\n        keep_values: true,\n        url_converter: editor.convertURL,\n        url_converter_scope: editor,\n        update_styles: true,\n        root_element: editor.inline ? editor.getBody() : null,\n        collect: editor.inline,\n        schema: editor.schema,\n        contentCssCors: shouldUseContentCssCors(editor),\n        referrerPolicy: getReferrerPolicy(editor),\n        onSetAttrib: e => {\n          editor.dispatch('SetAttrib', e);\n        }\n      });\n      editor.parser = createParser(editor);\n      editor.serializer = DomSerializer(mkSerializerSettings(editor), editor);\n      editor.selection = EditorSelection(editor.dom, editor.getWin(), editor.serializer, editor);\n      editor.annotator = Annotator(editor);\n      editor.formatter = Formatter(editor);\n      editor.undoManager = UndoManager(editor);\n      editor._nodeChangeDispatcher = new NodeChange(editor);\n      editor._selectionOverrides = SelectionOverrides(editor);\n      setup$o(editor);\n      setup$6(editor);\n      setup$m(editor);\n      if (!isRtc(editor)) {\n        setup$5(editor);\n        setup$1(editor);\n      }\n      const caret = setup$b(editor);\n      setup$p(editor, caret);\n      setup$n(editor);\n      setup$q(editor);\n      setup$7(editor);\n      const setupRtcThunk = setup$s(editor);\n      preInit(editor);\n      setupRtcThunk.fold(() => {\n        loadContentCss(editor).then(() => initEditorWithInitialContent(editor));\n      }, setupRtc => {\n        editor.setProgressState(true);\n        loadContentCss(editor).then(() => {\n          setupRtc().then(_rtcMode => {\n            editor.setProgressState(false);\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          }, err => {\n            editor.notificationManager.open({\n              type: 'error',\n              text: String(err)\n            });\n            initEditorWithInitialContent(editor);\n            bindEvents(editor);\n          });\n        });\n      });\n    };\n    const initContentBody = (editor, skipWrite) => {\n      if (!editor.inline) {\n        editor.getElement().style.visibility = editor.orgVisibility;\n      }\n      if (!skipWrite && !editor.inline) {\n        const iframe = editor.iframeElement;\n        const binder = bind$1(SugarElement.fromDom(iframe), 'load', () => {\n          binder.unbind();\n          editor.contentDocument = iframe.contentDocument;\n          contentBodyLoaded(editor);\n        });\n        if (Env.browser.isFirefox()) {\n          const doc = editor.getDoc();\n          doc.open();\n          doc.write(editor.iframeHTML);\n          doc.close();\n        } else {\n          iframe.srcdoc = editor.iframeHTML;\n        }\n      } else {\n        contentBodyLoaded(editor);\n      }\n    };\n\n    const DOM$5 = DOMUtils.DOM;\n    const createIframeElement = (id, title, customAttrs, tabindex) => {\n      const iframe = SugarElement.fromTag('iframe');\n      tabindex.each(t => set$2(iframe, 'tabindex', t));\n      setAll$1(iframe, customAttrs);\n      setAll$1(iframe, {\n        id: id + '_ifr',\n        frameBorder: '0',\n        allowTransparency: 'true',\n        title\n      });\n      add$2(iframe, 'tox-edit-area__iframe');\n      return iframe;\n    };\n    const getIframeHtml = editor => {\n      let iframeHTML = getDocType(editor) + '<html><head>';\n      if (getDocumentBaseUrl(editor) !== editor.documentBaseUrl) {\n        iframeHTML += '<base href=\"' + editor.documentBaseURI.getURI() + '\" />';\n      }\n      iframeHTML += '<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';\n      const bodyId = getBodyId(editor);\n      const bodyClass = getBodyClass(editor);\n      const translatedAriaText = editor.translate(getIframeAriaText(editor));\n      if (getContentSecurityPolicy(editor)) {\n        iframeHTML += '<meta http-equiv=\"Content-Security-Policy\" content=\"' + getContentSecurityPolicy(editor) + '\" />';\n      }\n      iframeHTML += '</head>' + `<body id=\"${ bodyId }\" class=\"mce-content-body ${ bodyClass }\" data-id=\"${ editor.id }\" aria-label=\"${ translatedAriaText }\">` + '<br>' + '</body></html>';\n      return iframeHTML;\n    };\n    const createIframe = (editor, boxInfo) => {\n      const iframeTitle = editor.translate('Rich Text Area');\n      const tabindex = getOpt(SugarElement.fromDom(editor.getElement()), 'tabindex').bind(toInt);\n      const ifr = createIframeElement(editor.id, iframeTitle, getIframeAttrs(editor), tabindex).dom;\n      ifr.onload = () => {\n        ifr.onload = null;\n        editor.dispatch('load');\n      };\n      editor.contentAreaContainer = boxInfo.iframeContainer;\n      editor.iframeElement = ifr;\n      editor.iframeHTML = getIframeHtml(editor);\n      DOM$5.add(boxInfo.iframeContainer, ifr);\n    };\n    const init$1 = (editor, boxInfo) => {\n      createIframe(editor, boxInfo);\n      if (boxInfo.editorContainer) {\n        boxInfo.editorContainer.style.display = editor.orgDisplay;\n        editor.hidden = DOM$5.isHidden(boxInfo.editorContainer);\n      }\n      editor.getElement().style.display = 'none';\n      DOM$5.setAttrib(editor.id, 'aria-hidden', 'true');\n      initContentBody(editor);\n    };\n\n    const DOM$4 = DOMUtils.DOM;\n    const initPlugin = (editor, initializedPlugins, plugin) => {\n      const Plugin = PluginManager.get(plugin);\n      const pluginUrl = PluginManager.urls[plugin] || editor.documentBaseUrl.replace(/\\/$/, '');\n      plugin = Tools.trim(plugin);\n      if (Plugin && Tools.inArray(initializedPlugins, plugin) === -1) {\n        if (editor.plugins[plugin]) {\n          return;\n        }\n        try {\n          const pluginInstance = Plugin(editor, pluginUrl) || {};\n          editor.plugins[plugin] = pluginInstance;\n          if (isFunction(pluginInstance.init)) {\n            pluginInstance.init(editor, pluginUrl);\n            initializedPlugins.push(plugin);\n          }\n        } catch (e) {\n          pluginInitError(editor, plugin, e);\n        }\n      }\n    };\n    const trimLegacyPrefix = name => {\n      return name.replace(/^\\-/, '');\n    };\n    const initPlugins = editor => {\n      const initializedPlugins = [];\n      each$e(getPlugins(editor), name => {\n        initPlugin(editor, initializedPlugins, trimLegacyPrefix(name));\n      });\n    };\n    const initIcons = editor => {\n      const iconPackName = Tools.trim(getIconPackName(editor));\n      const currentIcons = editor.ui.registry.getAll().icons;\n      const loadIcons = {\n        ...IconManager.get('default').icons,\n        ...IconManager.get(iconPackName).icons\n      };\n      each$d(loadIcons, (svgData, icon) => {\n        if (!has$2(currentIcons, icon)) {\n          editor.ui.registry.addIcon(icon, svgData);\n        }\n      });\n    };\n    const initTheme = editor => {\n      const theme = getTheme(editor);\n      if (isString(theme)) {\n        const Theme = ThemeManager.get(theme);\n        editor.theme = Theme(editor, ThemeManager.urls[theme]) || {};\n        if (isFunction(editor.theme.init)) {\n          editor.theme.init(editor, ThemeManager.urls[theme] || editor.documentBaseUrl.replace(/\\/$/, ''));\n        }\n      } else {\n        editor.theme = {};\n      }\n    };\n    const initModel = editor => {\n      const model = getModel(editor);\n      const Model = ModelManager.get(model);\n      editor.model = Model(editor, ModelManager.urls[model]);\n    };\n    const renderFromLoadedTheme = editor => {\n      const render = editor.theme.renderUI;\n      return render ? render() : renderThemeFalse(editor);\n    };\n    const renderFromThemeFunc = editor => {\n      const elm = editor.getElement();\n      const theme = getTheme(editor);\n      const info = theme(editor, elm);\n      if (info.editorContainer.nodeType) {\n        info.editorContainer.id = info.editorContainer.id || editor.id + '_parent';\n      }\n      if (info.iframeContainer && info.iframeContainer.nodeType) {\n        info.iframeContainer.id = info.iframeContainer.id || editor.id + '_iframecontainer';\n      }\n      info.height = info.iframeHeight ? info.iframeHeight : elm.offsetHeight;\n      return info;\n    };\n    const createThemeFalseResult = (element, iframe) => {\n      return {\n        editorContainer: element,\n        iframeContainer: iframe,\n        api: {}\n      };\n    };\n    const renderThemeFalseIframe = targetElement => {\n      const iframeContainer = DOM$4.create('div');\n      DOM$4.insertAfter(iframeContainer, targetElement);\n      return createThemeFalseResult(iframeContainer, iframeContainer);\n    };\n    const renderThemeFalse = editor => {\n      const targetElement = editor.getElement();\n      return editor.inline ? createThemeFalseResult(null) : renderThemeFalseIframe(targetElement);\n    };\n    const renderThemeUi = editor => {\n      const elm = editor.getElement();\n      editor.orgDisplay = elm.style.display;\n      if (isString(getTheme(editor))) {\n        return renderFromLoadedTheme(editor);\n      } else if (isFunction(getTheme(editor))) {\n        return renderFromThemeFunc(editor);\n      } else {\n        return renderThemeFalse(editor);\n      }\n    };\n    const augmentEditorUiApi = (editor, api) => {\n      const uiApiFacade = {\n        show: Optional.from(api.show).getOr(noop),\n        hide: Optional.from(api.hide).getOr(noop),\n        isEnabled: Optional.from(api.isEnabled).getOr(always),\n        setEnabled: state => {\n          if (!editor.mode.isReadOnly()) {\n            Optional.from(api.setEnabled).each(f => f(state));\n          }\n        }\n      };\n      editor.ui = {\n        ...editor.ui,\n        ...uiApiFacade\n      };\n    };\n    const init = editor => {\n      editor.dispatch('ScriptsLoaded');\n      initIcons(editor);\n      initTheme(editor);\n      initModel(editor);\n      initPlugins(editor);\n      const renderInfo = renderThemeUi(editor);\n      augmentEditorUiApi(editor, Optional.from(renderInfo.api).getOr({}));\n      editor.editorContainer = renderInfo.editorContainer;\n      appendContentCssFromSettings(editor);\n      if (editor.inline) {\n        initContentBody(editor);\n      } else {\n        init$1(editor, {\n          editorContainer: renderInfo.editorContainer,\n          iframeContainer: renderInfo.iframeContainer\n        });\n      }\n    };\n\n    const DOM$3 = DOMUtils.DOM;\n    const hasSkipLoadPrefix = name => name.charAt(0) === '-';\n    const loadLanguage = (scriptLoader, editor) => {\n      const languageCode = getLanguageCode(editor);\n      const languageUrl = getLanguageUrl(editor);\n      if (!I18n.hasCode(languageCode) && languageCode !== 'en') {\n        const url = isNotEmpty(languageUrl) ? languageUrl : `${ editor.editorManager.baseURL }/langs/${ languageCode }.js`;\n        scriptLoader.add(url).catch(() => {\n          languageLoadError(editor, url, languageCode);\n        });\n      }\n    };\n    const loadTheme = (editor, suffix) => {\n      const theme = getTheme(editor);\n      if (isString(theme) && !hasSkipLoadPrefix(theme) && !has$2(ThemeManager.urls, theme)) {\n        const themeUrl = getThemeUrl(editor);\n        const url = themeUrl ? editor.documentBaseURI.toAbsolute(themeUrl) : `themes/${ theme }/theme${ suffix }.js`;\n        ThemeManager.load(theme, url).catch(() => {\n          themeLoadError(editor, url, theme);\n        });\n      }\n    };\n    const loadModel = (editor, suffix) => {\n      const model = getModel(editor);\n      if (model !== 'plugin' && !has$2(ModelManager.urls, model)) {\n        const modelUrl = getModelUrl(editor);\n        const url = isString(modelUrl) ? editor.documentBaseURI.toAbsolute(modelUrl) : `models/${ model }/model${ suffix }.js`;\n        ModelManager.load(model, url).catch(() => {\n          modelLoadError(editor, url, model);\n        });\n      }\n    };\n    const getIconsUrlMetaFromUrl = editor => Optional.from(getIconsUrl(editor)).filter(isNotEmpty).map(url => ({\n      url,\n      name: Optional.none()\n    }));\n    const getIconsUrlMetaFromName = (editor, name, suffix) => Optional.from(name).filter(name => isNotEmpty(name) && !IconManager.has(name)).map(name => ({\n      url: `${ editor.editorManager.baseURL }/icons/${ name }/icons${ suffix }.js`,\n      name: Optional.some(name)\n    }));\n    const loadIcons = (scriptLoader, editor, suffix) => {\n      const defaultIconsUrl = getIconsUrlMetaFromName(editor, 'default', suffix);\n      const customIconsUrl = getIconsUrlMetaFromUrl(editor).orThunk(() => getIconsUrlMetaFromName(editor, getIconPackName(editor), ''));\n      each$e(cat([\n        defaultIconsUrl,\n        customIconsUrl\n      ]), urlMeta => {\n        scriptLoader.add(urlMeta.url).catch(() => {\n          iconsLoadError(editor, urlMeta.url, urlMeta.name.getOrUndefined());\n        });\n      });\n    };\n    const loadPlugins = (editor, suffix) => {\n      const loadPlugin = (name, url) => {\n        PluginManager.load(name, url).catch(() => {\n          pluginLoadError(editor, url, name);\n        });\n      };\n      each$d(getExternalPlugins$1(editor), (url, name) => {\n        loadPlugin(name, url);\n        editor.options.set('plugins', getPlugins(editor).concat(name));\n      });\n      each$e(getPlugins(editor), plugin => {\n        plugin = Tools.trim(plugin);\n        if (plugin && !PluginManager.urls[plugin] && !hasSkipLoadPrefix(plugin)) {\n          loadPlugin(plugin, `plugins/${ plugin }/plugin${ suffix }.js`);\n        }\n      });\n    };\n    const isThemeLoaded = editor => {\n      const theme = getTheme(editor);\n      return !isString(theme) || isNonNullable(ThemeManager.get(theme));\n    };\n    const isModelLoaded = editor => {\n      const model = getModel(editor);\n      return isNonNullable(ModelManager.get(model));\n    };\n    const loadScripts = (editor, suffix) => {\n      const scriptLoader = ScriptLoader.ScriptLoader;\n      const initEditor = () => {\n        if (!editor.removed && isThemeLoaded(editor) && isModelLoaded(editor)) {\n          init(editor);\n        }\n      };\n      loadTheme(editor, suffix);\n      loadModel(editor, suffix);\n      loadLanguage(scriptLoader, editor);\n      loadIcons(scriptLoader, editor, suffix);\n      loadPlugins(editor, suffix);\n      scriptLoader.loadQueue().then(initEditor, initEditor);\n    };\n    const getStyleSheetLoader = (element, editor) => instance.forElement(element, {\n      contentCssCors: hasContentCssCors(editor),\n      referrerPolicy: getReferrerPolicy(editor)\n    });\n    const render = editor => {\n      const id = editor.id;\n      I18n.setCode(getLanguageCode(editor));\n      const readyHandler = () => {\n        DOM$3.unbind(window, 'ready', readyHandler);\n        editor.render();\n      };\n      if (!EventUtils.Event.domLoaded) {\n        DOM$3.bind(window, 'ready', readyHandler);\n        return;\n      }\n      if (!editor.getElement()) {\n        return;\n      }\n      const element = SugarElement.fromDom(editor.getElement());\n      const snapshot = clone$4(element);\n      editor.on('remove', () => {\n        eachr(element.dom.attributes, attr => remove$b(element, attr.name));\n        setAll$1(element, snapshot);\n      });\n      editor.ui.styleSheetLoader = getStyleSheetLoader(element, editor);\n      if (!isInline(editor)) {\n        editor.orgVisibility = editor.getElement().style.visibility;\n        editor.getElement().style.visibility = 'hidden';\n      } else {\n        editor.inline = true;\n      }\n      const form = editor.getElement().form || DOM$3.getParent(id, 'form');\n      if (form) {\n        editor.formElement = form;\n        if (hasHiddenInput(editor) && !isTextareaOrInput(editor.getElement())) {\n          DOM$3.insertAfter(DOM$3.create('input', {\n            type: 'hidden',\n            name: id\n          }), id);\n          editor.hasHiddenInput = true;\n        }\n        editor.formEventDelegate = e => {\n          editor.dispatch(e.type, e);\n        };\n        DOM$3.bind(form, 'submit reset', editor.formEventDelegate);\n        editor.on('reset', () => {\n          editor.resetContent();\n        });\n        if (shouldPatchSubmit(editor) && !form.submit.nodeType && !form.submit.length && !form._mceOldSubmit) {\n          form._mceOldSubmit = form.submit;\n          form.submit = () => {\n            editor.editorManager.triggerSave();\n            editor.setDirty(false);\n            return form._mceOldSubmit(form);\n          };\n        }\n      }\n      editor.windowManager = WindowManager(editor);\n      editor.notificationManager = NotificationManager(editor);\n      if (isEncodingXml(editor)) {\n        editor.on('GetContent', e => {\n          if (e.save) {\n            e.content = DOM$3.encode(e.content);\n          }\n        });\n      }\n      if (shouldAddFormSubmitTrigger(editor)) {\n        editor.on('submit', () => {\n          if (editor.initialized) {\n            editor.save();\n          }\n        });\n      }\n      if (shouldAddUnloadTrigger(editor)) {\n        editor._beforeUnload = () => {\n          if (editor.initialized && !editor.destroyed && !editor.isHidden()) {\n            editor.save({\n              format: 'raw',\n              no_events: true,\n              set_dirty: false\n            });\n          }\n        };\n        editor.editorManager.on('BeforeUnload', editor._beforeUnload);\n      }\n      editor.editorManager.add(editor);\n      loadScripts(editor, editor.suffix);\n    };\n\n    const sectionResult = (sections, settings) => ({\n      sections: constant(sections),\n      options: constant(settings)\n    });\n    const deviceDetection = detect$2().deviceType;\n    const isPhone = deviceDetection.isPhone();\n    const isTablet = deviceDetection.isTablet();\n    const normalizePlugins = plugins => {\n      if (isNullable(plugins)) {\n        return [];\n      } else {\n        const pluginNames = isArray$1(plugins) ? plugins : plugins.split(/[ ,]/);\n        const trimmedPlugins = map$3(pluginNames, trim$3);\n        return filter$5(trimmedPlugins, isNotEmpty);\n      }\n    };\n    const extractSections = (keys, options) => {\n      const result = bifilter(options, (value, key) => {\n        return contains$2(keys, key);\n      });\n      return sectionResult(result.t, result.f);\n    };\n    const getSection = (sectionResult, name, defaults = {}) => {\n      const sections = sectionResult.sections();\n      const sectionOptions = get$a(sections, name).getOr({});\n      return Tools.extend({}, defaults, sectionOptions);\n    };\n    const hasSection = (sectionResult, name) => {\n      return has$2(sectionResult.sections(), name);\n    };\n    const getSectionConfig = (sectionResult, name) => {\n      return hasSection(sectionResult, name) ? sectionResult.sections()[name] : {};\n    };\n    const getMobileOverrideOptions = (mobileOptions, isPhone) => {\n      const defaultMobileOptions = {\n        table_grid: false,\n        object_resizing: false,\n        resize: false,\n        toolbar_mode: get$a(mobileOptions, 'toolbar_mode').getOr('scrolling'),\n        toolbar_sticky: false\n      };\n      const defaultPhoneOptions = { menubar: false };\n      return {\n        ...defaultMobileOptions,\n        ...isPhone ? defaultPhoneOptions : {}\n      };\n    };\n    const getExternalPlugins = (overrideOptions, options) => {\n      var _a;\n      const userDefinedExternalPlugins = (_a = options.external_plugins) !== null && _a !== void 0 ? _a : {};\n      if (overrideOptions && overrideOptions.external_plugins) {\n        return Tools.extend({}, overrideOptions.external_plugins, userDefinedExternalPlugins);\n      } else {\n        return userDefinedExternalPlugins;\n      }\n    };\n    const combinePlugins = (forcedPlugins, plugins) => [\n      ...normalizePlugins(forcedPlugins),\n      ...normalizePlugins(plugins)\n    ];\n    const getPlatformPlugins = (isMobileDevice, sectionResult, desktopPlugins, mobilePlugins) => {\n      if (isMobileDevice && hasSection(sectionResult, 'mobile')) {\n        return mobilePlugins;\n      } else {\n        return desktopPlugins;\n      }\n    };\n    const processPlugins = (isMobileDevice, sectionResult, defaultOverrideOptions, options) => {\n      const forcedPlugins = normalizePlugins(defaultOverrideOptions.forced_plugins);\n      const desktopPlugins = normalizePlugins(options.plugins);\n      const mobileConfig = getSectionConfig(sectionResult, 'mobile');\n      const mobilePlugins = mobileConfig.plugins ? normalizePlugins(mobileConfig.plugins) : desktopPlugins;\n      const platformPlugins = getPlatformPlugins(isMobileDevice, sectionResult, desktopPlugins, mobilePlugins);\n      const combinedPlugins = combinePlugins(forcedPlugins, platformPlugins);\n      return Tools.extend(options, {\n        forced_plugins: forcedPlugins,\n        plugins: combinedPlugins\n      });\n    };\n    const isOnMobile = (isMobileDevice, sectionResult) => {\n      return isMobileDevice && hasSection(sectionResult, 'mobile');\n    };\n    const combineOptions = (isMobileDevice, isPhone, defaultOptions, defaultOverrideOptions, options) => {\n      var _a;\n      const deviceOverrideOptions = isMobileDevice ? { mobile: getMobileOverrideOptions((_a = options.mobile) !== null && _a !== void 0 ? _a : {}, isPhone) } : {};\n      const sectionResult = extractSections(['mobile'], deepMerge(deviceOverrideOptions, options));\n      const extendedOptions = Tools.extend(defaultOptions, defaultOverrideOptions, sectionResult.options(), isOnMobile(isMobileDevice, sectionResult) ? getSection(sectionResult, 'mobile') : {}, { external_plugins: getExternalPlugins(defaultOverrideOptions, sectionResult.options()) });\n      return processPlugins(isMobileDevice, sectionResult, defaultOverrideOptions, extendedOptions);\n    };\n    const normalizeOptions = (defaultOverrideOptions, options) => combineOptions(isPhone || isTablet, isPhone, options, defaultOverrideOptions, options);\n\n    const addVisual = (editor, elm) => addVisual$1(editor, elm);\n\n    const registerExecCommands$3 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      const toggleAlign = align => () => {\n        each$e('left,center,right,justify'.split(','), name => {\n          if (align !== name) {\n            editor.formatter.remove('align' + name);\n          }\n        });\n        if (align !== 'none') {\n          toggleFormat('align' + align);\n        }\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: toggleAlign('left'),\n        JustifyCenter: toggleAlign('center'),\n        JustifyRight: toggleAlign('right'),\n        JustifyFull: toggleAlign('justify'),\n        JustifyNone: toggleAlign('none')\n      });\n    };\n    const registerQueryStateCommands$1 = editor => {\n      const alignStates = name => () => {\n        const selection = editor.selection;\n        const nodes = selection.isCollapsed() ? [editor.dom.getParent(selection.getNode(), editor.dom.isBlock)] : selection.getSelectedBlocks();\n        return exists(nodes, node => isNonNullable(editor.formatter.matchNode(node, name)));\n      };\n      editor.editorCommands.addCommands({\n        JustifyLeft: alignStates('alignleft'),\n        JustifyCenter: alignStates('aligncenter'),\n        JustifyRight: alignStates('alignright'),\n        JustifyFull: alignStates('alignjustify')\n      }, 'state');\n    };\n    const registerCommands$a = editor => {\n      registerExecCommands$3(editor);\n      registerQueryStateCommands$1(editor);\n    };\n\n    const registerCommands$9 = editor => {\n      editor.editorCommands.addCommands({\n        'Cut,Copy,Paste': command => {\n          const doc = editor.getDoc();\n          let failed;\n          try {\n            doc.execCommand(command);\n          } catch (ex) {\n            failed = true;\n          }\n          if (command === 'paste' && !doc.queryCommandEnabled(command)) {\n            failed = true;\n          }\n          if (failed || !doc.queryCommandSupported(command)) {\n            let msg = editor.translate(`Your browser doesn't support direct access to the clipboard. ` + 'Please use the Ctrl+X/C/V keyboard shortcuts instead.');\n            if (Env.os.isMacOS() || Env.os.isiOS()) {\n              msg = msg.replace(/Ctrl\\+/g, '\\u2318+');\n            }\n            editor.notificationManager.open({\n              text: msg,\n              type: 'error'\n            });\n          }\n        }\n      });\n    };\n\n    const trimOrPadLeftRight = (dom, rng, html) => {\n      const root = SugarElement.fromDom(dom.getRoot());\n      if (needsToBeNbspLeft(root, CaretPosition.fromRangeStart(rng))) {\n        html = html.replace(/^ /, '&nbsp;');\n      } else {\n        html = html.replace(/^&nbsp;/, ' ');\n      }\n      if (needsToBeNbspRight(root, CaretPosition.fromRangeEnd(rng))) {\n        html = html.replace(/(&nbsp;| )(<br( \\/)>)?$/, '&nbsp;');\n      } else {\n        html = html.replace(/&nbsp;(<br( \\/)?>)?$/, ' ');\n      }\n      return html;\n    };\n\n    const processValue$1 = value => {\n      if (typeof value !== 'string') {\n        const details = Tools.extend({\n          paste: value.paste,\n          data: { paste: value.paste }\n        }, value);\n        return {\n          content: value.content,\n          details\n        };\n      }\n      return {\n        content: value,\n        details: {}\n      };\n    };\n    const trimOrPad = (editor, value) => {\n      const selection = editor.selection;\n      const dom = editor.dom;\n      if (/^ | $/.test(value)) {\n        return trimOrPadLeftRight(dom, selection.getRng(), value);\n      } else {\n        return value;\n      }\n    };\n    const insertAtCaret = (editor, value) => {\n      const {content, details} = processValue$1(value);\n      preProcessSetContent(editor, {\n        ...details,\n        content: trimOrPad(editor, content),\n        format: 'html',\n        set: false,\n        selection: true\n      }).each(args => {\n        const insertedContent = insertContent$1(editor, args.content, details);\n        postProcessSetContent(editor, insertedContent, args);\n        editor.addVisual();\n      });\n    };\n\n    const registerCommands$8 = editor => {\n      editor.editorCommands.addCommands({\n        mceCleanup: () => {\n          const bm = editor.selection.getBookmark();\n          editor.setContent(editor.getContent());\n          editor.selection.moveToBookmark(bm);\n        },\n        insertImage: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.createHTML('img', { src: value }));\n        },\n        insertHorizontalRule: () => {\n          editor.execCommand('mceInsertContent', false, '<hr>');\n        },\n        insertText: (_command, _ui, value) => {\n          insertAtCaret(editor, editor.dom.encode(value));\n        },\n        insertHTML: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceInsertContent: (_command, _ui, value) => {\n          insertAtCaret(editor, value);\n        },\n        mceSetContent: (_command, _ui, value) => {\n          editor.setContent(value);\n        },\n        mceReplaceContent: (_command, _ui, value) => {\n          editor.execCommand('mceInsertContent', false, value.replace(/\\{\\$selection\\}/g, editor.selection.getContent({ format: 'text' })));\n        },\n        mceNewDocument: () => {\n          editor.setContent('');\n        }\n      });\n    };\n\n    const legacyPropNames = {\n      'font-size': 'size',\n      'font-family': 'face'\n    };\n    const isFont = isTag('font');\n    const getSpecifiedFontProp = (propName, rootElm, elm) => {\n      const getProperty = elm => getRaw$1(elm, propName).orThunk(() => {\n        if (isFont(elm)) {\n          return get$a(legacyPropNames, propName).bind(legacyPropName => getOpt(elm, legacyPropName));\n        } else {\n          return Optional.none();\n        }\n      });\n      const isRoot = elm => eq(SugarElement.fromDom(rootElm), elm);\n      return closest$2(SugarElement.fromDom(elm), elm => getProperty(elm), isRoot);\n    };\n    const normalizeFontFamily = fontFamily => fontFamily.replace(/[\\'\\\"\\\\]/g, '').replace(/,\\s+/g, ',');\n    const getComputedFontProp = (propName, elm) => Optional.from(DOMUtils.DOM.getStyle(elm, propName, true));\n    const getFontProp = propName => (rootElm, elm) => Optional.from(elm).map(SugarElement.fromDom).filter(isElement$7).bind(element => getSpecifiedFontProp(propName, rootElm, element.dom).or(getComputedFontProp(propName, element.dom))).getOr('');\n    const getFontSize = getFontProp('font-size');\n    const getFontFamily = compose(normalizeFontFamily, getFontProp('font-family'));\n\n    const findFirstCaretElement = editor => firstPositionIn(editor.getBody()).bind(caret => {\n      const container = caret.container();\n      return Optional.from(isText$a(container) ? container.parentNode : container);\n    });\n    const getCaretElement = editor => Optional.from(editor.selection.getRng()).bind(rng => {\n      const root = editor.getBody();\n      const atStartOfNode = rng.startContainer === root && rng.startOffset === 0;\n      return atStartOfNode ? Optional.none() : Optional.from(editor.selection.getStart(true));\n    });\n    const bindRange = (editor, binder) => getCaretElement(editor).orThunk(curry(findFirstCaretElement, editor)).map(SugarElement.fromDom).filter(isElement$7).bind(binder);\n    const mapRange = (editor, mapper) => bindRange(editor, compose1(Optional.some, mapper));\n\n    const fromFontSizeNumber = (editor, value) => {\n      if (/^[0-9.]+$/.test(value)) {\n        const fontSizeNumber = parseInt(value, 10);\n        if (fontSizeNumber >= 1 && fontSizeNumber <= 7) {\n          const fontSizes = getFontStyleValues(editor);\n          const fontClasses = getFontSizeClasses(editor);\n          if (fontClasses.length > 0) {\n            return fontClasses[fontSizeNumber - 1] || value;\n          } else {\n            return fontSizes[fontSizeNumber - 1] || value;\n          }\n        } else {\n          return value;\n        }\n      } else {\n        return value;\n      }\n    };\n    const normalizeFontNames = font => {\n      const fonts = font.split(/\\s*,\\s*/);\n      return map$3(fonts, font => {\n        if (font.indexOf(' ') !== -1 && !(startsWith(font, '\"') || startsWith(font, `'`))) {\n          return `'${ font }'`;\n        } else {\n          return font;\n        }\n      }).join(',');\n    };\n    const fontNameAction = (editor, value) => {\n      const font = fromFontSizeNumber(editor, value);\n      editor.formatter.toggle('fontname', { value: normalizeFontNames(font) });\n      editor.nodeChanged();\n    };\n    const fontNameQuery = editor => mapRange(editor, elm => getFontFamily(editor.getBody(), elm.dom)).getOr('');\n    const fontSizeAction = (editor, value) => {\n      editor.formatter.toggle('fontsize', { value: fromFontSizeNumber(editor, value) });\n      editor.nodeChanged();\n    };\n    const fontSizeQuery = editor => mapRange(editor, elm => getFontSize(editor.getBody(), elm.dom)).getOr('');\n\n    const lineHeightQuery = editor => mapRange(editor, elm => {\n      const root = SugarElement.fromDom(editor.getBody());\n      const specifiedStyle = closest$2(elm, elm => getRaw$1(elm, 'line-height'), curry(eq, root));\n      const computedStyle = () => {\n        const lineHeight = parseFloat(get$7(elm, 'line-height'));\n        const fontSize = parseFloat(get$7(elm, 'font-size'));\n        return String(lineHeight / fontSize);\n      };\n      return specifiedStyle.getOrThunk(computedStyle);\n    }).getOr('');\n    const lineHeightAction = (editor, lineHeight) => {\n      editor.formatter.toggle('lineheight', { value: String(lineHeight) });\n      editor.nodeChanged();\n    };\n\n    const registerExecCommands$2 = editor => {\n      const toggleFormat = (name, value) => {\n        editor.formatter.toggle(name, value);\n        editor.nodeChanged();\n      };\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => {\n          toggleFormat(command);\n        },\n        'ForeColor,HiliteColor': (command, _ui, value) => {\n          toggleFormat(command, { value });\n        },\n        'BackColor': (_command, _ui, value) => {\n          toggleFormat('hilitecolor', { value });\n        },\n        'FontName': (_command, _ui, value) => {\n          fontNameAction(editor, value);\n        },\n        'FontSize': (_command, _ui, value) => {\n          fontSizeAction(editor, value);\n        },\n        'LineHeight': (_command, _ui, value) => {\n          lineHeightAction(editor, value);\n        },\n        'Lang': (command, _ui, lang) => {\n          var _a;\n          toggleFormat(command, {\n            value: lang.code,\n            customValue: (_a = lang.customCode) !== null && _a !== void 0 ? _a : null\n          });\n        },\n        'RemoveFormat': command => {\n          editor.formatter.remove(command);\n        },\n        'mceBlockQuote': () => {\n          toggleFormat('blockquote');\n        },\n        'FormatBlock': (_command, _ui, value) => {\n          toggleFormat(isString(value) ? value : 'p');\n        },\n        'mceToggleFormat': (_command, _ui, value) => {\n          toggleFormat(value);\n        }\n      });\n    };\n    const registerQueryValueCommands = editor => {\n      const isFormatMatch = name => editor.formatter.match(name);\n      editor.editorCommands.addCommands({\n        'Bold,Italic,Underline,Strikethrough,Superscript,Subscript': command => isFormatMatch(command),\n        'mceBlockQuote': () => isFormatMatch('blockquote')\n      }, 'state');\n      editor.editorCommands.addQueryValueHandler('FontName', () => fontNameQuery(editor));\n      editor.editorCommands.addQueryValueHandler('FontSize', () => fontSizeQuery(editor));\n      editor.editorCommands.addQueryValueHandler('LineHeight', () => lineHeightQuery(editor));\n    };\n    const registerCommands$7 = editor => {\n      registerExecCommands$2(editor);\n      registerQueryValueCommands(editor);\n    };\n\n    const registerCommands$6 = editor => {\n      editor.editorCommands.addCommands({\n        mceAddUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        mceEndUndoLevel: () => {\n          editor.undoManager.add();\n        },\n        Undo: () => {\n          editor.undoManager.undo();\n        },\n        Redo: () => {\n          editor.undoManager.redo();\n        }\n      });\n    };\n\n    const registerCommands$5 = editor => {\n      editor.editorCommands.addCommands({\n        Indent: () => {\n          indent(editor);\n        },\n        Outdent: () => {\n          outdent(editor);\n        }\n      });\n      editor.editorCommands.addCommands({ Outdent: () => canOutdent(editor) }, 'state');\n    };\n\n    const registerCommands$4 = editor => {\n      const applyLinkToSelection = (_command, _ui, value) => {\n        const linkDetails = isString(value) ? { href: value } : value;\n        const anchor = editor.dom.getParent(editor.selection.getNode(), 'a');\n        if (isObject(linkDetails) && isString(linkDetails.href)) {\n          linkDetails.href = linkDetails.href.replace(/ /g, '%20');\n          if (!anchor || !linkDetails.href) {\n            editor.formatter.remove('link');\n          }\n          if (linkDetails.href) {\n            editor.formatter.apply('link', linkDetails, anchor);\n          }\n        }\n      };\n      editor.editorCommands.addCommands({\n        unlink: () => {\n          if (editor.selection.isCollapsed()) {\n            const elm = editor.dom.getParent(editor.selection.getStart(), 'a');\n            if (elm) {\n              editor.dom.remove(elm, true);\n            }\n            return;\n          }\n          editor.formatter.remove('link');\n        },\n        mceInsertLink: applyLinkToSelection,\n        createLink: applyLinkToSelection\n      });\n    };\n\n    const registerExecCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          editor.getDoc().execCommand(command);\n          const listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n          if (listElm) {\n            const listParent = listElm.parentNode;\n            if (listParent && /^(H[1-6]|P|ADDRESS|PRE)$/.test(listParent.nodeName)) {\n              const bm = editor.selection.getBookmark();\n              editor.dom.split(listParent, listElm);\n              editor.selection.moveToBookmark(bm);\n            }\n          }\n        }\n      });\n    };\n    const registerQueryStateCommands = editor => {\n      editor.editorCommands.addCommands({\n        'InsertUnorderedList,InsertOrderedList': command => {\n          const list = editor.dom.getParent(editor.selection.getNode(), 'ul,ol');\n          return list && (command === 'insertunorderedlist' && list.tagName === 'UL' || command === 'insertorderedlist' && list.tagName === 'OL');\n        }\n      }, 'state');\n    };\n    const registerCommands$3 = editor => {\n      registerExecCommands$1(editor);\n      registerQueryStateCommands(editor);\n    };\n\n    const registerCommands$2 = editor => {\n      editor.editorCommands.addCommands({\n        insertParagraph: () => {\n          insertBreak(blockbreak, editor);\n        },\n        mceInsertNewLine: (_command, _ui, value) => {\n          insert(editor, value);\n        },\n        InsertLineBreak: (_command, _ui, _value) => {\n          insertBreak(linebreak, editor);\n        }\n      });\n    };\n\n    const registerCommands$1 = editor => {\n      editor.editorCommands.addCommands({\n        mceSelectNodeDepth: (_command, _ui, value) => {\n          let counter = 0;\n          editor.dom.getParent(editor.selection.getNode(), node => {\n            if (isElement$6(node) && counter++ === value) {\n              editor.selection.select(node);\n              return false;\n            } else {\n              return true;\n            }\n          }, editor.getBody());\n        },\n        mceSelectNode: (_command, _ui, value) => {\n          editor.selection.select(value);\n        },\n        selectAll: () => {\n          const editingHost = editor.dom.getParent(editor.selection.getStart(), isContentEditableTrue$3);\n          if (editingHost) {\n            const rng = editor.dom.createRng();\n            rng.selectNodeContents(editingHost);\n            editor.selection.setRng(rng);\n          }\n        }\n      });\n    };\n\n    const registerExecCommands = editor => {\n      editor.editorCommands.addCommands({\n        mceRemoveNode: (_command, _ui, value) => {\n          const node = value !== null && value !== void 0 ? value : editor.selection.getNode();\n          if (node !== editor.getBody()) {\n            const bm = editor.selection.getBookmark();\n            editor.dom.remove(node, true);\n            editor.selection.moveToBookmark(bm);\n          }\n        },\n        mcePrint: () => {\n          editor.getWin().print();\n        },\n        mceFocus: (_command, _ui, value) => {\n          focus(editor, value === true);\n        },\n        mceToggleVisualAid: () => {\n          editor.hasVisual = !editor.hasVisual;\n          editor.addVisual();\n        }\n      });\n    };\n    const registerCommands = editor => {\n      registerCommands$a(editor);\n      registerCommands$9(editor);\n      registerCommands$6(editor);\n      registerCommands$1(editor);\n      registerCommands$8(editor);\n      registerCommands$4(editor);\n      registerCommands$5(editor);\n      registerCommands$2(editor);\n      registerCommands$3(editor);\n      registerCommands$7(editor);\n      registerExecCommands(editor);\n    };\n\n    const selectionSafeCommands = ['toggleview'];\n    const isSelectionSafeCommand = command => contains$2(selectionSafeCommands, command.toLowerCase());\n    class EditorCommands {\n      constructor(editor) {\n        this.commands = {\n          state: {},\n          exec: {},\n          value: {}\n        };\n        this.editor = editor;\n      }\n      execCommand(command, ui = false, value, args) {\n        const editor = this.editor;\n        const lowerCaseCommand = command.toLowerCase();\n        const skipFocus = args === null || args === void 0 ? void 0 : args.skip_focus;\n        if (editor.removed) {\n          return false;\n        }\n        if (lowerCaseCommand !== 'mcefocus') {\n          if (!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(lowerCaseCommand) && !skipFocus) {\n            editor.focus();\n          } else {\n            restore(editor);\n          }\n        }\n        const eventArgs = editor.dispatch('BeforeExecCommand', {\n          command,\n          ui,\n          value\n        });\n        if (eventArgs.isDefaultPrevented()) {\n          return false;\n        }\n        const func = this.commands.exec[lowerCaseCommand];\n        if (isFunction(func)) {\n          func(lowerCaseCommand, ui, value);\n          editor.dispatch('ExecCommand', {\n            command,\n            ui,\n            value\n          });\n          return true;\n        }\n        return false;\n      }\n      queryCommandState(command) {\n        if (!isSelectionSafeCommand(command) && this.editor.quirks.isHidden() || this.editor.removed) {\n          return false;\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.state[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return false;\n      }\n      queryCommandValue(command) {\n        if (!isSelectionSafeCommand(command) && this.editor.quirks.isHidden() || this.editor.removed) {\n          return '';\n        }\n        const lowerCaseCommand = command.toLowerCase();\n        const func = this.commands.value[lowerCaseCommand];\n        if (isFunction(func)) {\n          return func(lowerCaseCommand);\n        }\n        return '';\n      }\n      addCommands(commandList, type = 'exec') {\n        const commands = this.commands;\n        each$d(commandList, (callback, command) => {\n          each$e(command.toLowerCase().split(','), command => {\n            commands[type][command] = callback;\n          });\n        });\n      }\n      addCommand(command, callback, scope) {\n        const lowerCaseCommand = command.toLowerCase();\n        this.commands.exec[lowerCaseCommand] = (_command, ui, value) => callback.call(scope !== null && scope !== void 0 ? scope : this.editor, ui, value);\n      }\n      queryCommandSupported(command) {\n        const lowerCaseCommand = command.toLowerCase();\n        if (this.commands.exec[lowerCaseCommand]) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n      addQueryStateHandler(command, callback, scope) {\n        this.commands.state[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n      addQueryValueHandler(command, callback, scope) {\n        this.commands.value[command.toLowerCase()] = () => callback.call(scope !== null && scope !== void 0 ? scope : this.editor);\n      }\n    }\n\n    const internalContentEditableAttr = 'data-mce-contenteditable';\n    const toggleClass = (elm, cls, state) => {\n      if (has(elm, cls) && !state) {\n        remove$8(elm, cls);\n      } else if (state) {\n        add$2(elm, cls);\n      }\n    };\n    const setEditorCommandState = (editor, cmd, state) => {\n      try {\n        editor.getDoc().execCommand(cmd, false, String(state));\n      } catch (ex) {\n      }\n    };\n    const setContentEditable = (elm, state) => {\n      elm.dom.contentEditable = state ? 'true' : 'false';\n    };\n    const switchOffContentEditableTrue = elm => {\n      each$e(descendants(elm, '*[contenteditable=\"true\"]'), elm => {\n        set$2(elm, internalContentEditableAttr, 'true');\n        setContentEditable(elm, false);\n      });\n    };\n    const switchOnContentEditableTrue = elm => {\n      each$e(descendants(elm, `*[${ internalContentEditableAttr }=\"true\"]`), elm => {\n        remove$b(elm, internalContentEditableAttr);\n        setContentEditable(elm, true);\n      });\n    };\n    const removeFakeSelection = editor => {\n      Optional.from(editor.selection.getNode()).each(elm => {\n        elm.removeAttribute('data-mce-selected');\n      });\n    };\n    const restoreFakeSelection = editor => {\n      editor.selection.setRng(editor.selection.getRng());\n    };\n    const toggleReadOnly = (editor, state) => {\n      const body = SugarElement.fromDom(editor.getBody());\n      toggleClass(body, 'mce-content-readonly', state);\n      if (state) {\n        editor.selection.controlSelection.hideResizeRect();\n        editor._selectionOverrides.hideFakeCaret();\n        removeFakeSelection(editor);\n        editor.readonly = true;\n        setContentEditable(body, false);\n        switchOffContentEditableTrue(body);\n      } else {\n        editor.readonly = false;\n        setContentEditable(body, true);\n        switchOnContentEditableTrue(body);\n        setEditorCommandState(editor, 'StyleWithCSS', false);\n        setEditorCommandState(editor, 'enableInlineTableEditing', false);\n        setEditorCommandState(editor, 'enableObjectResizing', false);\n        if (hasEditorOrUiFocus(editor)) {\n          editor.focus();\n        }\n        restoreFakeSelection(editor);\n        editor.nodeChanged();\n      }\n    };\n    const isReadOnly = editor => editor.readonly;\n    const registerFilters = editor => {\n      editor.parser.addAttributeFilter('contenteditable', nodes => {\n        if (isReadOnly(editor)) {\n          each$e(nodes, node => {\n            node.attr(internalContentEditableAttr, node.attr('contenteditable'));\n            node.attr('contenteditable', 'false');\n          });\n        }\n      });\n      editor.serializer.addAttributeFilter(internalContentEditableAttr, nodes => {\n        if (isReadOnly(editor)) {\n          each$e(nodes, node => {\n            node.attr('contenteditable', node.attr(internalContentEditableAttr));\n          });\n        }\n      });\n      editor.serializer.addTempAttr(internalContentEditableAttr);\n    };\n    const registerReadOnlyContentFilters = editor => {\n      if (editor.serializer) {\n        registerFilters(editor);\n      } else {\n        editor.on('PreInit', () => {\n          registerFilters(editor);\n        });\n      }\n    };\n    const isClickEvent = e => e.type === 'click';\n    const allowedEvents = ['copy'];\n    const isReadOnlyAllowedEvent = e => contains$2(allowedEvents, e.type);\n    const getAnchorHrefOpt = (editor, elm) => {\n      const isRoot = elm => eq(elm, SugarElement.fromDom(editor.getBody()));\n      return closest$3(elm, 'a', isRoot).bind(a => getOpt(a, 'href'));\n    };\n    const processReadonlyEvents = (editor, e) => {\n      if (isClickEvent(e) && !VK.metaKeyPressed(e)) {\n        const elm = SugarElement.fromDom(e.target);\n        getAnchorHrefOpt(editor, elm).each(href => {\n          e.preventDefault();\n          if (/^#/.test(href)) {\n            const targetEl = editor.dom.select(`${ href },[name=\"${ removeLeading(href, '#') }\"]`);\n            if (targetEl.length) {\n              editor.selection.scrollIntoView(targetEl[0], true);\n            }\n          } else {\n            window.open(href, '_blank', 'rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes');\n          }\n        });\n      } else if (isReadOnlyAllowedEvent(e)) {\n        editor.dispatch(e.type, e);\n      }\n    };\n    const registerReadOnlySelectionBlockers = editor => {\n      editor.on('ShowCaret', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n      editor.on('ObjectSelected', e => {\n        if (isReadOnly(editor)) {\n          e.preventDefault();\n        }\n      });\n    };\n\n    const nativeEvents = Tools.makeMap('focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange ' + 'mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover ' + 'draggesture dragdrop drop drag submit ' + 'compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel', ' ');\n    class EventDispatcher {\n      constructor(settings) {\n        this.bindings = {};\n        this.settings = settings || {};\n        this.scope = this.settings.scope || this;\n        this.toggleEvent = this.settings.toggleEvent || never;\n      }\n      static isNative(name) {\n        return !!nativeEvents[name.toLowerCase()];\n      }\n      fire(name, args) {\n        return this.dispatch(name, args);\n      }\n      dispatch(name, args) {\n        const lcName = name.toLowerCase();\n        const event = normalize$3(lcName, args !== null && args !== void 0 ? args : {}, this.scope);\n        if (this.settings.beforeFire) {\n          this.settings.beforeFire(event);\n        }\n        const handlers = this.bindings[lcName];\n        if (handlers) {\n          for (let i = 0, l = handlers.length; i < l; i++) {\n            const callback = handlers[i];\n            if (callback.removed) {\n              continue;\n            }\n            if (callback.once) {\n              this.off(lcName, callback.func);\n            }\n            if (event.isImmediatePropagationStopped()) {\n              return event;\n            }\n            if (callback.func.call(this.scope, event) === false) {\n              event.preventDefault();\n              return event;\n            }\n          }\n        }\n        return event;\n      }\n      on(name, callback, prepend, extra) {\n        if (callback === false) {\n          callback = never;\n        }\n        if (callback) {\n          const wrappedCallback = {\n            func: callback,\n            removed: false\n          };\n          if (extra) {\n            Tools.extend(wrappedCallback, extra);\n          }\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!handlers) {\n              handlers = [];\n              this.toggleEvent(currentName, true);\n            }\n            if (prepend) {\n              handlers = [\n                wrappedCallback,\n                ...handlers\n              ];\n            } else {\n              handlers = [\n                ...handlers,\n                wrappedCallback\n              ];\n            }\n            this.bindings[currentName] = handlers;\n          }\n        }\n        return this;\n      }\n      off(name, callback) {\n        if (name) {\n          const names = name.toLowerCase().split(' ');\n          let i = names.length;\n          while (i--) {\n            const currentName = names[i];\n            let handlers = this.bindings[currentName];\n            if (!currentName) {\n              each$d(this.bindings, (_value, bindingName) => {\n                this.toggleEvent(bindingName, false);\n                delete this.bindings[bindingName];\n              });\n              return this;\n            }\n            if (handlers) {\n              if (!callback) {\n                handlers.length = 0;\n              } else {\n                const filteredHandlers = partition$2(handlers, handler => handler.func === callback);\n                handlers = filteredHandlers.fail;\n                this.bindings[currentName] = handlers;\n                each$e(filteredHandlers.pass, handler => {\n                  handler.removed = true;\n                });\n              }\n              if (!handlers.length) {\n                this.toggleEvent(name, false);\n                delete this.bindings[currentName];\n              }\n            }\n          }\n        } else {\n          each$d(this.bindings, (_value, name) => {\n            this.toggleEvent(name, false);\n          });\n          this.bindings = {};\n        }\n        return this;\n      }\n      once(name, callback, prepend) {\n        return this.on(name, callback, prepend, { once: true });\n      }\n      has(name) {\n        name = name.toLowerCase();\n        const binding = this.bindings[name];\n        return !(!binding || binding.length === 0);\n      }\n    }\n\n    const getEventDispatcher = obj => {\n      if (!obj._eventDispatcher) {\n        obj._eventDispatcher = new EventDispatcher({\n          scope: obj,\n          toggleEvent: (name, state) => {\n            if (EventDispatcher.isNative(name) && obj.toggleNativeEvent) {\n              obj.toggleNativeEvent(name, state);\n            }\n          }\n        });\n      }\n      return obj._eventDispatcher;\n    };\n    const Observable = {\n      fire(name, args, bubble) {\n        return this.dispatch(name, args, bubble);\n      },\n      dispatch(name, args, bubble) {\n        const self = this;\n        if (self.removed && name !== 'remove' && name !== 'detach') {\n          return normalize$3(name.toLowerCase(), args !== null && args !== void 0 ? args : {}, self);\n        }\n        const dispatcherArgs = getEventDispatcher(self).dispatch(name, args);\n        if (bubble !== false && self.parent) {\n          let parent = self.parent();\n          while (parent && !dispatcherArgs.isPropagationStopped()) {\n            parent.dispatch(name, dispatcherArgs, false);\n            parent = parent.parent ? parent.parent() : undefined;\n          }\n        }\n        return dispatcherArgs;\n      },\n      on(name, callback, prepend) {\n        return getEventDispatcher(this).on(name, callback, prepend);\n      },\n      off(name, callback) {\n        return getEventDispatcher(this).off(name, callback);\n      },\n      once(name, callback) {\n        return getEventDispatcher(this).once(name, callback);\n      },\n      hasEventListeners(name) {\n        return getEventDispatcher(this).has(name);\n      }\n    };\n\n    const DOM$2 = DOMUtils.DOM;\n    let customEventRootDelegates;\n    const getEventTarget = (editor, eventName) => {\n      if (eventName === 'selectionchange') {\n        return editor.getDoc();\n      }\n      if (!editor.inline && /^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(eventName)) {\n        return editor.getDoc().documentElement;\n      }\n      const eventRoot = getEventRoot(editor);\n      if (eventRoot) {\n        if (!editor.eventRoot) {\n          editor.eventRoot = DOM$2.select(eventRoot)[0];\n        }\n        return editor.eventRoot;\n      }\n      return editor.getBody();\n    };\n    const isListening = editor => !editor.hidden && !isReadOnly(editor);\n    const fireEvent = (editor, eventName, e) => {\n      if (isListening(editor)) {\n        editor.dispatch(eventName, e);\n      } else if (isReadOnly(editor)) {\n        processReadonlyEvents(editor, e);\n      }\n    };\n    const bindEventDelegate = (editor, eventName) => {\n      if (!editor.delegates) {\n        editor.delegates = {};\n      }\n      if (editor.delegates[eventName] || editor.removed) {\n        return;\n      }\n      const eventRootElm = getEventTarget(editor, eventName);\n      if (getEventRoot(editor)) {\n        if (!customEventRootDelegates) {\n          customEventRootDelegates = {};\n          editor.editorManager.on('removeEditor', () => {\n            if (!editor.editorManager.activeEditor) {\n              if (customEventRootDelegates) {\n                each$d(customEventRootDelegates, (_value, name) => {\n                  editor.dom.unbind(getEventTarget(editor, name));\n                });\n                customEventRootDelegates = null;\n              }\n            }\n          });\n        }\n        if (customEventRootDelegates[eventName]) {\n          return;\n        }\n        const delegate = e => {\n          const target = e.target;\n          const editors = editor.editorManager.get();\n          let i = editors.length;\n          while (i--) {\n            const body = editors[i].getBody();\n            if (body === target || DOM$2.isChildOf(target, body)) {\n              fireEvent(editors[i], eventName, e);\n            }\n          }\n        };\n        customEventRootDelegates[eventName] = delegate;\n        DOM$2.bind(eventRootElm, eventName, delegate);\n      } else {\n        const delegate = e => {\n          fireEvent(editor, eventName, e);\n        };\n        DOM$2.bind(eventRootElm, eventName, delegate);\n        editor.delegates[eventName] = delegate;\n      }\n    };\n    const EditorObservable = {\n      ...Observable,\n      bindPendingEventDelegates() {\n        const self = this;\n        Tools.each(self._pendingNativeEvents, name => {\n          bindEventDelegate(self, name);\n        });\n      },\n      toggleNativeEvent(name, state) {\n        const self = this;\n        if (name === 'focus' || name === 'blur') {\n          return;\n        }\n        if (self.removed) {\n          return;\n        }\n        if (state) {\n          if (self.initialized) {\n            bindEventDelegate(self, name);\n          } else {\n            if (!self._pendingNativeEvents) {\n              self._pendingNativeEvents = [name];\n            } else {\n              self._pendingNativeEvents.push(name);\n            }\n          }\n        } else if (self.initialized && self.delegates) {\n          self.dom.unbind(getEventTarget(self, name), name, self.delegates[name]);\n          delete self.delegates[name];\n        }\n      },\n      unbindAllNativeEvents() {\n        const self = this;\n        const body = self.getBody();\n        const dom = self.dom;\n        if (self.delegates) {\n          each$d(self.delegates, (value, name) => {\n            self.dom.unbind(getEventTarget(self, name), name, value);\n          });\n          delete self.delegates;\n        }\n        if (!self.inline && body && dom) {\n          body.onload = null;\n          dom.unbind(self.getWin());\n          dom.unbind(self.getDoc());\n        }\n        if (dom) {\n          dom.unbind(body);\n          dom.unbind(self.getContainer());\n        }\n      }\n    };\n\n    const stringListProcessor = value => {\n      if (isString(value)) {\n        return {\n          value: value.split(/[ ,]/),\n          valid: true\n        };\n      } else if (isArrayOf(value, isString)) {\n        return {\n          value,\n          valid: true\n        };\n      } else {\n        return {\n          valid: false,\n          message: `The value must be a string[] or a comma/space separated string.`\n        };\n      }\n    };\n    const getBuiltInProcessor = type => {\n      const validator = (() => {\n        switch (type) {\n        case 'array':\n          return isArray$1;\n        case 'boolean':\n          return isBoolean;\n        case 'function':\n          return isFunction;\n        case 'number':\n          return isNumber;\n        case 'object':\n          return isObject;\n        case 'string':\n          return isString;\n        case 'string[]':\n          return stringListProcessor;\n        case 'object[]':\n          return val => isArrayOf(val, isObject);\n        case 'regexp':\n          return val => is$4(val, RegExp);\n        default:\n          return always;\n        }\n      })();\n      return value => processValue(value, validator, `The value must be a ${ type }.`);\n    };\n    const isBuiltInSpec = spec => isString(spec.processor);\n    const getErrorMessage = (message, result) => {\n      const additionalText = isEmpty$3(result.message) ? '' : `. ${ result.message }`;\n      return message + additionalText;\n    };\n    const isValidResult = result => result.valid;\n    const processValue = (value, processor, message = '') => {\n      const result = processor(value);\n      if (isBoolean(result)) {\n        return result ? {\n          value: value,\n          valid: true\n        } : {\n          valid: false,\n          message\n        };\n      } else {\n        return result;\n      }\n    };\n    const processDefaultValue = (name, defaultValue, processor) => {\n      if (!isUndefined(defaultValue)) {\n        const result = processValue(defaultValue, processor);\n        if (isValidResult(result)) {\n          return result.value;\n        } else {\n          console.error(getErrorMessage(`Invalid default value passed for the \"${ name }\" option`, result));\n        }\n      }\n      return undefined;\n    };\n    const create$5 = (editor, initialOptions) => {\n      const registry = {};\n      const values = {};\n      const setValue = (name, value, processor) => {\n        const result = processValue(value, processor);\n        if (isValidResult(result)) {\n          values[name] = result.value;\n          return true;\n        } else {\n          console.warn(getErrorMessage(`Invalid value passed for the ${ name } option`, result));\n          return false;\n        }\n      };\n      const register = (name, spec) => {\n        const processor = isBuiltInSpec(spec) ? getBuiltInProcessor(spec.processor) : spec.processor;\n        const defaultValue = processDefaultValue(name, spec.default, processor);\n        registry[name] = {\n          ...spec,\n          default: defaultValue,\n          processor\n        };\n        const initValue = get$a(values, name).orThunk(() => get$a(initialOptions, name));\n        initValue.each(value => setValue(name, value, processor));\n      };\n      const isRegistered = name => has$2(registry, name);\n      const get = name => get$a(values, name).orThunk(() => get$a(registry, name).map(spec => spec.default)).getOrUndefined();\n      const set = (name, value) => {\n        if (!isRegistered(name)) {\n          console.warn(`\"${ name }\" is not a registered option. Ensure the option has been registered before setting a value.`);\n          return false;\n        } else {\n          const spec = registry[name];\n          if (spec.immutable) {\n            console.error(`\"${ name }\" is an immutable option and cannot be updated`);\n            return false;\n          } else {\n            return setValue(name, value, spec.processor);\n          }\n        }\n      };\n      const unset = name => {\n        const registered = isRegistered(name);\n        if (registered) {\n          delete values[name];\n        }\n        return registered;\n      };\n      const isSet = name => has$2(values, name);\n      return {\n        register,\n        isRegistered,\n        get,\n        set,\n        unset,\n        isSet\n      };\n    };\n\n    const defaultModes = [\n      'design',\n      'readonly'\n    ];\n    const switchToMode = (editor, activeMode, availableModes, mode) => {\n      const oldMode = availableModes[activeMode.get()];\n      const newMode = availableModes[mode];\n      try {\n        newMode.activate();\n      } catch (e) {\n        console.error(`problem while activating editor mode ${ mode }:`, e);\n        return;\n      }\n      oldMode.deactivate();\n      if (oldMode.editorReadOnly !== newMode.editorReadOnly) {\n        toggleReadOnly(editor, newMode.editorReadOnly);\n      }\n      activeMode.set(mode);\n      fireSwitchMode(editor, mode);\n    };\n    const setMode = (editor, availableModes, activeMode, mode) => {\n      if (mode === activeMode.get()) {\n        return;\n      } else if (!has$2(availableModes, mode)) {\n        throw new Error(`Editor mode '${ mode }' is invalid`);\n      }\n      if (editor.initialized) {\n        switchToMode(editor, activeMode, availableModes, mode);\n      } else {\n        editor.on('init', () => switchToMode(editor, activeMode, availableModes, mode));\n      }\n    };\n    const registerMode = (availableModes, mode, api) => {\n      if (contains$2(defaultModes, mode)) {\n        throw new Error(`Cannot override default mode ${ mode }`);\n      }\n      return {\n        ...availableModes,\n        [mode]: {\n          ...api,\n          deactivate: () => {\n            try {\n              api.deactivate();\n            } catch (e) {\n              console.error(`problem while deactivating editor mode ${ mode }:`, e);\n            }\n          }\n        }\n      };\n    };\n\n    const create$4 = editor => {\n      const activeMode = Cell('design');\n      const availableModes = Cell({\n        design: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: false\n        },\n        readonly: {\n          activate: noop,\n          deactivate: noop,\n          editorReadOnly: true\n        }\n      });\n      registerReadOnlyContentFilters(editor);\n      registerReadOnlySelectionBlockers(editor);\n      return {\n        isReadOnly: () => isReadOnly(editor),\n        set: mode => setMode(editor, availableModes.get(), activeMode, mode),\n        get: () => activeMode.get(),\n        register: (mode, api) => {\n          availableModes.set(registerMode(availableModes.get(), mode, api));\n        }\n      };\n    };\n\n    const each$2 = Tools.each, explode = Tools.explode;\n    const keyCodeLookup = {\n      f1: 112,\n      f2: 113,\n      f3: 114,\n      f4: 115,\n      f5: 116,\n      f6: 117,\n      f7: 118,\n      f8: 119,\n      f9: 120,\n      f10: 121,\n      f11: 122,\n      f12: 123\n    };\n    const modifierNames = Tools.makeMap('alt,ctrl,shift,meta,access');\n    const isModifier = key => key in modifierNames;\n    const parseShortcut = pattern => {\n      const shortcut = {};\n      const isMac = Env.os.isMacOS() || Env.os.isiOS();\n      each$2(explode(pattern.toLowerCase(), '+'), value => {\n        if (isModifier(value)) {\n          shortcut[value] = true;\n        } else {\n          if (/^[0-9]{2,}$/.test(value)) {\n            shortcut.keyCode = parseInt(value, 10);\n          } else {\n            shortcut.charCode = value.charCodeAt(0);\n            shortcut.keyCode = keyCodeLookup[value] || value.toUpperCase().charCodeAt(0);\n          }\n        }\n      });\n      const id = [shortcut.keyCode];\n      let key;\n      for (key in modifierNames) {\n        if (shortcut[key]) {\n          id.push(key);\n        } else {\n          shortcut[key] = false;\n        }\n      }\n      shortcut.id = id.join(',');\n      if (shortcut.access) {\n        shortcut.alt = true;\n        if (isMac) {\n          shortcut.ctrl = true;\n        } else {\n          shortcut.shift = true;\n        }\n      }\n      if (shortcut.meta) {\n        if (isMac) {\n          shortcut.meta = true;\n        } else {\n          shortcut.ctrl = true;\n          shortcut.meta = false;\n        }\n      }\n      return shortcut;\n    };\n    class Shortcuts {\n      constructor(editor) {\n        this.shortcuts = {};\n        this.pendingPatterns = [];\n        this.editor = editor;\n        const self = this;\n        editor.on('keyup keypress keydown', e => {\n          if ((self.hasModifier(e) || self.isFunctionKey(e)) && !e.isDefaultPrevented()) {\n            each$2(self.shortcuts, shortcut => {\n              if (self.matchShortcut(e, shortcut)) {\n                self.pendingPatterns = shortcut.subpatterns.slice(0);\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(shortcut);\n                }\n              }\n            });\n            if (self.matchShortcut(e, self.pendingPatterns[0])) {\n              if (self.pendingPatterns.length === 1) {\n                if (e.type === 'keydown') {\n                  self.executeShortcutAction(self.pendingPatterns[0]);\n                }\n              }\n              self.pendingPatterns.shift();\n            }\n          }\n        });\n      }\n      add(pattern, desc, cmdFunc, scope) {\n        const self = this;\n        const func = self.normalizeCommandFunc(cmdFunc);\n        each$2(explode(Tools.trim(pattern)), pattern => {\n          const shortcut = self.createShortcut(pattern, desc, func, scope);\n          self.shortcuts[shortcut.id] = shortcut;\n        });\n        return true;\n      }\n      remove(pattern) {\n        const shortcut = this.createShortcut(pattern);\n        if (this.shortcuts[shortcut.id]) {\n          delete this.shortcuts[shortcut.id];\n          return true;\n        }\n        return false;\n      }\n      normalizeCommandFunc(cmdFunc) {\n        const self = this;\n        const cmd = cmdFunc;\n        if (typeof cmd === 'string') {\n          return () => {\n            self.editor.execCommand(cmd, false, null);\n          };\n        } else if (Tools.isArray(cmd)) {\n          return () => {\n            self.editor.execCommand(cmd[0], cmd[1], cmd[2]);\n          };\n        } else {\n          return cmd;\n        }\n      }\n      createShortcut(pattern, desc, cmdFunc, scope) {\n        const shortcuts = Tools.map(explode(pattern, '>'), parseShortcut);\n        shortcuts[shortcuts.length - 1] = Tools.extend(shortcuts[shortcuts.length - 1], {\n          func: cmdFunc,\n          scope: scope || this.editor\n        });\n        return Tools.extend(shortcuts[0], {\n          desc: this.editor.translate(desc),\n          subpatterns: shortcuts.slice(1)\n        });\n      }\n      hasModifier(e) {\n        return e.altKey || e.ctrlKey || e.metaKey;\n      }\n      isFunctionKey(e) {\n        return e.type === 'keydown' && e.keyCode >= 112 && e.keyCode <= 123;\n      }\n      matchShortcut(e, shortcut) {\n        if (!shortcut) {\n          return false;\n        }\n        if (shortcut.ctrl !== e.ctrlKey || shortcut.meta !== e.metaKey) {\n          return false;\n        }\n        if (shortcut.alt !== e.altKey || shortcut.shift !== e.shiftKey) {\n          return false;\n        }\n        if (e.keyCode === shortcut.keyCode || e.charCode && e.charCode === shortcut.charCode) {\n          e.preventDefault();\n          return true;\n        }\n        return false;\n      }\n      executeShortcutAction(shortcut) {\n        return shortcut.func ? shortcut.func.call(shortcut.scope) : null;\n      }\n    }\n\n    const create$3 = () => {\n      const buttons = {};\n      const menuItems = {};\n      const popups = {};\n      const icons = {};\n      const contextMenus = {};\n      const contextToolbars = {};\n      const sidebars = {};\n      const views = {};\n      const add = (collection, type) => (name, spec) => {\n        collection[name.toLowerCase()] = {\n          ...spec,\n          type\n        };\n      };\n      const addIcon = (name, svgData) => icons[name.toLowerCase()] = svgData;\n      return {\n        addButton: add(buttons, 'button'),\n        addGroupToolbarButton: add(buttons, 'grouptoolbarbutton'),\n        addToggleButton: add(buttons, 'togglebutton'),\n        addMenuButton: add(buttons, 'menubutton'),\n        addSplitButton: add(buttons, 'splitbutton'),\n        addMenuItem: add(menuItems, 'menuitem'),\n        addNestedMenuItem: add(menuItems, 'nestedmenuitem'),\n        addToggleMenuItem: add(menuItems, 'togglemenuitem'),\n        addAutocompleter: add(popups, 'autocompleter'),\n        addContextMenu: add(contextMenus, 'contextmenu'),\n        addContextToolbar: add(contextToolbars, 'contexttoolbar'),\n        addContextForm: add(contextToolbars, 'contextform'),\n        addSidebar: add(sidebars, 'sidebar'),\n        addView: add(views, 'views'),\n        addIcon,\n        getAll: () => ({\n          buttons,\n          menuItems,\n          icons,\n          popups,\n          contextMenus,\n          contextToolbars,\n          sidebars,\n          views\n        })\n      };\n    };\n\n    const registry = () => {\n      const bridge = create$3();\n      return {\n        addAutocompleter: bridge.addAutocompleter,\n        addButton: bridge.addButton,\n        addContextForm: bridge.addContextForm,\n        addContextMenu: bridge.addContextMenu,\n        addContextToolbar: bridge.addContextToolbar,\n        addIcon: bridge.addIcon,\n        addMenuButton: bridge.addMenuButton,\n        addMenuItem: bridge.addMenuItem,\n        addNestedMenuItem: bridge.addNestedMenuItem,\n        addSidebar: bridge.addSidebar,\n        addSplitButton: bridge.addSplitButton,\n        addToggleButton: bridge.addToggleButton,\n        addGroupToolbarButton: bridge.addGroupToolbarButton,\n        addToggleMenuItem: bridge.addToggleMenuItem,\n        addView: bridge.addView,\n        getAll: bridge.getAll\n      };\n    };\n\n    const DOM$1 = DOMUtils.DOM;\n    const extend = Tools.extend, each$1 = Tools.each;\n    class Editor {\n      constructor(id, options, editorManager) {\n        this.plugins = {};\n        this.contentCSS = [];\n        this.contentStyles = [];\n        this.loadedCSS = {};\n        this.isNotDirty = false;\n        this.composing = false;\n        this.destroyed = false;\n        this.hasHiddenInput = false;\n        this.iframeElement = null;\n        this.initialized = false;\n        this.readonly = false;\n        this.removed = false;\n        this.startContent = '';\n        this._pendingNativeEvents = [];\n        this._skinLoaded = false;\n        this.editorManager = editorManager;\n        this.documentBaseUrl = editorManager.documentBaseURL;\n        extend(this, EditorObservable);\n        const self = this;\n        this.id = id;\n        this.hidden = false;\n        const normalizedOptions = normalizeOptions(editorManager.defaultOptions, options);\n        this.options = create$5(self, normalizedOptions);\n        register$7(self);\n        const getOption = this.options.get;\n        if (getOption('deprecation_warnings')) {\n          logWarnings(options, normalizedOptions);\n        }\n        const suffix = getOption('suffix');\n        if (suffix) {\n          editorManager.suffix = suffix;\n        }\n        this.suffix = editorManager.suffix;\n        const baseUrl = getOption('base_url');\n        if (baseUrl) {\n          editorManager._setBaseUrl(baseUrl);\n        }\n        this.baseUri = editorManager.baseURI;\n        const referrerPolicy = getReferrerPolicy(self);\n        if (referrerPolicy) {\n          ScriptLoader.ScriptLoader._setReferrerPolicy(referrerPolicy);\n          DOMUtils.DOM.styleSheetLoader._setReferrerPolicy(referrerPolicy);\n        }\n        const contentCssCors = hasContentCssCors(self);\n        if (isNonNullable(contentCssCors)) {\n          DOMUtils.DOM.styleSheetLoader._setContentCssCors(contentCssCors);\n        }\n        AddOnManager.languageLoad = getOption('language_load');\n        AddOnManager.baseURL = editorManager.baseURL;\n        this.setDirty(false);\n        this.documentBaseURI = new URI(getDocumentBaseUrl(self), { base_uri: this.baseUri });\n        this.baseURI = this.baseUri;\n        this.inline = isInline(self);\n        this.hasVisual = isVisualAidsEnabled(self);\n        this.shortcuts = new Shortcuts(this);\n        this.editorCommands = new EditorCommands(this);\n        registerCommands(this);\n        const cacheSuffix = getOption('cache_suffix');\n        if (cacheSuffix) {\n          Env.cacheSuffix = cacheSuffix.replace(/^[\\?\\&]+/, '');\n        }\n        this.ui = {\n          registry: registry(),\n          styleSheetLoader: undefined,\n          show: noop,\n          hide: noop,\n          setEnabled: noop,\n          isEnabled: always\n        };\n        this.mode = create$4(self);\n        editorManager.dispatch('SetupEditor', { editor: this });\n        const setupCallback = getSetupCallback(self);\n        if (isFunction(setupCallback)) {\n          setupCallback.call(self, self);\n        }\n      }\n      render() {\n        render(this);\n      }\n      focus(skipFocus) {\n        this.execCommand('mceFocus', false, skipFocus);\n      }\n      hasFocus() {\n        return hasFocus(this);\n      }\n      translate(text) {\n        return I18n.translate(text);\n      }\n      getParam(name, defaultVal, type) {\n        const options = this.options;\n        if (!options.isRegistered(name)) {\n          if (isNonNullable(type)) {\n            options.register(name, {\n              processor: type,\n              default: defaultVal\n            });\n          } else {\n            options.register(name, {\n              processor: always,\n              default: defaultVal\n            });\n          }\n        }\n        return !options.isSet(name) && !isUndefined(defaultVal) ? defaultVal : options.get(name);\n      }\n      hasPlugin(name, loaded) {\n        const hasPlugin = contains$2(getPlugins(this), name);\n        if (hasPlugin) {\n          return loaded ? PluginManager.get(name) !== undefined : true;\n        } else {\n          return false;\n        }\n      }\n      nodeChanged(args) {\n        this._nodeChangeDispatcher.nodeChanged(args);\n      }\n      addCommand(name, callback, scope) {\n        this.editorCommands.addCommand(name, callback, scope);\n      }\n      addQueryStateHandler(name, callback, scope) {\n        this.editorCommands.addQueryStateHandler(name, callback, scope);\n      }\n      addQueryValueHandler(name, callback, scope) {\n        this.editorCommands.addQueryValueHandler(name, callback, scope);\n      }\n      addShortcut(pattern, desc, cmdFunc, scope) {\n        this.shortcuts.add(pattern, desc, cmdFunc, scope);\n      }\n      execCommand(cmd, ui, value, args) {\n        return this.editorCommands.execCommand(cmd, ui, value, args);\n      }\n      queryCommandState(cmd) {\n        return this.editorCommands.queryCommandState(cmd);\n      }\n      queryCommandValue(cmd) {\n        return this.editorCommands.queryCommandValue(cmd);\n      }\n      queryCommandSupported(cmd) {\n        return this.editorCommands.queryCommandSupported(cmd);\n      }\n      show() {\n        const self = this;\n        if (self.hidden) {\n          self.hidden = false;\n          if (self.inline) {\n            self.getBody().contentEditable = 'true';\n          } else {\n            DOM$1.show(self.getContainer());\n            DOM$1.hide(self.id);\n          }\n          self.load();\n          self.dispatch('show');\n        }\n      }\n      hide() {\n        const self = this;\n        if (!self.hidden) {\n          self.save();\n          if (self.inline) {\n            self.getBody().contentEditable = 'false';\n            if (self === self.editorManager.focusedEditor) {\n              self.editorManager.focusedEditor = null;\n            }\n          } else {\n            DOM$1.hide(self.getContainer());\n            DOM$1.setStyle(self.id, 'display', self.orgDisplay);\n          }\n          self.hidden = true;\n          self.dispatch('hide');\n        }\n      }\n      isHidden() {\n        return this.hidden;\n      }\n      setProgressState(state, time) {\n        this.dispatch('ProgressState', {\n          state,\n          time\n        });\n      }\n      load(args = {}) {\n        const self = this;\n        const elm = self.getElement();\n        if (self.removed) {\n          return '';\n        }\n        if (elm) {\n          const loadArgs = {\n            ...args,\n            load: true\n          };\n          const value = isTextareaOrInput(elm) ? elm.value : elm.innerHTML;\n          const html = self.setContent(value, loadArgs);\n          if (!loadArgs.no_events) {\n            self.dispatch('LoadContent', {\n              ...loadArgs,\n              element: elm\n            });\n          }\n          return html;\n        } else {\n          return '';\n        }\n      }\n      save(args = {}) {\n        const self = this;\n        let elm = self.getElement();\n        if (!elm || !self.initialized || self.removed) {\n          return '';\n        }\n        const getArgs = {\n          ...args,\n          save: true,\n          element: elm\n        };\n        let html = self.getContent(getArgs);\n        const saveArgs = {\n          ...getArgs,\n          content: html\n        };\n        if (!saveArgs.no_events) {\n          self.dispatch('SaveContent', saveArgs);\n        }\n        if (saveArgs.format === 'raw') {\n          self.dispatch('RawSaveContent', saveArgs);\n        }\n        html = saveArgs.content;\n        if (!isTextareaOrInput(elm)) {\n          if (args.is_removing || !self.inline) {\n            elm.innerHTML = html;\n          }\n          const form = DOM$1.getParent(self.id, 'form');\n          if (form) {\n            each$1(form.elements, elm => {\n              if (elm.name === self.id) {\n                elm.value = html;\n                return false;\n              } else {\n                return true;\n              }\n            });\n          }\n        } else {\n          elm.value = html;\n        }\n        saveArgs.element = getArgs.element = elm = null;\n        if (saveArgs.set_dirty !== false) {\n          self.setDirty(false);\n        }\n        return html;\n      }\n      setContent(content, args) {\n        return setContent(this, content, args);\n      }\n      getContent(args) {\n        return getContent(this, args);\n      }\n      insertContent(content, args) {\n        if (args) {\n          content = extend({ content }, args);\n        }\n        this.execCommand('mceInsertContent', false, content);\n      }\n      resetContent(initialContent) {\n        if (initialContent === undefined) {\n          setContent(this, this.startContent, { format: 'raw' });\n        } else {\n          setContent(this, initialContent);\n        }\n        this.undoManager.reset();\n        this.setDirty(false);\n        this.nodeChanged();\n      }\n      isDirty() {\n        return !this.isNotDirty;\n      }\n      setDirty(state) {\n        const oldState = !this.isNotDirty;\n        this.isNotDirty = !state;\n        if (state && state !== oldState) {\n          this.dispatch('dirty');\n        }\n      }\n      getContainer() {\n        const self = this;\n        if (!self.container) {\n          self.container = self.editorContainer || DOM$1.get(self.id + '_parent');\n        }\n        return self.container;\n      }\n      getContentAreaContainer() {\n        return this.contentAreaContainer;\n      }\n      getElement() {\n        if (!this.targetElm) {\n          this.targetElm = DOM$1.get(this.id);\n        }\n        return this.targetElm;\n      }\n      getWin() {\n        const self = this;\n        if (!self.contentWindow) {\n          const elm = self.iframeElement;\n          if (elm) {\n            self.contentWindow = elm.contentWindow;\n          }\n        }\n        return self.contentWindow;\n      }\n      getDoc() {\n        const self = this;\n        if (!self.contentDocument) {\n          const win = self.getWin();\n          if (win) {\n            self.contentDocument = win.document;\n          }\n        }\n        return self.contentDocument;\n      }\n      getBody() {\n        var _a, _b;\n        const doc = this.getDoc();\n        return (_b = (_a = this.bodyElement) !== null && _a !== void 0 ? _a : doc === null || doc === void 0 ? void 0 : doc.body) !== null && _b !== void 0 ? _b : null;\n      }\n      convertURL(url, name, elm) {\n        const self = this, getOption = self.options.get;\n        const urlConverterCallback = getUrlConverterCallback(self);\n        if (isFunction(urlConverterCallback)) {\n          return urlConverterCallback.call(self, url, elm, true, name);\n        }\n        if (!getOption('convert_urls') || elm === 'link' || isObject(elm) && elm.nodeName === 'LINK' || url.indexOf('file:') === 0 || url.length === 0) {\n          return url;\n        }\n        if (getOption('relative_urls')) {\n          return self.documentBaseURI.toRelative(url);\n        }\n        url = self.documentBaseURI.toAbsolute(url, getOption('remove_script_host'));\n        return url;\n      }\n      addVisual(elm) {\n        addVisual(this, elm);\n      }\n      remove() {\n        remove$1(this);\n      }\n      destroy(automatic) {\n        destroy(this, automatic);\n      }\n      uploadImages() {\n        return this.editorUpload.uploadImages();\n      }\n      _scanForImages() {\n        return this.editorUpload.scanForImages();\n      }\n    }\n\n    const DOM = DOMUtils.DOM;\n    const each = Tools.each;\n    let boundGlobalEvents = false;\n    let beforeUnloadDelegate;\n    let editors = [];\n    const globalEventDelegate = e => {\n      const type = e.type;\n      each(EditorManager.get(), editor => {\n        switch (type) {\n        case 'scroll':\n          editor.dispatch('ScrollWindow', e);\n          break;\n        case 'resize':\n          editor.dispatch('ResizeWindow', e);\n          break;\n        }\n      });\n    };\n    const toggleGlobalEvents = state => {\n      if (state !== boundGlobalEvents) {\n        const DOM = DOMUtils.DOM;\n        if (state) {\n          DOM.bind(window, 'resize', globalEventDelegate);\n          DOM.bind(window, 'scroll', globalEventDelegate);\n        } else {\n          DOM.unbind(window, 'resize', globalEventDelegate);\n          DOM.unbind(window, 'scroll', globalEventDelegate);\n        }\n        boundGlobalEvents = state;\n      }\n    };\n    const removeEditorFromList = targetEditor => {\n      const oldEditors = editors;\n      editors = filter$5(editors, editor => {\n        return targetEditor !== editor;\n      });\n      if (EditorManager.activeEditor === targetEditor) {\n        EditorManager.activeEditor = editors.length > 0 ? editors[0] : null;\n      }\n      if (EditorManager.focusedEditor === targetEditor) {\n        EditorManager.focusedEditor = null;\n      }\n      return oldEditors.length !== editors.length;\n    };\n    const purgeDestroyedEditor = editor => {\n      if (editor && editor.initialized && !(editor.getContainer() || editor.getBody()).parentNode) {\n        removeEditorFromList(editor);\n        editor.unbindAllNativeEvents();\n        editor.destroy(true);\n        editor.removed = true;\n      }\n    };\n    const isQuirksMode = document.compatMode !== 'CSS1Compat';\n    const EditorManager = {\n      ...Observable,\n      baseURI: null,\n      baseURL: null,\n      defaultOptions: {},\n      documentBaseURL: null,\n      suffix: null,\n      majorVersion: '6',\n      minorVersion: '3.1',\n      releaseDate: '2022-12-06',\n      i18n: I18n,\n      activeEditor: null,\n      focusedEditor: null,\n      setup() {\n        const self = this;\n        let baseURL = '';\n        let suffix = '';\n        let documentBaseURL = URI.getDocumentBaseUrl(document.location);\n        if (/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(documentBaseURL)) {\n          documentBaseURL = documentBaseURL.replace(/[\\?#].*$/, '').replace(/[\\/\\\\][^\\/]+$/, '');\n          if (!/[\\/\\\\]$/.test(documentBaseURL)) {\n            documentBaseURL += '/';\n          }\n        }\n        const preInit = window.tinymce || window.tinyMCEPreInit;\n        if (preInit) {\n          baseURL = preInit.base || preInit.baseURL;\n          suffix = preInit.suffix;\n        } else {\n          const scripts = document.getElementsByTagName('script');\n          for (let i = 0; i < scripts.length; i++) {\n            const src = scripts[i].src || '';\n            if (src === '') {\n              continue;\n            }\n            const srcScript = src.substring(src.lastIndexOf('/'));\n            if (/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(src)) {\n              if (srcScript.indexOf('.min') !== -1) {\n                suffix = '.min';\n              }\n              baseURL = src.substring(0, src.lastIndexOf('/'));\n              break;\n            }\n          }\n          if (!baseURL && document.currentScript) {\n            const src = document.currentScript.src;\n            if (src.indexOf('.min') !== -1) {\n              suffix = '.min';\n            }\n            baseURL = src.substring(0, src.lastIndexOf('/'));\n          }\n        }\n        self.baseURL = new URI(documentBaseURL).toAbsolute(baseURL);\n        self.documentBaseURL = documentBaseURL;\n        self.baseURI = new URI(self.baseURL);\n        self.suffix = suffix;\n        setup$v(self);\n      },\n      overrideDefaults(defaultOptions) {\n        const baseUrl = defaultOptions.base_url;\n        if (baseUrl) {\n          this._setBaseUrl(baseUrl);\n        }\n        const suffix = defaultOptions.suffix;\n        if (suffix) {\n          this.suffix = suffix;\n        }\n        this.defaultOptions = defaultOptions;\n        const pluginBaseUrls = defaultOptions.plugin_base_urls;\n        if (pluginBaseUrls !== undefined) {\n          each$d(pluginBaseUrls, (pluginBaseUrl, pluginName) => {\n            AddOnManager.PluginManager.urls[pluginName] = pluginBaseUrl;\n          });\n        }\n      },\n      init(options) {\n        const self = this;\n        let result;\n        const invalidInlineTargets = Tools.makeMap('area base basefont br col frame hr img input isindex link meta param embed source wbr track ' + 'colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu', ' ');\n        const isInvalidInlineTarget = (options, elm) => options.inline && elm.tagName.toLowerCase() in invalidInlineTargets;\n        const createId = elm => {\n          let id = elm.id;\n          if (!id) {\n            id = get$a(elm, 'name').filter(name => !DOM.get(name)).getOrThunk(DOM.uniqueId);\n            elm.setAttribute('id', id);\n          }\n          return id;\n        };\n        const execCallback = name => {\n          const callback = options[name];\n          if (!callback) {\n            return;\n          }\n          return callback.apply(self, []);\n        };\n        const findTargets = options => {\n          if (Env.browser.isIE() || Env.browser.isEdge()) {\n            initError('TinyMCE does not support the browser you are using. For a list of supported' + ' browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers');\n            return [];\n          } else if (isQuirksMode) {\n            initError('Failed to initialize the editor as the document is not in standards mode. ' + 'TinyMCE requires standards mode.');\n            return [];\n          } else if (isString(options.selector)) {\n            return DOM.select(options.selector);\n          } else if (isNonNullable(options.target)) {\n            return [options.target];\n          } else {\n            return [];\n          }\n        };\n        let provideResults = editors => {\n          result = editors;\n        };\n        const initEditors = () => {\n          let initCount = 0;\n          const editors = [];\n          let targets;\n          const createEditor = (id, options, targetElm) => {\n            const editor = new Editor(id, options, self);\n            editors.push(editor);\n            editor.on('init', () => {\n              if (++initCount === targets.length) {\n                provideResults(editors);\n              }\n            });\n            editor.targetElm = editor.targetElm || targetElm;\n            editor.render();\n          };\n          DOM.unbind(window, 'ready', initEditors);\n          execCallback('onpageload');\n          targets = unique$1(findTargets(options));\n          Tools.each(targets, elm => {\n            purgeDestroyedEditor(self.get(elm.id));\n          });\n          targets = Tools.grep(targets, elm => {\n            return !self.get(elm.id);\n          });\n          if (targets.length === 0) {\n            provideResults([]);\n          } else {\n            each(targets, elm => {\n              if (isInvalidInlineTarget(options, elm)) {\n                initError('Could not initialize inline editor on invalid inline target element', elm);\n              } else {\n                createEditor(createId(elm), options, elm);\n              }\n            });\n          }\n        };\n        DOM.bind(window, 'ready', initEditors);\n        return new Promise(resolve => {\n          if (result) {\n            resolve(result);\n          } else {\n            provideResults = editors => {\n              resolve(editors);\n            };\n          }\n        });\n      },\n      get(id) {\n        if (arguments.length === 0) {\n          return editors.slice(0);\n        } else if (isString(id)) {\n          return find$2(editors, editor => {\n            return editor.id === id;\n          }).getOr(null);\n        } else if (isNumber(id)) {\n          return editors[id] ? editors[id] : null;\n        } else {\n          return null;\n        }\n      },\n      add(editor) {\n        const self = this;\n        const existingEditor = self.get(editor.id);\n        if (existingEditor === editor) {\n          return editor;\n        }\n        if (existingEditor === null) {\n          editors.push(editor);\n        }\n        toggleGlobalEvents(true);\n        self.activeEditor = editor;\n        self.dispatch('AddEditor', { editor });\n        if (!beforeUnloadDelegate) {\n          beforeUnloadDelegate = e => {\n            const event = self.dispatch('BeforeUnload');\n            if (event.returnValue) {\n              e.preventDefault();\n              e.returnValue = event.returnValue;\n              return event.returnValue;\n            }\n          };\n          window.addEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        return editor;\n      },\n      createEditor(id, options) {\n        return this.add(new Editor(id, options, this));\n      },\n      remove(selector) {\n        const self = this;\n        let editor;\n        if (!selector) {\n          for (let i = editors.length - 1; i >= 0; i--) {\n            self.remove(editors[i]);\n          }\n          return;\n        }\n        if (isString(selector)) {\n          each(DOM.select(selector), elm => {\n            editor = self.get(elm.id);\n            if (editor) {\n              self.remove(editor);\n            }\n          });\n          return;\n        }\n        editor = selector;\n        if (isNull(self.get(editor.id))) {\n          return null;\n        }\n        if (removeEditorFromList(editor)) {\n          self.dispatch('RemoveEditor', { editor });\n        }\n        if (editors.length === 0) {\n          window.removeEventListener('beforeunload', beforeUnloadDelegate);\n        }\n        editor.remove();\n        toggleGlobalEvents(editors.length > 0);\n        return editor;\n      },\n      execCommand(cmd, ui, value) {\n        var _a;\n        const self = this;\n        const editorId = isObject(value) ? (_a = value.id) !== null && _a !== void 0 ? _a : value.index : value;\n        switch (cmd) {\n        case 'mceAddEditor': {\n            if (!self.get(editorId)) {\n              const editorOptions = value.options;\n              new Editor(editorId, editorOptions, self).render();\n            }\n            return true;\n          }\n        case 'mceRemoveEditor': {\n            const editor = self.get(editorId);\n            if (editor) {\n              editor.remove();\n            }\n            return true;\n          }\n        case 'mceToggleEditor': {\n            const editor = self.get(editorId);\n            if (!editor) {\n              self.execCommand('mceAddEditor', false, value);\n              return true;\n            }\n            if (editor.isHidden()) {\n              editor.show();\n            } else {\n              editor.hide();\n            }\n            return true;\n          }\n        }\n        if (self.activeEditor) {\n          return self.activeEditor.execCommand(cmd, ui, value);\n        }\n        return false;\n      },\n      triggerSave: () => {\n        each(editors, editor => {\n          editor.save();\n        });\n      },\n      addI18n: (code, items) => {\n        I18n.add(code, items);\n      },\n      translate: text => {\n        return I18n.translate(text);\n      },\n      setActive(editor) {\n        const activeEditor = this.activeEditor;\n        if (this.activeEditor !== editor) {\n          if (activeEditor) {\n            activeEditor.dispatch('deactivate', { relatedTarget: editor });\n          }\n          editor.dispatch('activate', { relatedTarget: activeEditor });\n        }\n        this.activeEditor = editor;\n      },\n      _setBaseUrl(baseUrl) {\n        this.baseURL = new URI(this.documentBaseURL).toAbsolute(baseUrl.replace(/\\/+$/, ''));\n        this.baseURI = new URI(this.baseURL);\n      }\n    };\n    EditorManager.setup();\n\n    const setup = () => {\n      const dataValue = value$2();\n      const FakeClipboardItem = items => ({\n        items,\n        types: keys(items),\n        getType: type => get$a(items, type).getOrUndefined()\n      });\n      const write = data => {\n        dataValue.set(data);\n      };\n      const read = () => dataValue.get().getOrUndefined();\n      const clear = dataValue.clear;\n      return {\n        FakeClipboardItem,\n        write,\n        read,\n        clear\n      };\n    };\n    const FakeClipboard = setup();\n\n    const min = Math.min, max = Math.max, round = Math.round;\n    const relativePosition = (rect, targetRect, rel) => {\n      let x = targetRect.x;\n      let y = targetRect.y;\n      const w = rect.w;\n      const h = rect.h;\n      const targetW = targetRect.w;\n      const targetH = targetRect.h;\n      const relChars = (rel || '').split('');\n      if (relChars[0] === 'b') {\n        y += targetH;\n      }\n      if (relChars[1] === 'r') {\n        x += targetW;\n      }\n      if (relChars[0] === 'c') {\n        y += round(targetH / 2);\n      }\n      if (relChars[1] === 'c') {\n        x += round(targetW / 2);\n      }\n      if (relChars[3] === 'b') {\n        y -= h;\n      }\n      if (relChars[4] === 'r') {\n        x -= w;\n      }\n      if (relChars[3] === 'c') {\n        y -= round(h / 2);\n      }\n      if (relChars[4] === 'c') {\n        x -= round(w / 2);\n      }\n      return create$2(x, y, w, h);\n    };\n    const findBestRelativePosition = (rect, targetRect, constrainRect, rels) => {\n      for (let i = 0; i < rels.length; i++) {\n        const pos = relativePosition(rect, targetRect, rels[i]);\n        if (pos.x >= constrainRect.x && pos.x + pos.w <= constrainRect.w + constrainRect.x && pos.y >= constrainRect.y && pos.y + pos.h <= constrainRect.h + constrainRect.y) {\n          return rels[i];\n        }\n      }\n      return null;\n    };\n    const inflate = (rect, w, h) => {\n      return create$2(rect.x - w, rect.y - h, rect.w + w * 2, rect.h + h * 2);\n    };\n    const intersect = (rect, cropRect) => {\n      const x1 = max(rect.x, cropRect.x);\n      const y1 = max(rect.y, cropRect.y);\n      const x2 = min(rect.x + rect.w, cropRect.x + cropRect.w);\n      const y2 = min(rect.y + rect.h, cropRect.y + cropRect.h);\n      if (x2 - x1 < 0 || y2 - y1 < 0) {\n        return null;\n      }\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const clamp = (rect, clampRect, fixedSize) => {\n      let x1 = rect.x;\n      let y1 = rect.y;\n      let x2 = rect.x + rect.w;\n      let y2 = rect.y + rect.h;\n      const cx2 = clampRect.x + clampRect.w;\n      const cy2 = clampRect.y + clampRect.h;\n      const underflowX1 = max(0, clampRect.x - x1);\n      const underflowY1 = max(0, clampRect.y - y1);\n      const overflowX2 = max(0, x2 - cx2);\n      const overflowY2 = max(0, y2 - cy2);\n      x1 += underflowX1;\n      y1 += underflowY1;\n      if (fixedSize) {\n        x2 += underflowX1;\n        y2 += underflowY1;\n        x1 -= overflowX2;\n        y1 -= overflowY2;\n      }\n      x2 -= overflowX2;\n      y2 -= overflowY2;\n      return create$2(x1, y1, x2 - x1, y2 - y1);\n    };\n    const create$2 = (x, y, w, h) => {\n      return {\n        x,\n        y,\n        w,\n        h\n      };\n    };\n    const fromClientRect = clientRect => {\n      return create$2(clientRect.left, clientRect.top, clientRect.width, clientRect.height);\n    };\n    const Rect = {\n      inflate,\n      relativePosition,\n      findBestRelativePosition,\n      intersect,\n      clamp,\n      create: create$2,\n      fromClientRect\n    };\n\n    const awaiter = (resolveCb, rejectCb, timeout = 1000) => {\n      let done = false;\n      let timer = null;\n      const complete = completer => (...args) => {\n        if (!done) {\n          done = true;\n          if (timer !== null) {\n            clearTimeout(timer);\n            timer = null;\n          }\n          completer.apply(null, args);\n        }\n      };\n      const resolve = complete(resolveCb);\n      const reject = complete(rejectCb);\n      const start = (...args) => {\n        if (!done && timer === null) {\n          timer = setTimeout(() => reject.apply(null, args), timeout);\n        }\n      };\n      return {\n        start,\n        resolve,\n        reject\n      };\n    };\n    const create$1 = () => {\n      const tasks = {};\n      const resultFns = {};\n      const load = (id, url) => {\n        const loadErrMsg = `Script at URL \"${ url }\" failed to load`;\n        const runErrMsg = `Script at URL \"${ url }\" did not call \\`tinymce.Resource.add('${ id }', data)\\` within 1 second`;\n        if (tasks[id] !== undefined) {\n          return tasks[id];\n        } else {\n          const task = new Promise((resolve, reject) => {\n            const waiter = awaiter(resolve, reject);\n            resultFns[id] = waiter.resolve;\n            ScriptLoader.ScriptLoader.loadScript(url).then(() => waiter.start(runErrMsg), () => waiter.reject(loadErrMsg));\n          });\n          tasks[id] = task;\n          return task;\n        }\n      };\n      const add = (id, data) => {\n        if (resultFns[id] !== undefined) {\n          resultFns[id](data);\n          delete resultFns[id];\n        }\n        tasks[id] = Promise.resolve(data);\n      };\n      const unload = id => {\n        delete tasks[id];\n      };\n      return {\n        load,\n        add,\n        unload\n      };\n    };\n    const Resource = create$1();\n\n    const create = () => (() => {\n      let data = {};\n      let keys = [];\n      const storage = {\n        getItem: key => {\n          const item = data[key];\n          return item ? item : null;\n        },\n        setItem: (key, value) => {\n          keys.push(key);\n          data[key] = String(value);\n        },\n        key: index => {\n          return keys[index];\n        },\n        removeItem: key => {\n          keys = keys.filter(k => k === key);\n          delete data[key];\n        },\n        clear: () => {\n          keys = [];\n          data = {};\n        },\n        length: 0\n      };\n      Object.defineProperty(storage, 'length', {\n        get: () => keys.length,\n        configurable: false,\n        enumerable: false\n      });\n      return storage;\n    })();\n\n    let localStorage;\n    try {\n      const test = '__storage_test__';\n      localStorage = window.localStorage;\n      localStorage.setItem(test, test);\n      localStorage.removeItem(test);\n    } catch (e) {\n      localStorage = create();\n    }\n    var LocalStorage = localStorage;\n\n    const publicApi = {\n      geom: { Rect },\n      util: {\n        Delay,\n        Tools,\n        VK,\n        URI,\n        EventDispatcher,\n        Observable,\n        I18n,\n        LocalStorage,\n        ImageUploader\n      },\n      dom: {\n        EventUtils,\n        TreeWalker: DomTreeWalker,\n        TextSeeker,\n        DOMUtils,\n        ScriptLoader,\n        RangeUtils,\n        Serializer: DomSerializer,\n        StyleSheetLoader,\n        ControlSelection,\n        BookmarkManager,\n        Selection: EditorSelection,\n        Event: EventUtils.Event\n      },\n      html: {\n        Styles,\n        Entities,\n        Node: AstNode,\n        Schema,\n        DomParser,\n        Writer,\n        Serializer: HtmlSerializer\n      },\n      Env,\n      AddOnManager,\n      Annotator,\n      Formatter,\n      UndoManager,\n      EditorCommands,\n      WindowManager,\n      NotificationManager,\n      EditorObservable,\n      Shortcuts,\n      Editor,\n      FocusManager,\n      EditorManager,\n      DOM: DOMUtils.DOM,\n      ScriptLoader: ScriptLoader.ScriptLoader,\n      PluginManager,\n      ThemeManager,\n      ModelManager,\n      IconManager,\n      Resource,\n      FakeClipboard,\n      trim: Tools.trim,\n      isArray: Tools.isArray,\n      is: Tools.is,\n      toArray: Tools.toArray,\n      makeMap: Tools.makeMap,\n      each: Tools.each,\n      map: Tools.map,\n      grep: Tools.grep,\n      inArray: Tools.inArray,\n      extend: Tools.extend,\n      walk: Tools.walk,\n      resolve: Tools.resolve,\n      explode: Tools.explode,\n      _addCacheSuffix: Tools._addCacheSuffix\n    };\n    const tinymce = Tools.extend(EditorManager, publicApi);\n\n    const exportToModuleLoaders = tinymce => {\n      if (typeof module === 'object') {\n        try {\n          module.exports = tinymce;\n        } catch (_) {\n        }\n      }\n    };\n    const exportToWindowGlobal = tinymce => {\n      window.tinymce = tinymce;\n      window.tinyMCE = tinymce;\n    };\n    exportToWindowGlobal(tinymce);\n    exportToModuleLoaders(tinymce);\n\n})();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t773: 0,\n\t170: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\n__webpack_require__.O(undefined, [170], () => (__webpack_require__(718)))\nvar __webpack_exports__ = __webpack_require__.O(undefined, [170], () => (__webpack_require__(687)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","bottom","right","left","auto","basePlacements","start","end","clippingParents","viewport","popper","reference","variationPlacements","reduce","acc","placement","concat","beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite","modifierPhases","getNodeName","element","nodeName","toLowerCase","getWindow","node","window","toString","ownerDocument","defaultView","isElement","Element","isHTMLElement","HTMLElement","isShadowRoot","ShadowRoot","name","enabled","phase","fn","_ref","state","Object","keys","elements","forEach","style","styles","attributes","assign","value","removeAttribute","setAttribute","effect","_ref2","initialStyles","position","options","strategy","top","margin","arrow","hasOwnProperty","property","attribute","requires","getBasePlacement","split","Math","max","min","round","getUAString","uaData","navigator","userAgentData","brands","map","item","brand","version","join","userAgent","isLayoutViewport","test","getBoundingClientRect","includeScale","isFixedStrategy","clientRect","scaleX","scaleY","offsetWidth","width","offsetHeight","height","visualViewport","addVisualOffsets","x","offsetLeft","y","offsetTop","getLayoutRect","abs","contains","parent","child","rootNode","getRootNode","next","isSameNode","parentNode","host","getComputedStyle","isTableElement","indexOf","getDocumentElement","document","documentElement","getParentNode","assignedSlot","getTrueOffsetParent","offsetParent","getOffsetParent","isFirefox","currentNode","css","transform","perspective","contain","willChange","filter","getContainingBlock","getMainAxisFromPlacement","within","mergePaddingObject","paddingObject","expandToHashMap","hashMap","key","_state$modifiersData$","arrowElement","popperOffsets","modifiersData","basePlacement","axis","len","padding","rects","toPaddingObject","arrowRect","minProp","maxProp","endDiff","startDiff","arrowOffsetParent","clientSize","clientHeight","clientWidth","centerToReference","center","offset","axisProp","centerOffset","_options$element","querySelector","requiresIfExists","getVariation","unsetSides","mapToStyles","_Object$assign2","popperRect","variation","offsets","gpuAcceleration","adaptive","roundOffsets","isFixed","_offsets$x","_offsets$y","_ref3","hasX","hasY","sideX","sideY","win","heightProp","widthProp","_Object$assign","commonStyles","_ref4","dpr","devicePixelRatio","roundOffsetsByDPR","_ref5","_options$gpuAccelerat","_options$adaptive","_options$roundOffsets","data","passive","instance","_options$scroll","scroll","_options$resize","resize","scrollParents","scrollParent","addEventListener","update","removeEventListener","hash","getOppositePlacement","replace","matched","getOppositeVariationPlacement","getWindowScroll","scrollLeft","pageXOffset","scrollTop","pageYOffset","getWindowScrollBarX","isScrollParent","_getComputedStyle","overflow","overflowX","overflowY","getScrollParent","body","listScrollParents","list","_element$ownerDocumen","isBody","target","updatedList","rectToClientRect","rect","getClientRectFromMixedType","clippingParent","html","layoutViewport","getViewportRect","clientTop","clientLeft","getInnerBoundingClientRect","winScroll","scrollWidth","scrollHeight","direction","getDocumentRect","getClippingRect","boundary","rootBoundary","mainClippingParents","clipperElement","getClippingParents","firstClippingParent","clippingRect","accRect","computeOffsets","commonX","commonY","mainAxis","detectOverflow","_options","_options$placement","_options$strategy","_options$boundary","_options$rootBoundary","_options$elementConte","elementContext","_options$altBoundary","altBoundary","_options$padding","altContext","clippingClientRect","contextElement","referenceClientRect","popperClientRect","elementClientRect","overflowOffsets","offsetData","multiply","_skip","_options$mainAxis","checkMainAxis","_options$altAxis","altAxis","checkAltAxis","specifiedFallbackPlacements","fallbackPlacements","_options$flipVariatio","flipVariations","allowedAutoPlacements","preferredPlacement","oppositePlacement","getExpandedFallbackPlacements","placements","_options$allowedAutoP","allowedPlacements","length","overflows","sort","a","b","computeAutoPlacement","referenceRect","checksMap","Map","makeFallbackChecks","firstFittingPlacement","i","_basePlacement","isStartVariation","isVertical","mainVariationSide","altVariationSide","checks","push","every","check","set","_loop","_i","fittingPlacement","find","get","slice","reset","getSideOffsets","preventedOffsets","isAnySideFullyClipped","some","side","preventOverflow","referenceOverflow","popperAltOverflow","referenceClippingOffsets","popperEscapeOffsets","isReferenceHidden","hasPopperEscaped","_options$offset","invertDistance","skidding","distance","distanceAndSkiddingToXY","_data$state$placement","_options$tether","tether","_options$tetherOffset","tetherOffset","isBasePlacement","tetherOffsetValue","normalizedTetherOffsetValue","offsetModifierState","_offsetModifierState$","mainSide","altSide","additive","minLen","maxLen","arrowPaddingObject","arrowPaddingMin","arrowPaddingMax","arrowLen","minOffset","maxOffset","clientOffset","offsetModifierValue","tetherMax","preventedOffset","_offsetModifierState$2","_mainSide","_altSide","_offset","_len","_min","_max","isOriginSide","_offsetModifierValue","_tetherMin","_tetherMax","_preventedOffset","v","withinMaxClamp","getCompositeRect","elementOrVirtualElement","isOffsetParentAnElement","offsetParentIsScaled","isElementScaled","order","modifiers","visited","Set","result","modifier","add","dep","has","depModifier","DEFAULT_OPTIONS","areValidElements","arguments","args","Array","_key","popperGenerator","generatorOptions","_generatorOptions","_generatorOptions$def","defaultModifiers","_generatorOptions$def2","defaultOptions","pending","orderedModifiers","effectCleanupFns","isDestroyed","setOptions","setOptionsAction","cleanupModifierEffects","orderModifiers","merged","current","existing","mergeByName","m","_ref3$options","cleanupFn","noopFn","forceUpdate","_state$elements","index","_state$orderedModifie","_state$orderedModifie2","Promise","resolve","then","undefined","destroy","onFirstUpdate","createPopper","eventListeners","TRANSITION_END","getSelector","selector","getAttribute","hrefAttribute","includes","startsWith","trim","getSelectorFromElement","getElementFromSelector","triggerTransitionEnd","dispatchEvent","Event","object","jquery","nodeType","getElement","isVisible","getClientRects","elementIsVisible","getPropertyValue","closedDetails","closest","summary","isDisabled","Node","ELEMENT_NODE","classList","disabled","hasAttribute","findShadowRoot","attachShadow","root","noop","reflow","getjQuery","jQuery","DOMContentLoadedCallbacks","isRTL","dir","defineJQueryPlugin","plugin","callback","$","NAME","JQUERY_NO_CONFLICT","jQueryInterface","Constructor","noConflict","readyState","execute","executeAfterTransition","transitionElement","waitForTransition","emulatedDuration","transitionDuration","transitionDelay","floatTransitionDuration","Number","parseFloat","floatTransitionDelay","getTransitionDurationFromElement","called","handler","setTimeout","getNextActiveElement","activeElement","shouldGetNext","isCycleAllowed","listLength","namespaceRegex","stripNameRegex","stripUidRegex","eventRegistry","uidEvent","customEvents","mouseenter","mouseleave","nativeEvents","makeEventUid","uid","getElementEvents","findHandler","events","callable","delegationSelector","values","event","normalizeParameters","originalTypeEvent","delegationFunction","isDelegated","typeEvent","getTypeEvent","addHandler","oneOff","wrapFunction","relatedTarget","delegateTarget","call","this","handlers","previousFunction","domElements","querySelectorAll","domElement","hydrateObj","EventHandler","off","type","apply","bootstrapDelegationHandler","bootstrapHandler","removeHandler","Boolean","removeNamespacedHandlers","namespace","storeElementEvent","handlerKey","on","one","inNamespace","isNamespace","elementEvent","keyHandlers","trigger","jQueryEvent","bubbles","nativeDispatch","defaultPrevented","isPropagationStopped","isImmediatePropagationStopped","isDefaultPrevented","evt","cancelable","preventDefault","obj","meta","entries","_unused","defineProperty","configurable","elementMap","Data","instanceMap","size","console","error","from","remove","delete","normalizeData","JSON","parse","decodeURIComponent","normalizeDataKey","chr","Manipulator","setDataAttribute","removeDataAttribute","getDataAttributes","bsKeys","dataset","pureKey","charAt","getDataAttribute","Config","Default","DefaultType","Error","_getConfig","config","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","jsonConfig","constructor","configTypes","expectedTypes","valueType","prototype","match","RegExp","TypeError","toUpperCase","BaseComponent","super","_element","_config","DATA_KEY","dispose","EVENT_KEY","propertyName","getOwnPropertyNames","_queueCallback","isAnimated","static","getInstance","VERSION","enableDismissTrigger","component","method","clickEvent","tagName","getOrCreateInstance","Alert","close","_destroyElement","each","SELECTOR_DATA_TOGGLE$5","Button","toggle","button","SelectorEngine","findOne","children","matches","parents","ancestor","prev","previous","previousElementSibling","nextElementSibling","focusableChildren","focusables","el","EVENT_KEY$9","Default$c","endCallback","leftCallback","rightCallback","DefaultType$c","Swipe","isSupported","_deltaX","_supportPointerEvents","PointerEvent","_initEvents","_start","_eventIsPointerPenTouch","clientX","touches","_end","_handleSwipe","_move","absDeltaX","pointerType","maxTouchPoints","ORDER_NEXT","ORDER_PREV","DIRECTION_LEFT","DIRECTION_RIGHT","EVENT_SLID","CLASS_NAME_CAROUSEL","CLASS_NAME_ACTIVE$2","SELECTOR_ACTIVE","SELECTOR_ITEM","KEY_TO_DIRECTION","Default$b","interval","keyboard","pause","ride","touch","wrap","DefaultType$b","Carousel","_interval","_activeElement","_isSliding","touchTimeout","_swipeHelper","_indicatorsElement","_addEventListeners","cycle","_slide","nextWhenVisible","hidden","_clearInterval","_updateInterval","setInterval","_maybeEnableCycle","to","items","_getItems","activeIndex","_getItemIndex","_getActive","defaultInterval","_keydown","_addTouchEventListeners","img","swipeConfig","_directionToOrder","clearTimeout","_setActiveIndicatorElement","activeIndicator","newActiveIndicator","elementInterval","parseInt","isNext","nextElement","nextElementIndex","triggerEvent","eventName","_orderToDirection","isCycling","directionalClassName","orderClassName","_isAnimated","clearInterval","carousel","slideIndex","carousels","CLASS_NAME_SHOW$7","CLASS_NAME_COLLAPSE","CLASS_NAME_COLLAPSING","SELECTOR_DATA_TOGGLE$4","Default$a","DefaultType$a","Collapse","_isTransitioning","_triggerArray","toggleList","elem","filterElement","foundElement","_initializeChildren","_addAriaAndCollapsedClass","_isShown","hide","show","activeChildren","_getFirstLevelChildren","activeInstance","dimension","_getDimension","scrollSize","selected","triggerArray","isOpen","selectorElements","NAME$a","ARROW_UP_KEY$1","ARROW_DOWN_KEY$1","EVENT_CLICK_DATA_API$3","EVENT_KEYDOWN_DATA_API","CLASS_NAME_SHOW$6","SELECTOR_DATA_TOGGLE$3","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","PLACEMENT_TOP","PLACEMENT_TOPEND","PLACEMENT_BOTTOM","PLACEMENT_BOTTOMEND","PLACEMENT_RIGHT","PLACEMENT_LEFT","Default$9","autoClose","display","popperConfig","DefaultType$9","Dropdown","_popper","_parent","_menu","_inNavbar","_detectNavbar","_createPopper","focus","_completeHide","referenceElement","_getPopperConfig","_getPlacement","parentDropdown","isEnd","_getOffset","popperData","defaultBsPopperConfig","_selectMenuItem","openToggles","context","composedPath","isMenuTarget","isInput","isEscapeEvent","isUpOrDownEvent","getToggleButton","stopPropagation","dataApiKeydownHandler","clearMenus","SELECTOR_FIXED_CONTENT","SELECTOR_STICKY_CONTENT","PROPERTY_PADDING","PROPERTY_MARGIN","ScrollBarHelper","getWidth","documentWidth","innerWidth","_disableOverFlow","_setElementAttributes","calculatedValue","_resetElementAttributes","isOverflowing","_saveInitialAttribute","styleProperty","scrollbarWidth","_applyManipulationCallback","setProperty","actualValue","removeProperty","callBack","sel","NAME$9","CLASS_NAME_SHOW$5","EVENT_MOUSEDOWN","Default$8","className","clickCallback","rootElement","DefaultType$8","Backdrop","_isAppended","_append","_getElement","_emulateAnimation","backdrop","createElement","append","EVENT_KEY$5","TAB_NAV_BACKWARD","Default$7","autofocus","trapElement","DefaultType$7","FocusTrap","_isActive","_lastTabNavDirection","activate","_handleFocusin","_handleKeydown","deactivate","shiftKey","EVENT_KEY$4","EVENT_HIDDEN$4","EVENT_SHOW$4","CLASS_NAME_OPEN","CLASS_NAME_SHOW$4","CLASS_NAME_STATIC","Default$6","DefaultType$6","Modal","_dialog","_backdrop","_initializeBackDrop","_focustrap","_initializeFocusTrap","_scrollBar","_adjustDialog","_showElement","_hideModal","htmlElement","handleUpdate","modalBody","_triggerBackdropTransition","event2","_resetAdjustments","isModalOverflowing","initialOverflowY","isBodyOverflowing","paddingLeft","paddingRight","showEvent","alreadyOpen","CLASS_NAME_SHOW$3","CLASS_NAME_SHOWING$1","CLASS_NAME_HIDING","OPEN_SELECTOR","EVENT_HIDE_PREVENTED","EVENT_HIDDEN$3","Default$5","DefaultType$5","Offcanvas","blur","uriAttributes","SAFE_URL_PATTERN","DATA_URL_PATTERN","allowedAttribute","allowedAttributeList","attributeName","nodeValue","attributeRegex","regex","DefaultAllowlist","area","br","col","code","div","em","hr","h1","h2","h3","h4","h5","h6","li","ol","p","pre","s","small","span","sub","sup","strong","u","ul","Default$4","allowList","content","extraClass","sanitize","sanitizeFn","template","DefaultType$4","DefaultContentType","entry","TemplateFactory","getContent","_resolvePossibleFunction","hasContent","changeContent","_checkContent","toHtml","templateWrapper","innerHTML","_maybeSanitize","text","_setContent","arg","templateElement","_putElementInTemplate","textContent","unsafeHtml","sanitizeFunction","createdDocument","DOMParser","parseFromString","elementName","attributeList","allowedAttributes","sanitizeHtml","DISALLOWED_ATTRIBUTES","CLASS_NAME_FADE$2","CLASS_NAME_SHOW$2","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","AttachmentMap","AUTO","TOP","RIGHT","BOTTOM","LEFT","Default$3","animation","container","customClass","delay","title","DefaultType$3","Tooltip","_isEnabled","_timeout","_isHovered","_activeTrigger","_templateFactory","_newContent","tip","_setListeners","_fixTitle","enable","disable","toggleEnabled","click","_leave","_enter","_hideModalHandler","_disposePopper","_isWithContent","isInTheDom","_getTipElement","_isWithActiveTrigger","_getTitle","_createTipElement","_getContentForTemplate","_getTemplateFactory","tipId","prefix","floor","random","getElementById","getUID","setContent","_initializeOnDelegatedTarget","_getDelegateConfig","attachment","triggers","eventIn","eventOut","_setTimeout","timeout","dataAttributes","dataAttribute","Default$2","DefaultType$2","Popover","_getContent","EVENT_CLICK","CLASS_NAME_ACTIVE$1","SELECTOR_TARGET_LINKS","Default$1","rootMargin","smoothScroll","threshold","DefaultType$1","ScrollSpy","_targetLinks","_observableSections","_rootElement","_activeTarget","_observer","_previousScrollData","visibleEntryTop","parentScrollTop","refresh","_initializeTargetsAndObservables","_maybeEnableSmoothScroll","disconnect","_getNewObserver","section","observe","observableSection","scrollTo","behavior","IntersectionObserver","_observerCallback","targetElement","id","_process","userScrollsDown","isIntersecting","_clearActiveClass","entryIsLowerThanPrevious","targetLinks","anchor","_activateParents","listGroup","activeNodes","spy","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","CLASS_NAME_ACTIVE","CLASS_NAME_FADE$1","CLASS_NAME_SHOW$1","SELECTOR_DATA_TOGGLE","SELECTOR_INNER_ELEM","Tab","_setInitialAttributes","_getChildren","innerElem","_elemIsActive","active","_getActiveElem","hideEvent","_deactivate","_activate","relatedElem","_toggleDropDown","nextActiveElement","preventScroll","_setAttributeIfNotExists","_setInitialAttributesOnChild","_getInnerElement","isActive","outerElem","_getOuterElement","_setInitialAttributesOnTargetPanel","open","CLASS_NAME_HIDE","CLASS_NAME_SHOW","CLASS_NAME_SHOWING","autohide","Toast","_hasMouseInteraction","_hasKeyboardInteraction","_clearTimeout","_maybeScheduleHide","isShown","_onInteraction","isInteracting","reactive","release","raw","flushPending","flushing","queue","scheduler","job","queueMicrotask","flushJobs","queueJob","dequeueJob","splice","shouldSchedule","overrideEffect","override","onAttributeAddeds","onElRemoveds","onElAddeds","onElRemoved","_x_cleanups","cleanupAttributes","names","_x_attributeCleanups","observer","MutationObserver","onMutate","currentlyObserving","startObservingMutations","subtree","childList","attributeOldValue","stopObservingMutations","recordQueue","takeRecords","willProcessRecordQueue","mutateDom","isCollecting","deferredMutations","mutations","addedNodes","removedNodes","addedAttributes","removedAttributes","_x_ignoreMutationObserver","oldValue","add2","attrs","pop","_x_ignoreSelf","_x_ignore","isConnected","scope","mergeProxies","closestDataStack","addScopeToNode","data2","referenceNode","_x_dataStack","refreshScope","scope2","existingScope","objects","thisProxy","Proxy","ownKeys","flatMap","descriptor","getOwnPropertyDescriptor","_x_alreadyBound","enumerable","getter","setter","bind","closestObjectWithKey","initInterceptors","recurse","basePath","getOwnPropertyDescriptors","path","val","_x_interceptor","initialize","isArray","interceptor","mutateObj","initialValue","carry","segment","innerValue","magics","magic","injectMagics","utilities","cleanup2","getElementBoundUtilities","tryCatch","expression","e","handleError","error2","warn","message","shouldAutoEvaluateFunctions","evaluate","extras","evaluateLater","theEvaluatorFunction","normalEvaluator","overriddenMagics","dataStack","func","receiver","params","runIfTypeOfFunction","generateEvaluatorFromFunction","evaluator","evaluatorMemo","AsyncFunction","getPrototypeOf","async","rightSideSafeExpression","safeAsyncFunction","generateFunctionFromString","finished","completeScope","promise","catch","finally","generateEvaluatorFromString","prefixAsString","subject","directiveHandlers","directive","directives","originalAttributeOverride","_x_virtualDirectives","vAttributes","staticAttributes","attributesOnly","attr","transformedAttributeMap","directives2","toTransformedAttributes","newName","oldName","outNonAlpineAttributes","typeMatch","alpineAttributeRegex","valueMatch","original","toParsedDirectives","byPriority","directive2","handler3","onAttributeRemoved","fullHandler","inline","isDeferringHandlers","directiveHandlerStacks","currentHandlerStackKey","runCleanups","getDirectiveHandler","Symbol","cleanups","effect3","cleanupEffect","effectReference","_x_effects","_x_runEffects","elementBoundEffect","Alpine","alpine_default","cleanup","startingWith","replacement","newValue","attributeTransformers","mapAttributes","DEFAULT","directiveOrder","typeA","typeB","dispatch","detail","CustomEvent","composed","tickStack","isHolding","nextTick","releaseNextTicks","res","shift","walk","el2","skip","firstElementChild","rootSelectorCallbacks","initSelectorCallbacks","rootSelectors","allSelectors","addRootSelector","selectorCallback","addInitSelector","closestRoot","includeInitSelectors","findClosest","_x_teleportBack","parentElement","initTree","walker","flushHandlers","deferHandlingDirectives","handle","setClasses","setClassesFromString","classObject","classString","forAdd","bool","forRemove","added","removed","setClassesFromObject","classes","setStyles","previousStyles","value2","setStylesFromObject","cache","setStylesFromString","once","fallback","registerTransitionObject","setFunction","defaultValue","_x_transition","enter","during","leave","in","before","after","transition","out","closestHide","_x_hidePromise","start2","_x_transitioning","cancel","undoStart","undoDuring","undoEnd","stages","interrupted","reachedBefore","reachedEnd","finish","beforeCancels","beforeCancel","requestAnimationFrame","duration","animationDuration","performTransition","modifierValue","rawValue","isNaN","evaluate2","stage","registerTransitionsFromClassString","doesntSpecify","transitioningIn","transitioningOut","wantsAll","wantsOpacity","wantsScale","opacityValue","scaleValue","origin","durationIn","durationOut","easing","transformOrigin","transitionProperty","transitionTimingFunction","opacity","registerTransitionsFromHelper","_x_toggleAndCascadeWithTransitions","nextTick2","visibilityState","clickAwayCompatibleShow","reject","isFromCancelledTransition","_x_hideChildren","hideAfterChildren","all","isCloning","skipDuringClone","_x_bindings","char","fromModel","checked","checkedAttrLooseCompare","isInteger","String","arrayWrappedValue","option","updateSelect","bindInputValue","_x_undoAddedStyles","bindStyles","_x_undoAddedClasses","bindClasses","attributeShouldntBePreservedIfFalsy","isBooleanAttr","attrName","setIfChanged","bindAttribute","valueA","valueB","wait","later","throttle","limit","inThrottle","stores","isReactive","binds","applyBindingsObject","cleanupRunners","datas","flushAndStopDeferringMutations","dontAutoEvaluateFunctions","disableEffectScheduling","setReactivityEngine","engine","task","deferMutations","setEvaluator","newEvaluator","debounce","prefixed","newPrefix","store","init","onAttributesAdded","clone","oldEl","newEl","callback2","storedEffect","dontRegisterReactiveSideEffects","hasRunThroughFirstEl","el3","isRoot","cloneTree","bound","$data","bindings","getBindings","makeMap","str","expectsLowerCase","create","activeEffect","EMPTY_OBJ","freeze","extend","hasOwn","isMap","toTypeString","isSymbol","isObject","objectToString","toRawType","isIntegerKey","cacheStringFunction","camelizeRE","hyphenateRE","_","c","capitalize","hasChanged","targetMap","WeakMap","effectStack","ITERATE_KEY","MAP_KEY_ITERATE_KEY","deps","shouldTrack","trackStack","resetTracking","last","track","depsMap","onTrack","oldTarget","effects","effectsToAdd","allowRecurse","key2","onTrigger","isNonTrackableKeys","builtInSymbols","get2","createGetter","shallowGet","readonlyGet","shallowReadonlyGet","arrayInstrumentations","isReadonly","shallow","shallowReadonlyMap","readonlyMap","shallowReactiveMap","reactiveMap","targetIsArray","Reflect","isRef","readonly","reactive2","createSetter","toRaw","hadKey","arr","l","mutableHandlers","deleteProperty","readonlyHandlers","toReactive","toReadonly","toShallow","getProto","get$1","isShallow","rawTarget","rawKey","has2","has$1","set$1","get3","checkIdentityKeys","deleteEntry","clear","hadItems","createForEach","thisArg","observed","createIterableMethod","targetIsMap","isPair","iterator","isKeyOnly","innerIterator","done","createReadonlyMethod","mutableInstrumentations","shallowInstrumentations","readonlyInstrumentations","shallowReadonlyInstrumentations","createInstrumentationGetter","instrumentations","mutableCollectionHandlers","readonlyCollectionHandlers","createReactiveObject","baseHandlers","collectionHandlers","proxyMap","existingProxy","targetType","isExtensible","rawType","targetTypeMap","proxy","r","__v_isRef","evaluateLater2","firstTime","stringify","_x_refs_proxy","refObjects","currentEl","_x_refs","getArrayOfRefObject","globalIdMemo","findAndIncrementId","warnMissingPluginMagic","magicName","slug","directiveName","_x_ids","closestIdRoot","innerGet","evaluateInnerSet","innerSet","__placeholder","_x_model","_x_removeModelListeners","outerGet","outerSet","clone2","cloneNode","_x_teleport","_x_forwardEvents","appendChild","listenerTarget","wrapHandler","wrapper","camelCase2","capture","_x_isShown","isKeyEvent","keyModifiers","debounceIndex","isNumeric","keyToModifiers","selectedSystemKeyModifiers","isListeningForASpecificKeyThatHasntBeenPressed","nextModifier","modifierToKeyMap","ctrl","slash","space","spacebar","cmd","esc","up","down","period","equal","safeParseNumber","number","getIterationScopeVariables","iteratorNames","scopeVariables","collection","handler2","warnMissingPluginDirective","directiveName2","evaluateAssignment","assigmentFunction","currentValue","multiple","selectedOptions","generateAssignmentFunction","removeListener","$event","rightSideOfExpression","evaluateSetModel","_x_forceModelUpdate","bindingProviders","_x_keyExpression","storeKeyForXFor","magicContext","dataProviderContext","reactiveData","undo","_x_doHide","_x_doShow","forIteratorRE","stripParensRE","forAliasRE","inMatch","iteratorMatch","parseForExpression","evaluateItems","evaluateKey","_x_prevKeys","_x_lookup","isObject2","templateEl","lookup","prevKeys","scopes","adds","moves","removes","sames","lastKey","prevIndex","keyInSpot","keyForSpot","elInSpot","elForSpot","marker","_x_currentIfEl","lastKey2","lastEl","importNode","loop","_x_undoIf","setIdRoot","_isEffect","isEffect","createReactiveEffect","lazy","onStop","module_default","hover","vSrc","player","unMute","hasClass","toShow","addClass","removeClass","exports","extendStatics","d","setPrototypeOf","__proto__","__extends","__","__assign","t","n","__spreadArray","pack","ar","i$1","o","r$1","f$1","e$1","c$1","removeChild","a$1","f","defaultProps","v$1","props","ref","__k","__b","__e","__d","__c","__h","__v","vnode","base","k","b$1","__r","debounceRendering","__P","I$1","__n","ownerSVGElement","T$1","h","w","A","P","g$1","x$1","L$1","z","w$1","nextSibling","insertBefore","P$1","C$1","cssText","H$1","$$1","g","contextType","__E","render","M$1","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","j$2","diffed","localName","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","__html","A$1","firstChild","unmount","componentWillUnmount","N","getDerivedStateFromError","setState","componentDidCatch","__H","j$1","cancelAnimationFrame","S","E","isPureReactComponent","__f","O","L","__u","U","F","__R","__O","C","M","revealOrder","T","j","reverse","W","for","V","isReactComponent","writable","H","Z","Y","cancelBubble","persist","nativeEvent","G","class","J","$$typeof","K","performance","now","globalObj","globalThis","FullCalendarVDom","Component","createRef","Fragment","createContext","ContextType","Consumer","Provider","q","origProvider","_this","isNew","subs_1","_props","old","createPortal","flushSync","runBeforeFlush","oldDebounceRendering","callbackQ","execCallbackSync","FakeComponent","unmountComponentAtNode","_super","EventSourceApi","internalEventSource","sourceId","refetch","sourceIds","isRefetch","publicId","url","format","removeElement","elementClosest","elementMatches","matchesSelector","msMatchesSelector","findElements","containers","allMatches","PIXEL_PROP_RE","applyStyle","propName","applyStyleProp","getEventTargetViaRoot","ev","_a","_b","getElRoot","guid$1","getUniqueDomId","listenBySelector","eventType","attachedHandler","matchedChild","buildDelegationHandler","transitionEventNames","whenTransitionDone","realCallback","createAriaClickAttrs","onClick","createAriaKeyboardAttrs","tabIndex","onKeyDown","guidNumber","guid","disableCursor","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","token","specs","tokens","field","substring","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","localeCompare","padStart","substr","formatWithOrdinals","formatter","fallbackText","compareNumbers","isInt","computeSmallestCellWidth","cellEl","allWidthEl","contentWidthEl","DAY_IDS","addWeeks","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","milliseconds","diffWholeWeeks","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","weekOfGivenYear","year","dow","doy","firstWeekStart","firstWeekOffset","dayStart","fwd","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","UTC","isValidDate","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","name_2","filterHash","filtered","mapHash","newHash","arrayToHash","a_1","hashValuesToArray","isPropsEqual","getUnequalProps","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","expandRecurring","eventStore","framingRange","dateEnv","pluginHooks","defs","instances","recurringDef","def","allDay","defaultAllDayEventDuration","defaultTimedEventDuration","starts_1","expandRecurringRanges","recurringTypes","eventDef","markers","typeId","expand","typeData","subtract","INTERNAL_UNITS","PARSE_RE","createDuration","unit","exec","sign","parseString","parseObject","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","addDurations","d0","d1","multiplyDuration","asRoughDays","dur","asRoughMs","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","mins","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","memoizeObjArg","currentArg","newArg","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","ca","getMarkerYear","getMarkerMonth","getMarkerDay","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialFormattingFunc","biggestUnit","partialOptions","computePartialFormattingOptions","partial0","partial1","insertion","i0","found0","before0","after0","i1","found1","before1","after1","findCommonInsertion","defaultSeparator","getLargestUnit","standardDatePropCnt","num","weekText","weekTextLong","locale","parts","simpleNumberFormat","computeWeekNumber","sanitizeSettings","timeZone","zeroFormat","normalFormat","Intl","DateTimeFormat","codes","zeroProps","tzoStr","replaced","injectTzoStr","toLocaleLowerCase","postProcess","buildNativeFormattingFunc","expandZonedMarker","dateInfo","markerToArray","array","createVerboseFormattingArg","startInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","defaultAllDay","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","moreLinkHint","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","eventInteractive","noEventsText","viewHint","navLinkHint","closeHint","timeHint","eventHint","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","buttonHints","views","initialEvents","eventSources","COMPLEX_OPTION_COMPARATORS","isMaybeObjectsEqual","VIEW_OPTION_REFINERS","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","refined","extra","parseEvents","rawEvents","eventSource","allowOpenRange","eventRefiners","buildEventRefiners","rawEvents_1","tuple","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","def0","def1","groupId","createEmptyEventStore","mergeEventStores","store0","store1","filterFunc","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","normalizeConstraint","combineEventUis","uis","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","interactive","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parsed","allDayGuess","parseRecurring","parseEventDef","singleRes","startMeta","endMeta","startMarker","hasEnd","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","parseSingle","ui","eventDefMemberAdders","memberAdder","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","invertRanges","ranges","constraintRange","dateRange","invertedRanges","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","getSegAnchorAttrs","href","emitter","hasHandlers","EventApi","jsEvent","view","viewApi","STANDARD_PROPS","parseDateSpan","defaultDuration","standardProps","parseOpenDateSpan","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildRangeApiWithTimeZone","omitTime","buildRangeApi","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","buildDateSpanApiWithContext","origEvent","calendarApi","dateSpanTransforms","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS$1","success","failure","parseEventSource","rawObj","buildEventSourceRefiners","metaRes","eventSourceDefs","parseMeta","sourceDefId","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","eventSourceRefiners","getNow","nowInput","createNowMarker","createMarker","CalendarApi","currentDataManager","action","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","handlerName","currentCalendarOptionsRefiners","changeView","viewType","dateOrRange","dateMarker","zoomTo","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","header","viewsWithButtons","footer","singleUnit","prevYear","addYears","currentDate","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","settings","dateOrObj","endDate","selectionInput","dateSelection","triggerDateUnselect","addEvent","eventInput","sourceInput","_def","_instance","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","relatedEvents","revert","eventApiToStore","getEventById","getEvents","currentData","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","granularity","maintainDuration","setEnd","endInput","setDates","instanceRange","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","theClass","GregorianCalendarSystem","arrayToMarker","ISO_RE","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","createCalendarSystem","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","diffHours","diffMinutes","diffSeconds","countDurationsBetween","diff","asRoughMonths","startOf","startOfYear","startOfMonth","startOfWeek","startOfHour","startOfMinute","startOfSecond","nextW","weekOfYear","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","MINIMAL_RAW_EN_LOCALE","RAW_EN_LOCALE","eventCnt","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","codeArg","simpleId","queryRawLocale","parseLocale","queryLocale","NumberFormat","buildDateEnv$1","canVGrowWithinCell","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","rawDefs","rawDef","refineInputs","pointInsideRect","point","intersectRects","rect1","rect2","constrainPoint","getRectCenter","diffPoints","point1","point2","getCanVGrowWithinCell","possible","computeCanVGrowWithinCell","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","keys_1","getKeysForDateSpan","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isOther","getDayClassNames","theme","getClass","DAY_FORMAT","WEEK_FORMAT","buildNavLinkAttrs","isTabbable","dateStr","zonedDate","handleInteraction","customAction","_scrollbarWidths","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","outerEl","border","computeIsRtlScrollbarOnLeft","getScrollbarWidths","computeScrollbarWidthsForEl","computeScrollbarWidths","computeEdges","getPadding","computedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","unpromisify","isResolved","wrappedSuccess","wrappedFailure","Emitter","thisContext","setThisContext","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","PositionCache","originEl","els","isHorizontal","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","setScrollTop","setScrollLeft","WindowScrollController","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","iconOverridePrefix","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","nextProps","nextState","debug","log","propEquality","stateEquality","safeSetState","newState","addPropsEquality","addStateEquality","setRef","DateComponent","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildBuildPluginHooks","currentHooks","currentOverrideDefs","currentGlobalDefs","overrideDefs","globalDefs","pluginDefs","isAdded","hooks","addDefs","defs_1","hooks1","hooks0","buildPluginHooks","StandardTheme","ensureViewDef","defaultConfigs","overrideConfigs","viewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","buildViewDef","tableCellShaded","buttonGroup","buttonActive","RenderHook","rootElRef","handleRootEl","elRef","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","renderId","ContentHookInner","renderInnerContent","updateCustomContent","customContentInfo","getInnerContent","getContentMeta","contentKey","contentVal","buildLifecycleFuncs","normalizeContent","searchKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","compileViewDefs","durationInput","durationUnit","singleUnitOverrides","json","durationInputMap","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","queryButtonTitle","buttonKey","optionDefaults","buttonTextOverride","buttonTextDefault","buttonTitleOverride","buttonHint","buttonTitleDefault","buildViewSpec","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","computeRes","isHiddenDay","skipHiddenDays","runningCount","visibleRangeInput","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","initEventSources","addSources","rawSources","rawSources_1","source","parseInitialSources","reduceEventSources","eventSourceHash","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","fetchId","receiveResponse","computeEventSourcesLoading","sources_1","doesSourceNeedRange","isSourceDirty","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","ignoreRange","reduceEventStore","subset","calEachTransform","sourceEachTransform","transformEachRawEvent","transformRawEvents","excludeEventsBySourceId","receiveRawEvents","expandRange","master","filteredDefs","filteredInstances","excludeSubEventStore","refinedEvents","rawEvent","refinedEvent","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionWidgets","hasTitle","sectionName","sectionRes","parseSection","widgets","sectionStr","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","calendarButtonHintOverrides","calendarButtonHints","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","hint","textFallback","prevOrNext","navUnit","requestJson","successCallback","failureCallback","encodeParams","injectQueryStringParams","XMLHttpRequest","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","globalPlugins","extraParams","requestParams","customRequestParams","buildRequestParams$1","errorMessage","startRecur","endRecur","recurringData","clippedFramingRange","dowHash","dayMarker","instanceStarts","instanceStart","expandRanges","currentHtml","domNodes","currentDomNodes","newDomNodes","newDomNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","isPaused","tryDrain","resume","force","drained","TaskRunner","runTaskOption","delayedRunner","completedTasks","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","optionsData","currentViewType","currentViewData","initialDateInput","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","reduceDynamicOptionOverrides","reduceViewType","reduceCurrentDate","dp","reduceDateProfile","eventUiSingleBase","eventUiBySource","wasLoading","isLoading","onAction","oldDateEnv","newDateEnv","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","prevProps","newOptionOverrides","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","intersectSpans","lateral","insertAt","level","buildEntryKey","newEntry","levelCnt","candidateCoord","touchingLevel","touchingLateral","trackingLevel","trackingCoord","trackingEntries","trackingEntry","searchRes","binarySearch","getEntrySpanEnd","lateralIndex","trackingEntryBottom","destLevel","destLateral","toRects","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","setMirrorNeedsRevert","setAutoScrollEnabled","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","titleId","isPressed","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","buttonClasses","groupClassName","Toolbar","startContent","endContent","model","extraClassName","forceLtr","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","labeledById","EventClicking","handleSegClick","segEl","hasUrlContainer","location","EventHovering","onMouseEnter","onMouseLeave","currentMatchedChild","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","removeHoverListeners","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","headerRef","footerRef","interactionsStore","viewLabelId","settingsInput","interactions","TheInteractionClass","listeners","listeners_1","resizeRunner","viewAspectRatio","toolbarProps","viewVGrow","isHeightAuto","forPrint","viewContext","renderView","buildAppendContent","CalendarInteractionClass","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","extraHookProps","role","colSpan","extraDataAttrs","isSticky","WEEKDAY_FORMAT","TableDowCell","dateMeta","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","removals","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","isInteractionPropsValid","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","isDateSelectionPropsValid","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","marginBottom","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","refCallback","collect","getAll","computeShrinkWidth","chunkEls","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","isHeader","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","currentConfig","configCnt","configI","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","roleAttrs","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","sections_1","getSectionByKey","scrollerElRef","scroller","harnessEl","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$4","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","renderInnerContent$3","WeekNumberRoot","defaultFormat","renderInner","handleDocumentMouseDown","handleCloseClick","handleDocumentKeyDown","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","clippingParents_1","intersection","computeClippedClientRect","popoverDims","popoverTop","popoverLeft","origin_1","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","popoverId","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner$1","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","pickLatestEnd","pickEarliestStart","seg0","seg1","Calendar","isRendering","isRendered","customContentRenderId","handleAction","renderRunner","handleRenderRequest","currentData_1","setClassNames","setHeight","wasRendering","pauseRendering","resumeRendering","classNames_1","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","ctrlKey","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","deltaX","origPageX","deltaY","origPageY","onWindowTouchMove","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","ElementMirror","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","doRevertAnimation","finalSourceElRect","getMirrorEl","visibility","boxSizing","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","scrollStartEl","buildCaches","yDelta","xDelta","scrollCache","invDistance","velocity","bestSide","scrollCaches_1","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","subjectRect","origPoint","adjustedPoint","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","dateSpan0","dateSpan1","dateSelectionTransformers_1","joinHitsIntoSelection","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","massagers","massagers_1","massager","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","EventResizing","draggingSegEl","draggingSeg","querySegEl","isFromStart","computeMutation","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS$3","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","defProps","computeEventForDateSpan","finalView","addingEvents_1","dataAttrPrefix","prefixedName","getEmbeddedElData","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","interactionPlugin","TableView","headerElRef","renderSimpleLayout","headerRowContent","bodyContent","renderHScrollLayout","ScrollGrid","chunks","colGroups","splitSegsByRow","byRow","splitSegsByFirstCol","byCol","splitInteractionByRow","TableCellTop","renderTopInner","forceDayTop","dayNumberId","DEFAULT_TABLE_EVENT_TIME_FORMAT","hasListItemDisplay","TableBlockEvent","TableListItemEvent","renderInnerContent$2","TableCellMoreLink","compileSegs","singlePlacements","invisibleSegs","isForcedInvisible","isExpanded","singlePlacements_1","DEFAULT_WEEK_NUM_FORMAT$1","TableCell","dayElRef","rootDataAttrs","showWeekNumber","weekElRef","weekClassNames","fgContentElRef","fgContent","marginTop","moreMarginTop","bgContent","computeFgSegPlacement","eventInstanceHeights","maxContentHeight","hierarchy","DayGridSegHierarchy","hiddenConsumes","segInputs","unknownHeightSegs","eventHeight","allRects","rectsByEachCol","rects_3","groupRectsByEachCol","singleColPlacements","multiColPlacements","leftoverMargins","currentHeight","currentMarginTop","rects_1","resliceSeg","absoluteTop","multiPlacements","rects_2","isFirstCol","placeRects","moreCnts","moreMarginTops","unknownHeightSegs_1","hiddenEntries_1","hiddenEntry","hiddenSpan","spanStart","spanEnd","forceHidden","excludeHidden","touchingEntryId","placeholderEntry","TableRow","cellElRefs","frameElRefs","fgElRefs","segHarnessRefs","framePositions","businessHoursByCol","bgEventSegsByCol","highlightSegsByCol","getHighlightSegs","mirrorSegsByCol","getMirrorSegs","cell","normalFgNodes","renderFgSegs","mirrorFgNodes","mirrorSegs","colPlacements","topsByInstanceId","colPlacements_1","placements_1","buildAbsoluteTopHash","buildMirrorPlacements","showDayNumbers","showWeekNumbers","renderFillSegs","updateSizing","prevState","currentProps","segPlacements","nodes","segPlacements_1","leftRightCss","isExternalSizingChange","frameEls","oldInstanceHeights","newInstanceHeights","queryEventInstanceHeights","limitByContentHeight","computeMaxContentHeight","segElMap","firstKey","fcContainerEl","getCellEls","elMap","Table","splitBusinessHourSegs","splitBgEventSegs","splitFgEventSegs","splitDateSelectionSegs","rowRefs","businessHourSegsByRow","bgEventSegsByRow","fgEventSegsByRow","dateSelectionSegsByRow","eventDragByRow","eventResizeByRow","limitViaBalanced","colGroupNode","renderRowIntro","isSegAllDay","rowPositions","rowObj","colPositions","getCellRange","getCellEl","DayTableSlicer","dayTableModel","DayTable","slicer","tableRef","headerAlignElRef","DayTableView","buildDayTableModel","headerContent","contentArg","TableDateProfileGenerator","endOfWeek","dayGridPlugin","dayGrid","dayGridDay","dayGridWeek","dayGridMonth","AllDaySplitter","timed","DEFAULT_SLAT_LABEL_FORMAT","TimeColsAxisCell","isLabeled","isoTimeStr","labelFormat","renderInnerContent$1","TimeBodyAxis","slatMetas","slatMeta","DEFAULT_WEEK_NUM_FORMAT","TimeColsView","allDaySplitter","slatCoords","handleScrollTopRequest","renderHeadAxis","rowKey","frameHeight","renderTableRowAxis","rowHeight","renderAllDayInner$1","handleSlatCoords","timeContent","isNowIndicator","nowIndicatorTop","safeComputeTop","getAllDayMaxEventProps","TimeColsSlatsCoords","positions","startOfDayDate","timeMs","computeTimeTop","computeDateTop","when","slatIndex","slatRemainder","slatCoverage","TimeColsSlatsBody","slatElRefs","TimeColsSlats","minHeight","onCoords","splitSegsByCol","segsByCol","splitInteractionByCol","TimeColMoreLink","renderMoreLinkInner","renderPlainFgSegs","buildPositioning","topLevelNodes","totalThickness","stretchNode","hiddenGroups","web","buildNode","cacheable","siblingRange","subjectLevel","subjectLateral","subjectEntry","afterSubject","searchIndex","lateralStart","lateralEnd","findNextLevelSegs","nextLevelRes","buildNodes","nextLevelNodes","buildWeb","startCoord","prevThickness","endCoord","allThickness","thicknessFraction","newChildren","nextLevelNodes_1","childNode","newThickness","segRects","processNode","stackDepth","stackForward","processNodes","nodes_1","webToRects","pairs","cmpDescPressures","extractNode","keyFunc","workFunc","computeSegVCoords","colDate","vcoords","DEFAULT_TIME_FORMAT$1","TimeColEvent","isShort","TimeColMisc","TimeCol","isSelectMirror","interactionAffectedInstances","sortedFgSegs","renderNowIndicator","nowIndicatorSegs","segIsInvisible","renderPositionedFgSegs","segVCoords","dumbSegs","segRects_1","segRect","dumbSegs_1","dumbSeg","computeFgSegPlacements","renderHiddenGroups","segPlacement","vStyle","computeSegVStyle","hStyle","computeSegHStyle","isInset","hiddenGroup","segEntries","positionCss","segEntry","segHCoords","shouldOverlap","nearCoord","farCoord","hiddenInstances","TimeColsContent","splitNowIndicatorSegs","nowIndicatorSegsByRow","updateCoords","onColCoords","TimeCols","processSlotOptions","onScrollTopRequest","top_1","handleColCoords","colCoords","onSlatCoords","scrollResponder","snapsPerSlot","colIndex","slatTop","slatHeight","partial","snapIndex","dayDate","snapDurationOverride","DayTimeColsSlicer","dayRanges","DayTimeCols","buildDayRanges","timeColsRef","STOCK_SUB_DURATIONS","buildSlatMetas","explicitLabelInterval","slatTime","slatIterator","labelInterval","slotsPerLabel","computeLabelInterval","metas","DayTimeColsView","buildTimeColsModel","hasAttachedAxis","hasDetachedAxis","allDaySlot","timeGridContent","timeGridPlugin","timeGrid","timeGridDay","timeGridWeek","ListViewHeaderRow","textId","cellId","listDayFormat","sideText","listDaySideFormat","sideNavLinkAttrs","DEFAULT_TIME_FORMAT","ListViewEventRow","timeHeaderId","eventHeaderId","dateHeaderId","interactiveAttrs","renderEventInnerContent","doAllDay","renderAllDayInner","headers","buildTimeContent","ListView","computeDateVars","eventStoreToSegs","_eventStoreToSegs","dateHeaderIdRoot","setRootEl","dayDates","renderSegList","renderEmptyMessage","noEventsClassNames","noEventsContent","renderNoEventsInner","noEventsDidMount","noEventsWillUnmount","segsByDay","groupSegsByDay","innerNodes","daySegs","dayStr","daySegs_1","eventRangesToSegs","eventRangeToSegs","viewEnd","createFalsableFormatter","listPlugin","listDay","listWeek","listMonth","listYear","BootstrapTheme$1","BootstrapTheme","table","popover","popoverHeader","plugin$1","bootstrap","bootstrap5","API_BASE","googleCalendarPlugin","googleCalendarId","parseGoogleCalendarId","googleCalendarApiKey","googleCalendarApiBase","onSuccess","onFailure","apiKey","apiBase","buildUrl","extraParamsObj","requestParams_1","timeMin","timeMax","singleEvents","maxResults","buildRequestParams","gcalTimezone","errors","htmlLink","whole","qs","injectQsComponent","dateTime","description","attachments","extendedProperties","shared","gcalItemToRawEventDef","DayGridView","Draggable","asCleanDays","asRoughMinutes","asRoughSeconds","buildHashFromArray","computeHeightAndMargins","computed","computeVMargins","findDirectChildren","dateInput","getSlotClassNames","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","parseMarker","removeExact","exactVal","removeCnt","sliceEvents","translateRect","typeOf$1","isPrototypeOf","eq$2","eq","eqString","eqArray","eqa","eqSortedArray","compareFn","contramap","xs","sort$1","eqRecord","kx","ky","eqAny","tx","isEquatableType","getPrototypeOf$1","hasProto","predicate","isType$1","proto","typeOf","isSimpleType","eq$1","is$4","isString","isPlainObject","isArray$1","isNull","isBoolean","isUndefined","isNullable","isNonNullable","isFunction","isNumber","isArrayOf","pred","compose","fa","fb","compose1","fbc","fab","constant","tripleEquals","curry","initialArgs","restArgs","not","apply$1","never","always","Optional","tag","singletonNone","fold","onNone","onSome","isSome","isNone","mapper","none","binder","exists","forall","getOr","or","getOrThunk","thunk","orThunk","getOrDie","getOrNull","getOrUndefined","worker","toArray","nativeSlice","nativeIndexOf","nativePush","rawIndexOf","ts","contains$2","map$3","each$e","eachr","partition$2","pass","fail","filter$5","foldr","foldl","findUntil$1","until","find$2","findIndex$2","flatten","bind$3","difference","a2","mapToObject","get$b","head","last$3","findMap","hasOwnProperty$2","each$d","map$2","tupleMap","objAcc","internalFilter","onTrue","onFalse","filter$4","mapToArray","get$a","has$2","hasNonNullableKey","stringArray","isArrayLike","each$c","cb","map$1","filter$3","iteratee","accumulator","findIndex$1","last$2","cached","unknown$2","nu$3","major","minor","Version","nu","detect","versionRegexes","agent","cleanedAgent","regexes","firstMatch","group","find$1","unknown","detect$4","candidates","candidate","search","checkRange","contains$1","idx","endsWith","suffix","blank","trim$3","lTrim","rTrim","isNotEmpty","isEmpty$3","toInt","radix","normalVersionRegex","checkContains","uastring","browsers","oses","PlatformInfo","chromium","opera","firefox","safari","nu$2","isBrowser","isEdge","isChromium","isIE","isOpera","isSafari","Browser","ie","windows","android","linux","macos","solaris","freebsd","chromeos","nu$1","isOS","isWindows","isiOS","isAndroid","isMacOS","isLinux","isSolaris","isFreeBSD","isChromeOS","OperatingSystem","ios","PlatformDetection","userAgentDataOpt","mediaMatch","browser","uaBrand","lcBrand","detectBrowser$1","detectBrowser","os","detectOs","deviceType","isiPad","isiPhone","isMobile","isTablet","isPhone","iOSwebview","isDesktop","isWebView","DeviceType","matchMedia","platform$2","detect$2","platform$1","browser$1","windowsPhone","Env","transparentSrc","documentMode","cacheSuffix","canHaveCSP","whiteSpaceRegExp$1","trim$2","walk$4","Tools","delim","resolvedItems","grep","inArray","exts","ext","explode","_addCacheSuffix","is$2","lhs","rhs","lift2","oa","ob","someIf","Function","dom","type$1","isType","isElement$7","isText$b","isDocument$2","isDocumentFragment$1","isTag","rawSet","set$2","setAll$1","get$9","getOpt","remove$b","clone$4","read$4","supports","get$8","add$3","clazz","add$4","remove$9","remove$a","add$2","cleanClass","remove$8","toggle$1","toggle$2","isSupported$1","fromDom$2","SugarElement","fromHtml","hasChildNodes","fromTag","fromText","fromDom","fromPoint","docElm","elementFromPoint","cur","is$1","webkitMatchesSelector","mozMatchesSelector","bypassSelector","childElementCount","e1","e2","d2","owner$1","documentOrOwner","dos","parents$1","ret","rawParent","prevSibling","previousSibling","prevSiblings","nextSiblings","children$1","child$1","cs","lastChild","childNodesCount","supported","getStyleContainer","doc","getHead","getShadowHost","getOriginalEventTarget","isOpenShadowHost","shadowRoot","inBody","getShadowRoot","internalSet","setAll","get$7","getUnsafeProperty","getRaw$1","getAllRaw","ruleName","remove$7","internalRemove","before$3","after$4","append$1","prepend","empty","rogue","remove$6","unwrap","fromDom$1","get$6","docDom","fragment","createDocumentFragment","contentElements","handle$1","prevent","kill","mkEvent","clientY","fromRawEvent","bind$2","useCapture","wrapped","unbind","translate","SugarPosition","firstDefinedOrZero","box","boxPosition","get$5","_DOC","intoView","alignToTop","scrollIntoViewIfNeeded","scrollIntoView","bounds","getBounds","_win","get$4","pageLeft","pageTop","descendants$1","ClosestOrAncestor","ancestor$3","closest$4","ancestor$2","descendant","closest$3","ancestor$1","DomTreeWalker","startNode","prev2","findSibling","findPreviousNode","startName","siblingName","sibling","isNodeType","isRestrictedNode","isElement$6","matchNodeName","lowerCasedName","matchNodeNames","lowerCasedNames","matchStyleValues","isBogus$2","isTable$2","hasContentEditableState","contentEditable","isTextareaOrInput","isText$a","isCData","isPi","isComment","isDocument$1","isDocumentFragment","isBr$6","isImg","isContentEditableTrue$3","isContentEditableFalse$a","isTableCell$3","isTableCellOrCaption","isMedia$2","isListItem$2","zeroWidth","nbsp","isZwsp$1","descendants","api$1","NodeValue","get$3","wrapBlockElements","lazyLookup","isBlock$2","isInline$1","isBr$5","isTextBlock$2","isList","isListItem$1","isTableSection","isTableCell$2","isWsPreserveElement","isWrapBlockElement","isWrapElement","removeTrailingBr","elm","allBrs","brs","rawNode","getLastChildren$1","createPaddingBr","fillWithPaddingBr","trimBlockTrailingBr","lastChildPrevSibling","ZWSP$1","isZwsp","trim$1","isElement$5","isText$9","isCaretContainerBlock$1","isCaretContainerInline","isCaretContainer$2","isBeforeInline","pos","isAtStart","isAfterInline","isAtEnd","startsWithCaretContainer$1","endsWithCaretContainer$1","showCaretContainerBlock","caretContainer","getElementsByTagName","lastBr","trimBogusBr","isRangeInCaretContainerBlock","startContainer","isContentEditableTrue$2","isContentEditableFalse$9","isBr$4","isText$8","isInvalidTextElement","isAtomicInline","isTable","isCaretContainer$1","isCaretCandidate$3","isNonUiContentEditableFalse","isUnselectable","isEditableCaretCandidate$1","tempNode","isInEditable","whiteSpaceRegExp","isWhitespaceText","isNewLineChar","normalize$4","tabSpaces","isStartOfContent","isEndOfContent","tabSpace","count","repeat","normalizedText","isCollapsibleWhitespace$1","pcIsSpace","isNewline","isWhitespace$1","hasWhitespacePreserveParent","isContent$1","isNamedAnchor","isBookmark","isBogus$1","isBogusAll","attrValue","isEmpty$2","skipBogus","targetNode","brCount","isEmptyNode","transparentBlockAttr","makeSelectorFromSchemaMap","elementNames","updateTransparent","blocksSelector","transparent","updateBlockStateOnChildren","schema","transparentSelector","getTransparentElements","getBlockElements","trimEdge","leftSide","childPropertyName","splitInvalidChildren","transparentBlocks","blocksElements","isBlock","transparentBlock","parentBlock","invalidChildren","isValidChild","stateScope","parentElm","splitElm","createRange","setStartBefore","setEndBefore","beforeFragment","extractContents","setStartAfter","setEndAfter","afterFragment","split$2","updateChildren","updateElement","isTransparentElement","hasBlockAttr","isTransparentElementName","isTransparentBlock","isTransparentAstInline","firstElement","hasChild","getPos","rootElm","castOffsetParent","caption","bodyTop","captionTop","captionHeight","getTableCaptionDeltaY","StyleSheetLoader","documentOrShadowRoot","idCount","loadedStates","edos","maxLoadTime","load","link","urlWithSuffix","passed","failed","getOrCreateState","callbacks","waitForWebKitLinkLoaded","testCallback","waitCallback","styleSheets","owner","ownerNode","linkElem","rel","contentCssCors","referrerPolicy","unload","styleContainer","removeStyle","loadAll","urls","allSettled","results","reason","unloadAll","_setReferrerPolicy","_setContentCssCors","forElement","rootDom","sl","create$d","isInlineContent","isBookmarkNode$2","isSpan","isKeepTextNode","prevIsInline","nextIsInline","surroundedByInlineContent","trimNode","currentChildren","isDocument","isKeepElement","makeMap$3","attrsCharsRegExp","textCharsRegExp","rawCharsRegExp","entityRegExp","asciiMap","baseEntities","reverseEntities","buildEntitiesLookup","itemList","fromCharCode","entity","namedEntities","encodeRaw","encodeNumeric","charCodeAt","encodeNamed","entities","resolveEntities","Entities","encodeAllRaw","getEncodeFunc","entitiesMap","encodeNamedAndNumeric","encodeCustomNamed","nameMap","named","numeric","decode","innerText","nativeDecode","lookupCache","mapCache","dummyObj","makeMap$2","each$b","extend$2","explode$2","split$1","createMap","extendWith","getTextRootBlockElements","getTextBlockElements","compileElementMap","mode","Schema","patternElements","customElementsMap","specialElements","createLookupTable","schemaType","schemaItems","globalAttributes","blockContent","phrasingContent","flowContent","childNames","ni","attributesOrder","addAttrs","schemaItem","html4PhrasingContent","html4BlockContent","video","audio","script","compileSchema","verify_html","valid_elements","validStyles","valid_styles","invalidStyles","invalid_styles","validClasses","valid_classes","whitespaceElementsMap","selfClosingElementsMap","voidElementsMap","boolAttrMap","nonEmptyOrMoveCaretBeforeOnEnter","nonEmptyElementsMap","moveCaretBeforeOnEnterElementsMap","textBlockElementsMap","blockElementsMap","textInlineElementsMap","transparentElementsMap","patternToRegExp","addValidElements","validElements","elementRuleRegExp","attrRuleRegExp","hasPatternsRegExp","validElementsArr","globalAttributesOrder","ei","outputName","attrData","paddEmpty","removeEmpty","removeEmptyAttrs","attrDatas","ai","al","attrType","attrPrefix","attributesRequired","required","attributesDefault","attributesForced","forcedValue","validValues","attrPattern","attributePatterns","pattern","patternElement","setValidElements","addCustomElements","customElements","customElementRegExp","text_block_elements","block_elements","rule","cloneName","customRule","elmName","addValidChildren","validChildren","childRuleRegExp","getElementRule","_val","padd_empty_block_inline_children","paddInEmptyBlock","custom_elements","valid_children","extended_valid_elements","dd","dt","td","th","tr","tbody","thead","tfoot","legend","param","parentsRequired","invalid_elements","getValidStyles","getInvalidStyles","getValidClasses","getBoolAttrs","getTextInlineElements","getVoidElements","seal","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhitespaceElements","getSpecialElements","getCustomElements","attrPatterns","Styles","urlOrStrRegExp","styleRegExp","trimRightRegExp","encodingLookup","invisibleChar","encodingItems","self","isEncoded","urlConverter","url_converter","urlConverterScope","url_converter_scope","compress","noJoin","canCompress","encode","keepSlashes","decodeSingleHexSequence","escSeq","decodeHexSequences","processUrl","url2","url3","str2","allow_script_urls","scriptUrl","allow_svg_data_urls","serialize","serializeStyles","elemName","validStyleList","styleList","styleMap","deprecated","keyLocation","layerX","layerY","returnValue","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","needsNormalizing","initEvent","isNativeEvent","clone$3","originalEvent","normalize$3","fallbackTarget","srcElement","stopImmediatePropagation","hasIsDefaultPrevented","mouseEventRe","removeEvent","fix","isMouseEvent","eventDoc","mouseEvent","bindOnReady","eventUtils","domLoaded","readyHandler","EventUtils","expando","hasFocusIn","callbackList","defaultNativeHandler","executeHandlers","namesList","nativeHandler","fakeName","eventMap","ci","newCallbackList","ex","fire","parentWindow","clean","each$a","internalStyleName","numericalCssMap","legacySetAttribute","camelCaseToHyphens","findNodeIndex","normalized","lastNodeType","updateInternalStyleAttr","applyStyle$1","$elm","cssName","cssValue","normalizedName","convertStyleToString","DOMUtils","addedStyles","files","counter","styleSheetLoader","boundEvents","ownEvents","_get","getAttrib","defaultVal","hook","attrHooks","getAttribs","setAttrib","run","originalValue","onSetAttrib","attrElm","getRoot","root_element","getPos$1","getStyle","getSize","elms","getParents","resolvedRoot","selectorVal","_findSib","setAttribs","setHTML","newElm","keepChildren","$node","toggleClass","cls","oldElm","replacee","replaceChild","isNonEmptyElement","createRng","rv","boundTarget","boundName","boundFunc","getContentEditable","stdMode","boxModel","deep","getViewPort","argWin","vp","getRect","getParent","getNext","getPrev","createHTML","outHtml","createFragment","frag","setStyle","update_styles","stylesArg","removeAllAttribs","removeAttributeNode","parseStyle","serializeStyle","addStyle","DOM","styleElm","styleSheet","loadCSS","isHidden","uniqueId","getOuterHTML","outerHTML","getOuter","setOuterHTML","insertAfter","rename","attrNode","findCommonAncestor","ps","pe","isEmpty","whitespaceElements","nonEmptyElements","bogusVal","nodeIndex","replacementElm","getContentEditableParent","isChildOf","dumpRng","startOffset","endContainer","endOffset","getContext","keepValues","keep_values","keepUrlHook","sugarElm","src","setupAttrHooks","DOM$b","ScriptLoader","states","scriptLoadedCallbacks","queueLoadedCallbacks","loadScript","isDone","markDone","loadQueue","loadScripts","scripts","execCallbacks","processResults","failures","processQueue","nextQueuedItem","uniqueScripts","Cell","initial","currentCode","getLanguageData","I18n","getData","setCode","newCode","getCode","langData","translation","getLangData","textstr","removeContext","isTokenised","$1","$2","hasCode","AddOnManager","_listeners","runListeners","matchedListeners","listener","isLoaded","loadLanguagePack","languages","language","waitFor","requireLangPack","languageLoad","addOn","createUrl","baseUrl","resource","addOnUrl","urlString","baseURL","lastIndexOf","PluginManager","ThemeManager","ModelManager","repeatable","intervalId","revoke","isSet","functionToRepeat","value$2","doRevoke","singleton","first$1","rate","timer","last$1","annotation","dataAnnotation","dataAnnotationId","dataAnnotationActive","dataAnnotationClasses","dataAnnotationAttributes","isRoot$1","identify","editor","annotationName","rng","getRng","getBody","an","newStart","findMarkers","isBogusElement","findAll","directory","nodesAlready","setup$x","registry","changeCallbacks","initData","withCallbacks","updateCallbacks","outputData","toggleActiveAttr","onNodeChange","annotations","getNames","fireNoAnnotation","fireCallbacks","addListener","unique","generate$1","clone$2","isDeep","shallow$1","deep$1","shallowAs","TextWalker","isBoundary","TextSeeker","isBlockBoundary","process","newOffset","backwards","forwards","round$2","clone$1","collapse","toStart","isValidOverflow","isAbove$1","halfHeight","isBelow$1","distanceToRectEdgeFromXY","cx","cy","sqrt","getSelectedNode","getNode$1","safeOffset","clamp$2","extendingChars","isExtendingChar","ch","isElement$4","isCaretCandidate$2","isBlock$1","isFloated","isValidElementCaretCandidate","and","isNotPre","isText$7","isBr$3","nodeIndex$1","resolveIndex$1","createRange$1","isWhiteSpace$1","isRange","isHiddenWhiteSpaceRange","isZeroRect","getBoundingClientRect$1","clientRects","brNode","nbsp$1","getBrClientRect","sc","ec","so","eo","newRng","cloneRange","getBoundingClientRectWebKitText","collapseAndInflateWidth","newClientRect","getCaretPositionClientRects","caretPosition","addUniqueAndValidRect","addCharacterOffset","beforeNode","CaretPosition","toRange","isEqual","getNode","fromRangeStart","fromRangeEnd","isAbove","pos1","pos2","isBelow","isTextPosition","isElementPosition","trimEmptyTextNode$1","rangeInsertNode","insertNode","insertFragment","isText$6","isBogus","normalizedParent","getChildNodes","createPathItem","numTextFragments","normalizedNodeIndex","create$b","outputOffset","normalizedTextOffset","parentsUntil$1","resolve$1","paths","resolvePathItem","nodeOffset","targetOffset","dataLen","findTextPosition","isContentEditableFalse$8","getPoint","trimmedOffset","getNormalizedTextOffset$1","findIndex","moveEndPoint$1","normalizeTableCellSelection","getOffsetBookmark","findAdjacentContentEditableFalseElm","forward","isForward","fakeCaret","isFakeCaret","isCollapsed","getLocation","createBookmarkSpan","filled","getPersistentBookmark","collapsed","rng2","endBookmarkNode","startBookmarkNode","moveToBookmark","keep","getBookmark$2","getCaretBookmark","getRangeBookmark","getUndoBookmark","value$1","applyHelper","constHelper","outputHelper","output","inner","_onError","onValue","isValue","isError","Result","mapError","toOptional","onError","_onValue","msg","fromOption","optional","Adt","cases","constructors","adt","acase","keys$1","argLength","foldArgs","branches","branchKeys","reqKey","label","bothErrors","firstError","secondError","bothValues","isInlinePattern","isBlockPattern","normalizePattern","formatOrCmd","onFormat","onCommand","formats","command","commandValue","getBlockPatterns","patterns","getInlinePatterns","fromRawPatterns","partition$1","deviceDetection$1","DOM$a","isRegExp","stringOrObjectProcessor","bodyOptionProcessor","valid","bodyObj","getHash","getIframeAttrs","getDocType","getDocumentBaseUrl","getBodyId","getBodyClass","getContentSecurityPolicy","shouldPutBrInPre$1","getForcedRootBlock","getForcedRootBlockAttrs","getNewlineBehavior","getBrNewLineSelector","getNoNewLineSelector","shouldKeepStyles","shouldEndContainerOnEmptyBlock","isAutomaticUploadsEnabled","shouldReuseFileName","shouldReplaceBlobUris","getIconPackName","getIconsUrl","getImageUploadUrl","getImageUploadBasePath","getImagesUploadCredentials","getImagesUploadHandler","shouldUseContentCssCors","getReferrerPolicy","getLanguageCode","getLanguageUrl","shouldIndentUseMargin","getIndentation","getContentCss","getContentStyle","getFontCss","getDirectionality","getInlineBoundarySelector","getObjectResizing","getResizeImgProportional","getPlaceholder","getEventRoot","getServiceMessage","getTheme","getThemeUrl","getModel","getModelUrl","isInlineBoundariesEnabled","getFormats","getPreviewStyles","canFormatEmptyLines","getFormatNoneditableSelector","getCustomUiSelector","isInline","hasHiddenInput","shouldPatchSubmit","shouldAddFormSubmitTrigger","shouldAddUnloadTrigger","getCustomUndoRedoLevels","shouldDisableNodeChange","isReadOnly$1","hasContentCssCors","getPlugins","getExternalPlugins$1","shouldBlockUnsupportedDrop","isVisualAidsEnabled","getVisualAidsTableClass","getVisualAidsAnchorClass","getIframeAriaText","getSetupCallback","getInitInstanceCallback","getUrlConverterCallback","getAutoFocus","shouldBrowserSpellcheck","getProtect","shouldPasteBlockDrop","shouldPasteDataImages","getPastePreProcess","getPastePostProcess","getPasteWebkitStyles","shouldPasteRemoveWebKitStyles","shouldPasteMergeFormats","isSmartPasteEnabled","isPasteAsTextEnabled","getPasteTabSpaces","shouldAllowHtmlDataUrls","getTextPatterns","getTextPatternsLookup","getNonEditableClass","getEditableClass","getNonEditableRegExps","shouldPreserveCData","getAllowedImageFileTypes","hasTableTabNavigation","isElement$3","isText$5","removeNode$1","trimCount","trimmedText","deleteZwspChars","deleteData","removeUnchanged","remove$4","removeElementAndReposition","newPosition","indexOf$1","removeTextCaretContainer","removeTextAndReposition","removeAndReposition","removeElementCaretContainer","caretContainerNode","isContentEditableFalse$7","isMedia$1","isTableCell$1","getAbsoluteClientRect","scrollX","scrollY","rootRect","FakeCaret","hasFocus","lastVisualCaret","cursorInterval","caretBlock","fakeCaretTargetNodes","trimInlineCaretContainers","caretState","caret","startBlink","textNode","splitText","insertInline$1","isInlineFakeCaretTarget","blockName","blockNode","insertBlock","getCss","reposition","isFakeCaretTableBrowser","isFakeCaretTarget","isContentEditableTrue$1","isContentEditableFalse$6","isMedia","isBlockLike","isCaretContainer","isCaretContainerBlock","isElement$2","isText$4","isCaretCandidate$1","isForwards","isBackwards","skipCaretContainers","findNode","predicateFn","isCefOrCaretContainer","getParentBlock$3","isInSameBlock","caretPosition1","caretPosition2","getChildNodeAtRelativeOffset","relativeOffset","beforeAfter","isNodesInSameBlock","node1","node2","lean","before$2","after$2","normalizeRange","leanLeft","leanRight","block","getRelativeCefElm","getNormalizedRangeEndPoint","normalizedRange","getElementFromPosition","getVisualCaretPosition","walkFn","isMoveInsideSameBlock","inSameBlock","HDirection","isContentEditableFalse$5","isText$3","isElement$1","isBr$2","isCaretCandidate","isAtomic","isAtomicContentEditableFalse","isEditableCaretCandidate","nodeAtIndex","getCaretCandidatePosition","findCaretPosition$1","startPos","nextNode","innerNode","Forwards","moveForwardFromBr","rootContentEditableFalseElm","getParents$3","CaretWalker","Backwards","isBeforeOrStart","isAfterOrEnd","isBeforeAfterSameElement","shouldSkipPosition","fromPosition","navigate","navigateIgnore","ignoreFilter","positionIn","walkToPositionIn","nextPosition","prevPosition","firstPositionIn","lastPositionIn","CARET_ID","isCaretNode","getParentCaretContainer","isIndexBookmark","bookmark","isPathBookmark","isForwardBookmark","addBogus","tryFindRangePosition","padEmptyCaretContainer","isEmpty$1","insertZwsp","setEndPoint","isValidTextNode","restoreEndPoint","markerParent","otherMarker","appendData","resolvePaths","isStringPathBookmark","endPos","resolveCaretPositionBookmark","isIdBookmark","spos","epos","resolveId","selectNode","resolveIndex","isRangeBookmark","getBookmark$1","setRng","isBookmarkNode$1","isNbsp","expected","actual","isWhiteSpace","isContent","toHex","hex","fromRgba","rgbaColour","hexColour","red","green","blue","rgbRegex","rgbaRegex","alpha","fromStringValues","rgbaToHexString","rgbaString","rgbMatch","rgbaMatch","fromString","getRanges$1","rangeCount","getRangeAt","getCellsFromRanges","getSelectedNodes","getCellsFromElementOrRanges","selectedCells","getCellsFromEditor","getSel","getClosestTable","getFirstChildren","getLastChildren","hasAllContentsSelected","getStartNode","getEndNode","endNode","moveEndPoint","hasAnyRanges","runOnRanges","executor","fakeSelectionNodes","fakeNodeRng","preserve","fillBookmark","isNode","isElementNode$1","isEditable$3","isContentEditable","preserveSelection","shouldMoveStart","selectedNodeBeforeAction","isSelectedBeforeNodeNoneditable","getStart","moveStartToNearestText","selectedAttr","isElementDirectlySelected","isWhiteSpaceNode$1","getNonWhiteSpaceSibling","nextName","isTextBlock$1","ed","allowSpaces","isWrappableNoneditable","baseDataSelector","formatNoneditableSelector","isWrapNoneditableTarget","replaceVars","vars","isEq$5","str1","normalizeStyleValue","strValue","getTextDecoration","decoration","getParents$2","isFormatPredicate","formatName","areSimilarFormats","otherFormatName","validKeys","filterObj","validKey","fmt1","filteredFmt1","fmt2","filteredFmt2","equal$1","isBlockFormat","isSelectorFormat","isInlineFormat","shouldExpandToSelector","isBookmarkNode","getParents$1","isWhiteSpaceNode","isTextBlock","findParentContentEditable","walkText","findSpace","findContent","findWordEndPoint","includeTrailingSpaces","lastTextNode","textSeeker","textOffset","findSelectorEndPoint","formatList","curFormat","findBlockEndPoint","scopeRoot","isAtBlockBoundary$1","findParentContainer","block_expand","isSelfOrParentBookmark","expandRng","includeTrailingSpace","walk$3","exclude","firstNode","lastNode","collectSiblings","siblings","findEndPoint","walkBoundary","startPoint","endPoint","validBlocks","wrapName","isZeroWidth","isAnnotation","applyAnnotation","masterUId","decorate","directAnnotation","otherData","attributeNames","removeDirectAnnotation","customAttrNames","customClasses","makeAnnotation","eDoc","annotate","newWrappers","getDoc","finishWrapper","processElements","elems","processElement","wrap$2","annotateWithBookmark","undoManager","transact","initialRng","hasFakeSelection","masterUid","applyWordGrab","selectionRng","Annotator","register","create$c","dataAnnotation$1","identifyParserNode","newClassList","serializer","addTempAttr","addAttributeFilter","persistent","setup$w","changes","removeAnnotations","annotationChanged","getBookmark","removeAll","BookmarkManager","isXYWithinRange","containsXY","fireError","errorType","fireFormatApply","fireFormatRemove","fireSetContent","fireGetContent","firePastePlainTextToggle","VK","BACKSPACE","DELETE","DOWN","ENTER","ESC","SPACEBAR","TAB","UP","PAGE_UP","PAGE_DOWN","END","HOME","modifierPressed","altKey","metaKeyPressed","metaKey","elementSelectionAttr","round$1","resizeHandles","nw","ne","se","sw","ControlSelection","editableDoc","rootDocument","selectedElm","selectedElmGhost","resizeHelper","selectedHandle","resizeBackdrop","startX","startY","startW","startH","ratio","resizeStarted","startScrollWidth","startScrollHeight","isImage","contextMenuSelectImage","isTouchEvent","isEventOnImageOutsideRange","getResizeTargets","isResizable","setSizeProp","targets","setGhostElmSize","ghostElm","resizeGhostElement","proportional","resizeHelperX","resizeHelperY","screenX","screenY","selectedElmX","selectedElmY","fireObjectResizeStart","endGhostResize","wasResizeStarted","showResizeRect","fireObjectResized","nodeChanged","targetElm","unbindResizeHandleEvents","targetWidth","targetHeight","hideResizeRect","startDrag","handleElm","throttledShowResizeRect","removeSelected","isChildOrEqual","updateResizeRect","composing","controlElm","selectedValue","disableGeckoResize","startElm","getEnd","execCommand","relativeToNative","startSitu","finishSitu","situ","setFinish","exactToNative","soffset","foffset","adt$3","ltr","rtl","fromRange","diagnose","domRange","relative","exact","getRanges","rev","doDiagnose","SimRange","caretPositionFromPoint","offsetNode","caretRangeFromPoint","availableSearch","adt$2","Situ","cata","onBefore","onOn","onAfter","adt$1","SimSelection","exactFromRange","simRange","getWin","_finishSitu","_soffset","_finish","_foffset","getStart$1","beforeSpecial","name$1","preprocessRelative","preprocessExact","fromElements","toNative","getDomRange","preprocess","getAtPoint","fromPoint$1","isEq$4","rng1","hasParent$1","findParent","hasParentWithName","isCeFalseCaretContainer","hasBrBeforeAfter","findTextNodeRelative","isAfterNode","lastInlineElement","parentBlockContainer","normalizeEndPoint","directionLeft","hasContentEditableFalseParent","isPrevNode","normalize$2","normRng","newContainer","RangeUtils","rangeLike","normalize","normalizedRng","getCaretRangeFromPoint","api","getOffset","aggregate","properties","cumulativeInclusions","Dimension","getDocument","walkUp","navigation","rest","Navigation","frameElement","frames","pathTo","loc","excludeFromDescend","markerInfo","cleanupFun","absolute","get$2","createMarker$1","descend","withMarker","preserveWith","_s","_e","applyWithMarker","withScrollEvents","fireScrollIntoViewEvent","fireAfterScrollIntoViewEvent","withElement","elementMarker","startElement","endElement","scrollToMarker","intoWindowIfNeeded","viewportBottom","markerTop","markerBottom","largerThanViewport","intoWindow","innerHeight","intoFrame","frameViewHeight","op","viewportBounds","rangeIntoWindow","elementIntoWindow","rangeIntoFrame","elementIntoFrame","scrollRangeIntoView","focus$1","hasFocus$1","active$1","clamp$1","normalizeRng","isOrContains","isRngInRoot","nativeRangeToSelectionRange","getSelection","readRange","bookmarkToNativeRng","newBookmark","shouldStore","validate","FocusManager","isEditorUIElement","Delay","setEditorTimeout","wrappedSetTimeout","setEditorInterval","wrappedSetInterval","register$6","throttledStore","mouseUpPage","registerPageMouseUp","registerMouseUp","selectionChange","isManualNodeChange","registerEditorEvents","documentFocusInHandler","DOM$9","isUIElement","customSelector","registerEvents$1","editorManager","focusedEditor","setActive","blurredEditor","getActiveElement","activeEditor","unregisterDocumentEvents","getFocusInElement","getCollapsedNode","normalizeSelection","caretPos","focusBody","hasElementFocus","rawBody","hasInlineFocus","iframeElement","hasIframeFocus","hasEditorOrUiFocus","isEditorContentAreaElement","hasUiFocus","activateEditor","skipFocus","quirks","refreshContentEditable","bookmarkRng","contentEditableHost","getContentEditableHost","focusEditor","getEndpointElement","real","getEnd$1","skipEmptyTextNodes","orig","processRanges","elementsWithCursorPosition","isCursorPosition","hasCursorPosition","first","descendant$1","descendantRtl","autocompleteSelector","create$9","findIn","setCursorLocation","typeLookup","walk$2","isEmptyTextNode","AstNode","insert","selfAttrs","cloneAttrs","selfAttr","refNode","whitespace","findCommentEndIndex","lcHtml","isConditionalComment","endIfIndex","endCommentRegexp","findMatchingEndTagIndex","startTagRegExp","endTagRegExp","voidElements","startMatch","endMatch","trimInternal","bogusAllRegExp","tempAttrs","trimContentRegExp","trimHtml$1","getTempAttrs","matchLength","endTagIndex","trimExternal","cleanupBogusElements","bogusElements","cleanupInputNames","getPlainTextContent","offscreenDiv","getContentContainer","getContentFromBody","emptyRegExp","trimEmptyContents","makeMap$1","Writer","indent","indentBefore","indent_before","indentAfter","indent_after","entity_encoding","htmlOutput","element_format","cdata","comment","pi","doctype","HtmlSerializer","writer","sortedAttrs","elementRule","nonInheritableStyles","shorthandStyleProps","getStyleProps","hasInheritableStyles","isNonInheritableStyle","hasStyleConflict","nodeStyleProps","parentNodeStyleProps","valueMismatch","prop","parentValue","nodeStyleProp","propExists","longhandProps","isChar","isBeforeSpace","isAfterSpace","isEmptyText","matchesElementPosition","isImageBlock","isCefNode","isBogusAll$1","isBeforeImageBlock","isAfterImageBlock","isBeforeMedia","isAfterMedia","isBeforeTable","isAfterTable","isBeforeContentEditableFalse","isAfterContentEditableFalse","parentsUntil","parentsAndSelf","navigateIgnoreEmptyTextNodes","getClosestBlock$1","isAtBeforeAfterBlockBoundary","newPos","fromBlock","isAtBlockBoundary","isAtStartOfBlock","isAtEndOfBlock","isBeforeBlock","isAfterBlock","isBr$1","findBr","parentBlocks","isBeforeBr$1","isAfterBr","getElementFromPrevPosition","findPreviousBr","findNextBr","isInMiddleOfText","getClosestBlock","hasSpaceBefore","hasSpaceAfter","isInPre","isPreValue","isAtLineBoundary","isAtBeginningOfBody","isAtEndOfBody","isSiblingCefBlock","needsToBeNbspLeft","prevPos","isPrevCefBlock","isAfterCefBlock","needsToBeNbspRight","nextPos","isNextCefBlock","isBeforeCefBlock","needsToBeNbsp","isNbspAt","isWhiteSpaceAt","normalizeNbspAtStart","makeNbsp","firstPos","normalizeNbspInMiddleOfTextNode","newText","chars","normalizeNbspMiddle","normalizeNbspAtEnd","lastPos","normalizeNbsps","hasNbsp","normalize$1","replaceData","normalizeWhitespaceAfter","whitespaceCount","normalizeWhitespaceBefore","mergeTextNodes","prevNode","normalizeWhitespace","mergeToPrev","whitespaceOffset","removeNode","insertData","needsReposition","getPreviousSiblingCaretPosition","getNextSiblingCaretPosition","findCaretPositionBackwards","findCaretPositionBackwardsFromElm","findCaretPositionForward","findCaretPositionForwardsFromElm","findCaretPosOutsideElmAfterDelete","findCaretPosition","setSelection$1","paddEmptyBlock","deleteNormalized","afterDeletePosOpt","prevTextOpt","nextTextOpt","oc","deleteElement$2","moveCaret","afterDeletePos","normalizedAfterDeletePos","isInlineElement","paddPos","strongRtl","isInlineTarget","hasStrongRtl","findRootInline","findInlineParents","normalizePosition","normalizeForwards","normalizeBackwards","execCommandIgnoreInputEvents","inputBlocker","execNativeDeleteCommand","isTextBlockOrListItem","getParentBlock$2","isBeforeRoot","paddEmptyBody","moveSelection","no_selection","freefallRtl","deleteRangeContents","deleteContents","lastBlock","additionalCleanupNodes","getTableCells","tableCellRng","deleteAction","singleCellTable","fullTable","partialTable","multiTable","getClosestCell$1","isExpandedCellRng","cellRng","getTableFromCellRng","startParentTable","endParentTable","getTableSelectionFromCellRng","tableSelection","getTableSelections","selectionDetails","isSameTable","sameTableSelection","startCell","endCell","startTableSelection","getCellRangeFromStartTable","endTableSelection","getCellRangeFromEndTable","getCellIndex","getSelectedCells","isSingleCellTableContentSelected","optCellRng","isSingleCellTable","unselectCells","startTable","endTable","otherContentRng","getActionFromRange","isRootFromElement","getCellRng","getTable","isStartInTable","isEndInTable","isMultiTable","getTableDetailsFromRange","startTableSelectedCells","endTableSelectedCells","handleMultiTable","handleSingleTable","cleanCells","deleteContentInsideCell","isFirstCellInSelection","insideTableRng","deleteCellContents","collapseAndRestoreCellSelection","selectedNode","emptySingleTableCells","outsideDetails","editorRng","cellsToClean","outsideBlock","getOutsideBlock","startInTable","emptyBlock","handleEmptyBlock","endPointCell","emptyMultiTableCells","startTableCells","endTableCells","betweenRng","startTableCellsToClean","endTableCellsToClean","deleteTableElement","deleteTableRange","getParentCaption","deleteCellRange","emptyElement","deleteCaptionRange","getParentCell","deleteCaretInsideCaption","fromCaption","isDeleteOfLastCharPos","emptyCaretCaption","toCaption","validateCaretCaption","deleteCaretCells","fromCell","toCell","deleteBetweenCells","isNearTable","deleteCaret$3","fromPos","isBeforeOrAfterTable","deleteCaretCaption","backspaceDelete$9","deleteRange$2","getContentEditableRoot$1","internalAttributesPrefixes","each$9","ElementUtils","internalAttributes","isAttributeInternal","compare","attribs","compareObjects","obj2","matchNode$1","nodeFilters","attributeFilters","nl","runFilters","matchRecord","filteringAttributes","filter$2","traverse","findMatchingNodes","paddEmptyNode","astNode","hasOnlyChild","isPadded","removeOrUnwrapInvalidNode","originalNodeParent","cleanInvalidNodes","onCreate","textBlockElements","nonSplittableElements","fixed","newParent","parentName","hasClosest","normalizeBlockSelectionRange","commonAncestorContainer","newEndPos","isPaddedEmptyBlock","hasOnlyOneChild$1","isPaddingNode","isListFragment","isEmptyFragmentElement","isListItemPadded","isPadding","trimListItems","getParentLi","findLastOf","newCaretPos","insertBefore$1","findFirstIn","insertAtCaret$1","domFragment","cleanupDomFragment","toDomFragment","liTarget","liElms","isAt","caretWalker","newPosNode","insertAfter$1","beforeRng","afterRng","cloneContents","getSplit","insertMiddle","mergeableWrappedElements","isTableCell","moveSelectionToMarker","nextRng","parentEditableElm","isPartOfFragment","findNextCaretRng","deleteSelectedContent","isTableCellContentSelected","insertHtmlAtCaret","details","parser","bookmarkHtml","caretElement","canHaveChildren","parserArgs","paste","isParentBlockLi","isPastingSingleElement","isWrappedElement","isPastingInTheSameBlockTag","isPastingInContentEditable","shouldPasteContentOnly","markFragmentElements","_selectionOverrides","showBlockCaretContainer","invalid","markerNode","toExtract","getNodeFilters","getAttributeFilters","no_events","validInsertion","textInlineElements","elementUtils","reduceInlineTextElements","trimBrsFromTableCell","caretParent","updateCaret","isTreeNode","setEditorHtml","noSelection","setContentInternal","trimmedHtml","setContentTree","padd","forcedRootBlockName","isRootContent","setContentString","sibling$1","ensureIsRoot","closest$2","isEq$3","matchesUnInheritedFormatSelector","inherit","matchParents","similar","matchedNode","matchNode","matchName","matchItems","itemName","matchAttributes","onmatch","expectedValue","isEmptyValue","match$2","closest$1","rawElm","matchAllOnNode","formatNames","matchSimilar","isVariableValue","fieldValues","isVariableFormatName","ZWSP","isCaretContainerEmpty","getEmptyCaretContainers","findFirstTextNode","createCaretContainer","fill","removeCaretContainerNode","trimZwspFromCaretContainer","removeCaretContainer","appendNode","insertFormatNodesIntoCaretContainer","formatNodes","innerMostFormatNode","formatNode","removeCaretFormat","hasContentAfter","expandedRng","newCaretContainer","insertCaretContainerNode","cleanedFormatNode","validFormats","matchedFormats","fmtName","clonedFormatNode","cleanFormatNode","caretTextNode","setup$u","keyCode","disableCaretContainer","isFormatElement","inlineElements","postProcessHooks","isPre","addPostProcessHook","blocks","getSelectedBlocks","preBlocks","hasPreSibling","pre1","pre2","sPre2","joinPre","listItemStyles","findExpandedListItemFormat","fmt","hasListStyles","getExpandedListItemFormat","isRngStartAtStartOfElement","isRngEndAtEndOfElement","isEditableListItem","getFullySelectedListItems","middle","getFullySelectedBlocks","getPartiallySelectedListItems","each$8","isElementNode","findElementSibling","mergeSiblingsNodes","isPrevEditable","isNextEditable","tmpSibling","mergeSiblings","merge_siblings","processChildElements","hasStyle","unwrapEmptySpan","removeResult","MCE_ATTR_RE","each$7","isEq$2","isChildOfInlineParent","getContainer","lastIdx","normalizeTableSelection","isTableCellOrRow","wrap$1","wrapWithSiblings","rootBlockElm","forcedRootBlock","list_block","isMixedFormat","processFormatAttrOrStyle","removeEmptyStyleAttributeIfNeeded","removeStyles","compareNode","stylesModified","styleName","styleValue","normalizedStyleValue","remove_similar","removeFormatInternal","ceFalseOverride","links","isColorFormatAndAnchor","preserveAttributes","preserve_attributes","attrsToPreserve","valueOut","removeFormat$1","removeFormatFromClone","remove$2","splitToFormatRoot","formatRoot","findFormatRoot","lastClone","firstClone","formatRootParent","mixed","wrapAndSplit","removeNodeFormat","currentNodeMatches","textDecoration","isRemoveBookmarkNode","removeRngStyle","liFmt","removeListStyleFormats","each$6","mergeWithChildren","clear_child_styles","_value","clearChildStyles","each$5","applyStyles","styleVal","applyFormat$1","setElementFormat","onformat","applyNodeStyle","found","createWrapElement","wrapElm","applyRngStyle","nodeSpecific","isMatchingWrappingBlock","isWrappingBlockFormat","canRenameBlock","isEditableDescendant","isValidBlockFormatForNode","isNonWrappingBlockFormat","currentWrapElm","lastContentEditable","isWrappableNoneditableElm","contentEditableValue","validBRParentElements","hasCaretNodeSibling","canFormatBR","isValidWrapNode","isCaret","isCorrectFormatForNode","canWrapNode","childCount","isEmptyTextNode$1","getChildCount","childElement","mergeStyles","merge_with_parents","mergeWithParents","hasFontSize","mergeBackgroundColorAndFontSize","processTextDecorationsAndColor","parentTextDecoration","mergeTextDecorationsAndColor","inverseTagDescendants","mergeSubSup","wordcharRegex","applyCaretFormat","fake","postProcess$1","hasVars","fallbackElement","matchingNode","matchingFormat","updateAndFireChangeCallbacks","registeredCallbacks","runIfChanged","withSimilar","withoutSimilar","withVars","formatChangedInternal","registeredFormatListeners","formatChangeItems","getCurrent","toAppendTo","addListeners","removeListeners","_typeof","_setPrototypeOf","_isNativeReflectConstruct","construct","sham","_construct","Parent","Class","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","arr2","isFrozen","create$8","fun","thisValue","Func","arrayForEach","unapply","arrayPop","arrayPush","stringToLowerCase","stringMatch","stringReplace","stringIndexOf","stringTrim","regExpTest","typeErrorCreate","_len2","_key2","addToSet","lcElement","newObject","lookupGetter","desc","html$1","svg$1","svgFilters","svgDisallowed","mathMl$1","mathMlDisallowed","svg","mathMl","xml","MUSTACHE_EXPR","ERB_EXPR","DATA_ATTR","ARIA_ATTR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","ATTR_WHITESPACE","DOCTYPE_NAME","getGlobal","_createTrustedTypesPolicy","trustedTypes","createPolicy","ATTR_NAME","currentScript","policyName","purify","createDOMPurify","DOMPurify","originalDocument","DocumentFragment","HTMLTemplateElement","NodeFilter","_window$NamedNodeMap","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","ElementPrototype","getNextSibling","trustedTypesPolicy","emptyHTML","_document","implementation","createNodeIterator","createHTMLDocument","PARSER_MEDIA_TYPE","transformCaseFunc","MUSTACHE_EXPR$1","ERB_EXPR$1","DATA_ATTR$1","ARIA_ATTR$1","IS_SCRIPT_OR_DATA$1","ATTR_WHITESPACE$1","IS_ALLOWED_URI$1","ALLOWED_TAGS","DEFAULT_ALLOWED_TAGS","ALLOWED_ATTR","DEFAULT_ALLOWED_ATTR","CUSTOM_ELEMENT_HANDLING","tagNameCheck","attributeNameCheck","allowCustomizedBuiltInElements","FORBID_TAGS","FORBID_ATTR","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","SET_CONFIG","FORCE_BODY","RETURN_DOM","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","SANITIZE_DOM","KEEP_CONTENT","IN_PLACE","USE_PROFILES","FORBID_CONTENTS","DEFAULT_FORBID_CONTENTS","DATA_URI_TAGS","DEFAULT_DATA_URI_TAGS","URI_SAFE_ATTRIBUTES","DEFAULT_URI_SAFE_ATTRIBUTES","MATHML_NAMESPACE","SVG_NAMESPACE","HTML_NAMESPACE","NAMESPACE","IS_EMPTY_INPUT","SUPPORTED_PARSER_MEDIA_TYPES","DEFAULT_PARSER_MEDIA_TYPE","CONFIG","formElement","isRegexOrFunction","testValue","_parseConfig","cfg","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","ALLOWED_URI_REGEXP","ADD_TAGS","ADD_ATTR","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","COMMON_SVG_AND_HTML_ELEMENTS","ALL_SVG_TAGS","ALL_MATHML_TAGS","_checkValidNamespace","namespaceURI","parentTagName","_forceRemove","_removeAttribute","getAttributeNode","_initDocument","dirty","leadingWhitespace","dirtyPayload","createDocument","_createIterator","SHOW_ELEMENT","SHOW_COMMENT","SHOW_TEXT","_isClobbered","_isNode","_executeHook","entryPoint","_sanitizeElements","allowedTags","_basicCustomElementTest","_isValidAttribute","lcTag","lcName","_sanitizeAttributes","hookEvent","keepAttr","_attr","initValue","forceKeepAttr","setAttributeNS","_sanitizeShadowDOM","shadowNode","shadowIterator","importedNode","oldNode","returnNode","toStaticHTML","nodeIterator","shadowroot","serializedHTML","setConfig","clearConfig","isValidAttribute","addHook","hookFunction","removeHook","removeHooks","removeAllHooks","explode$1","create$7","filters","addFilter","getFilters","removeFilter","newCallbacks","addFontToSpansFilter","domParser","fontSizes","addNodeFilter","face","removeAttrs","addFilters","convert_fonts_to_spans","font_size_legacy_values","convertToSTag","addStrikeFilter","parseDataUri","uri","base64Encoded","extractedData","extractBase64Data","buildBlob","atob","Uint8Array","Blob","uriToBlob","ok","blob","blobUriToBlob","blobToDataUri","reader","FileReader","onloadend","readAsDataURL","count$1","processDataUri","dataUri","base64Only","generateBlobInfo","base64","btoa","createBlobInfo$1","blobCache","blobInfo","dataUriToBlobInfo","getByData","registerBase64ImageFilter","blob_cache","processImage","inputSrc","isInternalImageSource","isBogusImage","blobUri","each$4","queryParts","DEFAULT_PORTS","ftp","http","https","mailto","safeSvgDataUrlElements","isInvalidUri","decodedUri","encodedUri","unescape","decodeUri","allow_html_data_urls","allowSvgDataUrls","blockSvgDataUris","URI","baseUri","base_uri","isProtocolRelative","protocol","toAbsPath","urlMatch","part","userInfo","port","uriComponents","pathname","setPath","pathMatch","file","getURI","toRelative","relativeUri","tu","uu","toRelPath","toAbsolute","noHost","absoluteUri","isSameOrigin","defaultPort","breakPoint","normalizedBase","nb","normalizedPath","pathParts","outPath","noProtoHost","extend$1","basePurifyConfig","filteredUrlAttrs","internalElementAttr","setupPurify","purify$1","ele","allow_conditional_comments","lcTagName","isInternalElement","bogus","hasNone","transferChildren","nativeParent","isSpecial","nativeChild","whitespaceCleaner","blockElements","textRootBlockElements","allWhiteSpaceRegExp","startWhiteSpaceRegExp","endWhiteSpaceRegExp","hasWhitespaceParent","isAtEdgeOfBlock","neighbour","isLineBreakNode","isNodeEmpty","isTextRootBlockEmpty","isPaddedWithNbsp","DomParser","nodeFilterRegistry","attributeFilterRegistry","defaultedSettings","root_name","parseAndSanitizeWithContext","rootName","mimeType","isSpecialRoot","wrappedHtml","getPurifyConfig","removeNodeFilter","removeAttributeFilter","isWrappableNode","isTransparentAstBlock","whitespacePre","whitespacePost","invalidFinder","findInvalidChildren","matchFinder","preprocessors","postprocessors","traverseOrder","postprocess","walkTree","topLevelChildren","otherChildren","rootBlockName","forced_root_block","getRootBlockName","rootBlockNode","rootBlock","forced_root_block_attrs","addRootBlocks","remove_trailing_brs","prevName","lastParent","addNoOpener","newRel","appendRel","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","classValue","validClassesMap","register$4","inline_styles","register$5","withSerializedContent","fireEvent","serializedContent","serializeContent","eventArgs","preProcessGetContent","fireBeforeGetContent","postProcessGetContent","preProcessSetContent","processedEventArgs","fireBeforeSetContent","postProcessSetContent","tableModel","tableRow","cellPosition","getSpan","cellExists","findElementPos","extractRows","sx","sy","ey","newRows","tableElm","rowspan","colspan","y2","x2","fillout","skipCellsX","toDom","tableElement","tableBody","createDomTable","modelRowsToDomRows","subsection","subTable","getFullySelectedListWrappers","_li","findParentListContainer","listCont","listElm","listStyles","_style","getWrapElements","commonAnchorContainer","wrapElements","listWrappers","allWrappers","directListWrappers","emptyFragment","getFragmentFromRange","innerElm","getTableFragment","selectedTableCells","getParentTable","firstCell","lastCell","fullTableModel","sectionedTableModel","read$3","getSelectionFragment","isCollapsibleWhitespace","getInnerText","bin","extractSelectedContent","parentBlockOpt","contextNodeName","getContextNodeName","rangeContentClone","nonRenderedText","parentBlockText","textIndex","getTextContent","tmpElm","contextual","getSerializedContent","getOuterHtml","fragments","removeAt","applyDiff","vDown","vUp","buildScript","start1","end1","end2","getMiddleSnake","diag","i2","buildSnake","snake","sum","lazyTempDocument","createFromEditor","trimmedFragments","trimmed","hasIframes","beforeBookmark","createFragmentedLevel","createCompleteLevel","applyToEditor","getLevelContent","getCleanLevelContent","isEq$1","level1","level2","hasEqualContent","hasEqualCleanedContent","isUnlocked","locks","setTyping","typing","endTyping","makePlainAdaptor","bindEvents","beforeChange","beforeChange$1","currentLevel","newLevel","lastLevel","bm","customUndoRedoLevels","setDirty","addUndoLevel$1","undo$1","redo","redo$1","clear$1","reset$1","hasUndo","hasUndo$1","hasRedo","hasRedo$1","ignore","transact$1","ignore$1","callback1","extra$1","matchAll","matchedFormatNames","checkedMap","canApply","formatChanged","getContentInternal","insertContent","addVisual","matchedElm","hasVisual","addVisualInternal","defaultedArgs","getInner","setupArgs$3","updatedArgs","getSelectedContentInternal","autocompleter","addDecoration","removeDecoration","remove$3","isRtc","setup$s","editorCast","rtcPlugin","setup","getRtcSetup","rtcInstance","nul","makeNoopAdaptor","rtcEditor","defaultVars","_undoManager","_locks","_index","_node","_similar","_rfl","_details","_format","getRawModel","makeRtcAdaptor","rtc","isRemote","getRtcInstanceWithFallback","getRtcInstanceWithError","getContent$1","getSelectedContent","mergeAndNormalizeText","outerNode","outer","outerElm","oldLength","merge$1","innerTextNode","walkPastBookmark","normalizeTextIfRequired","setContent$1","setupArgs$2","cleanedContent","contextBlock","contextArgs","cleanContent","prevText","nextText","rngSetContent","createContextualFragment","deleteFromCallbackMap","SelectorChanged","selectorChangedData","currentSelectors","findMatchingNode","selectorChangedWithUnbind","matchedSelectors","isAttachedToDom","EditorSelection","selectedRange","explicitRange","getRng$1","tryCompareBoundaryPoints","how","sourceRange","destinationRange","compareBoundaryPoints","anchorNode","START_TO_START","END_TO_END","isValidRange","removeAllRanges","addRange","setBaseAndExtent","focusNode","anchorRange","focusRange","anchorOffset","focusOffset","bookmarkManager","compareEndPoints","setNode","endElm","selectedBlocks","selectorChanged","getScrollContainer","scrollContainer","scrollElementIntoView","placeCaretAt","controlSelection","process$1","hasEventListeners","shouldFireEvent","oldDoc","clonedNode","impl","firePreProcess","preProcess$1","htmlParser","serializeNode","outArgs","firePostProcess","DomSerializerImpl","internalName","hasChildren","preserve_cdata","register$3","getHtmlFromNode","isBr","brNode1","brNode2","trimTrailingBr","parseHtml","addRules","setRules","DomSerializer","domSerializer","setupArgs$1","getContent$2","setupArgs","setContent$2","removedOptions","removedPlugins","getRemovedOptions","settingNames","setting","getRemovedPlugins","pluginNames","logWarnings","normalizedOptions","hasRemovedPlugins","hasRemovedOptions","isLegacyMobileTheme","listJoiner","themesMessage","pluginsMessage","optionsMessage","logRemovedWarnings","DOM$8","safeDestroy","remove$1","editorUpload","save","is_removing","unbindAllNativeEvents","fireRemove","orgDisplay","restoreOriginalStyles","fireDetach","automatic","destroyed","_beforeUnload","form","_mceOldSubmit","submit","formEventDelegate","restoreForm","contentAreaContainer","editorContainer","bodyElement","contentDocument","contentWindow","clearDomReferences","IconManager","iconPack","icons","CreateIconManager","getProp","getComputedSizeProp","getMarginTop","getMarginLeft","isXYInContentArea","bodyElm","transposedPoint","transpose","isInsideElementContentArea","isEditorAttachedToDom","rawContainer","getContentAreaContainer","NotificationManager","notifications","getImplementation","getNotificationManagerImpl","unimplemented","getArgs","NotificationManagerImpl","getTopNotification","notification","closeNotification","otherNotification","progressBar","getEl","addNotification","getNotifications","serviceMessage","registerEvents","WindowManager","dialogs","getWindowManagerImpl","openUrl","alert","confirm","WindowManagerImpl","funcBind","addDialog","dialog","fireOpenEvent","closeDialog","fireCloseEvent","otherDialog","storeSelectionAndOpenDialog","openDialog","windowManagerImpl","displayNotification","notificationManager","displayError","_skinLoaded","logError","createLoadError","initError","transformToUrls","cssLinks","skinUrl","contentCssFile","isContentCssSkinName","documentBaseURI","appendContentCssFromSettings","contentCSS","getContentCssUrls","getFontCssUrls","filter$1","ImageScanner","uploadStatus","cachedPromises","images","getAllImages","isUploaded","promises","imageSrc","imageInfo","image","newPromise","invalidDataUri","getByUri","imageToBlobInfo","UploadStatus","blobUriStatuses","createStatus","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","uuid","rnd","seed","Uploader","pendingPromises","defaultHandler","progress","withCredentials","credentials","upload","onprogress","loaded","total","path1","path2","formData","FormData","filename","uploadHandler","handlerSuccess","handlerFailure","resolvePending","uploadBlobs","blobInfos","openNotification","pendingUploadBlobInfo","percent","uploadBlobInfo","createUploader","EditorUpload","toBlobInfo","mime","URL","createObjectURL","findFirst","cachedBlobInfo","removeByUri","revokeObjectURL","BlobCache","uploader","imageScanner","urlFilters","aliveGuard","replaceString","replaceImageUrl","targetUrl","replacementUrl","replacementString","replaceUrlInUndoStack","uploadImages","scanForImages","imageInfos","imagesToRemove","shouldDispatchChange","filteredResult","uploadInfo","convertURL","replaceImageUriInView","uploadError","uploadUri","dispatchChange","uploadImagesAuto","isValidDataUriImage","imgElm","resultItem","replaceBlobUris","source_view","genericBase","cellBase","cellFormats","tablecellbackgroundcolor","tablecellverticalalign","tablecellbordercolor","tablecellclass","tableclass","tablecellborderstyle","borderStyle","tablecellborderwidth","borderWidth","FormatRegistry","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","float","aligncenter","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","strike","forecolor","hilitecolor","fontname","fontFamily","fontsize","fontSize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","_fmt","_itemName","lang","customValue","removeformat","unregister","each$3","isPreviewItem","parsedSelectorToHtml","ancestry","sItem","wrapInHtml","ancestors","parentCandidate","ancestorName","parentRequired","elmRule","getRequiredParent","siblingElm","parentSiblings","parseSelectorItem","$0","$3","$4","getCssText","previewCss","previewStyles","removeVars","previewFrag","previewElm","rawParentFontSize","parentFontSize","Formatter","formatChangeState","addShortcut","setup$r","nodeOrRange","setup$t","applyFormat","removeFormat","toggleFormat","matchFormat","closestFormat","matchAllFormats","matchNodeFormat","canApplyFormat","shouldIgnoreCommand","UndoManager","addUndoLevel","isFirstTypedCharacter","addNonTypingUndoLevel","modKey","inputType","isInsertFromPasteOrDrop","addKeyboardShortcuts","nonTypingKeycodes","placeholderAttr","isKeyboardEvent","isDeleteEvent","setup$q","placeholder","updatePlaceholder","isNonTypingKeyboardEvent","showPlaceholder","isTypingKeyboardEvent","isVisuallyEmpty","firePlaceholderToggle","blockBoundary","getBlockPosition","containerElm","blockPosition","getClosestHost","readFromRange","fromBlockPos","toBlockPos","blockPos","lastPositionInBlock","skipLastBr","isDifferentBlocks","hasSameHost","isEditable$2","isValidBlock","hasValidBlocks","extractChildren","getChildrenUntilBlockBoundary","removeEmptyRoot","nestedBlockMerge","toBlock","insertionPoint","sidelongBlockMerge","getInsertionPoint","parentsAndSelf$1","findInsertionPoint","trimBr","mergeBlockInto","mergeBlocks","block1","block2","backspaceDelete$8","read$1","isRawNodeInTable","isEverythingSelected","noPrevious","noNext","isSelectionInTable","deleteRange$1","emptyEditor","deleteRangeMergeBlocks","backspaceDelete$7","_forward","showCaret","getNodeRange","renderRangeCaret","caretPositionNode","caretPositionBeforeNode","ceRoot","renderCaretAtRange","isBeforeBoundary","isAfterBoundary","deleteContentAndShowCaret","peekCaretPosition","caretRange","deleteRange","trimEmptyTextNode","backspaceDelete$6","getNextPosFn","isBeforeFn","nextCaretPosition","normalizedNextCaretPosition","deleteBoundaryText","getEdgeCefPosition","atStart","isCefAtEdgeSelected","DeleteAction","moveToElement","moveToPosition","deleteEmptyBlockOrMoveToCef","toCefElm","blockElm","findCefPosition","isDeleteFromCefDifferentBlocks","getContentEditableAction","caretLocation","isAtContentEditableBlockCaret","getContentEditableBlockAction","skipMoveToActionFromInlineCefToContent","getAncestorCe","backspaceDeleteCaret","hideFakeCaret","deleteElement$1","backspaceDeleteRange","paddEmptyElement","backspaceDelete$5","backspaceDelete$4","deleteCaret$2","isText$2","startsWithCaretContainer","endsWithCaretContainer","createZwsp","insertInline","insertInlineBefore","insertInlineAfter","insertInlinePos","isPosCaretContainer","caretNode","renderCaret","evaluateUntil","fns","Location","rescope$1","nPos","isNotInsideFormatCaretContainer","findInsideRootInline","start$1","isValidLocation","readLocation","getName","outside","inside","betweenInlines","fromInline","toInline","hasSameParentBlock","skipNoMovement","fromLocation","toLocation","location2","location1","findLocationSimple","findLocation$1","findLocationTraverse","moveRel","modify","moveByWord","hasSelectionModifyApi","BreakType","flip","walk$1","getBreakType","currentPos","Br","Block","Wrap","getPositionsUntil","breakType","breakAt","Eol","getAdjacentLinePositions","getPositionsUntilBreak","findClosestHorizontalPositionFromPoint","lastRect","newRect","lastDist","findClosestHorizontalPosition","targetRect","getPositionsUntilPreviousLine","getPositionsUntilNextLine","getPositionsAbove","getPositionsBelow","getClosestPositionAbove","getClosestPositionBelow","isContentEditableFalse$4","distanceToRectLeft$1","distanceToRectRight$1","findClosestClientRect","oldClientRect","oldDistance","newDistance","getNodeClientRects","toArrayWithNode","VDirection","walkUntil","isAboveFn","isBeflowFn","line","targetClientRect","findUntil","upUntil","Up","downUntil","Down","getLastClientRect","isAboveLine","lineNumber","aboveLineNumber","isLine","isLineNumber","moveToRange","renderRangeCaretOpt","moveHorizontally","isBefore","isAfter","rangeIsInContainerBlock","moveVertically","caretClientRect","linePositions","nextLinePositions","nextLineRect","dist1","dist2","caretPositions","isBelowFn","positionsUntil","closestNextLineRect","getLineEndPoint","lineInfo","moveToLineEndPoint$3","setCaretPosition","setSelected","renderCaretLocation","findLocation","getPositionFromRange","isInlineTarget$1","safeRemoveCaretContainer","caretValue","isAtZwsp","move$2","moveWord","_caret","setupSelectedState","inlineBoundaries","selectedInlines","targetInlines","toggleInlines","inlines","_inline","renderInsideInlineCaret","moveNextWord","movePrevWord","moveToLineEndPoint$2","linePoint","outsideLoc","setCaretLocation","deleteFromTo","rangeFromPositions","backspaceDeleteCollapsed","rescope","toPosition","normalizedFirstPos","normalizedLastPos","hasOnlyTwoOrLessPositionsLeft","backspaceDelete$3","hasOnlyOneChild","deleteLastPosition","parentInlines","isFormatElement$1","innerMost","replaceWithCaretFormat","deleteCaret$1","getParentInlines","normalizedFromPos","willDeleteLastPositionInElement","backspaceDelete$2","deleteElement","backspaceDelete$1","isNearMedia","deleteCaret","parseIndentValue","getIndentStyleName","useMargin","canOutdent","getBlocksToIndent","isReadOnly","indentStyleName","intentValue","validateBlocks","isListComponent","parentIsListComponent","indentation","indentUnit","indentValue","parsedValue","indentElement","outdent","backspaceDelete","findAction","forwardDeleteCommand","execNativeForwardDeleteCommand","setup$p","addCommand","deleteCommand","getTouch","setup$o","startData","longpressFired","debounceLongpress","distX","distY","isFarEnough","isEqualNode","isBlockElement","isValidTarget","shouldRemoveTextNode","createRootBlock","rootNodeName","hasBlockParent","restoreSelection","insertEmptyLine","checkClassName","replaceMatchWithSpan","prevChar","findStartTagIndex","setup$m","contentEditableAttrName","editClass","nonEditClass","hasEditClass","hasNonEditClass","nonEditableRegExps","convertRegExpsToNonEditable","blockCaretContainer","handleBlockContainer","findBlockCaretContainer","isContentEditableFalse$3","exitPreBlock","getVisualCaretPosition$1","newBlock","textBlock","createTextBlock","getHorizontalRange","moveToCeFalseHorizontally","getVerticalRange","moveToCeFalseVertically","moveH$2","moveV$3","moveToLineEndPoint$1","selectToEndPoint","curRng","isTarget","isAtFirstOrLastLine","isAtLastLine","isAtFirstLine","moveCaretToNewEmptyLine","getClosestTargetBlock","moveV$2","baseKeyPattern","match$1","defaultPatterns","matchDelayed","defaultDelayedPatterns","executeWithDelayedAction","moveH$1","moveV$1","moveToLineEndPoint","CellLocation","filterFirstLayer","tags","lookup$1","isEligible","newIndex","isEditable","assumeEditable","getRaw","getClosestCell","getYAxisValue","isTargetCorner","corners","tds","deflate","getCorners","corner","newCorner","oldCorner","oldDist","newDist","findClosestCorner","getClosestCellAbove","getClosestCellBelow","findClosestPositionInAboveCell","findClosestPositionInBelowCell","isAtTableCellLine","startsWithWrapBreak","startsWithBrBreak","breakPos","hasNextBreak","isAtFirstTableCellLine","isAtLastTableCellLine","navigateHorizontally","_td","isCaretAtStartOrEndOfTable","insertFn","renderBlock","navigateVertically","getClosestAbovePosition","getClosestBelowPosition","move$1","mover","moveH","moveV","tabGo","_current","getCellFirstCursorPosition","tabForward","tabBackward","handleTab","rootElements","clearSelectedCells","setup$k","isMac","executeKeydownOverride$4","DOM$7","alwaysNext","textBefore","scanLeft","scanRight","repeatLeft","getText","isWhitespace","stripTrigger","findStart","initRange","minChars","buffer","firstChar","findTrigger","spot","detect$1","toLast","isText$1","toLeaf","isStartOfWord","leaf","isPreviousCharContent","getDatabase","database","getTriggerContext","lookupWithContext","fetchOptions","startText","autocompleters","lookupByTrigger","lookupData","ac","matchText","columns","highlightOn","SimpleResultType","fold$1","stype","serror","svalue","Value","SimpleResult","formatObj","getErrorInfo","chooseFrom","branch","missingBranch","extract","choose$1","missingKey","chosen","baseMerge","merger","curObject","deepMerge","defaulted$1","mergeErrors","ResultCombine","partitions","ifField","ifCustom","newKey","presence","instantiator","validator","custom","anyValue$1","requiredAccess","bundle","missingRequired","fallbackAccess","extractField","av","bundleAsOption","optValue","ov","optionAccess","optionDefaultedAccess","objOf","fields","extractFields","fieldStrings","_okey","_presence","_instantiator","arrOf","asRaw","errs","extractValue","formatError","errInfo","es","formatErrors","choose","anyValue","typedValue","expectedType","actualType","string","boolean","functionProcessor","customField","validateEnum","requiredOf","requiredString","requiredFunction","optionOf","optionString","defaultedOf","defaultedNumber","defaultedStringEnum","defaultedBoolean","defaultedFunction","fetch$1","onSetup","optionalText","optionalIcon","optionalTooltip","optionalLabel","primary","defaultedType","defaultedString","autocompleterSchema","defaulted","defaultedArrayOf","baseToolbarButtonFields","baseToolbarToggleButtonFields","contextBarFields","contextButtonFields","contextToggleButtonFields","launchButtonFields","launchToggleButtonFields","toggleOrNormal","contextformbutton","contextformtogglebutton","requiredArrayOf","register$2","popups","popup","createAutocompleter","datasetValues","dv","setup$j","activeAutocompleter","uiActive","cancelIfNecessary","removeAutocompleterDecoration","fireAutocompleterEnd","commenceIfNecessary","addAutocompleterDecoration","getAutocompleters","newContext","doLookup","lookupInfo","fireAutocompleterUpdate","fireAutocompleterStart","_ui","which","setupEditorInput","createAndFireInputEvent","specifics","isComposing","currentTarget","eventPhase","AT_TARGET","originalTarget","explicitOriginalTarget","isTrusted","InputEvent","fireFakeInputEvent","fireFakeBeforeInputEvent","setup$i","applyAction","executeKeydownOverride$3","executeKeyupOverride","moveToCaretPosition","firstNonWhiteSpaceNodeSibling","getEditableRoot","editableRoot","getParentBlock$1","hasParent","isListBlock","getContainerBlock","containerBlock","containerBlockParent","isFirstOrLastLi","insert$3","createNewBlock","newBlockName","containerParent","isFirstChild","tmpRng","hasFirstChild","isEmptyAnchor","containerAndSiblingName","canSplitBlock","normalizeZwspOffset","setForcedBlockAttrs","forcedRootBlockAttrs","attrStyles","newStyles","attrClassesOpt","attrClasses","currentClassesOpt","currentClasses","filteredClasses","newClasses","appliedAttrs","remainingAttrs","applyAttributes","blockbreak","parentBlockName","isAfterLastNodeInContainer","isCaretAtStartOrEndOfBlock","normalizedOffset","insertNewBlockAfter","containerBlockName","optionValue","shouldEndContainer","parentList","isWithinNonEditableList","startNodeParent","wrapSelfAndSiblingsInDefaultBlock","parentBlockParent","includeZwspInRange","trimZwsp","trimLeadingLineBreaks","firstChilds","trimInlineElementsOnLeftSideOfBlock","addBrToBlockIfNeeded","fakeEventName","moveSelectionToBr","brElm","extraBr","insertBrAtCaret","isControlKey","hasRightSideContent","insertBrBefore","insertBrAfter","hasBrAfter","isAnchorLink","isInsideAnchor","insertBrOutsideAnchor","linebreak","anchorLocation","readInlineAnchorLocation","newLineAction","shouldBlockNewLine","_shiftKey","shouldBlockNewLine$1","inListBlock","requiredState","isListItemParentBlock","inBlock","getParentBlockName","inCefBlock","inPreBlock","shouldPutBrInPre","inBrContext","shouldInsertBr","hasShiftKey","_editor","canInsertIntoEditableRoot","rootEditable","predicates","insertBreak","execEditorDeleteCommand","logicalAction","getAction","setup$h","handleEnterKeyEvent","setup$g","executeKeydownOverride$2","setup$f","normalizeNbspsInEditor","platform","isPageUpDown","setNodeChangeBlocker","blocked","setup$e","executeKeyupAction","insertTextAtPosition","insertNbspAtPosition","insertSpaceAtPosition","insertInlineBoundarySpaceOrNbsp","checkPos","needsToHaveNbsp","insertSpaceOrNbspAtSelection","locationToCaretPosition","setSelection","setup$d","executeKeydownOverride$1","tableTabNavigation","setup$c","executeKeydownOverride","setup$b","setup$l","NodeChange","lastRng","lastPath","nativeRng","fakeRng","isSameElementPath","initialized","currentPath","internalMimeType","internalHtmlMime","internalMark","mark","isMarked","toBlockElements","rootTag","rootAttrs","tagOpen","openContainer","tagClose","paragraphs","pasteBinDefaultContent","isPasteBin","isDefaultPasteBinContent","PasteBin","lastRngCell","pasteBinElm","create$6","pasteBinClone","getHtml","copyAndRemove","toElm","fromElm","pasteBinClones","dirtyWrappers","cleanWrapper","getLastRng","trimHtml","s1","s2","processResult","cancelled","filterContent","internal","preProcessArgs","firePastePreProcess","filteredContent","preProcess","tempBody","postProcessArgs","firePastePostProcess","postProcessFilter","pasteHtml$1","isAbsoluteUrl","linkSelection","pasteHtmlFn","createLink","insertImage","isImageUrl","createImage","pasteAsText","smartInsertContent","createIdGenerator","doPaste","pasteHtml","internalFlag","unmark","pasteText","encodedText","getDataTransferItems","dataTransfer","types","contentType","hasContentType","clipboardContent","hasHtmlOrText","createBlobInfo","useFileName","extractFilename","allowedExtensions","extension","lowerExt","mimeOverrides","jpg","jpe","jfi","jif","jfif","pjpeg","pjp","getImageMimeType","pasteImageData","clipboardData","kind","getAsFile","getImagesFromDataTransfer","fileResults","imageItem","existingBlobInfo","pasteImage","insertClipboardContent","plainTextMode","isInternal","isPlainTextHtml","isPlainText","isAbsoluteUrl$1","ignoreElements","registerEventHandlers","pasteBin","pasteFormat","keyboardPastePlainTextState","isKeyboardPasteEvent","isBrokenAndroidClipboardEvent","registerEventsAndFilters","isWebKitFakeUrl","isDataUri","isPasteInsert","registerDataImageFilter","register$1","togglePlainTextPaste","setClipboardData","clearData","setData","setHtml5Clipboard","contenteditable","offscreenRange","selectNodeContents","hasSelectedContent","isTableSelection","cut","getCaretRangeFromEvent","setFocusedRange","setup$a","draggingInternallyState","hasImage","dropContent","plainTextContent","isPlainTextFileUrl","internalContent","trimmedContent","rgbRegExp","rgbToHex","removeWebKitStyles","webKitStylesOption","webKitStyles","inputStyles","outputStyles","inputValue","compareInput","outputStyle","setup$7","addPreProcessFilter","setup$8","processEvent","setup$9","setup$6","preventSummaryToggle","filterDetails","isText","isContentEditableFalse$2","getClosestScope","isContentEditableTrue","getClosestCef","findEdgeCaretCandidate","onTripleClickSelect","startRng","clickNode","cef","findClosestBlockRange","FakeCaretPosition","distanceToRectLeft","distanceToRectRight","isOverlapping","r1","r2","overlapY","collidesY","splitRectsPerAxis","prevRect","boundingClientRectFromRects","isInsideY","boundingRect","horizontal","vertical","horizontalDistance","_y","closestChildCaretCandidateNodeRect","caretCandidateRect","findClosestCaretCandidateNodeRect","sortedRects","getClosestTextNode","horizontalRects","verticalRects","above","below","closestCaretCandidateNodeRect","ownerDoc","helper","prevScope","childNodesWithoutGhost","uncheckedChildren","newScope","traverseUp","closestFakeCaretCandidate","Before","After","clientInfo","getAbsolutePosition","docElem","calc","calculatePosition","bodyPosition","getBodyPosition","scrollPosition","getScrollPosition","mousePosition","iframePosition","inlineScroll","iframeScroll","getBodyScroll","getMousePosition","isContentEditableFalse$1","createGhost","clonedElm","scrollEditor","amount","scrollRight","scrollUp","scrollDown","isLeftMouseButtonPressed","ceElm","elmPos","maxX","maxY","relX","relY","ghost","move","throttledPlaceCaretAt","caretInfo","state_","movement","mouseEventOriginatedFromWithinTheEditor","targetPos","applyRelPos","mouseY","mouseX","outerMouseY","outerMouseX","moveGhost","dragElement","isValidDropTarget","getRawTarget","targetClone","cloneElm","cloneElement","removeDragState","bindFakeDragEvents","pageDom","dragStartHandler","dragHandler","dropHandler","dragEndHandler","init$2","preventFileDrop","preventFileDropIfUIElement","editorRoot","eventNames","blockUnsupportedFileDrop","isContentEditableFalse","getContentEditableRoot","SelectionOverrides","realSelectionId","selectedElement","isFakeSelectionTargetElement","contentEditableRoot","removeElementSelection","setElementSelection","closestContentEditable","setRange","normalizeVoidElementSelection","isRangeInCaretContainer","isFakeSelectionElement","renderFocusCaret","setup$4","setup$3","isWithinCaretContainer","selectElement","realSelectionContainer","setupOffscreenSelection","nodeElm","afterNode","getNormalizedTextOffset","generatePath","generatePathRange","resolvePath","nodePath","optNode","resolvePathRange","cleanEmptyNodes","deleteRng","startParent","endParent","getParentBlock","resolveFromDynamicPatterns","patternSet","beforeText","dynamicPatterns","dynamicPatternsLookup","blockPatterns","inlinePatterns","getBeforeText","stripPattern","firstTextNode","textAfter","applyPattern$1","formatSet","isBlockFormatName","findPattern$1","sortedPatterns","sortPatterns$1","nuText","newMarker","rangeFromMarker","markerPrefix","pathRange","textEnd","textStart","startParentNode","removeMarker","isReplacementPattern","findPatternStartFromSpot","startPattern","patternContent","searchText","startEndIndex","startPatternIndex","nextSpot","findPattern","normalizedMatches","endPathRng","endRng","resultsOpt","findPatternsRec","remainingPatterns","requireGap","startRange","findPatternStart","startPathRng","generatePathRangeFromRange","endSpot","patternsWithoutCurrent","applyPattern","patternRange","findPatterns","matchesWithSortedPatterns","hasSameMatches","sortedMatch","getBestMatches","applyMatches","matchesWithMarkers","matchesWithEnds","addMarkers","markerRange","applyReplacementPattern","markerEndRange","markerStartRange","patternMarker","applyPatternWithContent","handleEnter","dynamicPatternSet","inlineMatches","blockMatches","blockText","findPatterns$1","applyMatches$1","checkKeyEvent","setup$2","charCodes","keyCodes","getPatternSet","createPatternSet","hasDynamicPatterns","hasTextPatternsLookup","handleInlineTrigger","handleInlineKey","charCode","Quirks","isGecko","isWebKit","setEditorCommandState","emptyEditorWhenDeleting","serializeRng","contents","allRng","allContentsSelected","selectAll","shortcuts","documentElementEditingFocus","Range","selectControlElements","visualAidsAnchorClass","disableBackspaceIntoATable","setGeckoEditingOptions","setOpts","addBrAfterLastLinks","showBrokenImageIcon","contentStyles","restoreFocusOnKeyDown","bodyHeight","blockCmdArrowNavigation","tapLinksAndImages","blockFormSubmitInsideEditor","isAllContentSelected","getAttributeApplyFunction","setAttributeNode","isSelectionAcrossElements","removeStylesWhenDeletingAcrossBlockElements","DOM$6","getRootName","removeUndefined","mkParserSettings","mkSchemaSettings","initEditor","bindPendingEventDelegates","fireInit","moveSelectionToFirstCaretPosition","initInstanceCallback","autoFocus","getStyleSheetLoader$1","loadContentCss","fontCss","removeCss","contentCssText","allStylesheets","framedFonts","makeStylesheetLoadingPromises","contentStyle","appendStyle","initEditorWithInitialContent","loadInitialContent","contentBodyLoaded","createParser","mkSerializerSettings","annotator","_nodeChangeDispatcher","setup$5","setup$1","setup$n","setupRtcThunk","firePreInit","spellcheck","firePostRender","directionality","protect","escape","preInit","setupRtc","setProgressState","_rtcMode","initContentBody","skipWrite","orgVisibility","iframe","iframeHTML","srcdoc","DOM$5","createIframe","boxInfo","iframeTitle","tabindex","ifr","customAttrs","frameBorder","allowTransparency","createIframeElement","iframeContainer","documentBaseUrl","bodyId","bodyClass","translatedAriaText","getIframeHtml","DOM$4","initPlugin","initializedPlugins","Plugin","pluginUrl","pluginInstance","pluginInitError","createThemeFalseResult","renderThemeFalse","renderThemeFalseIframe","renderThemeUi","renderUI","renderFromLoadedTheme","iframeHeight","renderFromThemeFunc","iconPackName","currentIcons","loadIcons","svgData","icon","addIcon","initIcons","initTheme","Model","initModel","trimLegacyPrefix","initPlugins","renderInfo","uiApiFacade","setEnabled","augmentEditorUiApi","init$1","DOM$3","hasSkipLoadPrefix","loadLanguage","scriptLoader","languageCode","languageUrl","languageLoadError","loadTheme","themeUrl","themeLoadError","loadModel","modelUrl","modelLoadError","getIconsUrlMetaFromName","defaultIconsUrl","customIconsUrl","getIconsUrlMetaFromUrl","cat","urlMeta","iconsLoadError","loadPlugins","loadPlugin","pluginLoadError","isThemeLoaded","isModelLoaded","snapshot","getStyleSheetLoader","resetContent","triggerSave","windowManager","isEncodingXml","set_dirty","deviceDetection","normalizePlugins","trimmedPlugins","extractSections","bifilter","hasSection","sectionResult","getMobileOverrideOptions","mobileOptions","table_grid","object_resizing","toolbar_mode","toolbar_sticky","menubar","getExternalPlugins","overrideOptions","userDefinedExternalPlugins","external_plugins","processPlugins","isMobileDevice","defaultOverrideOptions","forcedPlugins","forced_plugins","desktopPlugins","mobileConfig","getSectionConfig","platformPlugins","mobilePlugins","getPlatformPlugins","combinedPlugins","combinePlugins","combineOptions","deviceOverrideOptions","mobile","extendedOptions","isOnMobile","sectionOptions","getSection","addVisual$1","registerExecCommands$3","toggleAlign","align","editorCommands","addCommands","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","JustifyNone","registerCommands$a","alignStates","registerQueryStateCommands$1","trimOrPad","trimOrPadLeftRight","insertAtCaret","processValue$1","insertedContent","insertContent$1","legacyPropNames","isFont","getSpecifiedFontProp","legacyPropName","getProperty","getFontProp","getComputedFontProp","getFontSize","getFontFamily","findFirstCaretElement","bindRange","getCaretElement","mapRange","fromFontSizeNumber","fontSizeNumber","getFontStyleValues","fontClasses","getFontSizeClasses","normalizeFontNames","font","fonts","registerExecCommands$2","_command","fontNameAction","fontSizeAction","lineHeightAction","customCode","registerQueryValueCommands","isFormatMatch","addQueryValueHandler","fontNameQuery","fontSizeQuery","specifiedStyle","lineHeightQuery","registerCommands$5","Indent","Outdent","registerCommands","queryCommandEnabled","queryCommandSupported","registerCommands$9","mceAddUndoLevel","mceEndUndoLevel","Undo","Redo","registerCommands$6","mceSelectNodeDepth","mceSelectNode","editingHost","registerCommands$1","mceCleanup","insertHorizontalRule","insertText","insertHTML","mceInsertContent","mceSetContent","mceReplaceContent","mceNewDocument","registerCommands$8","applyLinkToSelection","linkDetails","unlink","mceInsertLink","registerCommands$4","insertParagraph","mceInsertNewLine","InsertLineBreak","registerCommands$2","listParent","registerExecCommands$1","registerQueryStateCommands","registerCommands$3","registerCommands$7","mceRemoveNode","mcePrint","print","mceFocus","mceToggleVisualAid","registerExecCommands","selectionSafeCommands","isSelectionSafeCommand","EditorCommands","commands","lowerCaseCommand","skip_focus","restore","queryCommandState","queryCommandValue","commandList","addQueryStateHandler","internalContentEditableAttr","setContentEditable","toggleReadOnly","removeFakeSelection","switchOnContentEditableTrue","restoreFakeSelection","registerFilters","allowedEvents","processReadonlyEvents","isClickEvent","getAnchorHrefOpt","numChars","removeFromStart","isReadOnlyAllowedEvent","EventDispatcher","toggleEvent","beforeFire","wrappedCallback","currentName","bindingName","filteredHandlers","binding","getEventDispatcher","_eventDispatcher","isNative","toggleNativeEvent","Observable","bubble","dispatcherArgs","DOM$2","customEventRootDelegates","eventRoot","isListening","bindEventDelegate","delegates","eventRootElm","delegate","editors","EditorObservable","_pendingNativeEvents","stringListProcessor","getErrorMessage","isValidResult","processValue","processor","create$5","initialOptions","setValue","isRegistered","isBuiltInSpec","getBuiltInProcessor","processDefaultValue","default","immutable","unset","registered","defaultModes","switchToMode","activeMode","availableModes","oldMode","newMode","editorReadOnly","fireSwitchMode","create$4","design","registerReadOnlyContentFilters","registerReadOnlySelectionBlockers","setMode","registerMode","each$2","keyCodeLookup","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifierNames","parseShortcut","shortcut","isModifier","access","alt","Shortcuts","pendingPatterns","hasModifier","isFunctionKey","matchShortcut","subpatterns","executeShortcutAction","cmdFunc","normalizeCommandFunc","createShortcut","bridge","buttons","menuItems","contextMenus","contextToolbars","sidebars","addButton","addGroupToolbarButton","addToggleButton","addMenuButton","addSplitButton","addMenuItem","addNestedMenuItem","addToggleMenuItem","addAutocompleter","addContextMenu","addContextToolbar","addContextForm","addSidebar","addView","create$3","DOM$1","each$1","Editor","loadedCSS","isNotDirty","documentBaseURL","normalizeOptions","registerOption","hasPlugin","lookupFn","ctx","rawPatterns","_ctx","register$7","_setBaseUrl","baseURI","setupCallback","getParam","loadArgs","saveArgs","initialContent","oldState","urlConverterCallback","_scanForImages","beforeUnloadDelegate","boundGlobalEvents","globalEventDelegate","EditorManager","toggleGlobalEvents","removeEditorFromList","targetEditor","oldEditors","isQuirksMode","compatMode","majorVersion","minorVersion","releaseDate","i18n","tinymce","tinyMCEPreInit","srcScript","overrideDefaults","base_url","pluginBaseUrls","plugin_base_urls","pluginBaseUrl","pluginName","invalidInlineTargets","provideResults","initEditors","initCount","execCallback","isDuplicated","unique$1","findTargets","isInvalidInlineTarget","createEditor","createId","existingEditor","editorId","editorOptions","addI18n","FakeClipboard","dataValue","FakeClipboardItem","getType","relativePosition","targetW","targetH","relChars","create$2","Rect","inflate","findBestRelativePosition","constrainRect","rels","intersect","cropRect","x1","y1","clamp","clampRect","fixedSize","cx2","cy2","underflowX1","underflowY1","overflowX2","overflowY2","fromClientRect","Resource","tasks","resultFns","loadErrMsg","runErrMsg","waiter","resolveCb","rejectCb","complete","completer","awaiter","create$1","localStorage","setItem","removeItem","storage","getItem","publicApi","geom","util","LocalStorage","ImageUploader","showNotification","TreeWalker","Serializer","Selection","tinyMCE","exportToWindowGlobal","module","exportToModuleLoaders","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","chunkIds","priority","notFulfilled","Infinity","fulfilled","definition","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","__webpack_exports__"],"sourceRoot":""}